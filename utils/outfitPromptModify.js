(function(_0x1bf3a9,_0x56a907){const _0x3999eb=_0x1bf3a9();function _0x2d3e1e(_0x33a0b6,_0x544c50,_0x2baf02,_0x2fa7f5){return _0x5239(_0x2baf02-0x18e,_0x544c50);}function _0x1c498f(_0xb8f9bd,_0x3baa2f,_0x3d65f8,_0x41ef7d){return _0x5239(_0x3d65f8- -0x3b5,_0xb8f9bd);}while(!![]){try{const _0x57732d=-parseInt(_0x2d3e1e(0x31b,0x2f0,0x31c,0x295))/(-0x1*0x2708+-0xb03+0x320c)+parseInt(_0x1c498f(-0x1d0,-0x2b2,-0x231,-0x23c))/(0x413*0x9+-0x502+-0x25*0xdb)+parseInt(_0x2d3e1e(0x336,0x32e,0x349,0x34e))/(0x589+-0x463+-0x123)*(-parseInt(_0x1c498f(-0x212,-0x1e1,-0x1f2,-0x211))/(-0x14ba+0x453*-0x6+-0x1*-0x2eb0))+-parseInt(_0x2d3e1e(0x3f2,0x317,0x386,0x40e))/(0x2573+0xcd2+-0x3240)*(-parseInt(_0x1c498f(-0x1fb,-0x214,-0x194,-0x1ff))/(0x1c7c+-0x6a7+-0x15cf))+parseInt(_0x1c498f(-0x266,-0x1f8,-0x1f8,-0x224))/(-0x3*0x1e9+0x1cc9+-0x1707)+-parseInt(_0x1c498f(-0x21e,-0x19a,-0x190,-0x111))/(-0x15d*0xd+-0x14b2+-0x33*-0xc1)+parseInt(_0x2d3e1e(0x3ee,0x351,0x366,0x338))/(-0x1e0a+0x1fa8+-0x195);if(_0x57732d===_0x56a907)break;else _0x3999eb['push'](_0x3999eb['shift']());}catch(_0x1e6182){_0x3999eb['push'](_0x3999eb['shift']());}}}(_0x2c33,-0x8e5c5+-0x93838+0x18e321));const _0xcd3943=(function(){function _0x1d7862(_0x11205b,_0x101621,_0x778a28,_0x1a90b4){return _0x5239(_0x11205b-0x54,_0x101621);}const _0x24098a={'FIUPZ':function(_0x390f84,_0x12d42b){return _0x390f84(_0x12d42b);},'WRYoT':_0x1d7862(0x237,0x1a9,0x1a4,0x29e),'bcRnQ':'UHiWw'};let _0x3c406e=!![];return function(_0x3c2843,_0x2917f1){function _0x4540c0(_0x10e3da,_0x499a70,_0x41b50e,_0x3da9b6){return _0x1d7862(_0x10e3da-0x2c8,_0x499a70,_0x41b50e-0x1da,_0x3da9b6-0x14e);}const _0x1a633b={'hydxi':function(_0x4fe8ed,_0x4c7feb){function _0x598c83(_0x44240b,_0x1d9130,_0x4cb251,_0x204667){return _0x5239(_0x1d9130- -0x3ab,_0x44240b);}return _0x24098a[_0x598c83(-0x189,-0x133,-0x187,-0x144)](_0x4fe8ed,_0x4c7feb);},'HMmXi':_0x24098a[_0x4540c0(0x4f9,0x501,0x544,0x4de)],'xNXnY':function(_0x5d91e4,_0x1b151b){return _0x5d91e4===_0x1b151b;},'pvqNg':_0x24098a[_0x5c33e3(0x47e,0x4eb,0x537,0x559)]},_0x609171=_0x3c406e?function(){function _0x44ffcf(_0x200ebd,_0x4eefa9,_0x46ffa3,_0x44f15f){return _0x5c33e3(_0x200ebd-0x93,_0x44f15f-0x26,_0x200ebd,_0x44f15f-0x70);}function _0x55927b(_0x1420df,_0xdb18e,_0x164fad,_0x564c26){return _0x4540c0(_0x1420df- -0x4b7,_0x164fad,_0x164fad-0x159,_0x564c26-0x15e);}if(_0x2917f1){if(_0x1a633b[_0x55927b(0x81,0x2,0xd3,0x91)](_0x1a633b[_0x55927b(0x4f,0x8,0x4d,0xcd)],_0x1a633b['pvqNg'])){const _0x10dab0=_0x2917f1[_0x55927b(0xd5,0xb3,0x6d,0x75)](_0x3c2843,arguments);return _0x2917f1=null,_0x10dab0;}else _0x1a633b[_0x44ffcf(0x69e,0x63f,0x64b,0x60d)](_0x461254,new _0x4dd9ec(_0x40012d['result']||_0x1a633b[_0x55927b(0xd3,0x147,0xcb,0x12b)]));}}:function(){};_0x3c406e=![];function _0x5c33e3(_0x38b370,_0xf8ab8f,_0x233846,_0x24563e){return _0x1d7862(_0xf8ab8f-0x31e,_0x233846,_0x233846-0x16e,_0x24563e-0x4a);}return _0x609171;};}()),_0x44fd39=_0xcd3943(this,function(){function _0x14bde9(_0x51256d,_0x2c413f,_0x4a2b8f,_0xeb2674){return _0x5239(_0x4a2b8f- -0x1a8,_0xeb2674);}function _0x3a96f2(_0x296826,_0x137095,_0x222d50,_0x46ac6b){return _0x5239(_0x46ac6b-0x30e,_0x222d50);}return _0x44fd39[_0x3a96f2(0x527,0x526,0x496,0x4f0)]()[_0x14bde9(0x146,0x12a,0xca,0x65)](_0x3a96f2(0x4f7,0x58d,0x54f,0x53a)+'+$')[_0x3a96f2(0x4d7,0x4fd,0x4bc,0x4f0)]()[_0x3a96f2(0x4ff,0x553,0x512,0x585)+'r'](_0x44fd39)[_0x3a96f2(0x582,0x513,0x51f,0x580)](_0x3a96f2(0x4dd,0x580,0x599,0x53a)+'+$');});_0x44fd39();import{eventSource}from'../../../../../script.js';import{eventNames,extensionName}from'./config.js';import{extension_settings}from'../../../../extensions.js';import{saveSettingsDebounced}from'../../../../../script.js';import{updateCombinedPrompt}from'./settings/llm.js';import{buildPromptForRequestType}from'./settings/llmService.js';import{loadOutfitPreset}from'./settings/character/index.js';import{stylishConfirm}from'./ui_common.js';function replacePlaceholder(_0x8ab363,_0x324dcd,_0x3f194e,_0x32cf12){const _0x9cbbf8={'SAbmI':function(_0x4b7ad9,_0xe72ddf){return _0x4b7ad9===_0xe72ddf;},'bHZeK':function(_0x5aabb9,_0x213b08){return _0x5aabb9!==_0x213b08;},'NhJoO':_0x8a5098(0xae,0x1c,0x7f,-0x10),'BOgtM':'swwjf','QWOZA':'qhEhO','LZJFb':_0x8a5098(0x2e,0x98,0xc0,0x147),'qROrC':function(_0x86d332,_0x56b7de){return _0x86d332===_0x56b7de;},'dzVyQ':function(_0xd66bfc,_0x1e332a){return _0xd66bfc!==_0x1e332a;},'NkPOs':_0x2ef0bf(0x2fb,0x275,0x336,0x2c2),'kgfCH':function(_0x4a9cba,_0x5a3ce4,_0x556f46,_0x328a26,_0x8ba6f0){return _0x4a9cba(_0x5a3ce4,_0x556f46,_0x328a26,_0x8ba6f0);}};function _0x8a5098(_0x363387,_0x38b146,_0x57c98d,_0x20abc0){return _0x5239(_0x57c98d- -0xef,_0x20abc0);}if(_0x9cbbf8[_0x8a5098(0x7e,0x8c,0xc4,0xc9)](typeof _0x8ab363,_0x8a5098(0xc7,0xd,0x96,0xac)))return _0x3f194e&&_0x8ab363[_0x2ef0bf(0x2d2,0x33d,0x35b,0x2cb)](_0x324dcd)&&(_0x32cf12&&(_0x9cbbf8['bHZeK'](_0x9cbbf8[_0x2ef0bf(0x24a,0x22c,0x2c4,0x1ea)],_0x9cbbf8[_0x8a5098(0x13e,0xb6,0x11e,0xc9)])?_0x32cf12['add'](_0x324dcd):_0x4e47c9[_0x2ef0bf(0x26c,0x26e,0x29b,0x225)](_0x8a5098(0x127,0x137,0x12b,0x151)+_0x8a5098(0xd3,0x125,0x9d,0xf2)+'\x20未识别的服装字段\x20'+'\x22'+_0x36ca15+'\x22'))),_0x8ab363[_0x2ef0bf(0x26e,0x22e,0x28b,0x295)](_0x324dcd,_0x3f194e);function _0x2ef0bf(_0x4aa3c5,_0x4beb94,_0x4043f7,_0x39673a){return _0x5239(_0x4aa3c5-0xd3,_0x39673a);}if(Array[_0x8a5098(0x1cc,0x1c3,0x169,0x191)](_0x8ab363))return _0x9cbbf8[_0x2ef0bf(0x286,0x237,0x292,0x25b)](_0x9cbbf8[_0x2ef0bf(0x274,0x2f6,0x2c6,0x2db)],_0x9cbbf8[_0x2ef0bf(0x24f,0x20d,0x25a,0x289)])?_0x60ae4e:_0x8ab363['map'](_0x297b3b=>replacePlaceholder(_0x297b3b,_0x324dcd,_0x3f194e,_0x32cf12));if(_0x8ab363&&_0x9cbbf8[_0x8a5098(0x120,0xfd,0xd6,0x139)](typeof _0x8ab363,_0x2ef0bf(0x230,0x1cc,0x268,0x1c8))){if(_0x9cbbf8[_0x2ef0bf(0x2bf,0x29b,0x2d9,0x2db)](_0x9cbbf8[_0x2ef0bf(0x26f,0x2c5,0x1f6,0x22a)],_0x2ef0bf(0x2fb,0x2e5,0x2bb,0x388)))return _0x551c1d&&_0x44fa4e[_0x8a5098(0x85,0xf4,0x110,0x114)](_0x5101f3)&&(_0x210166&&_0x57d6bb['add'](_0x170f8e)),_0x587318[_0x8a5098(0x131,0x74,0xac,0x11f)](_0x53d6fc,_0x520926);else{const _0x48dae8={};for(const _0x250289 in _0x8ab363){_0x48dae8[_0x250289]=_0x9cbbf8[_0x2ef0bf(0x339,0x302,0x39e,0x318)](replacePlaceholder,_0x8ab363[_0x250289],_0x324dcd,_0x3f194e,_0x32cf12);}return _0x48dae8;}}return _0x8ab363;}function attachImagesToMessage(_0x14c05c,_0x575f4c,_0x271cc2,_0x24bfbf='参考图片'){const _0x1acbe6={'MPqsj':'(((.+)+)+)'+'+$','oyctU':function(_0x12a4f2,_0x42c976){return _0x12a4f2(_0x42c976);},'Syeas':'获取服装修改提示词超'+'时','stoQV':function(_0x131a39,_0x1598db){return _0x131a39(_0x1598db);},'MrOoj':function(_0x272c23,_0x496b44){return _0x272c23===_0x496b44;},'MXZPW':_0x544d71(-0xbe,-0x137,-0x83,-0xb6),'tILvL':_0x4ad402(0xe1,0xdd,0xe7,0x11b),'xcvMn':function(_0x129f99,_0x520366){return _0x129f99===_0x520366;},'ygpGV':'object','slNMH':function(_0x5dc831,_0x5c59f8){return _0x5dc831+_0x5c59f8;},'FEJvT':_0x4ad402(0x1d2,0x17f,0x185,0xf1),'GZwrZ':_0x4ad402(0xd0,0x164,0x123,0x104),'LOHei':_0x544d71(-0x53,-0x6e,0x3b,-0x44),'Mbdgf':_0x544d71(-0x89,-0xe8,0x6,-0x88),'FNmtD':_0x4ad402(0x10b,0x139,0xab,0xf8),'HIOwr':function(_0xef7230,_0x22c8f4){return _0xef7230<_0x22c8f4;},'MwmtU':function(_0x14aea5,_0x272302){return _0x14aea5>=_0x272302;},'LMJbF':function(_0x34e88e,_0x4d4fea){return _0x34e88e!==_0x4d4fea;},'ukyYh':_0x4ad402(0xe4,0xf7,0xdb,0x17b),'HDlka':_0x544d71(-0x36,-0x1d,0x4b,-0x1a),'MmVXb':function(_0x58da76,_0x4c5d6c){return _0x58da76>_0x4c5d6c;}};if(!_0x271cc2||_0x1acbe6[_0x544d71(-0xbb,-0xc2,-0xfc,-0xc1)](_0x271cc2['length'],0x5bb+0x977*0x3+0x20*-0x111)||_0x1acbe6[_0x4ad402(0x141,0x19c,0x199,0x164)](_0x575f4c,-0x2*-0x503+0x1792+-0x2198)||_0x1acbe6[_0x4ad402(0x217,0x1bf,0x150,0x14e)](_0x575f4c,_0x14c05c[_0x4ad402(0x215,0x1b5,0x20e,0x18b)]))return _0x1acbe6['LMJbF'](_0x1acbe6['ukyYh'],_0x1acbe6[_0x544d71(-0x6a,-0xfe,-0x143,-0xaf)])?_0x39d559['toString']()[_0x544d71(0xad,0x7e,0xb1,0x57)](gXCnzw['MPqsj'])[_0x544d71(-0x72,0x2a,0x45,-0x39)]()[_0x4ad402(0x25d,0x1cf,0x181,0x13a)+'r'](_0x3e3e24)['search'](gXCnzw[_0x544d71(-0x82,-0x105,-0x109,-0xb8)]):_0x14c05c;const _0x10e657=[..._0x14c05c],_0x49fd21=_0x10e657[_0x575f4c];function _0x4ad402(_0x196fcf,_0x5d9bd7,_0x1152e4,_0x1431b2){return _0x5239(_0x5d9bd7- -0xa8,_0x1431b2);}function _0x544d71(_0x36ead6,_0x1f2e03,_0x14d137,_0x266543){return _0x5239(_0x266543- -0x21b,_0x14d137);}const _0x25fefa=[];if(_0x1acbe6['xcvMn'](typeof _0x49fd21[_0x4ad402(0x199,0x1b9,0x24d,0x175)],_0x1acbe6['tILvL'])){if(_0x1acbe6[_0x4ad402(0x122,0xb6,0xed,0x107)](_0x1acbe6[_0x544d71(0x95,-0x31,0x69,0x14)],'XRFSK')){const _0x519595={};_0x519595['type']=_0x1acbe6[_0x544d71(0x4,-0x6b,-0x23,-0x54)],_0x519595['text']=_0x49fd21['content'],_0x25fefa[_0x4ad402(0xbf,0xcc,0x10c,0x88)](_0x519595);}else _0x5c8136&&_0x43ce82[_0x544d71(0x20,0xb5,0x35,0x5f)](_0x1b3b3b);}else Array[_0x4ad402(0x233,0x1b0,0x21d,0x12a)](_0x49fd21['content'])&&_0x25fefa[_0x4ad402(0x84,0xcc,0x151,0xd2)](..._0x49fd21[_0x544d71(0x1c,0x43,0x48,0x46)]);if(_0x1acbe6[_0x544d71(-0x89,-0x24,-0x3,-0x42)](_0x271cc2[_0x544d71(0x22,0x85,0x1b,0x42)],-0x120e+0x2689+-0x147b)){const _0x2313d0={};_0x2313d0[_0x4ad402(0x16b,0xe1,0x13c,0x11a)]=_0x4ad402(0x20a,0x17f,0x176,0x188),_0x2313d0[_0x544d71(0x2c,-0x1f,0x91,0xc)]=_0x4ad402(0x1d3,0x178,0x141,0x1c0)+_0x271cc2[_0x4ad402(0x226,0x1b5,0x20a,0x23c)]+'张'+_0x24bfbf+']',_0x25fefa[_0x544d71(-0x75,-0xba,-0x2e,-0xa7)](_0x2313d0);}_0x271cc2[_0x4ad402(0x23d,0x1ce,0x1f1,0x235)]((_0x4e17ed,_0x4838f2)=>{function _0x53d1cf(_0x57fbc2,_0x5b5fbe,_0x296047,_0x51b68c){return _0x4ad402(_0x57fbc2-0x1ed,_0x57fbc2-0x5c,_0x296047-0xa3,_0x296047);}function _0x5b5955(_0xc370d2,_0x191f76,_0x1d1326,_0x133aad){return _0x544d71(_0xc370d2-0x1f4,_0x191f76-0x1ca,_0x191f76,_0x1d1326- -0x153);}const _0x5959dd={'qVGHL':function(_0x39b058,_0x4031f0){function _0x470956(_0x3b9be1,_0x271fba,_0x1a4613,_0x2a2490){return _0x5239(_0x2a2490-0x2b8,_0x1a4613);}return _0x1acbe6[_0x470956(0x439,0x42d,0x404,0x46e)](_0x39b058,_0x4031f0);}};if(_0x1acbe6['MrOoj'](_0x1acbe6['MXZPW'],_0x1acbe6[_0x53d1cf(0x136,0x139,0xfb,0x1c9)])){const _0x464c0f=typeof _0x4e17ed===_0x1acbe6[_0x5b5955(-0xf6,-0x17d,-0x16a,-0xe6)]?_0x4e17ed:_0x4e17ed[_0x53d1cf(0x157,0x1c0,0x18f,0x105)],_0x5957c6=_0x1acbe6[_0x5b5955(-0x1d4,-0x294,-0x214,-0x203)](typeof _0x4e17ed,_0x1acbe6[_0x5b5955(-0x1c0,-0x16d,-0x172,-0x1a6)])&&_0x4e17ed[_0x5b5955(-0x1ed,-0x23a,-0x1e6,-0x25d)]?_0x4e17ed['name']:''+_0x24bfbf+_0x1acbe6[_0x5b5955(-0x1b9,-0x171,-0x1b0,-0x187)](_0x4838f2,-0x810+0x883+-0x3*0x26),_0x3ba796={};_0x3ba796[_0x53d1cf(0x13d,0x17a,0x13e,0x16b)]=_0x1acbe6[_0x5b5955(-0x119,-0x1c1,-0x1a7,-0x191)],_0x3ba796[_0x53d1cf(0x1db,0x24a,0x1af,0x1dc)]='['+_0x5957c6+']',_0x25fefa[_0x5b5955(-0x206,-0x238,-0x1fa,-0x195)](_0x3ba796);let _0x5d7732=_0x464c0f;!_0x464c0f[_0x53d1cf(0x1c9,0x1ae,0x168,0x1b7)](_0x1acbe6[_0x53d1cf(0x187,0x210,0x184,0x154)])&&(_0x1acbe6[_0x53d1cf(0x10e,0x12d,0x13a,0x182)](_0x1acbe6[_0x53d1cf(0x233,0x1db,0x1b1,0x1c4)],_0x1acbe6['LOHei'])?_0x5d7732=_0x5b5955(-0x102,-0x143,-0x109,-0xa8)+'/png;base6'+'4,'+_0x464c0f:(_0x563d7d[_0x5b5955(-0x1d1,-0x1da,-0x1f1,-0x25c)+_0x5b5955(-0x20a,-0x187,-0x1c7,-0x196)](_0x4844b7[_0x53d1cf(0x1b6,0x15d,0x121,0x1fe)+_0x53d1cf(0x12e,0x177,0xf3,0x197)+_0x5b5955(-0x171,-0x252,-0x1f6,-0x1d7)+_0x53d1cf(0x202,0x1c5,0x258,0x1f0)],_0x2adfd1),_0x1acbe6[_0x5b5955(-0x1f4,-0x1f6,-0x20e,-0x183)](_0x2c3b2c,new _0x4c8df2(_0x1acbe6['Syeas']))));const _0x69a556={};_0x69a556[_0x53d1cf(0x13d,0x108,0x13e,0x1cd)]=_0x1acbe6[_0x5b5955(-0x1fc,-0x19f,-0x1e4,-0x171)],_0x69a556[_0x53d1cf(0x147,0x1b0,0x15a,0x1b6)]={},_0x69a556[_0x53d1cf(0x147,0x1b0,0x15a,0x1b6)][_0x5b5955(-0x1e0,-0x164,-0x155,-0x173)]=_0x5d7732,_0x69a556[_0x53d1cf(0x147,0x1b0,0x15a,0x1b6)][_0x53d1cf(0x11c,0x154,0xf7,0x1a4)]=_0x1acbe6[_0x5b5955(-0x10f,-0xf3,-0x121,-0x144)],_0x25fefa[_0x5b5955(-0x1af,-0x24b,-0x1fa,-0x215)](_0x69a556);}else{const _0x2fb033=_0x5959dd[_0x53d1cf(0x19b,0x210,0x148,0x186)](_0x190575,_0x394111[-0xbd*-0x2d+-0x1edd*0x1+0x3*-0xc9]),_0x5b737a=_0x5959dd[_0x5b5955(-0x1c0,-0x1f6,-0x187,-0x191)](_0x3ddd1f,_0x2fb033);_0x5b737a&&_0x44a781[_0x5b5955(-0xb2,-0xb7,-0x130,-0x1ad)][_0x53d1cf(0x128,0x18e,0x148,0xf2)](_0x5b737a);}});const _0x1a33f6={..._0x49fd21};return _0x1a33f6[_0x4ad402(0x249,0x1b9,0x24d,0x185)]=_0x25fefa,_0x10e657[_0x575f4c]=_0x1a33f6,_0x10e657;}function findMessageIndexWithPlaceholder(_0x1e7d39,_0x4ee061){const _0x9a05cf={};_0x9a05cf['Ekmpa']=_0x47ed26(0x38,0xa7,0x25,0x5a),_0x9a05cf[_0x12731b(0x2bf,0x289,0x306,0x273)]=function(_0x1cc52d,_0x5b9bca){return _0x1cc52d<_0x5b9bca;},_0x9a05cf[_0x47ed26(0xb,0x3f,0x1b,-0x18)]=function(_0x223408,_0x33cd37){return _0x223408===_0x33cd37;},_0x9a05cf[_0x47ed26(-0x22,0x42,-0x9a,0x58)]=_0x12731b(0x1d1,0x229,0x1fd,0x19d),_0x9a05cf[_0x47ed26(-0x25,0x53,-0x5b,0x59)]=_0x47ed26(0x5,0x90,-0x84,0x47),_0x9a05cf['UCqRD']=function(_0x50408b,_0x577d18){return _0x50408b===_0x577d18;},_0x9a05cf[_0x47ed26(0x2f,-0x43,-0x58,0x9d)]=_0x47ed26(-0x1f,-0x59,-0x65,-0x49);function _0x47ed26(_0x3ab34c,_0x4c8688,_0x1223bc,_0x536bb7){return _0x5239(_0x3ab34c- -0x1ef,_0x536bb7);}const _0x22cfe5=_0x9a05cf;for(let _0x43ec93=0x1d14+0x10e2+-0x6f*0x6a;_0x22cfe5[_0x47ed26(0x6c,0xf0,0x72,0x1d)](_0x43ec93,_0x1e7d39[_0x12731b(0x1ed,0x2a8,0x278,0x275)]);_0x43ec93++){const _0x5c0c44=_0x1e7d39[_0x43ec93];if(_0x22cfe5[_0x12731b(0x26d,0x1cd,0x250,0x212)](typeof _0x5c0c44[_0x47ed26(0x72,0xd0,0x67,0xf5)],_0x22cfe5[_0x47ed26(-0x22,0x47,0x20,-0x18)])&&_0x5c0c44[_0x12731b(0x29b,0x1ff,0x2a2,0x279)][_0x12731b(0x286,0x214,0x18c,0x217)](_0x4ee061)){if(_0x22cfe5['AEMlG'](_0x22cfe5[_0x47ed26(-0x25,0x3e,0x69,-0x34)],_0x12731b(0x1d9,0x275,0x1cd,0x20c)))return _0x43ec93;else{const _0x5ef91d={};_0x5ef91d[_0x47ed26(-0x66,0x26,-0xd7,-0xdb)]=_0x22cfe5[_0x12731b(0x249,0x23e,0x1a7,0x1d0)],_0x5ef91d['text']=_0x4beeae['content'],_0x3a1a5a[_0x47ed26(-0x7b,-0xd5,-0xc1,-0x10d)](_0x5ef91d);}}else{if(Array[_0x47ed26(0x69,0x6b,0x55,0xb9)](_0x5c0c44[_0x12731b(0x293,0x2f7,0x2dc,0x279)]))for(const _0x4b3d5b of _0x5c0c44['content']){if(_0x22cfe5[_0x47ed26(0x2,0x3a,0x2e,0x2c)](_0x22cfe5[_0x47ed26(0x2f,0xb5,0x58,-0x51)],_0x22cfe5[_0x12731b(0x1ee,0x26a,0x1d6,0x236)])){if(_0x4b3d5b[_0x47ed26(-0x66,-0xaf,-0xaa,-0x8a)]===_0x22cfe5[_0x47ed26(-0x37,-0xa1,0x4e,0xa)]&&_0x4b3d5b[_0x47ed26(0x38,0x3c,-0x2c,0x1b)][_0x47ed26(0x10,0x3e,-0xe,0x7d)](_0x4ee061))return _0x43ec93;}else{const _0x4217f5={};for(const _0x6d4487 in _0x3dc242){_0x4217f5[_0x6d4487]=_0x52f13f(_0x4e57e4[_0x6d4487],_0x4b24c7,_0xca8511,_0xab251c);}return _0x4217f5;}}}}function _0x12731b(_0x16c038,_0x4e11ce,_0xaa09b9,_0x4ef7c7){return _0x5239(_0x4ef7c7-0x18,_0xaa09b9);}return-(-0xd7c+-0xe44+0x1bc1);}function generateRequestId(){function _0x4cfa8f(_0x1382fd,_0x5b6607,_0x13bf5b,_0x5afd7e){return _0x5239(_0x5b6607-0x1de,_0x13bf5b);}function _0x39a7a2(_0x26e224,_0x325f02,_0x529199,_0x1a46f4){return _0x5239(_0x529199- -0x9d,_0x325f02);}if(crypto&&crypto[_0x4cfa8f(0x353,0x398,0x426,0x3f5)])return crypto['randomUUID']();return Date['now']()[_0x39a7a2(0xd8,0x15c,0x145,0x166)](0x4f3+0x10*0x24b+-0x297f)+Math[_0x4cfa8f(0x3b8,0x3b3,0x32b,0x355)]()[_0x39a7a2(0xd6,0xdf,0x145,0x17b)](-0x29*-0xa7+0x968+-0x2403)[_0x39a7a2(0xbc,0x129,0x108,0x12e)](0x1fa+-0xd7d+0xb85);}export function LLM_OUTFIT_MODIFY_GET_PROMPT(){function _0xec17b2(_0x240fac,_0x2b3385,_0x516a70,_0x1ca703){return _0x5239(_0x240fac- -0x391,_0x2b3385);}const _0x24c57a={'GpKkm':function(_0x56469d,_0x237b2e){return _0x56469d!==_0x237b2e;},'DBTBq':function(_0xe91616,_0x583d78){return _0xe91616(_0x583d78);},'UMZla':_0xec17b2(-0x137,-0x1af,-0x13b,-0xe1)+'时','ePwLs':function(_0x1598d1){return _0x1598d1();},'tnadD':function(_0x51821f,_0x46b7f9,_0xc16a1f){return _0x51821f(_0x46b7f9,_0xc16a1f);}};return new Promise((_0x4bb7de,_0x453709)=>{const _0x9ca332={};_0x9ca332[_0xde85e8(0x11c,0x1ce,0x196,0x161)]=_0x24c57a[_0x3d5a91(0x194,0x1ef,0x193,0x1b1)];const _0xb2ffbd=_0x9ca332,_0x4e8723=_0x24c57a['ePwLs'](generateRequestId);console[_0xde85e8(0xc5,0x15,0xcb,0x79)](_0xde85e8(0x8a,0xb8,0x163,0xfa)+_0xde85e8(0xe1,0x60,0xa4,0x6c)+_0xde85e8(0x18f,0xb4,0xe2,0x125)+_0xde85e8(-0x12,-0xe,0xdb,0x70)+_0xde85e8(0x51,0x6f,0x3f,0x46)+_0xde85e8(0x12a,0x16b,0x189,0x11b)+_0x4e8723+')');const _0x3897a9=_0x5d3b90=>{if(_0x24c57a[_0x3ea1ba(0xfd,0xef,0x162,0xc2)](_0x5d3b90['id'],_0x4e8723))return;function _0x3ea1ba(_0x4803aa,_0x2f1a4b,_0x38db8f,_0x19fc95){return _0xde85e8(_0x4803aa-0x149,_0x2f1a4b-0xc3,_0x19fc95,_0x4803aa- -0x38);}eventSource[_0x5c2b7b(0x5c,-0x1,0x71,0x7f)+_0x3ea1ba(0x4f,0x25,-0x3d,-0x2d)](eventNames['LLM_CHAR_M'+_0x3ea1ba(0x22,0x54,-0x71,0x89)+_0x3ea1ba(0x20,-0x43,-0xb,-0x69)+'PONSE'],_0x3897a9);function _0x5c2b7b(_0x4e057f,_0x41eefc,_0x5373da,_0x47c333){return _0x3d5a91(_0x4e057f-0xc7,_0x41eefc,_0x5373da-0x1e0,_0x5373da- -0xdd);}_0x24c57a[_0x5c2b7b(0x150,0xb4,0x13b,0x1c6)](_0x4bb7de,_0x5d3b90['prompt']);};eventSource['on'](eventNames[_0xde85e8(0xf6,0x15e,0xd8,0xe2)+_0x3d5a91(0x136,0x1b0,0x1ba,0x14b)+_0xde85e8(0x33,0x98,0xe2,0x58)+'PONSE'],_0x3897a9);function _0xde85e8(_0x24f47a,_0x4e8dfa,_0x13f374,_0x193607){return _0xec17b2(_0x193607-0x271,_0x13f374,_0x13f374-0x1e,_0x193607-0x4);}const _0x3aa790={};_0x3aa790['id']=_0x4e8723;function _0x3d5a91(_0x42b088,_0x454dc9,_0x35c325,_0xa63301){return _0xec17b2(_0xa63301-0x362,_0x454dc9,_0x35c325-0x22,_0xa63301-0x6e);}eventSource['emit'](eventNames['LLM_CHAR_M'+_0xde85e8(0xc4,0x52,0xde,0x5a)+_0x3d5a91(0xde,0x136,0x1df,0x158)+_0x3d5a91(0x1b3,0x1a4,0x268,0x209)],_0x3aa790),_0x24c57a['tnadD'](setTimeout,()=>{eventSource[_0x1ae38a(0x200,0x236,0x1e8,0x288)+_0x1ae38a(0x22a,0x21d,0x2b9,0x273)](eventNames['LLM_CHAR_M'+_0x2420a9(0x457,0x435,0x417,0x486)+_0x1ae38a(0x1fb,0x193,0x203,0x1a0)+'PONSE'],_0x3897a9);function _0x2420a9(_0x21afee,_0x54bfc9,_0x1000fb,_0x468a16){return _0x3d5a91(_0x21afee-0xfc,_0x21afee,_0x1000fb-0x148,_0x468a16-0x33b);}function _0x1ae38a(_0x28d654,_0x189e64,_0x8a1b08,_0x39e0cc){return _0x3d5a91(_0x28d654-0x1b9,_0x8a1b08,_0x8a1b08-0x9d,_0x28d654-0xb2);}_0x453709(new Error(_0xb2ffbd[_0x1ae38a(0x304,0x33b,0x2e1,0x30b)]));},0x3c89+0x1*-0x3c1a+0x26a1);});}export function LLM_OUTFIT_MODIFY(_0x239c2a,_0x1dd460={}){function _0x404a01(_0x5bdbe2,_0x337c35,_0x5a8d93,_0x46b940){return _0x5239(_0x46b940-0x2ef,_0x337c35);}function _0x356ab7(_0x3ca6eb,_0x449b9d,_0x3a03a0,_0x478a3c){return _0x5239(_0x478a3c- -0x254,_0x3ca6eb);}const _0x34ac2d={'lXDvJ':function(_0x3b3900,_0x2f1cbc){return _0x3b3900(_0x2f1cbc);},'SgyRc':_0x404a01(0x4dc,0x4b9,0x4ba,0x506)+'求超时','GzTkT':_0x404a01(0x4ce,0x5d1,0x5d5,0x54e),'iueAT':_0x356ab7(-0x57,-0x4c,-0x6a,-0xce),'QRUOK':function(_0x3168ee,_0x45e6cf,_0xe19f12){return _0x3168ee(_0x45e6cf,_0xe19f12);}};return new Promise((_0x28a06e,_0x379653)=>{function _0x3edf1c(_0x192212,_0x36f6b6,_0x2a2da2,_0xe84b56){return _0x404a01(_0x192212-0x57,_0xe84b56,_0x2a2da2-0x1b0,_0x192212- -0x61c);}function _0x509d44(_0x2397a5,_0x559a5a,_0xe0c957,_0x44f1d7){return _0x404a01(_0x2397a5-0x7f,_0x2397a5,_0xe0c957-0x164,_0x44f1d7- -0x365);}const _0x58f4d6={'MrTsL':function(_0x115ddc,_0x381e6d){function _0x13511f(_0x5cdfe1,_0x4266e1,_0xfb8188,_0x28d5a5){return _0x5239(_0x28d5a5-0x127,_0x5cdfe1);}return _0x34ac2d[_0x13511f(0x2b7,0x375,0x283,0x314)](_0x115ddc,_0x381e6d);},'kYvry':_0x3edf1c(-0x14a,-0x1a2,-0x122,-0x150),'xfqXR':_0x34ac2d[_0x3edf1c(-0x12a,-0x170,-0x141,-0x193)]};if(_0x34ac2d[_0x3edf1c(-0x17b,-0x16f,-0x10d,-0x188)]!==_0x34ac2d[_0x3edf1c(-0xea,-0x177,-0x83,-0x16f)]){const _0x2c83d9=generateRequestId(),_0x246766=_0x1dd460[_0x509d44(0x21b,0x215,0x165,0x1d4)]||0x15105+0x75bc+-0xdc61;console[_0x3edf1c(-0x194,-0x1bc,-0x135,-0x213)](_0x509d44(0x236,0x16d,0x1c7,0x1a4)+_0x3edf1c(-0x1a1,-0x13c,-0x12b,-0x1b5)+'\x20Executing'+_0x3edf1c(-0x193,-0x1f8,-0x1cf,-0x20c)+_0x509d44(0x1f3,0x182,0x13e,0x185)+_0x509d44(0x17e,0x1d6,0x1a8,0x1d3)+':\x20'+_0x2c83d9+')');const _0x399da0=_0x5a751d=>{if(_0x5a751d['id']!==_0x2c83d9)return;function _0x5ac580(_0x448426,_0x2e2293,_0x13e6ba,_0x34a1c1){return _0x3edf1c(_0x34a1c1-0x5f5,_0x2e2293-0x1b6,_0x13e6ba-0x8f,_0x448426);}function _0x5a2969(_0x147fb6,_0x30db78,_0x850117,_0x288cc1){return _0x509d44(_0x147fb6,_0x30db78-0x6,_0x850117-0x151,_0x30db78-0x21);}eventSource[_0x5a2969(0xa6,0x128,0x133,0x136)+_0x5a2969(0xec,0x152,0x164,0x154)](eventNames['LLM_CHAR_M'+_0x5ac580(0x53d,0x545,0x52c,0x505)+_0x5a2969(0x161,0x118,0x171,0xa5)],_0x399da0),_0x5a751d[_0x5a2969(0x11a,0x142,0x161,0x197)]?_0x58f4d6[_0x5a2969(0x211,0x1e5,0x199,0x26c)](_0x28a06e,_0x5a751d['result']):_0x379653(new Error(_0x5a751d[_0x5ac580(0x3e9,0x427,0x3d5,0x45a)]||_0x58f4d6[_0x5a2969(0x102,0x114,0x170,0x125)]));};eventSource['on'](eventNames[_0x509d44(0x1dd,0x10c,0x138,0x18c)+_0x509d44(0x22c,0x202,0x243,0x1c7)+_0x509d44(0xa4,0x181,0x140,0xf7)],_0x399da0);const _0x38ddf8={};_0x38ddf8[_0x3edf1c(-0xb1,-0xbe,-0x54,-0xc7)]=_0x239c2a,_0x38ddf8['id']=_0x2c83d9,eventSource[_0x3edf1c(-0x15f,-0x117,-0x176,-0x1bd)](eventNames[_0x509d44(0x21b,0x186,0x11c,0x18c)+_0x3edf1c(-0x17c,-0x18d,-0x20f,-0x129)+_0x509d44(0x183,0x1a8,0xfb,0x18a)],_0x38ddf8),_0x34ac2d[_0x3edf1c(-0x138,-0x14c,-0x162,-0x16b)](setTimeout,()=>{function _0x15d622(_0x1fbf54,_0x3fe34,_0x598131,_0x4247f1){return _0x509d44(_0x598131,_0x3fe34-0x41,_0x598131-0x37,_0x4247f1-0x32f);}eventSource[_0x15d622(0x468,0x484,0x43b,0x436)+_0x41df41(-0x118,-0x11f,-0x182,-0x8d)](eventNames[_0x15d622(0x4f1,0x4a1,0x4fd,0x4bb)+'ODIFY_RESP'+_0x41df41(-0xcd,-0x159,-0xf5,-0x14c)],_0x399da0);function _0x41df41(_0x4312e1,_0x26c617,_0x1a70cb,_0x2afe28){return _0x3edf1c(_0x26c617-0x67,_0x26c617-0x84,_0x1a70cb-0x14d,_0x2afe28);}_0x379653(new Error(_0x58f4d6[_0x15d622(0x4d1,0x46e,0x411,0x457)]));},_0x246766);}else{const _0x507f15=_0x59d853[_0x13bb29],_0x313e54=_0x507f15[_0x509d44(0x16b,0x1f6,0x1d8,0x173)+_0x509d44(0x1bc,0x145,0xad,0x13f)];if(!_0x313e54||!_0x507f15[_0x509d44(0x11b,0xfc,0x1e9,0x173)+_0x509d44(0x137,0x1f6,0x1e4,0x183)][_0x313e54])return null;const _0x270357={};return _0x270357['id']=_0x313e54,_0x270357[_0x509d44(0x271,0x1e3,0x29c,0x20a)]=_0x507f15[_0x509d44(0x19c,0xeb,0xdf,0x173)+'ets'][_0x313e54],_0x270357;}});}function preprocessTagContent(_0xd4e898){function _0x3cd58f(_0xbde5dc,_0x34a7cd,_0x447763,_0x72e196){return _0x5239(_0xbde5dc-0x209,_0x72e196);}function _0x2b152f(_0x4373a4,_0x164778,_0x27466d,_0x573728){return _0x5239(_0x27466d- -0x1b2,_0x573728);}let _0x171129=_0xd4e898['replace'](/:/g,':')[_0x3cd58f(0x419,0x40b,0x3a4,0x445)](/\(/g,'（')[_0x3cd58f(0x419,0x439,0x390,0x3f0)](/\)/g,'）')[_0x3cd58f(0x419,0x481,0x49e,0x45f)](/,/g,',');return _0x171129;}function parseOutfitData(_0x3f0c51){const _0x2378dc={};_0x2378dc[_0x335909(-0x51,-0x8f,-0x2a,-0x16)]=_0xab0dbc(-0xbb,-0x128,-0x141,-0xb6),_0x2378dc[_0x335909(-0x3,0x19,0x42,0x85)]=_0x335909(0x3e,-0x4d,0x5,0x4a),_0x2378dc[_0x335909(0x6d,0xee,0x6a,-0x2a)]=_0x335909(-0x4d,0xb7,0x3a,0xc),_0x2378dc[_0x335909(0xe3,0x3d,0x7f,0x4d)]=_0xab0dbc(-0x180,-0x148,-0x18c,-0x100),_0x2378dc['dgutJ']='upperBodyB'+_0xab0dbc(-0x1d1,-0x167,-0x1ee,-0x1ba),_0x2378dc[_0x335909(0x7a,0x119,0x9d,0x12d)]='fullBody',_0x2378dc[_0xab0dbc(-0x16c,-0x17c,-0x17d,-0x169)]=_0x335909(0x40,-0x86,-0x7,0x4a)+'ck',_0x2378dc[_0x335909(0x79,-0x48,0x22,0x8e)]=function(_0x10bdee,_0x53405f){return _0x10bdee===_0x53405f;},_0x2378dc[_0xab0dbc(-0x1cb,-0x16c,-0x14e,-0x171)]=function(_0x367af2,_0x1c4f70){return _0x367af2+_0x1c4f70;},_0x2378dc[_0x335909(0x57,0xc8,0xe6,0xc8)]=_0x335909(0x16,0xb,0x49,0xb6),_0x2378dc[_0x335909(0x9e,-0x41,0x20,-0x1f)]=_0xab0dbc(-0x1d6,-0x1c1,-0x18f,-0x16a),_0x2378dc['hxNLE']=function(_0x1549ae,_0x33c52f){return _0x1549ae&&_0x33c52f;};const _0x2b6381=_0x2378dc,_0x2a943a=_0x3f0c51[_0xab0dbc(-0x84,-0xbc,-0x122,-0xd0)]('\x0a')[_0xab0dbc(-0xd0,-0x155,-0x1dc,-0x108)](_0x38033f=>_0x38033f[_0xab0dbc(-0xb0,-0x125,-0xbf,-0x196)]())[_0x335909(-0x4f,-0x38,-0x22,-0x91)](_0x20f962=>_0x20f962),_0x2320a2={};_0x2320a2['nameCN']='',_0x2320a2[_0xab0dbc(-0x1cc,-0x170,-0x1b0,-0x135)]='';function _0xab0dbc(_0xb22fa2,_0x38a1cd,_0x534158,_0x57c044){return _0x5239(_0x38a1cd- -0x330,_0x57c044);}_0x2320a2[_0x335909(0x3a,0x15,0x62,0x51)]='',_0x2320a2['upperBodyB'+'ack']='',_0x2320a2[_0x335909(0x3e,0x27,0x40,-0x4d)]='',_0x2320a2['fullBodyBa'+'ck']='';const _0x14a3b7=_0x2320a2;function _0x335909(_0x2fe988,_0x569b8b,_0x3d76be,_0x5bab24){return _0x5239(_0x3d76be- -0x186,_0x569b8b);}const _0x506204={};_0x506204[_0x335909(0x94,0xe0,0xc0,0x142)]=_0x2b6381[_0x335909(0xb6,0x3b,0x42,0xb9)],_0x506204['英文名称']=_0x2b6381[_0xab0dbc(-0x19a,-0x140,-0xff,-0xb4)],_0x506204[_0xab0dbc(-0x172,-0x142,-0x112,-0x17b)]=_0x2b6381[_0xab0dbc(-0xb3,-0x12b,-0xda,-0x17b)],_0x506204[_0x335909(-0x79,-0x6f,-0x3,0x79)]=_0x2b6381[_0x335909(0xcf,0x8b,0x83,0xf)],_0x506204[_0xab0dbc(-0xb6,-0xc7,-0x5a,-0xe1)]=_0x2b6381[_0x335909(0xc4,0x34,0x9d,0x116)],_0x506204[_0xab0dbc(-0x164,-0x15c,-0x154,-0x1de)]=_0x2b6381['FowSY'],_0x506204[_0x335909(0x35,0x76,-0x1f,0x22)]=_0x2b6381[_0x335909(-0x2c,0x66,0x2e,-0x6)];const _0x183dad=_0x506204;for(const _0x353aa4 of _0x2a943a){const _0x10e01d=_0x353aa4[_0x335909(0x1f,0x45,0x59,0x34)](':');if(_0x2b6381[_0x335909(0x4b,0xad,0x22,-0x16)](_0x10e01d,-(0x3*0x8df+-0x2547+-0x1*-0xaab)))continue;const _0x116d58=_0x353aa4[_0x335909(-0x39,-0x62,0x1f,0xa3)](0x1d72+0x13ff+0x107b*-0x3,_0x10e01d)[_0x335909(0x3,0x61,0x85,0x85)](),_0x43a708=_0x353aa4[_0x335909(-0x39,0x10,0x1f,0x26)](_0x2b6381[_0x335909(-0x3c,0x32,0x3e,-0x2f)](_0x10e01d,-0x1c*-0x145+-0x422*-0x5+-0x3835))['trim']();if(_0x183dad[_0x116d58]){if(_0x2b6381['lSSGR'](_0x2b6381[_0xab0dbc(-0x126,-0xc4,-0xdb,-0x49)],_0x2b6381['IjSDf'])){_0x403e06[_0x335909(-0x3c,-0x72,0x1c,-0x33)](_0x2b6381[_0xab0dbc(-0x157,-0x1d4,-0x155,-0x21e)]);return;}else _0x14a3b7[_0x183dad[_0x116d58]]=_0x43a708;}else _0x2b6381[_0x335909(0x41,0x3b,0x88,0x94)](_0x116d58,_0x43a708)&&console[_0x335909(0x24,0x65,0x13,-0x26)]('[outfitPro'+'mptModify]'+'\x20未识别的服装字段\x20'+'\x22'+_0x116d58+'\x22');}if(!_0x14a3b7['nameCN'])return null;return console[_0xab0dbc(-0x1dc,-0x197,-0x144,-0x152)]('[outfitPro'+_0x335909(-0x1c,0x88,0x6,-0x78)+'\x20解析到的服装数据:',_0x14a3b7),_0x14a3b7;}function extractOutfitTags(_0x26ba6e){const _0x267c29={'xqDJi':function(_0x204d96,_0x4bbeba){return _0x204d96(_0x4bbeba);},'xNWJl':_0x2a77c0(0x11a,0x138,0x11c,0x13a),'xUEIs':function(_0x9ff935,_0x1fc75c){return _0x9ff935===_0x1fc75c;},'YQKEd':_0x474ccd(-0x154,-0x147,-0x1a5,-0x17b),'kkSfN':function(_0x547942,_0x31ca49){return _0x547942(_0x31ca49);}},_0x17fdd8={};_0x17fdd8[_0x2a77c0(0x162,0x16a,0x106,0x165)]=[];const _0x1ef608=_0x17fdd8;_0x26ba6e=_0x26ba6e[_0x474ccd(-0xab,-0x10d,-0x143,-0x81)](/<thinking>[\s\S]*?<\/thinking>/gi,'')['trim']();const _0x514d2d=/<服装>([\s\S]*?)<\/服装>/g;let _0x3f9097;function _0x2a77c0(_0x39cd29,_0x1a486f,_0x1dfd6f,_0x4f9f3c){return _0x5239(_0x39cd29- -0xdc,_0x4f9f3c);}while((_0x3f9097=_0x514d2d[_0x474ccd(-0x166,-0x132,-0x1bf,-0x148)](_0x26ba6e))!==null){if(_0x267c29['xUEIs'](_0x267c29['YQKEd'],_0x474ccd(-0xd6,-0x147,-0x10d,-0x134))){const _0x5d940d=_0x267c29[_0x474ccd(-0x154,-0xeb,-0xf8,-0xa9)](preprocessTagContent,_0x3f9097[0x30f+-0xb*0x1eb+0x120b*0x1]),_0x214da8=_0x267c29[_0x2a77c0(0xb9,0x6f,0xca,0x140)](parseOutfitData,_0x5d940d);_0x214da8&&_0x1ef608[_0x2a77c0(0x162,0x14d,0x157,0x12a)][_0x474ccd(-0x1d5,-0x1a9,-0x183,-0x231)](_0x214da8);}else{if(_0x4b2b55[_0x2f96ae]){const _0x2a137d=_0x1635e1[_0x474ccd(-0x11f,-0xb9,-0x110,-0x5f)+'ById'](_0x474ccd(-0x1a1,-0x151,-0x12a,-0xef)+_0x57ea00);_0x2a137d&&(_0x2a137d[_0x2a77c0(0xd1,0xeb,0x114,0x107)]=_0x274902[_0x342abf],_0x267c29[_0x2a77c0(0x156,0x182,0xdd,0x1c5)](_0x2ebe40,_0x2a137d)['trigger'](_0x267c29[_0x2a77c0(0x164,0x1a2,0x130,0x1b9)]));}}}function _0x474ccd(_0x4c0631,_0x1148ad,_0x17c72f,_0x40fcfd){return _0x5239(_0x1148ad- -0x31d,_0x17c72f);}return _0x1ef608;}function getCurrentOutfitPreset(){const _0x30234e=extension_settings[extensionName],_0x359d7d=_0x30234e[_0x4c36dd(0x593,0x4d5,0x516,0x514)+_0x4c36dd(0x44d,0x44e,0x45e,0x4e0)];if(!_0x359d7d||!_0x30234e[_0x4c36dd(0x57b,0x553,0x482,0x514)+_0x396f7c(0x37b,0x3dd,0x2f7,0x400)][_0x359d7d])return null;const _0x20008a={};function _0x4c36dd(_0x3b3212,_0x2c1216,_0x32ccc2,_0x2ac522){return _0x5239(_0x2ac522-0x32b,_0x2c1216);}_0x20008a['id']=_0x359d7d;function _0x396f7c(_0x44d483,_0xa75c2d,_0x16cbfb,_0x57be6b){return _0x5239(_0x44d483-0x182,_0x16cbfb);}return _0x20008a['data']=_0x30234e['outfitPres'+_0x4c36dd(0x5a0,0x578,0x56f,0x524)][_0x359d7d],_0x20008a;}function _0x5239(_0x29efd9,_0x463852){_0x29efd9=_0x29efd9-(0x1f*-0x71+-0x1f9a+0x2ea2);const _0x4f4a18=_0x2c33();let _0x57df7d=_0x4f4a18[_0x29efd9];if(_0x5239['DhDrxj']===undefined){var _0x35d33e=function(_0x5c969c){const _0x4d765='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2ff619='',_0x3e0ecd='',_0x1e07d6=_0x2ff619+_0x35d33e;for(let _0x5dd66f=0x1c4c+0x1e54+-0x3aa0,_0x33433e,_0x3f37e4,_0x14fb47=0x11*-0x23e+-0x1*-0x11aa+0x1474;_0x3f37e4=_0x5c969c['charAt'](_0x14fb47++);~_0x3f37e4&&(_0x33433e=_0x5dd66f%(-0xf45+0x19d6+-0xa8d)?_0x33433e*(0xbb+0x1*-0x827+0x1*0x7ac)+_0x3f37e4:_0x3f37e4,_0x5dd66f++%(-0x2*0xa81+0x25ae+-0x10a8*0x1))?_0x2ff619+=_0x1e07d6['charCodeAt'](_0x14fb47+(-0x253b+-0x83*0xd+0xea4*0x3))-(-0x1*0x18e9+0x3be+0x1535)!==-0x1a67+-0x2667+0xa*0x67b?String['fromCharCode'](0xbed+-0x1c82+0x1194&_0x33433e>>(-(-0x16c6+-0x73f+0x1e07)*_0x5dd66f&-0x1*-0x1ea9+0x1*0x1171+0xc05*-0x4)):_0x5dd66f:-0x4*-0x709+-0x6e*0x57+0xd*0xb6){_0x3f37e4=_0x4d765['indexOf'](_0x3f37e4);}for(let _0x2f35e0=-0xe22+0x24b8+-0x3b*0x62,_0x465744=_0x2ff619['length'];_0x2f35e0<_0x465744;_0x2f35e0++){_0x3e0ecd+='%'+('00'+_0x2ff619['charCodeAt'](_0x2f35e0)['toString'](-0x159d+0x222f+0x641*-0x2))['slice'](-(0x1c0f+0x3*-0xa3d+0x1*0x2aa));}return decodeURIComponent(_0x3e0ecd);};_0x5239['NwBwgO']=_0x35d33e,_0x5239['DGYUKs']={},_0x5239['DhDrxj']=!![];}const _0x4552da=_0x4f4a18[-0x1*-0x1c31+-0x5*-0x4+-0x1c45],_0x1b215a=_0x29efd9+_0x4552da,_0x2303b3=_0x5239['DGYUKs'][_0x1b215a];if(!_0x2303b3){const _0x3e9aa4=function(_0x3c95c1){this['rqqYCO']=_0x3c95c1,this['NFWXDh']=[-0x297*0x7+0x598*-0x3+0x22ea,0xa37+-0x133e+0x1*0x907,0xb*-0xf3+0x399*-0x5+-0x97a*-0x3],this['YKPklz']=function(){return'newState';},this['UhFvrX']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['CoRsKb']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x3e9aa4['prototype']['JLeAWM']=function(){const _0x1c4937=new RegExp(this['UhFvrX']+this['CoRsKb']),_0x1326cf=_0x1c4937['test'](this['YKPklz']['toString']())?--this['NFWXDh'][0x1e4f*-0x1+-0x9ea*0x1+0x283a]:--this['NFWXDh'][-0x2e7*0x7+0x1*-0x1e89+-0x17*-0x236];return this['YiAmUY'](_0x1326cf);},_0x3e9aa4['prototype']['YiAmUY']=function(_0x1cc2f9){if(!Boolean(~_0x1cc2f9))return _0x1cc2f9;return this['lYvtMj'](this['rqqYCO']);},_0x3e9aa4['prototype']['lYvtMj']=function(_0x2d8aeb){for(let _0x232aa5=0x6c1+0xa*0x4c+-0x9b9,_0x413ea6=this['NFWXDh']['length'];_0x232aa5<_0x413ea6;_0x232aa5++){this['NFWXDh']['push'](Math['round'](Math['random']())),_0x413ea6=this['NFWXDh']['length'];}return _0x2d8aeb(this['NFWXDh'][0x75*-0x2a+0xa3*0xb+0xc31*0x1]);},new _0x3e9aa4(_0x5239)['JLeAWM'](),_0x57df7d=_0x5239['NwBwgO'](_0x57df7d),_0x5239['DGYUKs'][_0x1b215a]=_0x57df7d;}else _0x57df7d=_0x2303b3;return _0x57df7d;}function buildOutfitText(_0xf46af1){const _0x363780={};function _0x156767(_0x28dc8c,_0x4dd482,_0x8f67f3,_0x4d2bf1){return _0x5239(_0x28dc8c-0x237,_0x4dd482);}_0x363780[_0x8a0244(0x16c,0x1e5,0x1ac,0x14f)]=_0x156767(0x42e,0x3a9,0x3d5,0x4be),_0x363780[_0x156767(0x392,0x34e,0x421,0x39f)]='</服装>';const _0x56b97d=_0x363780,_0x32471b=_0xf46af1[_0x8a0244(0x1cc,0x20c,0x21a,0x254)];let _0x4caf53=_0x56b97d[_0x156767(0x449,0x3ec,0x4cb,0x3dd)];_0x4caf53+=_0x8a0244(0x1a5,0x19b,0x1e5,0x1d5)+(_0x32471b['nameCN']||'')+'\x0a',_0x4caf53+='英文名称:\x20'+(_0x32471b[_0x8a0244(0x1ec,0xcf,0x15a,0x123)]||'')+'\x0a',_0x4caf53+=_0x156767(0x3cb,0x38a,0x438,0x3c5)+(_0x32471b['upperBody']||'')+'\x0a',_0x4caf53+='上半身背面:\x20'+(_0x32471b[_0x8a0244(0x127,0x120,0x11a,0xeb)+_0x156767(0x400,0x463,0x3a0,0x437)]||'')+'\x0a',_0x4caf53+=_0x156767(0x3d7,0x40b,0x42b,0x390)+(_0x32471b[_0x8a0244(0x1c8,0x11c,0x160,0x138)]||'')+'\x0a';function _0x8a0244(_0x462535,_0x396864,_0x316f6f,_0xbcf84){return _0x5239(_0x316f6f- -0x66,_0x462535);}return _0x4caf53+=_0x156767(0x43e,0x4a2,0x40d,0x484)+(_0x32471b['fullBodyBa'+'ck']||'')+'\x0a',_0x4caf53+=_0x56b97d[_0x156767(0x392,0x422,0x314,0x2fe)],_0x4caf53;}export async function handleOutfitPromptModify(_0x38eeb5,_0xd7a641=[]){const _0x38f8b9={'gtexc':_0x207c4(0x4f3,0x541,0x55e,0x571)+_0xccbfdf(0x179,0x1a8,0x1ea,0x174)+_0xccbfdf(0x25e,0x2ad,0x2ba,0x23c)+_0x207c4(0x55f,0x5a8,0x5c1,0x5ac)+_0x207c4(0x595,0x4f7,0x56e,0x547)+_0xccbfdf(0x1e7,0x1b9,0x28e,0x218)+'.','hTVtw':_0x207c4(0x54f,0x5b8,0x579,0x5f4)+_0x207c4(0x537,0x626,0x597,0x51a),'PVTkl':function(_0x3f2f5d){return _0x3f2f5d();},'nKlCs':function(_0x13b6ff,_0x3e5dc3){return _0x13b6ff!==_0x3e5dc3;},'juJra':_0xccbfdf(0x151,0xfb,0x179,0x180),'fEZCv':_0x207c4(0x5b4,0x4de,0x55e,0x511)+'mptModify]'+'\x20Current\x20p'+_0xccbfdf(0x218,0x1de,0x26c,0x1f7),'gxDyI':function(_0x5cc859,_0x5195dc){return _0x5cc859(_0x5195dc);},'NJkoK':function(_0x2aa365,_0x31d698){return _0x2aa365||_0x31d698;},'GNsBd':function(_0x40183d,_0x2136aa,_0x218726){return _0x40183d(_0x2136aa,_0x218726);},'doFSQ':_0xccbfdf(0x244,0x20b,0x244,0x21e)+'y','aXNeW':function(_0x257298,_0x15d181,_0x5cc185,_0x94f493,_0x629e47){return _0x257298(_0x15d181,_0x5cc185,_0x94f493,_0x629e47);},'mhqHk':'{{当前服装}}','EpinC':'{{服装列表}}','SkuHE':function(_0x57d6b1,_0x182603,_0x295035,_0x421991,_0x4ead15){return _0x57d6b1(_0x182603,_0x295035,_0x421991,_0x4ead15);},'GAEtJ':'{{用户需求}}','OVIGA':function(_0x4559a0,_0x4eb330,_0x28dd99,_0x128389,_0x2fc84d){return _0x4559a0(_0x4eb330,_0x28dd99,_0x128389,_0x2fc84d);},'LCwyZ':_0xccbfdf(0xd9,0x124,0x194,0x169),'Cbzvj':_0xccbfdf(0x125,0x1b9,0x1b6,0x14a),'HwSLf':_0x207c4(0x535,0x52d,0x59b,0x567)+'}}','jgGjZ':function(_0x1eed83,_0x2e24f8,_0x5b4322,_0x3a4a39,_0x3da927){return _0x1eed83(_0x2e24f8,_0x5b4322,_0x3a4a39,_0x3da927);},'fofeY':'[outfitPro'+_0x207c4(0x46e,0x503,0x4d0,0x512)+_0xccbfdf(0x176,0x1d4,0x1a0,0x1a7)+_0xccbfdf(0x214,0x19e,0x208,0x211),'qawRs':function(_0x2d39d5,_0x1d20ae){return _0x2d39d5>_0x1d20ae;},'YFMpo':function(_0x461c61,_0x5916d7){return _0x461c61>_0x5916d7;},'IPxER':function(_0x58747b,_0x13779e,_0x1b4fda,_0x44ce85,_0x399237){return _0x58747b(_0x13779e,_0x1b4fda,_0x44ce85,_0x399237);},'TkrRh':_0x207c4(0x50d,0x56f,0x571,0x4dc),'lcJZz':_0x207c4(0x530,0x5df,0x55e,0x58f)+'mptModify]'+_0x207c4(0x472,0x4d0,0x4fd,0x4ce),'hDrBd':'images\x20to\x20'+_0x207c4(0x5dd,0x50e,0x55a,0x537)+'\x20index','HBjYP':function(_0x3a9999,_0x220e12,_0x29de0d){return _0x3a9999(_0x220e12,_0x29de0d);},'FJEhK':function(_0x3cec1d,_0x358c7e,_0x528f93){return _0x3cec1d(_0x358c7e,_0x528f93);},'ztxjP':_0x207c4(0x5a2,0x553,0x55e,0x58a)+_0x207c4(0x4cd,0x4a0,0x4d0,0x4c5)+_0xccbfdf(0x270,0x1fa,0x1c9,0x200)+'t:','RnFVz':function(_0x21e7d5,_0x127278){return _0x21e7d5===_0x127278;},'xOhEM':function(_0x30714f,_0x164142){return _0x30714f!==_0x164142;},'OcoWE':_0xccbfdf(0x129,0xc5,0x17f,0x158),'oqOmN':_0xccbfdf(0x243,0x287,0x2bf,0x23e)+_0xccbfdf(0x18a,0x18b,0x207,0x1e6),'Qkdxb':_0xccbfdf(0x231,0x26d,0x195,0x202)+_0x207c4(0x525,0x55b,0x4d0,0x4a2)+_0xccbfdf(0x1bc,0x1c8,0x12b,0x17e)+_0xccbfdf(0x168,0x1d1,0x1db,0x1aa),'qtqaP':_0xccbfdf(0x1e2,0x250,0x22a,0x21b)};function _0xccbfdf(_0x1b9650,_0x225760,_0x494bc,_0x41a9c2){return _0x5239(_0x41a9c2- -0x18,_0x1b9650);}console['log'](_0x38f8b9['gtexc']);function _0x207c4(_0x90885f,_0x4282d8,_0x23579f,_0x233af6){return _0x5239(_0x23579f-0x344,_0x233af6);}toastr['info'](_0x38f8b9[_0x207c4(0x5fc,0x581,0x5b3,0x5ed)]);try{const _0x24df66=extension_settings[extensionName],_0x1ffc21=_0x38f8b9['PVTkl'](getCurrentOutfitPreset);if(!_0x1ffc21){if(_0x38f8b9[_0x207c4(0x48a,0x537,0x4c2,0x49c)](_0x38f8b9[_0x207c4(0x55d,0x569,0x59d,0x535)],_0x207c4(0x51a,0x413,0x4a3,0x4bf))){toastr[_0x207c4(0x4e8,0x522,0x4e6,0x452)](_0xccbfdf(0x1f1,0x20e,0x210,0x255));return;}else{_0x220951[_0xccbfdf(0x138,0x1b8,0x1c6,0x18a)]('请先选择一个服装预设');return;}}console[_0xccbfdf(0x189,0x19a,0x18c,0x181)](_0x38f8b9[_0x207c4(0x53c,0x546,0x5c2,0x562)],_0x1ffc21['id']);const _0x4a450b=_0x38f8b9['gxDyI'](buildOutfitText,_0x1ffc21),_0x4b008c=[_0x38f8b9[_0x207c4(0x5bf,0x52c,0x583,0x5fc)](_0x38eeb5,''),_0x4a450b][_0x207c4(0x539,0x4e9,0x4a8,0x4b1)](Boolean)['join']('\x0a');let _0x3b1cdc=_0x38f8b9['GNsBd'](buildPromptForRequestType,_0x38f8b9[_0x207c4(0x4d5,0x526,0x516,0x49a)],_0x4b008c);const _0x2b4335=new Set(),_0x4ff549=_0x38f8b9[_0x207c4(0x55a,0x4b8,0x529,0x508)](findMessageIndexWithPlaceholder,_0x3b1cdc,_0x207c4(0x556,0x554,0x595,0x566));console[_0xccbfdf(0x152,0x15a,0x20a,0x181)]('[outfitPro'+'mptModify]'+_0xccbfdf(0x21e,0x1dc,0x2a6,0x244)+_0xccbfdf(0x270,0x1a0,0x23d,0x1f9)+_0x207c4(0x565,0x50b,0x594,0x5c0)+'x:',_0x4ff549),_0x3b1cdc=_0x38f8b9['aXNeW'](replacePlaceholder,_0x3b1cdc,_0x38f8b9['mhqHk'],_0x4a450b,_0x2b4335),_0x3b1cdc=_0x38f8b9[_0xccbfdf(0xca,0x1ab,0x13a,0x149)](replacePlaceholder,_0x3b1cdc,_0x38f8b9['EpinC'],_0x4a450b,_0x2b4335),_0x3b1cdc=_0x38f8b9['SkuHE'](replacePlaceholder,_0x3b1cdc,_0x38f8b9['GAEtJ'],_0x38f8b9['NJkoK'](_0x38eeb5,''),_0x2b4335),_0x3b1cdc=_0x38f8b9[_0x207c4(0x503,0x51c,0x4a5,0x4b6)](replacePlaceholder,_0x3b1cdc,_0xccbfdf(0x262,0x1b1,0x256,0x1ce),'',_0x2b4335),_0x3b1cdc=_0x38f8b9['OVIGA'](replacePlaceholder,_0x3b1cdc,_0x38f8b9['LCwyZ'],'',_0x2b4335),_0x3b1cdc=_0x38f8b9[_0x207c4(0x5d5,0x54b,0x566,0x504)](replacePlaceholder,_0x3b1cdc,'{{世界书触发}}','',_0x2b4335),_0x3b1cdc=_0x38f8b9[_0x207c4(0x539,0x590,0x566,0x5de)](replacePlaceholder,_0x3b1cdc,_0x38f8b9[_0x207c4(0x4ed,0x4cb,0x4e8,0x48b)],'',_0x2b4335),_0x3b1cdc=replacePlaceholder(_0x3b1cdc,_0x38f8b9[_0xccbfdf(0x268,0x2dd,0x1ee,0x24a)],'',_0x2b4335),_0x3b1cdc=_0x38f8b9['jgGjZ'](replacePlaceholder,_0x3b1cdc,_0xccbfdf(0x1ee,0x1cb,0x1ca,0x1e5)+'}}','',_0x2b4335),console[_0xccbfdf(0x200,0x157,0x17a,0x181)](_0x38f8b9['fofeY'],_0x3b1cdc);let _0x2aa3d8='';_0x38f8b9[_0xccbfdf(0xe7,0x16e,0x180,0x159)](_0x2b4335[_0x207c4(0x5ab,0x501,0x557,0x4f3)],-0x9b6*-0x4+-0x1791+-0x1*0xf47)&&(_0x2aa3d8=_0x207c4(0x5b4,0x615,0x5ac,0x568)+_0x207c4(0x5a6,0x5a3,0x568,0x544)+[..._0x2b4335][_0xccbfdf(0x163,0x1f3,0x144,0x1c2)]('、')+'\x0a');_0xd7a641&&_0x38f8b9[_0xccbfdf(0x24a,0x190,0x1c5,0x203)](_0xd7a641[_0x207c4(0x517,0x547,0x5a1,0x60f)],0x2258+-0x259*0x7+-0x11e9)&&_0x4ff549>=0x358*0xb+0x19e5+-0xc89*0x5&&(_0x3b1cdc=_0x38f8b9[_0xccbfdf(0x1e3,0x11c,0x1a0,0x185)](attachImagesToMessage,_0x3b1cdc,_0x4ff549,_0xd7a641,_0x38f8b9['TkrRh']),console[_0x207c4(0x541,0x4ef,0x4dd,0x4ac)](_0x38f8b9[_0xccbfdf(0x186,0x1c7,0x252,0x20e)],_0xd7a641[_0xccbfdf(0x1ff,0x1d5,0x271,0x245)],_0x38f8b9['hDrBd'],_0x4ff549));_0x38f8b9[_0x207c4(0x44c,0x470,0x4bf,0x447)](updateCombinedPrompt,_0x3b1cdc,_0x2aa3d8);const _0x38b602={};_0x38b602[_0x207c4(0x539,0x600,0x58e,0x5a2)]=0x493e0;const _0x545a9e=await _0x38f8b9[_0x207c4(0x4e7,0x54f,0x4ee,0x56d)](LLM_OUTFIT_MODIFY,_0x3b1cdc,_0x38b602);console['log'](_0x38f8b9['ztxjP'],_0x545a9e);if(!_0x545a9e){toastr[_0x207c4(0x4af,0x50b,0x4e6,0x540)](_0xccbfdf(0x250,0x1db,0x232,0x1f0));return;}const _0x3c184b=extractOutfitTags(_0x545a9e);if(_0x38f8b9[_0xccbfdf(0x150,0x206,0x1c1,0x1cc)](_0x3c184b[_0xccbfdf(0x1ba,0x2b7,0x1d5,0x226)]['length'],0x1*0x2112+0x50f+0x1*-0x2621)){if(_0x38f8b9['xOhEM'](_0x38f8b9[_0xccbfdf(0x29f,0x1d4,0x242,0x22a)],_0x38f8b9[_0x207c4(0x59b,0x523,0x586,0x5a4)]))return null;else{toastr['warning'](_0x38f8b9[_0xccbfdf(0x1f5,0x235,0x22f,0x252)]),console[_0x207c4(0x52d,0x4ef,0x4dd,0x47b)](_0x207c4(0x5c9,0x54c,0x55e,0x4c9)+_0xccbfdf(0x12f,0x133,0x1d5,0x174)+_0xccbfdf(0x1e2,0xee,0xd3,0x15a)+_0x207c4(0x583,0x597,0x580,0x5c1)+_0x207c4(0x514,0x447,0x4d1,0x4fa),_0x545a9e);return;}}console[_0xccbfdf(0x113,0x210,0x1d3,0x181)](_0x38f8b9[_0x207c4(0x584,0x579,0x575,0x561)],_0x3c184b);const _0x16f044=_0x3c184b[_0xccbfdf(0x1ac,0x1bf,0x191,0x226)][-0x2*0x365+-0x2*-0xf53+-0x17dc];await updateOutfitPresetFromLLM(_0x1ffc21['id'],_0x16f044),toastr['success'](_0x38f8b9[_0x207c4(0x543,0x51e,0x54e,0x5b1)]);}catch(_0x401724){console[_0x207c4(0x4ea,0x47d,0x4e6,0x53b)]('[outfitPro'+'mptModify]'+'\x20Error:',_0x401724),toastr[_0xccbfdf(0x148,0x16b,0x100,0x18a)](_0x207c4(0x526,0x547,0x57b,0x58a)+'\x20'+_0x401724[_0x207c4(0x454,0x524,0x4d5,0x520)]);}}async function updateOutfitPresetFromLLM(_0x1e9112,_0xd65049){const _0x12df2c={'vOsPA':function(_0x322eaa,_0x4d1b3f){return _0x322eaa(_0x4d1b3f);},'kDgcL':'input','VONkz':_0x39d223(0x2d7,0x36c,0x2dd,0x2f0),'RBmOF':_0x39d223(0x298,0x2f0,0x290,0x31f)+_0x39d223(0x2c3,0x312,0x335,0x2c7),'vmQyx':_0x4bb908(0x9b,0x129,0x97,0xec)+_0x4bb908(0x3d,-0x2,0x9,0x64)+_0x39d223(0x1b8,0x29c,0x25a,0x23b)+'utput\x20for\x20'+_0x39d223(0x23d,0x215,0x271,0x256),'dBWPV':_0x4bb908(-0x17,-0x2a,-0xe,0x2),'RFulJ':_0x39d223(0x2d3,0x3a4,0x352,0x30f),'HpuOx':_0x39d223(0x229,0x2da,0x322,0x2b7),'fpViP':'下半身','dsHlG':function(_0x53f555,_0x20fd2){return _0x53f555!==_0x20fd2;},'jgTqH':'kZiwu','WJjgv':function(_0x3f34db,_0x39e844){return _0x3f34db===_0x39e844;},'wwjQq':'btfXM','lCUVR':function(_0x18a9c4,_0xda3006){return _0x18a9c4>_0xda3006;},'jNKip':'...','DnuuX':function(_0x496c30,_0x6a35c){return _0x496c30===_0x6a35c;},'tlSHM':_0x39d223(0x319,0x3d4,0x3cc,0x344)+'内容','erVlk':function(_0x3535c3,_0x3b9a4d){return _0x3535c3!==_0x3b9a4d;},'LIVIk':_0x4bb908(-0xa4,-0x48,-0x19,-0x4d),'qgWWv':function(_0x4c5d92,_0x4cfd97){return _0x4c5d92!==_0x4cfd97;},'hFSHF':_0x4bb908(0xa0,0x13,0x83,0x67),'KpoNa':_0x39d223(0x248,0x27c,0x21b,0x275),'cTzMh':function(_0x55292c){return _0x55292c();},'cXdSg':'#st-chatu8'+_0x39d223(0x384,0x3b0,0x362,0x327)+_0x4bb908(0x73,0xa4,0x28,0xa7)},_0x2be1fe=extension_settings[extensionName],_0x4b9233=_0x2be1fe[_0x4bb908(-0x1c,0x58,0x66,0x5e)+'ets'][_0x1e9112];function _0x39d223(_0x2a580e,_0x51ca18,_0x1817e8,_0x3dc2dd){return _0x5239(_0x3dc2dd-0xc9,_0x2a580e);}if(!_0x4b9233){toastr[_0x39d223(0x2aa,0x29b,0x256,0x26b)](_0x12df2c['dBWPV']);return;}let _0xa23b3e=_0x4bb908(0x102,0x10a,0xa8,0xc4)+_0x1e9112+'\x22\x20的以下数据:\x0a\x0a';const _0x8f2682={};_0x8f2682['nameCN']=_0x12df2c[_0x39d223(0x315,0x36b,0x3ad,0x334)];function _0x4bb908(_0x4287af,_0xf00677,_0x371552,_0x37ad9b){return _0x5239(_0x371552- -0x183,_0x4287af);}_0x8f2682[_0x39d223(0x31b,0x2bc,0x25f,0x289)]='英文名称',_0x8f2682[_0x4bb908(0x5f,0xe0,0x65,0xf5)]=_0x12df2c[_0x4bb908(0x98,0xe3,0xf6,0xf2)],_0x8f2682[_0x39d223(0x26d,0x25c,0x1ee,0x249)+_0x39d223(0x2ab,0x2ec,0x30e,0x292)]='上半身背面',_0x8f2682[_0x4bb908(-0x2d,0x14,0x43,0x3d)]=_0x12df2c[_0x4bb908(0x89,0xe5,0x5b,0x78)],_0x8f2682[_0x4bb908(-0x7f,0x2,-0x4,0x33)+'ck']=_0x4bb908(-0xa6,-0x99,-0x1c,-0x21);const _0x188352=_0x8f2682;let _0x36288f=-0xbb3+-0x144d+-0x4*-0x800;for(const _0xe345f2 in _0x188352){if(_0x12df2c[_0x39d223(0x1f0,0x21d,0x272,0x222)](_0x4bb908(0x128,0xd4,0xc5,0xbc),_0x12df2c[_0x4bb908(0x39,0xe,0x2b,-0x39)])){if(_0xd65049[_0xe345f2]&&_0x12df2c[_0x4bb908(-0x69,-0x35,-0x2a,-0xb6)](_0xd65049[_0xe345f2],_0x4b9233[_0xe345f2])){if(_0x12df2c['WJjgv']('btfXM',_0x12df2c[_0x39d223(0x2a6,0x2a2,0x2b8,0x2f7)])){const _0x42f60f=_0x4b9233[_0xe345f2]||_0x39d223(0x2a5,0x2c3,0x2cd,0x23c),_0x1fdd96=_0xd65049[_0xe345f2];_0xa23b3e+='•\x20'+_0x188352[_0xe345f2]+':\x0a',_0xa23b3e+=_0x4bb908(0x5b,0xc,0x59,0xc4)+_0x42f60f[_0x39d223(0x269,0x290,0x2ee,0x26e)](0x293*0x9+0x1*0x4f3+0x1c1e*-0x1,-0x1515+0x21ba+0xc73*-0x1)+(_0x12df2c[_0x39d223(0x241,0x2ae,0x201,0x280)](_0x42f60f['length'],-0x1813+0x1b5*0x9+0x3*0x2f8)?_0x12df2c['jNKip']:'')+'\x0a',_0xa23b3e+=_0x4bb908(0x63,0x10c,0x9a,0xb0)+_0x1fdd96['substring'](0x1741+-0x71*0x3f+0x48e,-0x1f6d+-0x1749*0x1+0x36e8)+(_0x12df2c[_0x4bb908(0x3c,-0x49,0x34,-0x41)](_0x1fdd96[_0x4bb908(0xb6,0xa6,0xda,0x168)],-0x1*-0xf53+0x1421+-0x2342)?_0x12df2c[_0x39d223(0x226,0x303,0x242,0x29a)]:'')+'\x0a\x0a',_0x36288f++;}else _0x33ff8c[_0x39d223(0x276,0x202,0x289,0x276)]=_0x22e26f[_0x922607],_0x12df2c['vOsPA'](_0x3f64b0,_0x136dcc)[_0x39d223(0x346,0x2d9,0x303,0x2fd)](_0x12df2c[_0x39d223(0x255,0x202,0x20c,0x272)]);}}else{const _0x5bcd6b={};_0x5bcd6b[_0x39d223(0x294,0x28c,0x212,0x252)]=_0x12df2c[_0x39d223(0x33e,0x31c,0x3a2,0x31b)],_0x5bcd6b[_0x39d223(0x376,0x338,0x35d,0x2f0)]=_0x39d223(0x32c,0x328,0x2c9,0x2e9)+_0x35d33e[_0x39d223(0x39a,0x363,0x2c6,0x326)]+'张'+_0x4552da+']',_0x57df7d[_0x39d223(0x22e,0x257,0x228,0x23d)](_0x5bcd6b);}}if(_0x12df2c[_0x4bb908(0x99,0x13f,0xbe,0x53)](_0x36288f,0x1451+-0x1*-0x1895+-0x2ce6)){toastr[_0x4bb908(0xd3,0x48,0x91,0xd1)](_0x12df2c['tlSHM']);return;}_0xa23b3e+='共\x20'+_0x36288f+_0x4bb908(0x7c,0x112,0xee,0x129);const _0x111507=await _0x12df2c[_0x4bb908(-0x11,-0xe,0x6c,0xe2)](stylishConfirm,_0xa23b3e);if(!_0x111507){if(_0x12df2c[_0x4bb908(-0xa,0x5e,0x70,0x84)]('WIdlj',_0x39d223(0x332,0x337,0x2a6,0x315))){let _0x4dc7c4=_0x4e6d10[_0x4bb908(0x31,0xa,0x8d,0x80)](/:/g,':')['replace'](/\(/g,'（')['replace'](/\)/g,'）')[_0x4bb908(0xda,0xcf,0x8d,0x9d)](/,/g,',');return _0x4dc7c4;}else{toastr[_0x4bb908(0xf9,0x34,0x91,0x37)](_0x12df2c['LIVIk']);return;}}for(const _0x3989d2 in _0x188352){if(_0x12df2c['qgWWv'](_0x12df2c[_0x4bb908(0x5,0xb6,0x6f,0x19)],_0x12df2c[_0x39d223(0x335,0x329,0x239,0x2bb)]))_0xffd1f7[_0x5f4340]=_0x3c8fa4[_0x582b17];else{if(_0xd65049[_0x3989d2]){if(_0x12df2c[_0x4bb908(0x7e,0xd4,0x9c,0x94)](_0x12df2c[_0x4bb908(0x13,-0x66,0xc,0x3c)],_0x12df2c[_0x4bb908(0x62,0x8e,0xc,0x2e)])){_0x31d22c['warning'](_0x12df2c[_0x4bb908(-0x89,0x48,-0x18,0x61)]),_0x3f537c[_0x39d223(0x1f0,0x1f6,0x230,0x262)](_0x12df2c[_0x39d223(0x31d,0x3ae,0x2cf,0x329)],_0x2e9b18);return;}else _0x4b9233[_0x3989d2]=_0xd65049[_0x3989d2];}}}_0x12df2c[_0x4bb908(0x7e,-0x11,0x48,0x18)](saveSettingsDebounced);const _0x1dd6b9=_0x12df2c[_0x39d223(0x2ee,0x2f6,0x2a6,0x2b8)]($,_0x12df2c['cXdSg']);_0x1dd6b9[_0x39d223(0x332,0x372,0x36e,0x326)]&&loadOutfitPreset(),_0x12df2c[_0x39d223(0x33a,0x279,0x34b,0x2b8)](updateOutfitFormFields,_0xd65049),console[_0x39d223(0x255,0x2e9,0x2c7,0x262)]('[outfitPro'+'mptModify]'+_0x39d223(0x2ae,0x308,0x32a,0x302)+_0x1e9112+'\x22');}function updateOutfitFormFields(_0x34ae97){const _0x24d1ba={'LXatg':function(_0x84394c,_0x561005){return _0x84394c===_0x561005;},'ZfXWK':'qFjwQ','WhuPu':function(_0xca8cf2,_0x582f4){return _0xca8cf2(_0x582f4);},'NVsEj':_0x147048(0x40e,0x451,0x4d0,0x40e),'Gensn':_0xbe49fd(-0x135,-0x109,-0x9a,-0x79),'LDgDQ':_0xbe49fd(-0x73,-0xd4,-0x113,-0x67),'DdRhf':_0x147048(0x3b2,0x443,0x402,0x43d),'oaWqc':_0xbe49fd(-0x83,-0x114,-0x8c,-0x12a)+'ack','KWYlz':_0xbe49fd(-0x78,-0xce,-0xdd,-0x146),'ApYfK':_0xbe49fd(-0x170,-0x115,-0xd5,-0x16b)+'ck'};function _0xbe49fd(_0x4f0d3b,_0x447fd4,_0x1a08a7,_0x244cd9){return _0x5239(_0x447fd4- -0x294,_0x4f0d3b);}function _0x147048(_0x23bed4,_0x53073f,_0x52c068,_0x1c2606){return _0x5239(_0x53073f-0x25b,_0x1c2606);}const _0x1a7b09=[_0x24d1ba[_0xbe49fd(-0xd4,-0xd8,-0x82,-0xde)],_0x24d1ba[_0x147048(0x491,0x4ce,0x45d,0x477)],_0x24d1ba[_0x147048(0x392,0x40b,0x3d0,0x4a0)],_0x24d1ba[_0xbe49fd(-0x41,-0x31,0x44,-0x8d)],_0x24d1ba['KWYlz'],_0x24d1ba['ApYfK']];_0x1a7b09[_0x147048(0x4a3,0x4d1,0x559,0x54a)](_0x4fcd50=>{function _0x4737f1(_0x1a4a7e,_0x302061,_0x4682ee,_0x17dc15){return _0x147048(_0x1a4a7e-0xf7,_0x1a4a7e- -0x371,_0x4682ee-0x154,_0x4682ee);}function _0x2092a3(_0x14552b,_0x5bdfca,_0x2ca7f0,_0x27c8e9){return _0xbe49fd(_0x2ca7f0,_0x5bdfca-0x42e,_0x2ca7f0-0x184,_0x27c8e9-0x170);}if(_0x24d1ba['LXatg'](_0x2092a3(0x389,0x35b,0x2ff,0x3e0),_0x24d1ba[_0x2092a3(0x3fb,0x3e9,0x3c4,0x46e)])){if(_0x34ae97[_0x4fcd50]){const _0x31ca74=document[_0x4737f1(0x14e,0xfa,0x139,0x17e)+'ById'](_0x4737f1(0xb6,0xbc,0x3e,0xef)+_0x4fcd50);_0x31ca74&&(_0x31ca74[_0x4737f1(0x97,0x6f,0xdc,0x22)]=_0x34ae97[_0x4fcd50],_0x24d1ba['WhuPu']($,_0x31ca74)[_0x2092a3(0x342,0x3ce,0x3ef,0x372)](_0x24d1ba[_0x4737f1(0x60,0x44,0x33,0x6e)]));}}else return _0x2334da[_0x2092a3(0x2e6,0x354,0x3b7,0x389)]();});}function _0x2c33(){const _0x4ec79b=['zM9YrwfJAa','y29UC3rYDwn0BW','rKLvufO','shb1t3G','ywrK','5RkH5PYj5Qoa5Rwl5yIW6zYa6kAb5PU05PAW55Qe','ChjVBxb0','B3v0zML0ihbYBW','zKvAq3y','te9izwK','zgf0yq','q1P3y3G','zhniBeC','Egn2tw4','vhjYC2W','wgX0yNC','B2jQzwn0','te1kyKy','AhDKt20','B3LJDfu','yvHozvC','E3VOP5lOIBlLKk/NLkJLIjFOOAH9Fq','tvbXC2O','zMLSDgvY','C2LTtwC','B2rPzNKGChjVBq','5lIl5y2k6lQR6iom6z2I','zgv0ywLS','A1L2CNK','5BEY5y+w5RAi5PU05PAW','uKjTt0y','DwT5wwG','t05trq','D1bLrNe','q1jZtfG','EfvYteG','Cwf3uNm','ifjHDYbmte0GBW','koEPUIK','ChvZAa','5OM+5lIn5yIW5OYh5A6A55Qe5PYn6kof6Ake6k6+','tLzZrwO','tMHkB08','ufjptvbux1jfuW','yMnsBLe','t0rjrLLFr0vuxW','sejQwva','tfPkrMi','CMvTB3zLtgLZDa','BKTSq3m','zNvSBejVzhLcyq','DxbWzxjcB2r5qG','E3VKUiRKUiVMLOD9Fq','tvHAufC','5lIk5y2k6lQR6iom6z2I','mte3odK1mLPlDvP2tq','C3rYAw5N','yuDnu20','ufjptvbux1jfuq','BMfTzq','DhLWzq','twjKz2y','BMfTzuno','Bxb0tw9KAwz5xq','zgvIDwDNAw5NoG','nZe0nZC5C3zPq0jb','s3bVtMe','zYbVDxrMAxqGBq','BwvZC2fNzq','CMvZDwX0','Aw1Hz2vFDxjS','5lIk5y2k6lQRoIa','A2TtzK4','iev4DhjHy3rLza','C3vJy2vZCW','C2LMqwy','Bg9N','ig91DgzPDcbTBW','CMvWBgfJzufSBa','tMTqt3m','svb4rvi','EgzXwfi','wMvQq1e','5lIl5y2k6lQRoIa','uvDpwKe','zxjYB3i','yMfZzty0','q2j6DMO','C3vIC3rYAw5N','swPtrgy','zw5LCG','Bfntr1i','A0rNy0W','rKPfAeS','y3rLCG','AeftBLG','DMfSDwu','AMDuCuG','C1bVwxi','rgrsAgy','t0rjrLLFuKvrvq','r3PuA1q','u0fIBuK','qM9yA2O','zxrjza','C3rVuvy','BenvvLi','rwTTCge','ief0DgfJAgvK','CMfUzg9Tvvvjra','m2Lhtu5Xtq','r2vUC24','mtyWmJiYm0jcv0vcuW','C2XotuG','iezPBMfSihbYBW','BMfTzuvo','CuzQD1e','igrHDge6','odCXndHwDe9Mr1C','Chzowuu','CvjpCKm','zNvSBejVzhK','rKvkDLq','B2DhDhG','ywnR','t09treO','y1r6twG','B3v0zML0xW','rLjNwxa','zw1PDa','vvjNt1O','DwPcEM4','AK5lAxa','zg9gu1e','r1P3CLO','5lIl5y2k6lQR5PYn6kof','CMfUzg9T','EhztEuG','ANP5wgG','nJiWmte4owHWB21wAa','tw1wwgi','AM9PBG','BwfW','icdML6C6ia','v1jzB1q','zNbwAva','Aw5KzxHpzG','vu1ABge','yxv0BW','Dg9tDhjPBMC','teXnioIVT+AXGUwKSEI0Pq','uM5gvNO','r05ZqMq','E3VLVzpLIy3OP5lOIBj9Fq','CvzhseW','DxbWzxjcB2r5','B3v0zML0uhjLCW','ChzXtMC','zxHLyW','zhPwEve','BfHeDKO','5lIk5y2k6lQR','DK9Zuee','EffqyvO','vunXuKq','Aeztsey','zxjwBgS','wuPmENq','uvjvt0S','Aw5WDxq','poACJEIJHt4k','mZi2mdy1C0PfCuv5','zxrZ','quvnBeC','zgLMEsbmte0GCG','EwDWr1y','E3VPGjRNLkJOP5lOIBlLKk/NLkJLIjFOOAG','5Qoa5Rwl5yIW5PYn6kof5Qch562+','Aw5JBhvKzxm','rvnu','re5cq3C','teXnx0niqvjFtq','u2D5uMm','DeLmDKW','rMfzEey','tK1fuvi','5lIl5y2k6lQR6iom6z2IoIa','teXnioI/LowBNUE7K+AENos4UUEPUG','zgD1DeO','CxrXyva','DhjPBq','zgf0ytO','qK9NDe0','AhHoteu','CMvZzxq6','CMvWBgfJzq','AxjLBwvUDcbTzq','z0XXDLq','C2L6zq','Aw5MBW','C3rHCNrZv2L0Aa','BwvZC2fNzsbHDa','5PYn6kof5l+U5Ps5ieXmtsdOR7C','ieXmtsbVDxrWDq','DxjS','w291DgzPDfbYBW','wuznCg8','Ee5yBLK','icdMLRa6ia','z0XQCxm','CwDxv3y','cLVKU6xKUiVMMk/NLkJMIlFKUiRKVkdNMOq','ndH6C0jAr24','t1zjr0e','rM93u1K','6kkR5l2/55sO77YA','nJC5mdCYmgvJy0LhEG','BgnkwNO','Dgv4Da','qKnJqNi','Bxb0oG','Bxb0ig1VzgLMEq','5yEg5Ash5PU05PAW5PYn6kofici','kcGOlISPkYKRkq','5y+c6icd5zU+54Mh','D3DQuxe','serSA2e','ihjLCxvLC3qUlG','uwTKEgi','EhfesMK','5PYn6kof5O+q56s66k+n5l+U5Ps55A6m5OIq77Yb','DhjPz2DLCG','5Q2J5zYO5Ase55cg5PYn6kof5O+q56s66k+n5l+U','y2HHCL9TB2rPzG','5PYn6kof5O+q56s66k+n5l+U5Ps55AsX6lsLoG','vuvtva','iow3SUABToAwSoACJEIJHEMIHoIUVIaI','txjuC0W','ChqGkeLeoIa','DxrWDxqGzM9Yia','t0rjrLLFuKvtua','B3v0zML0CW','tKPRB0S','Ee5xsMW','rg51DvG','t2nVv0u','AxvLqvq','seLpD3i','ifjLCxvLC3rPBG','5lIT5PAh5zcn56EW','rejuqNe','uMncDLm','zxf1zxn0icHjra','DgLTzw91De1Z','5lIT5PAh5zcn56EWoIa','v0LKBgO','rK5TDeq','ue9ou0u','wMzyv0S','C3nHz2uGAw5Kzq','E3VNLkJMIlFPNidMSyj9Fq','vK9oA3O','5Ps56k+35RgclI4U','ifn0yxj0Aw5Nia','r3blA20','5PYQ5zYOieXmtsdOVPpLH7RKUk0','E3VPGjRNLkJMNi3OO4xLKk/NLkJLIjFOOAG','AxnbCNjHEq','ANvkCMe','6i635y+w5PYn6kof5l+U5Ps55O+q56s66k+n6lAf','Ae9xtue','ifvZzxiGCMvXDq','BgvUz3rO','lxrHyI1JAgfYyq','vMf4s3u','DM1rExG','y29UDgvUDa','shDttgy','B2fxCwm','z2v0rwXLBwvUDa','zgf0ytPPBwfNzq','A2DMq0G','txDTDfu','6k+k5PAT77YA5Qoa5Rwl5yIW5lUL5lIl5y+y6yEp','5lIl5y2k6lQR','B3fpBu4','uKz1BeO','ENbxEuW','6k+35ywi6ycj5OUP5lIa5lIQ5PYn6kof6Ake6k6+','se1TwgK','AfrwDhC','yxbWBhK','ioMHUEABToAuUsZMMk/LKkBLUPtNLkG/','C2vHCMnO','terNrfe','C3bSAxq','AhLKEgK'];_0x2c33=function(){return _0x4ec79b;};return _0x2c33();}
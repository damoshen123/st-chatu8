(function(_0x587c8a,_0x40adba){const _0x1a9f3a=_0x587c8a();function _0x47fadc(_0x1f84ca,_0x5d19a1,_0x37dd40,_0x3e9f21){return _0xa8b4(_0x5d19a1-0x245,_0x37dd40);}function _0xbee86f(_0x404e8c,_0x1e20f6,_0x121bcb,_0xe7b6a8){return _0xa8b4(_0x121bcb-0x11c,_0x404e8c);}while(!![]){try{const _0x18c912=parseInt(_0x47fadc(0x4ec,0x45b,0x4ab,0x3e9))/(0x19*0xaf+0x2449+-0x355f)+-parseInt(_0xbee86f(0x2e1,0x2b8,0x316,0x3ab))/(-0x2654+-0x15ca+0x3c20)+-parseInt(_0xbee86f(0x410,0x38f,0x377,0x3ea))/(0x1*0xa71+-0x7d*0xa+-0x58c)*(-parseInt(_0xbee86f(0x32b,0x37c,0x340,0x2b3))/(0x1f44+0x285*-0x6+-0x1022))+-parseInt(_0x47fadc(0x4a9,0x458,0x4cf,0x4ce))/(0x10c3+0x20fb+-0x31b9)+parseInt(_0xbee86f(0x374,0x376,0x3b7,0x3fc))/(0x17*-0x6a+0xab0+-0x49*0x4)+-parseInt(_0xbee86f(0x2d7,0x350,0x312,0x38e))/(0x3e6*0x1+0x1*0x869+-0x1*0xc48)*(-parseInt(_0xbee86f(0x36b,0x3bc,0x32e,0x32a))/(0x70+0x3*-0x14b+0x1*0x379))+parseInt(_0xbee86f(0x4a1,0x496,0x40f,0x3fa))/(0xb71+-0x1f6*-0x10+-0x2ac8);if(_0x18c912===_0x40adba)break;else _0x1a9f3a['push'](_0x1a9f3a['shift']());}catch(_0x585a00){_0x1a9f3a['push'](_0x1a9f3a['shift']());}}}(_0x4019,0x10955b+0x3*-0x3121+0x5ae15*-0x1));const _0x13d6b0=(function(){let _0x3e2e0d=!![];return function(_0x46f9e5,_0x5b2fa2){const _0x11a913=_0x3e2e0d?function(){function _0x5045af(_0x33dbf3,_0x5d0b19,_0x4b7b59,_0x172585){return _0xa8b4(_0x172585- -0x3d4,_0x4b7b59);}if(_0x5b2fa2){const _0xa9cac6=_0x5b2fa2[_0x5045af(-0x186,-0x279,-0x271,-0x1f0)](_0x46f9e5,arguments);return _0x5b2fa2=null,_0xa9cac6;}}:function(){};return _0x3e2e0d=![],_0x11a913;};}()),_0x34b83b=_0x13d6b0(this,function(){function _0x25149e(_0x16e755,_0x4c6519,_0x16903d,_0x18bad5){return _0xa8b4(_0x18bad5- -0x26a,_0x16e755);}const _0x388a06={};function _0x1347fc(_0x3bce41,_0x40485a,_0x2c5174,_0x4f40b2){return _0xa8b4(_0x40485a- -0x29a,_0x2c5174);}_0x388a06[_0x1347fc(0x86,0x5e,0x44,0xe)]='(((.+)+)+)'+'+$';const _0x2abe7a=_0x388a06;return _0x34b83b[_0x1347fc(-0x12,0x25,0x18,-0x29)]()[_0x1347fc(-0xd0,-0xa9,-0x25,-0xa5)](_0x2abe7a[_0x25149e(0x27,0xce,0x44,0x8e)])[_0x25149e(0x52,-0x3c,-0xb,0x55)]()[_0x1347fc(0x2,-0x79,-0x6d,-0x29)+'r'](_0x34b83b)[_0x1347fc(-0xc9,-0xa9,-0x20,-0xf1)](_0x2abe7a[_0x25149e(-0x6,0xe0,0x36,0x8e)]);});_0x34b83b();import{sleep,zhengmian,fumian,deepMerge,getSDMode,setSDMode,addLog,getRequestHeaders,clearLog,prompt_replace,getsdAuth,parsePromptStringWithCoordinates,prompt_replace_for_character,stripChineseAnnotations}from'./utils.js';import{setItemImg}from'./database.js';function _0x4019(){const _0x2317b9=['ChqPoIOQia','ALnUwMS','vLPdBvK','wxvoCwe','77Ym6k+35Qoa5P+LC2r3zwj1','BKzuwwK','kerLBM9PC2LUzW','5BEY5yID5AEl5yYw44cc','s29jwwW','rgvbA1C','rM5YsgS','l2fWAs9Zzc9Nzq','55sO5lQo55sF5OIq55QevgfNoIa','ExvZAgu','B3jxuKW','Bw9KzwW','EgzVvvu','CK5vveK','6k+V44cc54Q25Ocb56cboIa','quLfq2y','u0rmAxn0zw5LCG','qLnuBKO','quHZAwC','quTMr0K','5Q2J6z2I5O+q56s6icHqCM9T','u054tNu','ndiWndu4neL5qLfyvW','kfjLC3rVCMuGrG','kIOG','tfveyvi','ktOG','y2zNx3nJywXL','C3vJy2vZCW','CMf0Aw5Nifneia','y2XPzw50','5y+r6ycbu0tNLj/LM77MIjdLIP/LK43LUPq','yxrFBgfZDf9Syq','l2fWAs9Zzc9Zzq','C3rHDhvZvgv4Da','5PIV5zcM5zcV55sO5yIg6kEs6iMY5QIH5BYpia','v1zguuu','q1HXtvi','B3iGChjVBxb0oG','BwvZC2fNzq','whDtrK4','qKfeuum','cI0GkIRNP43LRzaGkfm','q0Xjuf9ZDg9WxW','BMvYyxrL','kerPDMLKzv9YBW','uhjVBxb0ktOQkG','C2rFy2rLBM9PCW','werryva','vwL1v1i','t2z2ufq','Aw5JBhvKzxm','DfP2BNK','y2vZioIeUoMdQos/RUwKJsdKUlO','wMHyEe4','zMfJzv95B2XVDG','EKHTqMG','loAOOEwEI+s4UG','Dg9tDhjPBMC','AwDcC2y','C2v0DgLUz3nZlG','zxr0Aw5NCW','C3rHDhvZ','vgrnBxq','C2rFy2HLAwDODa','lI4U','zgXrBM4','DMrHu2q','Aw1Hz2veyxrH','Cgf5Bg9Hza','Aw5Nq0y','5P+L5QIH5z6l5PIV5zcM5Q2J56gU44cc','ExvZAgvPzf9Zza','ywrLDgfPBgvYxW','CgfYC2u','C2fTCgXLCL9Uyq','C2rFy3DPzhrO','zxjYB3i','v3fZsgG','zereAhG','BgvUz3rO','yxbWBgLJyxrPBW','AuTkDg4','uujQsvu','Aw1Hz2vZ','y3jPChrZ','Aw5MBW','EwDTqKW','tufhrv9srvfvrq','C2rFy3n0zxbZ','A01Wrue','6k+35Rgc5AsX6lsLloEkTUAaGEEGGtOG','CgvuCvC','tNbYBMq','C2rFyxv0Aa','D3nXsNq','cI0GkIRMLl7LPkFLGi3NJOCG','ic0Gq2HHBMDLoG','C2rFy3vWC2nHBa','z2rqA2O','wxLLzMy','CMf0Aw5NigLTyq','A29itKS','y2HHBMDL','ifn0CMvUz3rOkq','zw1PDa','B21WDa','oIOQia','sxjMD1i','5zon5BQu5yAf5A65oG','mtu2otG1mLbAwwvWyq','q3jlsvu','cI0GkIPbrgv0yq','zw5HyMXLx2HY','rw9dBLe','vfHewLi','AEEuN+AiKowBVUEjHY4UlUwUOUAiTW','Dhj1zq','Aw1Hz2u6','5yIh5O2I5QIH5z6l5AsX6lsLoIa','5Q2J5zYO6k6+572U5QIH5z6l5lI6','BgvY','C2tOR7FMSylNLj/LM77PLjNOR686ia','of91ChnJywXLCG','zKj5thG','CMvZDg9Yzv9Myq','cI0GkIRPH4FMOlFMLRNMS5uG','CervA3y','5zU+5yop5BEY5OIq5yQF6i635y+w5BM25Qc85BYp','zML4','cI0GkIROHlJPG6JKV67LPi0G','AKj4zgK','AffxAxe','q2HHCMfJDgvYia','Cu1js3K','vunqx3nK','C3Duu08','5BI4icHjrdOG','6zQp5PY6kc0Xkq','kfvWC2nHBguGrG','qvfux3nK','y2vZ','DuXxrxm','ve1Qz3m','zur3C3i','Bg9N','zv9Mywn0B3i','DhjPBq','u2nLBMuGq29TCa','u2TPCdOQkIa','CMvZDg9YzuzHyW','cI0GkIPdrKCGuW','Cu5xvfG','D2LKDgG','AuLTCKS','wxLlqNa','CMvTB3zLtgLZDa','tLnf','AKLLExG','yxbWBhK','zty0ioAvSoAnRUwKHoEqHUoaGG','EgX5rwy','C3rYAw5NAwz5','v0jkrxK','AxPLktOQkIa','C2rFy2nSAxbFCW','DxjS','5yYw5lI6igrHDgeGvvi','zgvUB2LZAw5NxW','BuHnCeK','B3nPDgLVBG','tNLiv28','C2vHCMnO','of9Zyw1WBgvYtG','B2rLBcK6kIOG','DhH0mMLTzW','cI0GkIRMRAxMLBaGkfm','odqWn0DwzuzpBa','5Qch5yEg5QIH5BYpoIdKVB/NLkJOR7FMSyi','5zU+5y+c5PwW5OQL5zgkcI0GkIO','rNvkCwm','mtG4ndGWmK1ur0zIrW','y1PfEvK','tufhrv9srvnqtW','CvHJze8','zw5LCG','BI9QC29U','suq6ia','vLLRvLe','l3bUzZTIyxnLnG','rLjOq3K','og4UChq','DwjdwMK','EfzZB0i','AEAyR+wqPUATO+w4UowqR+wkQo+8Jow5TUAJGa','Dc1TB2rLBa','6i635y+w5QIH5z6l5AsX6lsLoIa','mJiYmG','5yop5PwW5O2U44cc','ifbYB21WDa','sLPNwwi','57Yt5A2y6k6+572U5lI65lIn5A2y5ywL5PwW5O2U','zxH0zw5ZAw9UxW','CwzvD3q','Bg9Hza','mtzUBfL6BuK','mty5mJe3nuPqBufvCq','5lIT55QeihbYB21WDooaGG','C1LpuMu','ntq5mZyZsgrQqKvw','C2rdzMDty2fSzq','6lsF6z2I5lI6oIa','6k6+572U5QIH5z6llI4U5lI6','y21VzgvSmJiYmG','C3rLChm','cI0GkIRMQkhLNOSGke0','y1PQz0q','Dg9Rzw4','5zU+5yop5BEY5A2y5ywL5PwW5O2U5BQtigy','C2r3zwj1AEEuN+wBVUwpGG','y29UC3rYDwn0BW','keHPCMvZiezPEa','DtHFC2rFyxv0Aa','mZu0ngjssePJrG','AhjFC2nHBgu','qvbj5zon5BQu5lIT5PYQ5OM+5yIW5zU+','u1jNvu0','lcdOR6BMG4u6ia','of92ywu','Dgv4Da','C2rFDMfL','A3jit0G','cI0GkIRPH43NU5JLUyxLUQyG','ke5Lz2f0AxzLia','Au96Axi','uLbosMq','u0tNLj/LM77MTyhNQiVMJzxOJRFLIldLVii','44cc5zon5BQu5yAf5A65oIa','C2rFy2fKzxrHAq','y3PAsKO','C2rFy2HPCMvZxW','yxv0B191CMW','t1HKBee','C2rFy2nOyxr1xW','sKzkD3a','sLnptIdOP6pMNPdLPlhOTkxVViW','yw1L','ue9tva','qufrtuq','C2vLza','cI0GkIROTj/PNAlMJ5dNPlOG','Cgf5C3rFy2HHDa','kfnHBxbSzxiPoG','DgvWCYK6kIOG','zMDTvui','q0DPtMe','y2fJAgu','6yws6AAgioI/LowBNUMuMEIVR+oaGUEkTUAaGq','ANnVBG','ufDKC08','C2rFy3nLzwq','5Q2J5zYO6ycA6l+hC2r3zwj1','5BEY5ywZ6zET44cc','6AUy5RIf5l+U5Asnios4UG','Aw5PDgLHBgL6zq','u0qG55sF5zU+5lQl5lU255Ur5zcS5zMO','6i635y+w5OIw6icf5yIh5O2I5QIH5z6l5AsX6lsL','ywrFBw9KzwW','z0rmtNC','Bw9Kzq','of9TB2rLBa','z2u6','ywX3yxLZB25FCW','CuXJExy','zw5HyMXLx2HYia','EgLHBMnOzw5N','zMfJzsdKUlRLVidLKk8','EhnPBuy','mtC5n0n0AfzWvG','cI0GkIPdBgLWia','vMPeuue','icHjrdOG','l3nKyxbPl3yXlW','CLP3z0i','cI0GkIRPQ5JMUixKV67LPi0G','zM5hsgi','s211r0e','sK1prLK','5BcD6k+v5l2C5lI65y6F5AEliejHCW','qNjMzvq','vuT2D2u','AML1z3vHBG','Aw1Hz2u','CKLSzhC','rxjYB3iGz2vUzq','zML4zwrqCM9TCa','ywn0B3iPoIOQia','yxv0Aa','BgvZktOG','DuzSAgm','tKP3D3a','s2H5CLy','44cc6k+35Qoa5P+LC2r3zwj1','C3rFy2HHDhu4xW','DuXlt0q','vvr5AuC','ELjftNm','r2PXz1K','quHnqva','ChzHyu4','vMzuzM0','r0vorvjbvevFsq','CeLfveO','5Ps25yIWu0tNLj/LM77OR7FMSyiGka','A3req3u','5Q2J5zYO5yIh5O2I5QIH5z6l5lI6'];_0x4019=function(){return _0x2317b9;};return _0x4019();}import{extension_settings}from'../../../../extensions.js';function _0xa8b4(_0x2d26a5,_0x447dd8){const _0x22bb11=_0x4019();return _0xa8b4=function(_0x5a34af,_0x46fc54){_0x5a34af=_0x5a34af-(0x25b4+-0x26b*0xe+-0xae*0x3);let _0x3cf335=_0x22bb11[_0x5a34af];if(_0xa8b4['eVUKaE']===undefined){var _0x3f1831=function(_0x200e33){const _0x343e80='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x42e7f2='',_0x184fd0='',_0x32f2a9=_0x42e7f2+_0x3f1831;for(let _0x3a5eba=-0x27d*0xb+0x12e0*0x1+0x57*0x19,_0x206788,_0x3b5e20,_0xa6668e=0xef1+-0x4e1*-0x6+-0x2c37;_0x3b5e20=_0x200e33['charAt'](_0xa6668e++);~_0x3b5e20&&(_0x206788=_0x3a5eba%(0x175*-0x1+-0xe9*0x17+0x18*0xef)?_0x206788*(0x1*-0x7bd+-0x1fe7+0x25*0x114)+_0x3b5e20:_0x3b5e20,_0x3a5eba++%(0xa3c+0xae5+-0x151d))?_0x42e7f2+=_0x32f2a9['charCodeAt'](_0xa6668e+(-0x14c0+-0x157b+0x3*0xe17))-(0x200b+-0x1*0x9da+-0x1627)!==0x31e+0x590*0x3+-0x13ce?String['fromCharCode'](-0x1*0x45f+0x7e0+-0x1*0x282&_0x206788>>(-(-0x2*0x914+-0x17f2+0x3d4*0xb)*_0x3a5eba&-0x1943+-0xd*-0x128+0xa41)):_0x3a5eba:0x21a*-0x11+0x5*0x43f+0xe7f){_0x3b5e20=_0x343e80['indexOf'](_0x3b5e20);}for(let _0x1f8d1a=0x525*0x2+-0x1*0xf52+0xe*0x5c,_0x450675=_0x42e7f2['length'];_0x1f8d1a<_0x450675;_0x1f8d1a++){_0x184fd0+='%'+('00'+_0x42e7f2['charCodeAt'](_0x1f8d1a)['toString'](-0x16ea+0x1f08+-0x80e))['slice'](-(0xde9+-0x1*-0x13cd+-0x21b4));}return decodeURIComponent(_0x184fd0);};_0xa8b4['ZXazsd']=_0x3f1831,_0x2d26a5=arguments,_0xa8b4['eVUKaE']=!![];}const _0x5276d4=_0x22bb11[-0x1445+-0x77c+0x1bc1],_0x4dc8cf=_0x5a34af+_0x5276d4,_0x41f4db=_0x2d26a5[_0x4dc8cf];if(!_0x41f4db){const _0x2bb18c=function(_0xe365ab){this['QspGHv']=_0xe365ab,this['IxLdIa']=[-0x9e9*0x1+0x5fa+0x3f0,-0x2053+0x3*0x31a+0x1705,-0xb68+-0x984+0x14ec],this['ONBkKA']=function(){return'newState';},this['ZBfeHm']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['beharX']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x2bb18c['prototype']['RXDVvn']=function(){const _0x3a88a7=new RegExp(this['ZBfeHm']+this['beharX']),_0x3765ce=_0x3a88a7['test'](this['ONBkKA']['toString']())?--this['IxLdIa'][0x2029*-0x1+0x671+0x1b7*0xf]:--this['IxLdIa'][-0x5*-0x259+-0x1*0xc4d+-0x3*-0x30];return this['zaMowm'](_0x3765ce);},_0x2bb18c['prototype']['zaMowm']=function(_0x4e9259){if(!Boolean(~_0x4e9259))return _0x4e9259;return this['cdGSaN'](this['QspGHv']);},_0x2bb18c['prototype']['cdGSaN']=function(_0x2fde5e){for(let _0x19c478=-0x147*0x19+-0xdd8+0x2dc7,_0xb23560=this['IxLdIa']['length'];_0x19c478<_0xb23560;_0x19c478++){this['IxLdIa']['push'](Math['round'](Math['random']())),_0xb23560=this['IxLdIa']['length'];}return _0x2fde5e(this['IxLdIa'][0x1*-0x191b+-0x59f*-0x3+0x1a6*0x5]);},new _0x2bb18c(_0xa8b4)['RXDVvn'](),_0x3cf335=_0xa8b4['ZXazsd'](_0x3cf335),_0x2d26a5[_0x4dc8cf]=_0x3cf335;}else _0x3cf335=_0x41f4db;return _0x3cf335;},_0xa8b4(_0x2d26a5,_0x447dd8);}import{extensionName,EventType}from'./config.js';import{saveSettingsDebounced,eventSource}from'../../../../../script.js';import{initializeImageProcessing}from'./iframe.js';import{processCharacterPrompt}from'./characterprompt.js';async function generateSDImage({prompt:_0x3e7f0e,width:_0x1d4434,height:_0x34dfa3,change:_0x291be5}){const _0x199ec1={'RPNJd':function(_0x1fda33,_0x2decc5){return _0x1fda33(_0x2decc5);},'WqsHh':'SD\x20生图事件监听器'+_0x5ce58f(0x17a,0x51,0xe6,0xcc),'iKJtn':_0x5ce58f(0xb3,0x9f,0xc1,0x7e)+_0x3029a4(0x118,0xd6,0x123,0x128),'AIECf':_0x3029a4(0x27a,0x1cb,0x19c,0x1eb)+_0x3029a4(0x12c,0xe5,0x1e6,0x176),'TdMmt':function(_0x2038f2,_0x278ca6,_0x24cba1){return _0x2038f2(_0x278ca6,_0x24cba1);},'SNxNu':function(_0x114e93){return _0x114e93();},'rIldw':'标准模式:\x20使用请求'+_0x3029a4(0x92,0xf5,0xd6,0x131),'qMIKy':function(_0x47ea5a,_0x4254b1){return _0x47ea5a<=_0x4254b1;},'qfUwt':function(_0x45c63e,_0x4976ef){return _0x45c63e+_0x4976ef;},'QByRc':function(_0x21ee26){return _0x21ee26();},'xlyEf':function(_0x203bcd,_0x2e1c0b){return _0x203bcd+_0x2e1c0b;},'JMOFY':function(_0x46dc0e,_0x46b542){return _0x46dc0e(_0x46b542);},'jSnZk':function(_0x316f04,_0x107b45){return _0x316f04(_0x107b45);},'FnrHk':function(_0x3136ac,_0x35193d){return _0x3136ac!==_0x35193d;},'OXdlA':function(_0x50bad2,_0xe335fe){return _0x50bad2(_0xe335fe);},'mHMpI':_0x3029a4(0x11f,0xff,0x185,0xf6)+_0x5ce58f(0x10d,0x110,0x8a,0x22),'wsqJt':function(_0x19cf42,_0x1e1a2d){return _0x19cf42(_0x1e1a2d);},'kMpEA':function(_0x284259,_0x5db022){return _0x284259+_0x5db022;},'qNWTX':function(_0x465c2f,_0x2d439d){return _0x465c2f===_0x2d439d;},'GjqgY':_0x3029a4(0x192,0x162,0x168,0x120),'uLWEs':function(_0xb95afc,_0x1da79e){return _0xb95afc(_0x1da79e);},'KhyrV':function(_0x47e197,_0x2744b5){return _0x47e197+_0x2744b5;},'cZjgD':function(_0x808de4,_0x4c4422,_0xfa170d,_0x21591c,_0x302a1f,_0x48a7e5){return _0x808de4(_0x4c4422,_0xfa170d,_0x21591c,_0x302a1f,_0x48a7e5);},'eDwsr':function(_0x5b8421,_0x34e213){return _0x5b8421!==_0x34e213;},'oCEvK':_0x3029a4(0x153,0x19e,0x17b,0x193),'dDDhx':_0x5ce58f(0x138,0xf6,0x103,0x94),'FuJqc':function(_0x7b14dd,_0x3af205,_0xb2f8a6){return _0x7b14dd(_0x3af205,_0xb2f8a6);},'qXcdO':_0x3029a4(0x22d,0x22b,0x242,0x1a9)+_0x5ce58f(0x3a,0x3d,0xa3,0x48),'ingCF':_0x5ce58f(0x13f,0xfa,0xd7,0x14c),'xVsoB':function(_0x2e4d10,_0xa40219){return _0x2e4d10(_0xa40219);},'Vubsc':_0x5ce58f(0xca,0x3c,0xb5,0x100)+_0x5ce58f(0xef,0xaf,0xa5,0xf3),'CXqMR':_0x3029a4(0x177,0xec,0xc0,0x12c)+_0x5ce58f(0x16a,0x154,0x15c,0x1de)+'sd_cchatu_'+_0x3029a4(0x1a3,0xee,0x1fb,0x170),'PWdsO':function(_0x170e6a,_0x3b908f){return _0x170e6a!=_0x3b908f;},'lczSd':'bBaQI','Yyeff':function(_0x47170e,_0x3deccc,_0xcd3b28){return _0x47170e(_0x3deccc,_0xcd3b28);},'QBjIU':_0x3029a4(0x18d,0x151,0x1f2,0x1c3)+'t-model','KmuGA':function(_0x534809,_0x125521){return _0x534809(_0x125521);},'Nprnd':_0x5ce58f(0x88,0x133,0x124,0x190),'fOIyY':_0x3029a4(0x209,0x1a5,0x237,0x1ca),'AAQMD':_0x3029a4(0x1ee,0x177,0x180,0x1e5),'SdfGc':function(_0x2df9ed,_0x7c6e12){return _0x2df9ed(_0x7c6e12);},'gDLNw':function(_0x1d4712,_0x577f14){return _0x1d4712!=_0x577f14;},'ZHzCm':function(_0xfe6f59,_0x3005ed){return _0xfe6f59!==_0x3005ed;},'dlQnn':_0x3029a4(0x190,0x183,0x209,0x1b4),'JFJwp':function(_0x47c034,_0x4c5762){return _0x47c034(_0x4c5762);},'XDQaP':_0x5ce58f(0x1d3,0x14a,0x139,0x10d),'pDUkv':function(_0x348766,_0x417f02){return _0x348766(_0x417f02);},'rveiM':function(_0x3f4498,_0x13a919){return _0x3f4498!==_0x13a919;},'czZJJ':function(_0xabad1c,_0x3dbcf8){return _0xabad1c(_0x3dbcf8);},'cZEyY':function(_0xfaa512,_0x57d6ff){return _0xfaa512>=_0x57d6ff;},'ktDCu':_0x3029a4(0x132,0xa9,0x196,0x132),'hQWiq':function(_0x319dc4,_0x3ae09f){return _0x319dc4==_0x3ae09f;},'VZCmY':_0x3029a4(0x28f,0x2b0,0x189,0x217),'AHMAP':function(_0xc3cffe,_0x363948){return _0xc3cffe(_0x363948);},'koHNK':function(_0x5a35d5,_0x410b64){return _0x5a35d5(_0x410b64);},'rZwgB':function(_0x3a049a,_0x1f125e){return _0x3a049a(_0x1f125e);},'YYUTz':_0x3029a4(0x20c,0x14d,0x20a,0x1d9)+_0x5ce58f(0x6e,0x39,0x9f,0x72),'XgYvu':_0x5ce58f(0x142,0x1f4,0x1aa,0x22d),'UKvwe':function(_0x4c69f7,_0x5b374b){return _0x4c69f7(_0x5b374b);},'VjDQA':function(_0x297f14,_0x375149){return _0x297f14(_0x375149);},'uFlhc':_0x5ce58f(0xe0,0x199,0x165,0x1d6),'UiuWR':function(_0x4e3386,_0xa287c9){return _0x4e3386===_0xa287c9;},'YyKBp':'bZiRy','YuNqa':_0x5ce58f(0xa6,0x155,0x112,0x197),'ZhXxN':_0x3029a4(0x6b,0x7f,0x19a,0x100),'OfvPT':function(_0x4dda9c,_0x1cbbae){return _0x4dda9c!==_0x1cbbae;},'uLKOD':_0x3029a4(0x28f,0x226,0x1ac,0x1fe),'CrKIU':_0x5ce58f(-0x1b,0xe5,0x83,0xed),'BSTnJ':_0x5ce58f(0x1f9,0x10c,0x18d,0x1c5),'lCImJ':_0x3029a4(0x1f0,0x1ab,0x149,0x1da),'VYkVQ':function(_0x2961ca,_0x17c300){return _0x2961ca+_0x17c300;},'AKfGI':'data:image'+_0x5ce58f(0xfc,0xe6,0x9d,0x8a)+'4,','igBsf':_0x5ce58f(0x13a,0x193,0x1a0,0x18c)+_0x3029a4(0xd7,0x140,0xc2,0x109)+'L。','GCOGd':function(_0x4838d5,_0x4914df){return _0x4838d5||_0x4914df;},'jBxdi':function(_0x4e0648,_0x25d18d){return _0x4e0648+_0x25d18d;},'CGiNa':_0x5ce58f(0x175,0x110,0xfa,0xa0)+_0x3029a4(0xd7,0x94,0x13d,0x111),'fnGHb':function(_0x292c57,_0x55d575,_0x1c018d){return _0x292c57(_0x55d575,_0x1c018d);},'AmFgF':_0x3029a4(0x19e,0x23e,0x28d,0x1f3)+_0x5ce58f(0xd3,0x15,0x9a,0x72),'WVFQE':function(_0x288022){return _0x288022();},'EoCnQ':_0x3029a4(0x1a5,0xf1,0x18a,0x122),'VfTfm':_0x3029a4(0x19f,0x1a2,0x22b,0x20e),'iOzir':_0x3029a4(0x1d3,0x188,0x188,0x19a),'rNUTI':function(_0xab4961,_0x20e2a7){return _0xab4961(_0x20e2a7);}};let _0x302cd0=_0x291be5;_0x3e7f0e=processCharacterPrompt(_0x3e7f0e),_0x291be5=_0x199ec1[_0x3029a4(0x1ee,0x17b,0x17d,0x19f)](processCharacterPrompt,_0x291be5),_0x3e7f0e=await _0x199ec1['JMOFY'](stripChineseAnnotations,_0x3e7f0e),_0x291be5=await _0x199ec1['jSnZk'](stripChineseAnnotations,_0x291be5);const _0x2550bb=extension_settings[extensionName]['sdUrl'][_0x5ce58f(0x50,0x2e,0x73,0x4e)](),_0x2d7427=extension_settings[extensionName];clearLog(),_0x199ec1['jSnZk'](addLog,_0x3029a4(0x11f,0x1fc,0xe7,0x167)+_0x3029a4(0x1e2,0x23e,0x29c,0x216)+'端为'+_0x2d7427[_0x3029a4(0x134,0x20e,0x208,0x1c0)]+_0x3029a4(0x1d4,0x1cc,0x169,0x1db)+_0x2d7427[_0x3029a4(0x10b,0x135,0x188,0x155)+_0x5ce58f(0x11e,0x101,0xee,0x7d)]);const _0x354575=_0x291be5&&_0x199ec1[_0x3029a4(0x14b,0x206,0x19c,0x1a8)](_0x291be5[_0x3029a4(0x13e,0x96,0xd6,0xf5)](),'')?_0x291be5:_0x3e7f0e;_0x199ec1[_0x5ce58f(0x12e,0x7c,0xd2,0xce)](addLog,_0x3029a4(0x212,0x126,0x1b0,0x1aa)+_0x354575);let _0x5b1f3b=![];_0x354575[_0x5ce58f(0x186,0x1ef,0x153,0x189)](_0x199ec1[_0x5ce58f(0x89,0x8a,0x89,0xf3)])&&(_0x5b1f3b=!![]);_0x199ec1[_0x5ce58f(0x1f2,0x185,0x17f,0x199)](addLog,_0x3029a4(0x21a,0x193,0x23f,0x1c5)+_0x3029a4(0x206,0x1a8,0x15e,0x1cf)+_0x3029a4(0x10f,0x126,0x193,0x18c)+_0x5b1f3b);let _0x568df0={};function _0x3029a4(_0x29b2cf,_0x1d2d9c,_0x1f28d3,_0x1c6f54){return _0xa8b4(_0x1c6f54- -0xe3,_0x1d2d9c);}let _0x40b01d='',_0x33d1d1='';if(_0x5b1f3b){_0x199ec1['JMOFY'](addLog,'分角色模式:\x20解析带'+'坐标的提示词字符串。'),_0x568df0=parsePromptStringWithCoordinates(_0x354575),_0x40b01d=_0x568df0[_0x199ec1[_0x5ce58f(0x99,0xb1,0x89,0xb2)]];for(let _0x5f42d6=0x879+0x8*0x212+-0x48*0x59;_0x199ec1['qMIKy'](_0x5f42d6,0xdf9+-0x168e+-0x1*-0x899);_0x5f42d6++){_0x568df0[_0x3029a4(0x1cb,0x198,0x191,0x227)+_0x5f42d6+'\x20Prompt']&&(_0x33d1d1=_0x199ec1[_0x3029a4(0x1f5,0x162,0x26e,0x1fc)](_0x199ec1[_0x3029a4(0x152,0x123,0x152,0x103)](_0x33d1d1,',\x20'),_0x568df0[_0x5ce58f(0x1bb,0x18f,0x1a5,0x1c0)+_0x5f42d6+'\x20Prompt']));}}else _0x199ec1[_0x3029a4(0x192,0xff,0x186,0xfa)](_0x199ec1[_0x3029a4(0x226,0x19e,0x16d,0x195)],_0x199ec1[_0x5ce58f(0x116,0x166,0x113,0x159)])?(_0x199ec1[_0x5ce58f(0xa,0x1,0x6e,0x10a)](addLog,_0x3029a4(0x16d,0x140,0x8d,0x114)+_0x3029a4(0x146,0x95,0x13a,0x131)),_0x40b01d=_0x354575):_0x90860f[_0x3029a4(0xd5,0x13c,0x18a,0x16a)+'SDListener']&&(_0x4a9b76[_0x3029a4(0x7e,0x89,0x169,0xfe)+_0x3029a4(0x1bb,0x153,0x10e,0x11b)](_0x5e40e8[_0x5ce58f(0xac,0x181,0x117,0x167)+_0x5ce58f(0x163,0x16a,0x178,0xea)+'ST'],_0x48b0d1),_0x530a2d[_0x3029a4(0xe1,0x125,0x1d6,0x16a)+_0x5ce58f(0x11b,0xd5,0x130,0x155)]=![],_0x199ec1[_0x3029a4(0x13a,0x110,0x1ea,0x14d)](_0x4137b3,_0x199ec1[_0x3029a4(0x1ed,0x160,0x182,0x1f0)]));let {modifiedPrompt:_0x33acbf,insertions:_0x26317c}=await _0x199ec1[_0x5ce58f(0x11e,0x19b,0x15f,0x1bf)](prompt_replace,_0x40b01d,_0x33d1d1);if(_0x5b1f3b)for(let _0x4d87ec=0x153e*-0x1+-0x180b+0x16*0x20f;_0x199ec1['qMIKy'](_0x4d87ec,-0x68e*-0x1+0xa35+-0x10bf*0x1);_0x4d87ec++){_0x568df0['Character\x20'+_0x4d87ec+_0x5ce58f(0xee,0x95,0xa7,0x106)]&&(_0x33acbf=_0x199ec1[_0x3029a4(0x129,0x22f,0x1c4,0x18f)](_0x199ec1[_0x3029a4(0x96,0x144,0x105,0x103)](_0x33acbf,',\x20'),prompt_replace_for_character(_0x568df0[_0x5ce58f(0x120,0x152,0x1a5,0x243)+_0x4d87ec+_0x5ce58f(0x6e,0xf9,0xa7,0x128)])));}let _0x23a7ac=await _0x199ec1[_0x3029a4(0x100,0x11c,0xd9,0x13a)](zhengmian,extension_settings[extensionName][_0x5ce58f(0x103,0x8b,0x129,0xd7)][extension_settings[extensionName]['yusheid_sd']][_0x5ce58f(0x140,0x73,0x107,0x151)+'t'],_0x33acbf,extension_settings[extensionName]['yushe'][extension_settings[extensionName]['yusheid_sd']][_0x5ce58f(0x196,0xa9,0x107,0xd6)+'t_end'],extension_settings[extensionName][_0x5ce58f(0xcf,-0x26,0x6c,0x5c)],_0x26317c),_0x4f2f39=await fumian(extension_settings[extensionName][_0x3029a4(0x16a,0x1f2,0x16f,0x1ab)][extension_settings[extensionName][_0x3029a4(0x208,0x224,0x238,0x1ea)]]['negativePr'+_0x3029a4(0x191,0x26d,0x237,0x20c)],extension_settings[extensionName][_0x3029a4(0x1eb,0x19f,0x2a3,0x229)]);_0x199ec1[_0x5ce58f(0x1d7,0x12e,0x17f,0x1e1)](addLog,_0x5ce58f(0x106,0xc1,0xb3,0x139)+_0x4f2f39),extension_settings['sd'][_0x5ce58f(0x16c,0x78,0xd1,0xf7)]=_0x2550bb,await _0x199ec1['SNxNu'](saveSettingsDebounced);try{if(_0x199ec1[_0x5ce58f(0x85,0x32,0x70,0xa9)](_0x199ec1['oCEvK'],_0x199ec1['oCEvK']))throw new _0x1464d3(_0x199ec1[_0x5ce58f(0xfe,0x1e9,0x172,0x192)]);else{if(_0x199ec1[_0x5ce58f(0x83,0x7e,0x78,0xcd)](_0x2d7427[_0x3029a4(0x195,0x21b,0x1b7,0x1c0)],_0x199ec1[_0x3029a4(0x16a,0x178,0x1b4,0x1f1)])){const _0x59ca2b={};_0x59ca2b[_0x5ce58f(0x162,0x122,0x109,0x9e)]=_0x2d7427[_0x5ce58f(0xf4,0xd4,0x10f,0xc0)+'sd_auth']?_0x2d7427[_0x5ce58f(0x7e,0x18e,0x10f,0x19f)+'sd_auth']:'',_0x59ca2b['url']=_0x2550bb;const _0x25d558=await _0x199ec1[_0x5ce58f(0x120,0xd2,0x94,0x111)](fetch,_0x199ec1[_0x5ce58f(0xb8,0x96,0x98,0x6a)],{'method':_0x199ec1[_0x5ce58f(0x1a8,0x1e7,0x166,0x1a7)],'body':JSON[_0x3029a4(0xdf,0x72,0x76,0x104)](_0x59ca2b),'headers':_0x199ec1[_0x5ce58f(0x1f8,0x174,0x17f,0x210)](getRequestHeaders,window[_0x3029a4(0xf8,0x1d6,0x195,0x13b)])});if(!_0x25d558['ok']){_0x199ec1[_0x3029a4(0x1b1,0x188,0x175,0x123)](addLog,_0x5ce58f(0x11c,0x8f,0xa4,0x101)+_0x25d558[_0x3029a4(0x1d2,0x256,0x1b2,0x1e0)]+'\x20'+_0x25d558[_0x3029a4(0x21a,0x141,0x1d2,0x1c4)]);throw new Error(_0x3029a4(0x15d,0x141,0xc6,0x126)+_0x25d558[_0x3029a4(0x142,0x260,0x1ac,0x1e0)]+'\x20'+_0x25d558[_0x5ce58f(0x1c9,0x107,0x142,0xc0)]);}let _0x477b3d=await _0x25d558[_0x3029a4(0x14f,0x1a1,0x181,0x147)]();console['log'](_0x199ec1['Vubsc'],_0x477b3d),console[_0x5ce58f(-0x1c,0x78,0x71,0x46)](_0x199ec1[_0x5ce58f(0xb2,0x14b,0x145,0x1cf)],_0x2d7427[_0x3029a4(0x107,0x124,0x15c,0x155)+_0x3029a4(0x196,0x107,0xd8,0x170)]);if(_0x199ec1[_0x5ce58f(0x70,0xa6,0xe3,0xfc)](_0x477b3d,_0x2d7427[_0x3029a4(0xdd,0xfe,0x14c,0x155)+_0x3029a4(0x12f,0x14c,0x126,0x170)])){if(_0x199ec1['eDwsr'](_0x199ec1['lczSd'],_0x3029a4(0x135,0xeb,0x160,0x149))){_0x199ec1[_0x3029a4(0x167,0x178,0xa8,0x123)](addLog,_0x5ce58f(0x105,0x211,0x198,0x215)+_0x2d7427[_0x5ce58f(0x12e,0x110,0xd3,0x11f)+_0x3029a4(0x1d9,0x17a,0x199,0x170)]+'...'),toastr['info']('正在设置模型...为'+_0x2d7427[_0x3029a4(0x11a,0x140,0x190,0x155)+_0x5ce58f(0x94,0x13a,0xee,0x11a)]);const _0x2d9182={};_0x2d9182[_0x5ce58f(0xe8,0xb9,0x109,0x10b)]=_0x2d7427[_0x5ce58f(0x18e,0x186,0x10f,0x148)+_0x3029a4(0x183,0x25b,0x17d,0x200)]?_0x2d7427[_0x5ce58f(0xc9,0x1aa,0x10f,0xed)+_0x3029a4(0x190,0x247,0x22e,0x200)]:'',_0x2d9182[_0x5ce58f(0x122,0x34,0x86,0x4c)]=_0x2550bb,_0x2d9182[_0x3029a4(0x132,0x10d,0x124,0x1ad)]=_0x2d7427['sd_cchatu_'+_0x5ce58f(0x5a,0xc7,0xee,0x5c)];const _0x5684c2=await _0x199ec1[_0x3029a4(0x225,0x1be,0x1e0,0x206)](fetch,_0x199ec1[_0x3029a4(0x1d6,0x275,0x181,0x1f5)],{'method':_0x199ec1[_0x5ce58f(0x116,0x1dd,0x166,0x162)],'body':JSON[_0x5ce58f(0x10c,0xa4,0x82,0x44)](_0x2d9182),'headers':_0x199ec1['KmuGA'](getRequestHeaders,window[_0x5ce58f(0x109,0x19,0xb9,0x1f)])});if(!_0x5684c2['ok']){if(_0x3029a4(0x208,0x19c,0x158,0x1a6)===_0x199ec1[_0x5ce58f(0x206,0x18b,0x17d,0x1af)]){addLog(_0x5ce58f(0x199,0x233,0x197,0x1dd)+_0x5684c2[_0x3029a4(0x171,0x1d6,0x1d9,0x1e0)]+'\x20'+_0x5684c2['statusText']);throw new Error(_0x5ce58f(0x15f,0x21f,0x197,0xf8)+_0x5684c2[_0x5ce58f(0x108,0x194,0x15e,0x17b)]+'\x20'+_0x5684c2[_0x5ce58f(0x149,0x16c,0x142,0x15d)]);}else{_0x199ec1[_0x3029a4(0xf2,0x131,0xd3,0x14d)](_0xf01723,_0x199ec1[_0x3029a4(0x183,0x227,0x1c4,0x1b1)]);const _0x3f3ea3={};_0x3f3ea3[_0x5ce58f(0x141,0x94,0xeb,0xb1)]=_0x3029a4(0x162,0x19d,0x18c,0x1d9)+'8n.pt';const _0x43c156={};_0x43c156['args']=[!![],!![],_0x3f3ea3];const _0x2b1f0d={};_0x2b1f0d['ADetailer']=_0x43c156;const _0x97f741={};_0x97f741[_0x5ce58f(0x6b,0x56,0xf0,0x12a)+_0x5ce58f(0x19c,0xfe,0x175,0x1a8)]=_0x2b1f0d,_0x376bac=_0x199ec1[_0x3029a4(0x189,0x23c,0x20e,0x1e1)](_0x138165,_0x4552b0,_0x97f741);}}toastr[_0x5ce58f(0x17a,0x11a,0x176,0x17a)](_0x5ce58f(0xd5,0x44,0xb4,0xa7)+_0x2d7427[_0x3029a4(0x11e,0x1be,0x1c8,0x155)+_0x3029a4(0x1ec,0x1e1,0x1d9,0x170)]+'成功');}else{const _0x2ac47b=_0x2549db[_0x3029a4(0x132,0xd0,0xb1,0x101)](_0x5255b4,arguments);return _0x2c4ccd=null,_0x2ac47b;}}}else{if(_0x199ec1[_0x5ce58f(0xf0,0x1bb,0x126,0x8d)](_0x199ec1['fOIyY'],_0x199ec1[_0x5ce58f(0x9b,0xb4,0xd8,0xf8)])){let _0x3ee320=await _0x199ec1['SdfGc'](getSDMode,_0x2550bb);_0x199ec1[_0x3029a4(0x12d,0x1c3,0x1a9,0x16e)](_0x3ee320,_0x2d7427[_0x5ce58f(0xa0,0xd0,0xd3,0xa7)+'8_model'])&&(_0x199ec1['ZHzCm'](_0x199ec1[_0x5ce58f(0xe1,0xd0,0x162,0x1ef)],_0x3029a4(0x1b7,0x1b5,0x198,0x1b4))?(_0x167a66[_0x3029a4(0x1fa,0x173,0x1ba,0x16a)+_0x5ce58f(0xc7,0xe6,0x130,0x1c5)]=!![],_0x199ec1[_0x3029a4(0x165,0x252,0x168,0x1b7)](_0x556457)):(_0x199ec1[_0x5ce58f(0x48,0xbb,0xd4,0x65)](addLog,_0x5ce58f(0x191,0xed,0x11b,0x193)+_0x2d7427['sd_cchatu_'+_0x3029a4(0x18b,0x105,0x126,0x170)]+_0x5ce58f(0x14c,0x14d,0x161,0x1a9)),await setSDMode(_0x2550bb,_0x2d7427['sd_cchatu_'+_0x3029a4(0x117,0xef,0x203,0x170)])));}else{_0x199ec1[_0x5ce58f(0x7a,0x10b,0xcb,0xda)](_0x467612,_0x3029a4(0xd5,0x1e1,0x120,0x16c)+':\x20'+_0x40a42a['message']+(_0x3029a4(0x228,0x155,0x1ff,0x190)+_0x5ce58f(0xf1,0x22,0xa2,0x10a)+'查模型是否正确。'));throw new _0x3aa80d(_0x3029a4(0x102,0x1c6,0x160,0x16c)+_0x3029a4(0x105,0x15e,0x1b6,0x1a2)+_0x5ce58f(0x31,0x113,0xa2,0x4b)+_0x5ce58f(0x128,0x1f2,0x167,0x137));}}}}catch(_0x22cd9a){if(_0x199ec1[_0x3029a4(0x71,0x75,0x16d,0xfa)](_0x199ec1[_0x3029a4(0x1b8,0x207,0x24e,0x1d2)],_0x199ec1[_0x5ce58f(0x1ba,0x1e9,0x150,0x1b9)])){_0x199ec1[_0x5ce58f(0x1cc,0x138,0x19f,0x13b)](addLog,_0x5ce58f(0xcd,0x5e,0xea,0x123)+':\x20'+_0x22cd9a['message']+('。请检查sdwebu'+_0x5ce58f(0x55,0xb4,0xa2,0x92)+_0x5ce58f(0x1d8,0x203,0x167,0x19b)));throw new Error(_0x3029a4(0xe3,0x17c,0x1a0,0x16c)+_0x3029a4(0x115,0x21b,0x14b,0x1a2)+'i是否正常启动，并检'+_0x5ce58f(0x143,0x1d0,0x167,0x1eb));}else _0x23fb87=![];}let _0x1dea68=-(-0xe7e+0x1*0xcb6+-0x1c9*-0x1);const _0x26e5c0=_0x2d7427[_0x5ce58f(0x78,0x141,0xe4,0xc8)];_0x199ec1[_0x3029a4(0x169,0xb4,0x8a,0xf2)](_0x26e5c0,'')&&_0x199ec1['rveiM'](_0x26e5c0,null)&&!_0x199ec1[_0x3029a4(0x117,0xf8,0xd0,0x123)](isNaN,_0x199ec1[_0x3029a4(0x142,0xda,0x1ae,0x151)](Number,_0x26e5c0))&&_0x199ec1[_0x3029a4(0x88,0xfc,0xd0,0x118)](_0x199ec1[_0x3029a4(0x17a,0x123,0x15c,0x181)](Number,_0x26e5c0),0x1521*0x1+0x7*0x47+-0x1712*0x1)&&(_0x199ec1[_0x3029a4(0x159,0x190,0x1a1,0x1a8)](_0x199ec1[_0x3029a4(0x228,0x229,0x10f,0x19c)],_0x199ec1[_0x3029a4(0x1d1,0x1da,0x1b4,0x19c)])?(_0x199ec1[_0x5ce58f(0xb2,0xc1,0xcb,0x122)](_0x1c7668,_0x199ec1[_0x3029a4(0x1bb,0x21a,0x138,0x187)]),_0x409b26=_0x3f03d1):_0x1dea68=_0x199ec1[_0x5ce58f(0xfe,0x184,0xff,0x18b)](Number,_0x26e5c0));let _0x5b063c={'prompt':_0x23a7ac,'negative_prompt':_0x4f2f39,'sampler_name':_0x2d7427[_0x5ce58f(0x12e,0x13e,0xd3,0x127)+_0x5ce58f(0xfa,0x10e,0x8d,0xaa)+_0x5ce58f(0xb4,0xa4,0xd6,0xf3)],'scheduler':_0x2d7427[_0x5ce58f(0x12a,0xc2,0xd3,0x50)+'8_schedule'+'r'],'steps':_0x2d7427[_0x3029a4(0x1af,0x1fa,0x285,0x1fb)],'cfg_scale':_0x2d7427[_0x5ce58f(0xcd,0x79,0xb2,0x11c)],'width':_0x1d4434?_0x1d4434:_0x2d7427[_0x3029a4(0x205,0x22f,0x1da,0x1ee)],'height':_0x34dfa3?_0x34dfa3:_0x2d7427[_0x5ce58f(0x1fb,0x1ff,0x160,0xd7)],'restore_faces':_0x199ec1['hQWiq'](_0x2d7427[_0x5ce58f(-0x7,0x104,0x76,0xa7)+'es'],_0x199ec1[_0x3029a4(0x212,0x1cd,0x1c7,0x1a0)]),'enable_hr':_0x2d7427[_0x5ce58f(0x60,0xf4,0xd0,0x138)+_0x5ce58f(0x13e,0x15c,0x1a1,0x1dc)]==_0x199ec1[_0x3029a4(0x108,0x1e0,0x181,0x1a0)],'hr_upscaler':_0x2d7427[_0x3029a4(0x19e,0x1c4,0x132,0x155)+_0x5ce58f(0x1fe,0x1b8,0x19b,0x1c1)],'hr_scale':_0x2d7427[_0x3029a4(0x267,0x1d2,0x206,0x204)+_0x3029a4(0x67,0x144,0x190,0xf4)],'hr_additional_modules':[],'denoising_strength':_0x2d7427[_0x3029a4(0x1f4,0x23a,0x1cd,0x1d1)+'ing_streng'+'th'],'hr_second_pass_steps':_0x2d7427[_0x5ce58f(0x115,0xc6,0xd0,0x15f)+_0x3029a4(0x10c,0xbd,0x112,0x138)],'seed':_0x1dea68,'override_settings':{'CLIP_stop_at_last_layers':_0x199ec1[_0x5ce58f(0x191,0x1b2,0x114,0x182)](Number,_0x2d7427[_0x5ce58f(0x96,0x11c,0x85,0x7a)+'kip']),'sd_vae':_0x2d7427['sd_cchatu_'+_0x5ce58f(0x6a,0x11a,0xc4,0x48)]},'override_settings_restore_afterwards':!![],'save_images':!![],'send_images':!![],'do_not_save_grid':![],'do_not_save_samples':![]};_0x199ec1[_0x5ce58f(0x14d,0x223,0x186,0x1f6)](addLog,_0x5ce58f(0x23c,0x1bd,0x19d,0x205)+_0x5ce58f(0xb7,0x189,0x155,0xbd)+_0x5b063c[_0x5ce58f(0x10a,0x124,0x19d,0x1db)+_0x5ce58f(0x89,0x6d,0x6d,0x25)]),_0x199ec1[_0x3029a4(0x1f0,0x1af,0x1db,0x17d)](addLog,_0x5ce58f(0x10b,0x12d,0xf2,0xeb)+_0x5ce58f(0x13a,0xab,0xe7,0xc1)+_0x5b063c['enable_hr']);_0x199ec1[_0x3029a4(0x1ee,0x18f,0x21d,0x226)](_0x2d7427[_0x5ce58f(0x65,0x149,0xce,0xdc)+'ler'],'true')&&(_0x199ec1[_0x3029a4(0xe8,0x11b,0x15f,0x180)](addLog,_0x3029a4(0x25b,0x272,0x17d,0x1eb)+_0x3029a4(0x12b,0x15d,0x106,0x176)),_0x5b063c=_0x199ec1[_0x5ce58f(0xc1,0xc8,0x94,0x8f)](deepMerge,_0x5b063c,{'alwayson_scripts':{'ADetailer':{'args':[!![],!![],{'ad_model':_0x199ec1['YYUTz']}]}}}));const _0x1a280e='\x0a---\x0a###\x20生'+_0x3029a4(0x160,0x99,0xbe,0x115)+_0x5ce58f(0x9d,0x10d,0x134,0x198)+_0x5ce58f(0x144,0x181,0x11c,0x18d)+_0x23a7ac+(_0x5ce58f(0x9e,0xfc,0xda,0x116)+_0x5ce58f(0x15d,0x78,0xc9,0x163)+_0x3029a4(0x24e,0x130,0x1d7,0x1d0)+'\x20')+_0x4f2f39+(_0x5ce58f(0x210,0x138,0x19e,0x22d)+_0x3029a4(0x1ae,0x15c,0x168,0x15e)+_0x3029a4(0x217,0x1d7,0x201,0x1ba))+_0x5b063c[_0x3029a4(0x244,0x261,0x27e,0x1ed)+'me']+(_0x5ce58f(0x74,0xed,0x90,0xc7)+_0x3029a4(0x1e5,0x18a,0x132,0x15f))+_0x5b063c[_0x5ce58f(0x11d,0x5b,0xb6,0xc4)]+(_0x3029a4(0x102,0x9c,0x180,0xf9)+'cale:**\x20')+_0x5b063c[_0x5ce58f(0x153,0x193,0x13b,0xda)]+('\x0a-\x20**尺寸\x20(S'+_0x3029a4(0x101,0x121,0xe5,0x106))+_0x5b063c[_0x5ce58f(-0x18,0xf7,0x79,0x37)]+'x'+_0x5b063c['height']+(_0x3029a4(0x208,0x147,0x262,0x1cc)+'eed):**\x20')+(_0x5b063c[_0x3029a4(0x1e9,0x119,0x166,0x15b)]===-(0x2340+-0x4*0x918+0x121)?_0x199ec1['XgYvu']:_0x5b063c['seed'])+(_0x5ce58f(0x5e,0x110,0xb7,0x1c)+_0x3029a4(0xad,0x11c,0xf2,0x110))+_0x2d7427[_0x5ce58f(0x7c,0xa3,0xd3,0x136)+_0x3029a4(0x100,0x1c1,0x17c,0x170)]+('\x0a-\x20**VAE:*'+'*\x20')+_0x5b063c['override_s'+_0x3029a4(0x146,0x17b,0x140,0x1df)][_0x5ce58f(0xb7,0x80,0xc6,0x145)]+(_0x5ce58f(0x16f,0x12d,0xf7,0x15b)+_0x5ce58f(-0x11,0x35,0x75,0x5b))+_0x5b063c['override_s'+_0x3029a4(0x1da,0x248,0x18f,0x1df)][_0x5ce58f(0x1a8,0x14c,0x14b,0x175)+_0x5ce58f(0x14e,0x19e,0x140,0xf8)+'yers']+(_0x3029a4(0x1b0,0x19b,0x16b,0x17e)+_0x5ce58f(0x150,0x61,0xbd,0x137)+'):**\x20')+_0x5b063c[_0x5ce58f(0x227,0x104,0x191,0x118)]+(_0x5ce58f(0x14e,0x17d,0x180,0x20c)+_0x5ce58f(0xcd,0x82,0x6b,-0x2d)+_0x5ce58f(0x184,0x16c,0x108,0xd2))+_0x5b063c[_0x5ce58f(0xf0,0x36,0xc0,0x151)]+(_0x5ce58f(0x59,0x77,0xc8,0x73)+_0x5ce58f(0xfa,0xd9,0x122,0x1be)+_0x3029a4(0x1df,0x22e,0x288,0x20a)+_0x5ce58f(0x1d7,0x119,0x18b,0x18c))+_0x5b063c[_0x3029a4(0xfb,0x1a2,0x170,0x10a)+'strength']+(_0x3029a4(0x1a3,0x1e8,0x259,0x224)+_0x3029a4(0x15e,0x133,0x1f5,0x1b9)+'aces):**\x20')+_0x5b063c[_0x5ce58f(0x147,0x1a4,0x19d,0x186)+_0x5ce58f(0xb9,0x93,0x6d,0x82)]+(_0x5ce58f(0x1c8,0x130,0x190,0x15c)+'iler:**\x20')+_0x199ec1[_0x3029a4(0x1f4,0x267,0x235,0x226)](_0x2d7427[_0x5ce58f(0x16a,0x4c,0xce,0xff)+_0x3029a4(0x1a2,0x2a4,0x1d1,0x21b)],_0x199ec1[_0x5ce58f(0x157,0x137,0x11e,0x16d)])+'\x0a---\x0a\x20\x20\x20\x20';_0x199ec1[_0x3029a4(0xfd,0x10b,0x10e,0x184)](addLog,_0x1a280e),_0x199ec1[_0x3029a4(0x151,0x12b,0x20f,0x17a)](addLog,_0x3029a4(0xc4,0x1dd,0x1cb,0x13d)+'数为'+JSON['stringify'](_0x5b063c)),console[_0x5ce58f(0x9f,0x4f,0x71,-0x20)](_0x199ec1[_0x3029a4(0x172,0x1b8,0x19d,0x18d)],_0x5b063c);let _0x18731e=!![];function _0x5ce58f(_0x480f63,_0x44e25c,_0xae0f03,_0x2b8924){return _0xa8b4(_0xae0f03- -0x165,_0x2b8924);}while(_0x18731e){if(_0x199ec1[_0x3029a4(0x227,0x178,0x207,0x1d3)](_0x199ec1[_0x5ce58f(0x3,0xc7,0x7b,0x9)],_0x199ec1[_0x3029a4(0x222,0x1df,0x1e4,0x1a1)])){_0x199ec1[_0x5ce58f(0x98,0x10b,0xcb,0x110)](_0x1b0d4c,_0x5ce58f(0x17c,0x179,0x197,0x17f)+_0x29baf8[_0x5ce58f(0x1fe,0x182,0x15e,0x177)]+'\x20'+_0x538e36[_0x5ce58f(0xd9,0x1e2,0x142,0x169)]);throw new _0x434e99('切换模型失败:\x20'+_0x613f30[_0x5ce58f(0x12a,0xc2,0x15e,0x1d7)]+'\x20'+_0x333236['statusText']);}else{if(window[_0x3029a4(0x1c5,0x162,0x188,0x175)])_0x18731e=![];else{if(_0x199ec1[_0x5ce58f(0x146,0x130,0x156,0x186)]===_0x5ce58f(0x160,0xcc,0x149,0x12b)){const _0x429fa0=_0x17772e?function(){if(_0x3fad03){const _0x4578ec=_0x263e3a['apply'](_0x8c0034,arguments);return _0x57c65c=null,_0x4578ec;}}:function(){};return _0x5cdb95=![],_0x429fa0;}else await sleep(0x5d5*-0x5+-0x2347+0x4458);}}};try{if(_0x199ec1[_0x3029a4(0x26a,0x13b,0x210,0x1d4)]('cFKfg',_0x199ec1[_0x5ce58f(0x100,0x8b,0x110,0x1a8)])){if(_0x199ec1[_0x5ce58f(-0x22,0xff,0x78,0xbe)](_0x2d7427[_0x3029a4(0x1ce,0x1aa,0x13e,0x1c0)],_0x199ec1['dDDhx'])){if(_0x5ce58f(0xb1,0x154,0x121,0x158)!==_0x199ec1[_0x5ce58f(0x1be,0x131,0x18f,0x10b)]){_0x5b063c['url']=_0x2550bb,console[_0x5ce58f(-0x14,0x9e,0x71,0x82)](_0x5ce58f(0x16f,0x13e,0xdb,0x12c)+_0x5ce58f(0x2b,0xc4,0xbe,0x82)+_0x3029a4(0xe4,0x177,0xfe,0x12e),_0x2d7427[_0x3029a4(0x137,0x1f9,0x136,0x191)+_0x3029a4(0x1e4,0x160,0x226,0x200)]),_0x5b063c[_0x5ce58f(0x1a7,0x89,0x109,0x194)]=_0x2d7427[_0x5ce58f(0x75,0x163,0x10f,0xfa)+_0x3029a4(0x225,0x26f,0x284,0x200)]?_0x2d7427[_0x5ce58f(0x142,0x145,0x10f,0x100)+'sd_auth']:'';const _0x1a3fbe=await fetch(_0x5ce58f(0x1ac,0x12c,0x127,0x95)+_0x5ce58f(0x1cb,0x1be,0x14c,0x1ab),{'method':_0x199ec1['ingCF'],'headers':_0x199ec1[_0x5ce58f(0xfb,0xfd,0x102,0x128)](getRequestHeaders,window[_0x5ce58f(0x21,0x125,0xb9,0x143)]),'body':JSON[_0x3029a4(0x122,0x7f,0xbd,0x104)](_0x5b063c)});if(!_0x1a3fbe['ok']){const _0x5ade64=await _0x1a3fbe[_0x3029a4(0x1b3,0x1cf,0x1cb,0x147)]();addLog(_0x5ce58f(0x110,0x173,0xe1,0x6c)+'码:\x20'+_0x1a3fbe[_0x5ce58f(0x1c4,0xce,0x15e,0x14f)]+_0x3029a4(0x1b6,0x111,0x142,0x14f)+_0x5ade64),console['log'](_0x199ec1[_0x5ce58f(0x107,0xfd,0x131,0x178)],_0x5ade64);throw new Error(_0x3029a4(0x1d9,0x1f8,0x29d,0x1fd)+_0x1a3fbe[_0x5ce58f(0x10d,0xd9,0x15e,0x193)]+_0x5ce58f(0xc1,0x128,0xc3,0x9a)+_0x5ade64);}const _0x18b1ec=await _0x1a3fbe[_0x5ce58f(0x119,0xd5,0xc5,0x124)]();let _0x3139e3='';try{const _0x4728b0=JSON[_0x5ce58f(0x1a1,0x178,0x16a,0x1da)](_0x18b1ec);_0x3139e3=_0x4728b0[_0x3029a4(0x1db,0x243,0x256,0x1f6)][-0x1a5b+-0x73d*-0x2+-0x1*-0xbe1];}catch(_0x103341){if(_0x199ec1[_0x5ce58f(0x21,0xe4,0x78,0x103)](_0x199ec1['lCImJ'],_0x3029a4(0x172,0x255,0x26f,0x1da)))_0x199ec1[_0x5ce58f(0x43,0x51,0x6e,0x44)](addLog,'JSON\x20解析失败，'+_0x5ce58f(0xfe,0x66,0x100,0x19f)+_0x3029a4(0xa9,0x144,0x17e,0x102)),_0x3139e3=_0x18b1ec;else for(let _0x101b10=-0x1*0x244a+0x1bc2+0x889;_0x199ec1[_0x5ce58f(0x23a,0x211,0x1a6,0x1ce)](_0x101b10,0x1a53+0x381+-0x1dd0);_0x101b10++){_0x408a62[_0x3029a4(0x270,0x234,0x1be,0x227)+_0x101b10+_0x5ce58f(0x1d,0xfa,0xa7,0x17)]&&(_0x284861=_0x199ec1[_0x3029a4(0xba,0xdc,0xbe,0x12d)](_0x8b7073+',\x20',_0x199ec1[_0x5ce58f(0x116,0x105,0xcb,0x96)](_0x1ecab6,_0x50f369[_0x3029a4(0x195,0x21d,0x234,0x227)+_0x101b10+_0x3029a4(0x199,0x1a3,0xec,0x129)])));}}const _0x39032a=_0x199ec1[_0x5ce58f(0x73,0x83,0x9c,0x4)](_0x199ec1[_0x5ce58f(0x156,0xb4,0x133,0x172)],_0x3139e3);return _0x199ec1['VjDQA'](addLog,_0x199ec1[_0x3029a4(0x1f6,0x19c,0x1b8,0x1dd)]),{'image':_0x39032a,'change':_0x199ec1['GCOGd'](_0x291be5,'')};}else!_0x3ca7f3[_0x5ce58f(0x102,0x5c,0xe8,0xce)+_0x5ce58f(0xe1,0x183,0x130,0xc4)]&&(_0x19cb7d[_0x3029a4(0x183,0x174,0x166,0x16a)+'SDListener']=!![],_0x199ec1['QByRc'](_0x469980)),_0x38207c();}else{const _0x3d0753=new URL(_0x199ec1[_0x5ce58f(0x1db,0x223,0x1a3,0x20d)](_0x2550bb,_0x199ec1[_0x5ce58f(0x104,0x6c,0xdf,0x120)]));window[_0x5ce58f(0x136,0xd0,0xf3,0xec)]=![];const _0x24ba9c=await _0x199ec1[_0x5ce58f(0x66,0x196,0xfd,0x101)](fetch,_0x3d0753,{'method':_0x199ec1[_0x3029a4(0x260,0x273,0x14a,0x1e8)],'body':JSON['stringify'](_0x5b063c),'headers':{'Content-Type':_0x199ec1['AmFgF'],'Authorization':_0x199ec1[_0x5ce58f(0xf0,0x120,0x144,0xfb)](getsdAuth)}});window[_0x5ce58f(0x131,0x10e,0xf3,0x132)]=!![];if(!_0x24ba9c['ok']){if(_0x3029a4(0x190,0x158,0x99,0x122)!==_0x199ec1[_0x3029a4(0x1f4,0x1c0,0x2a0,0x214)])_0x697b25=!![];else{const _0x39c56f=await _0x24ba9c[_0x5ce58f(0x10a,0x121,0xc5,0xa8)]();addLog('SD\x20API\x20返回错'+_0x3029a4(0x194,0x1f1,0x12c,0x1b0)+_0x24ba9c[_0x5ce58f(0x134,0x131,0x15e,0x11f)]+'。响应内容:\x20'+_0x39c56f),console[_0x5ce58f(0x45,0xfb,0x71,0xc9)](_0x199ec1[_0x3029a4(0x1a1,0x200,0x16d,0x1b3)],_0x39c56f);throw new Error('请求失败,状态码:\x20'+_0x24ba9c[_0x5ce58f(0x113,0xcf,0x15e,0x130)]+_0x3029a4(0xac,0x199,0xe1,0x145)+_0x39c56f);}}const _0x1aa4b0=await _0x24ba9c[_0x3029a4(0x10d,0x1f0,0x105,0x164)]();if(!_0x1aa4b0[_0x5ce58f(0x169,0x1bb,0x174,0x11e)]||_0x199ec1[_0x5ce58f(0x179,0x1ac,0x151,0xdb)](_0x1aa4b0[_0x3029a4(0x1b0,0x266,0x199,0x1f6)][_0x5ce58f(0x143,0x20b,0x170,0x13d)],-0x14b3+-0x26e9+0x3b9c)){if(_0x199ec1[_0x3029a4(0x151,0x172,0x20b,0x198)]!==_0x199ec1[_0x3029a4(0x19e,0x1a6,0x182,0x198)]){if(_0xf8f297){const _0xcd88c5=_0x157812[_0x5ce58f(0x8e,0x1f,0x7f,0xab)](_0x244f37,arguments);return _0x289ff9=null,_0xcd88c5;}}else throw new Error(_0x199ec1[_0x5ce58f(0x1fc,0x1f1,0x172,0x131)]);}const _0xd0497e=_0x1aa4b0[_0x3029a4(0x260,0x1d8,0x169,0x1f6)][0x12d*-0x21+0x2242+-0x48b*-0x1],_0x37d659=_0x199ec1[_0x3029a4(0x1ba,0x19a,0x1c8,0x1b5)]+_0xd0497e;addLog(_0x199ec1[_0x5ce58f(0x18b,0xe0,0x15b,0x1b6)]);const _0x304249={};return _0x304249[_0x3029a4(0x1f4,0x13a,0x138,0x186)]=_0x37d659,_0x304249['change']=_0x302cd0||'',_0x304249;}}else _0x297493[_0x3029a4(0x27d,0x27f,0x297,0x227)+_0x266d76+_0x3029a4(0x1b8,0x1bf,0x139,0x129)]&&(_0x2c5f8a=_0x199ec1[_0x3029a4(0xa9,0x18c,0x8b,0x103)](_0x20c79e+',\x20',_0x16f308['Character\x20'+_0x268e50+_0x5ce58f(0x13f,0x10,0xa7,0x13c)]));}catch(_0x553294){if(_0x199ec1[_0x5ce58f(0x8d,0x155,0xca,0xf9)]===_0x199ec1[_0x3029a4(0x198,0xb5,0x12a,0x14c)]){window['xiancheng']=!![],_0x199ec1[_0x5ce58f(0x130,0x1cc,0x12d,0x143)](addLog,_0x5ce58f(0x14a,0x1ed,0x19a,0x145)+_0x553294[_0x3029a4(0x189,0x239,0x1a4,0x1c9)]),console[_0x3029a4(0x26f,0x25c,0x20c,0x1ef)](_0x3029a4(0x1ed,0x1c3,0x126,0x188)+_0x3029a4(0x29e,0x229,0x26e,0x207)+_0x3029a4(0x1b3,0x14a,0x1b8,0x171),_0x553294);throw _0x553294;}else{_0x199ec1[_0x5ce58f(0x67,0x13d,0xff,0x6f)](_0x4e9259,_0x5ce58f(0x3d,0x140,0xa4,0x3a)+_0x2fde5e[_0x3029a4(0x18c,0x142,0x1b4,0x1e0)]+'\x20'+_0x19c478[_0x3029a4(0x17f,0x1ba,0x252,0x1c4)]);throw new _0xb23560(_0x5ce58f(0x10c,0x123,0xa4,0x129)+_0xe7ae5d['status']+'\x20'+_0x2af5f5[_0x5ce58f(0x189,0xfd,0x142,0x11a)]);}}}async function sdGenerate(_0x4ecceb){function _0x4929e8(_0x302a93,_0xf69d91,_0x22a1f6,_0x4c83fa){return _0xa8b4(_0x22a1f6- -0x5,_0x4c83fa);}const _0x10be02={'xsimF':function(_0x330bf7,_0x2fd5eb){return _0x330bf7(_0x2fd5eb);},'fByLx':_0x5009bf(0x333,0x347,0x3a7,0x316)+_0x4929e8(0x1d2,0x290,0x260,0x1e7)+_0x4929e8(0x1cf,0x161,0x1e0,0x171),'pvaaN':function(_0x5bfe77,_0xf62480){return _0x5bfe77(_0xf62480);},'NJwwp':function(_0x5688ff,_0x4ae42c){return _0x5688ff!=_0x4ae42c;},'tSbYy':function(_0x5b9945,_0x576510){return _0x5b9945===_0x576510;},'PYzOE':_0x5009bf(0x3e1,0x3ad,0x343,0x3c2),'tZvny':_0x5009bf(0x2d8,0x286,0x291,0x23e),'SRgUM':function(_0x3e770c,_0xe6080e,_0x30d110,_0x305cf2){return _0x3e770c(_0xe6080e,_0x30d110,_0x305cf2);},'swTSO':function(_0xa6161,_0x15d31d){return _0xa6161(_0x15d31d);},'BYcbN':function(_0x286b64,_0x38f89d){return _0x286b64(_0x38f89d);},'NyHWo':function(_0x544bac,_0x209f07){return _0x544bac!==_0x209f07;},'dPqpE':'MngkN','cWEou':function(_0x4c958b,_0xd11c37){return _0x4c958b(_0xd11c37);},'odvjS':function(_0x425ae,_0x6b7d49){return _0x425ae(_0x6b7d49);}};function _0x5009bf(_0x488f20,_0x44010b,_0x5bdc57,_0x17baf4){return _0xa8b4(_0x488f20-0xf9,_0x44010b);}const {id:_0x30c420,prompt:_0x2eb304,width:_0x1ee134,height:_0x409fee,change:_0x2f7a71}=_0x4ecceb;_0x10be02[_0x4929e8(0x2d8,0x220,0x255,0x1d0)](addLog,_0x5009bf(0x377,0x35b,0x363,0x40b)+_0x4929e8(0x281,0x247,0x1fb,0x1f4)+_0x30c420+(')\x20-\x20Prompt'+':\x20')+_0x2eb304+(_0x2f7a71?_0x5009bf(0x3df,0x403,0x377,0x36c)+'\x20'+_0x2f7a71:''));try{const {image:_0x23d31f,change:_0x49aea5}=await _0x10be02[_0x5009bf(0x373,0x35c,0x3c5,0x3f4)](generateSDImage,{'prompt':_0x2eb304,'width':_0x1ee134,'height':_0x409fee,'change':_0x2f7a71});if(_0x10be02[_0x5009bf(0x36a,0x355,0x322,0x394)](extension_settings[extensionName][_0x5009bf(0x33e,0x3d1,0x356,0x34a)],'0')){if(_0x10be02['tSbYy'](_0x10be02['PYzOE'],_0x10be02[_0x4929e8(0x253,0x34c,0x2b4,0x2f1)]))_0x10be02[_0x4929e8(0x2de,0x2df,0x255,0x20d)](_0x4485c5,_0x10be02[_0x5009bf(0x3fa,0x428,0x48a,0x433)]),_0x1c6522=_0x5dd449;else{const _0x4267b5={};_0x4267b5[_0x4929e8(0x2f5,0x383,0x2e7,0x30d)]=_0x49aea5,await _0x10be02[_0x5009bf(0x320,0x39e,0x327,0x3aa)](setItemImg,_0x2eb304,_0x23d31f,_0x4267b5),_0x10be02[_0x4929e8(0x39e,0x270,0x308,0x39d)](addLog,_0x4929e8(0x20e,0x17b,0x21a,0x227)+_0x4929e8(0x267,0x317,0x2a6,0x30e)+'\x20'+_0x2eb304);}}else _0x10be02['BYcbN'](addLog,'缓存设置为不存入数据'+'库');const _0x602fbf={};_0x602fbf['id']=_0x30c420,_0x602fbf['success']=!![],_0x602fbf[_0x5009bf(0x3c2,0x3e5,0x425,0x365)]=_0x23d31f,_0x602fbf['prompt']=_0x2eb304,_0x602fbf[_0x4929e8(0x35d,0x2c3,0x2e7,0x2e8)]=_0x49aea5,eventSource[_0x5009bf(0x3e7,0x3ab,0x3fa,0x3cf)](EventType['GENERATE_I'+_0x4929e8(0x254,0x1e9,0x1f7,0x1f9)+'NSE'],_0x602fbf),_0x10be02[_0x4929e8(0x1fa,0x2da,0x255,0x258)](addLog,_0x5009bf(0x39d,0x42c,0x371,0x370)+'\x20(ID:\x20'+_0x30c420+')');}catch(_0x2c50a4){if(_0x10be02[_0x5009bf(0x2e9,0x36a,0x326,0x30e)]('gQVDu',_0x10be02['dPqpE'])){const _0x936b45=_0x5009bf(0x32a,0x337,0x32a,0x322)+_0x5009bf(0x407,0x3a0,0x371,0x49e)+_0x30c420+_0x4929e8(0x2d2,0x2a8,0x29a,0x2a3)+_0x2c50a4['message'];_0x10be02['cWEou'](addLog,'错误:\x20'+_0x936b45),console[_0x5009bf(0x3cb,0x42d,0x359,0x398)](_0x4929e8(0x1df,0x231,0x266,0x2f8)+_0x5009bf(0x39b,0x3ed,0x42f,0x400)+_0x4929e8(0x278,0x2a8,0x2f6,0x290),_0x2c50a4);const _0x5e4255={};_0x5e4255['id']=_0x30c420,_0x5e4255[_0x5009bf(0x39a,0x3fc,0x3ff,0x3fc)]=![],_0x5e4255[_0x4929e8(0x314,0x347,0x2cd,0x332)]=_0x2c50a4['message'],_0x5e4255['prompt']=_0x2eb304,eventSource['emit'](EventType[_0x5009bf(0x375,0x2f8,0x346,0x307)+_0x4929e8(0x21b,0x244,0x1f7,0x1fd)+_0x4929e8(0x1b2,0x1ac,0x1dd,0x1eb)],_0x5e4255),_0x10be02['odvjS'](addLog,'发送SD生图失败响应'+_0x5009bf(0x357,0x33c,0x342,0x3ce)+_0x30c420+')');}else _0x5863b9['removeList'+'ener'](_0x409a74[_0x4929e8(0x2b2,0x317,0x277,0x276)+_0x5009bf(0x3d6,0x3eb,0x46b,0x432)+'ST'],_0x58dfc7),_0x1a0385['initialize'+_0x5009bf(0x38e,0x39f,0x30d,0x36c)]=![],_0x27f3da(_0x5009bf(0x347,0x3a6,0x2fb,0x3c8)+_0x5009bf(0x344,0x2b9,0x3d4,0x2e7));}}function initializeSDListener(){function _0x5e8dc7(_0x38e578,_0x31624d,_0x4067d3,_0x59fce6){return _0xa8b4(_0x38e578-0xe6,_0x4067d3);}function _0x13f29e(_0x7e6d1f,_0x19e723,_0x5311c6,_0x402cd5){return _0xa8b4(_0x5311c6-0x191,_0x402cd5);}eventSource['on'](EventType[_0x5e8dc7(0x362,0x34a,0x365,0x368)+_0x5e8dc7(0x3c3,0x398,0x368,0x42e)+'ST'],sdGenerate),addLog(_0x13f29e(0x44b,0x459,0x3df,0x3e6)+_0x13f29e(0x4b1,0x443,0x419,0x474));}export async function replaceWithSd(){function _0x4cea23(_0x5d30ba,_0x3b62af,_0x56421b,_0x60a21b){return _0xa8b4(_0x60a21b-0x223,_0x56421b);}function _0x431f92(_0x76a79b,_0x40624e,_0x35973c,_0x5a42e6){return _0xa8b4(_0x76a79b-0x265,_0x5a42e6);}const _0x4b90df={'xmRTT':function(_0x1ed6e0,_0x36c8f7){return _0x1ed6e0(_0x36c8f7);},'DeAkW':_0x431f92(0x4b3,0x417,0x446,0x457)+_0x431f92(0x4ed,0x534,0x496,0x56a),'TMjgs':function(_0x54b671,_0x3624b0){return _0x54b671==_0x3624b0;},'BxzyW':function(_0x19eb91,_0x551e1d){return _0x19eb91===_0x551e1d;},'ygmBL':'mKbjT','xfoUU':function(_0x4585e2){return _0x4585e2();},'qLcyv':function(_0x1012c7,_0x4d0cc9){return _0x1012c7===_0x4d0cc9;},'orWRL':_0x4cea23(0x4a3,0x51e,0x43e,0x489),'JZgYb':_0x4cea23(0x4c4,0x43d,0x408,0x471)+'已关闭。'};_0x4b90df[_0x431f92(0x439,0x43c,0x470,0x467)](extension_settings[extensionName][_0x4cea23(0x499,0x4f2,0x3ec,0x475)],'sd')?(!window[_0x431f92(0x4b2,0x53a,0x532,0x4aa)+_0x4cea23(0x4e0,0x45a,0x556,0x4b8)]&&(_0x4b90df['BxzyW'](_0x431f92(0x4a8,0x500,0x4a4,0x41f),_0x4b90df[_0x4cea23(0x4c5,0x464,0x465,0x4ff)])?_0x4b90df['xmRTT'](_0x1b4d3b,_0x431f92(0x473,0x3f2,0x452,0x3f6)+'库'):(window[_0x4cea23(0x42f,0x3fb,0x455,0x470)+'SDListener']=!![],_0x4b90df[_0x431f92(0x4f6,0x474,0x4b1,0x4d5)](initializeSDListener))),_0x4b90df[_0x4cea23(0x439,0x48a,0x419,0x4b4)](initializeImageProcessing)):window['initialize'+_0x431f92(0x4fa,0x4b8,0x51f,0x580)]&&(_0x4b90df[_0x4cea23(0x492,0x517,0x45f,0x479)](_0x4b90df[_0x431f92(0x4f4,0x58d,0x58b,0x460)],_0x4b90df[_0x4cea23(0x419,0x445,0x477,0x4b2)])?(eventSource[_0x4cea23(0x3bd,0x3df,0x3cf,0x404)+'ener'](EventType[_0x431f92(0x4e1,0x55d,0x4ba,0x56d)+_0x4cea23(0x559,0x51b,0x550,0x500)+'ST'],sdGenerate),window[_0x431f92(0x4b2,0x421,0x551,0x42e)+_0x431f92(0x4fa,0x47d,0x485,0x480)]=![],addLog(_0x4b90df[_0x4cea23(0x39d,0x3c4,0x394,0x430)])):(_0x337a6a['on'](_0x3b19a0[_0x4cea23(0x44f,0x47c,0x475,0x49f)+_0x4cea23(0x462,0x48a,0x4ba,0x500)+'ST'],_0x52d3f5),_0x48159b(_0x4b90df[_0x4cea23(0x513,0x48e,0x4e2,0x4ad)])));}
//# sourceMappingURL=http://localhost:8000/sd.js.map
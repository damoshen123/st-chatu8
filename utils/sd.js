(function(_0x1b20f3,_0x5717c2){function _0xeaa6ec(_0x33df0f,_0x29f8f1,_0x76fa04,_0x478936){return _0x5310(_0x29f8f1-0x66,_0x33df0f);}function _0xc67116(_0x4d9e88,_0x2234f0,_0xc5cde0,_0x55de36){return _0x5310(_0x2234f0- -0xda,_0xc5cde0);}const _0x1246d1=_0x1b20f3();while(!![]){try{const _0x11e651=-parseInt(_0xc67116(0x23c,0x1e2,0x154,0x1da))/(-0xae5*-0x2+-0x13e4+-0x1*0x1e5)*(-parseInt(_0xc67116(0xc7,0x15d,0x1f9,0xeb))/(-0x1*0x2044+0x8b*-0x22+0x11*0x2fc))+parseInt(_0xeaa6ec(0x333,0x321,0x285,0x2a2))/(0x23ad+0x7*0x36f+-0x3bb3)+parseInt(_0xc67116(0x27f,0x203,0x213,0x208))/(0x245e+0x12b*0x1c+-0x450e)+parseInt(_0xeaa6ec(0x2bc,0x267,0x234,0x2e4))/(0x868+0xf99+-0x17fc)*(-parseInt(_0xc67116(0x12d,0x163,0x13c,0xcf))/(0x9f3+-0x6*0x3cd+-0x9d*-0x15))+-parseInt(_0xc67116(0x119,0x12a,0xbf,0x98))/(0xaf1+0x235b+-0x2e45)+-parseInt(_0xeaa6ec(0x1f8,0x207,0x21c,0x1c2))/(-0x71*0x1c+-0x1*0x166f+0x22d3)*(parseInt(_0xc67116(0x1cc,0x165,0xd2,0x1ff))/(-0x5*-0x536+-0x1*-0xb93+0x1*-0x2598))+-parseInt(_0xc67116(0x12d,0x17b,0x17f,0x178))/(0x1b*0xdd+0x1311+0x1*-0x2a56)*(parseInt(_0xc67116(0x13e,0x180,0x162,0x134))/(0x213d+0xca*-0xd+-0x16f0));if(_0x11e651===_0x5717c2)break;else _0x1246d1['push'](_0x1246d1['shift']());}catch(_0x32b47){_0x1246d1['push'](_0x1246d1['shift']());}}}(_0x3c29,0x1*0xd06d+-0x1c1*-0x4f9+0x1*-0x51ad5));function _0x491754(_0x4a54b8,_0x2312b1,_0x16ba6b,_0x1f002e){return _0x5310(_0x1f002e-0x2c,_0x2312b1);}const _0xe998d8=(function(){const _0x217c47={'xfBHS':function(_0x2b3242,_0x371a37){return _0x2b3242===_0x371a37;},'dXSag':_0x59041d(-0x15a,-0x10a,-0x12a,-0xa9),'dJaXk':function(_0x29e316,_0x4e5c73){return _0x29e316<=_0x4e5c73;},'WbhuP':function(_0x27179f,_0x413145){return _0x27179f(_0x413145);}};let _0x50316b=!![];function _0x59041d(_0x3a0f79,_0x131cee,_0x5e7ea3,_0x3b7b1a){return _0x5310(_0x5e7ea3- -0x340,_0x3b7b1a);}return function(_0xcee97d,_0x371ceb){const _0x3b5001={'xCevo':function(_0x4908d1,_0x3728c5){function _0x19654a(_0x495dd3,_0x372be4,_0x2cc36d,_0x358061){return _0x5310(_0x2cc36d- -0x31f,_0x372be4);}return _0x217c47[_0x19654a(-0x3c,0x2c,-0x4e,0x10)](_0x4908d1,_0x3728c5);},'rmftc':function(_0x57d450,_0x54415a){return _0x57d450+_0x54415a;},'SegRI':function(_0x88b7bb,_0x608f46){function _0x5c7da4(_0x3a8930,_0x1d6380,_0x40c1c0,_0x2ea31b){return _0x5310(_0x2ea31b- -0x6d,_0x1d6380);}return _0x217c47[_0x5c7da4(0xf5,0x1b1,0x1b8,0x18f)](_0x88b7bb,_0x608f46);}},_0x428238=_0x50316b?function(){function _0x5ae1b9(_0x212da9,_0x4ab528,_0x545eef,_0x5124a3){return _0x5310(_0x5124a3-0x1d3,_0x4ab528);}function _0x401d3c(_0x28d4cb,_0x1542c3,_0x155271,_0x5d4c80){return _0x5310(_0x1542c3-0x12d,_0x5d4c80);}if(_0x371ceb){if(_0x217c47[_0x401d3c(0x309,0x372,0x35b,0x323)](_0x217c47[_0x5ae1b9(0x413,0x311,0x37b,0x39e)],_0x217c47[_0x401d3c(0x2a9,0x2f8,0x28e,0x30e)])){const _0x1bc5be=_0x371ceb[_0x5ae1b9(0x4b1,0x4d8,0x3de,0x479)](_0xcee97d,arguments);return _0x371ceb=null,_0x1bc5be;}else for(let _0x4754c7=0xc36+0x1*0x205c+-0x2c91;_0x3b5001[_0x401d3c(0x2bd,0x2fe,0x33f,0x2ae)](_0x4754c7,0x76e*-0x1+-0x1bd*0xf+0x1*0x2185);_0x4754c7++){_0x542f07[_0x401d3c(0x261,0x2e7,0x2c7,0x2f0)+_0x4754c7+_0x401d3c(0x3d8,0x3bb,0x3fd,0x36f)]&&(_0x37296f=_0x3b5001[_0x401d3c(0x3b2,0x39e,0x303,0x3d2)](_0x3b5001[_0x401d3c(0x35f,0x39e,0x399,0x34f)](_0x34be96,',\x20'),_0x3b5001[_0x401d3c(0x357,0x3dc,0x369,0x38b)](_0x2b72f3,_0x3379df[_0x401d3c(0x2b4,0x2e7,0x2e5,0x265)+_0x4754c7+_0x401d3c(0x387,0x3bb,0x3f3,0x3b2)])));}}}:function(){};return _0x50316b=![],_0x428238;};}()),_0x548561=_0xe998d8(this,function(){function _0x379adb(_0x549864,_0x391396,_0x544aa8,_0xf28da2){return _0x5310(_0x549864- -0x2fb,_0xf28da2);}function _0x38f463(_0x36b14d,_0x2f7121,_0x53051f,_0x4b849a){return _0x5310(_0x36b14d- -0x3bc,_0x2f7121);}const _0x2e4b42={};_0x2e4b42[_0x38f463(-0x1c8,-0x189,-0x1e9,-0x25f)]='(((.+)+)+)'+'+$';const _0x581be7=_0x2e4b42;return _0x548561[_0x379adb(-0xb1,-0x14b,-0x45,-0x127)]()[_0x38f463(-0x10a,-0x7d,-0xe4,-0x173)](_0x581be7[_0x38f463(-0x1c8,-0x184,-0x131,-0x140)])[_0x38f463(-0x172,-0xd6,-0x1f4,-0x1d2)]()[_0x38f463(-0xf3,-0x174,-0x76,-0x9b)+'r'](_0x548561)[_0x379adb(-0x49,0x32,0x45,0x36)](_0x581be7[_0x38f463(-0x1c8,-0x233,-0x1b0,-0x173)]);});_0x548561();import{sleep,zhengmian,fumian,deepMerge,getSDMode,setSDMode,addLog,getRequestHeaders,clearLog,prompt_replace,getsdAuth,parsePromptStringWithCoordinates,prompt_replace_for_character,stripChineseAnnotations,waitForLock,releaseLock,acquireLock}from'./utils.js';import{setItemImg}from'./database.js';import{extension_settings}from'../../../../extensions.js';import{extensionName,EventType}from'./config.js';import{saveSettingsDebounced,eventSource}from'../../../../../script.js';import{initializeImageProcessing}from'./iframe.js';import{processCharacterPrompt}from'./characterprompt.js';function _0x7e0659(_0x59d9c7,_0x1e08e3,_0x2cfdb5,_0x476b3f){return _0x5310(_0x1e08e3- -0x1a,_0x59d9c7);}import{bananaGenerate}from'./banana.js';async function generateSDImage({prompt:_0x4f64f6,width:_0x356c12,height:_0x30fe64,change:_0x5a5fba}){const _0x1657b4={'sgdUX':function(_0x59298d,_0x324822){return _0x59298d+_0x324822;},'KUBeZ':function(_0x1aaa30,_0x15c352){return _0x1aaa30(_0x15c352);},'juAov':function(_0x42e996,_0x4fbd28){return _0x42e996(_0x4fbd28);},'xnpHy':function(_0x51009a,_0xd92d18){return _0x51009a(_0xd92d18);},'vEqHv':function(_0x2f33cd,_0x279545){return _0x2f33cd(_0x279545);},'gJytj':'(((.+)+)+)'+'+$','IRZyh':function(_0x1ad8e3,_0x4d64f0){return _0x1ad8e3(_0x4d64f0);},'bmMDX':function(_0x1ab293,_0x157a81){return _0x1ab293(_0x157a81);},'cqSGJ':function(_0x44d0aa,_0x58ef95){return _0x44d0aa!==_0x58ef95;},'HOaEZ':_0x264442(0x11,-0x15,0x76,-0x65)+_0x264442(-0x4b,-0xc5,-0x68,-0xd5),'WIFPN':_0x264442(-0x57,-0x2f,-0xb4,-0x87),'DEKRH':function(_0x263c1b,_0x175556){return _0x263c1b(_0x175556);},'NTWZw':function(_0x351dd0,_0x2a32c0){return _0x351dd0(_0x2a32c0);},'oSpDA':_0x264442(-0x24,-0x4e,-0x24,0x23)+'坐标的提示词字符串。','QDwRO':function(_0x125843,_0x59c570){return _0x125843<=_0x59c570;},'aceLL':function(_0x24813f,_0x11bc64){return _0x24813f!==_0x11bc64;},'hUyCq':_0x264442(-0xe2,-0x132,-0xc0,-0xb3),'rzTvC':'sLkeE','SzsRv':function(_0xa14a0a,_0x1fde1e){return _0xa14a0a+_0x1fde1e;},'tUjQC':function(_0x341868,_0x371cfc){return _0x341868(_0x371cfc);},'Oefkx':'标准模式:\x20使用请求'+_0x264442(0x7,-0x23,-0x96,0x7c),'NqFKP':function(_0x59b97d,_0x367051,_0x1c9c9c){return _0x59b97d(_0x367051,_0x1c9c9c);},'mAxDC':function(_0x19dc50,_0x5135a7){return _0x19dc50+_0x5135a7;},'mVEwt':function(_0x52b329,_0x2cb847){return _0x52b329(_0x2cb847);},'alBpQ':function(_0x481da0,_0x2e58c9){return _0x481da0(_0x2e58c9);},'rIhHY':_0x49b82b(0xb9,0x15a,0x111,0x14c),'zDzda':function(_0x5828d0){return _0x5828d0();},'xnJVF':function(_0x8803c8,_0x8e517d){return _0x8803c8===_0x8e517d;},'TDPDD':_0x49b82b(0x181,0x19e,0xca,0x155),'ZJnfE':'jiuguan','Dbxck':function(_0x54cbf1,_0x3cca91,_0x12e67d){return _0x54cbf1(_0x3cca91,_0x12e67d);},'SxLYc':'/api/sd/ge'+'t-model','OwppB':function(_0x50182e,_0x35b701){return _0x50182e(_0x35b701);},'CqVCz':function(_0x24b848,_0x401e7a){return _0x24b848(_0x401e7a);},'QkCdO':_0x264442(-0xf4,-0xc2,-0x11e,-0x98)+_0x264442(-0x29,-0x8d,-0x101,-0x115),'RRKvv':_0x264442(-0x74,-0x71,-0xc2,0x21)+_0x49b82b(0x98,0x137,0x16d,0x127)+_0x49b82b(0x19e,0x14b,0x1d8,0x195)+_0x49b82b(0x214,0x198,0x27e,0x1fa),'kFhXN':function(_0x525209,_0x3fa5cb){return _0x525209!=_0x3fa5cb;},'nMtPX':_0x49b82b(0x1f4,0x159,0x118,0x196),'lTATT':'qqXCN','WLypG':_0x264442(-0x168,-0x10a,-0xc7,-0x149),'FpsBc':function(_0x59862e,_0xda1204){return _0x59862e===_0xda1204;},'FDsbO':function(_0x19ab99,_0x333177,_0x2e5066){return _0x19ab99(_0x333177,_0x2e5066);},'JBhBz':function(_0x32702b,_0x44a206){return _0x32702b(_0x44a206);},'ncSTT':function(_0x1689cb,_0x3a2f18){return _0x1689cb(_0x3a2f18);},'iKQtx':function(_0x821ced,_0x31a64b){return _0x821ced(_0x31a64b);},'UEFKt':function(_0xa32295,_0x20cd7a){return _0xa32295(_0x20cd7a);},'BCOCW':function(_0x4a1409,_0x33d7bc){return _0x4a1409(_0x33d7bc);},'NzBSC':function(_0x1857b2,_0x50301a){return _0x1857b2==_0x50301a;},'ebtmo':_0x264442(-0xc1,-0x63,-0xe,0x2f),'PJuar':function(_0x4fd89f,_0x3b6111){return _0x4fd89f==_0x3b6111;},'LLcxN':function(_0x5cd92b,_0x4ff40f){return _0x5cd92b(_0x4ff40f);},'EiuiG':function(_0x1e68f2,_0x211f4a){return _0x1e68f2(_0x211f4a);},'kunGn':_0x49b82b(0x14e,0x1ee,0x141,0x1be)+'face\x20为开启','lMHbk':'face_yolov'+_0x49b82b(0x14a,0xb6,0x163,0x12c),'VDKLN':_0x49b82b(0x1c0,0xce,0xaa,0x130),'fFaon':function(_0x871919,_0x45300c){return _0x871919==_0x45300c;},'zhYeF':_0x49b82b(0x146,0xef,0x193,0x14e),'XbNKc':function(_0x555ffd){return _0x555ffd();},'XGkaf':'payst_chat'+'u8_sd_auth'+_0x264442(-0x8,-0xa3,-0xe3,-0x41),'TzZUd':function(_0x485a0c,_0xd41380,_0x5e53c5){return _0x485a0c(_0xd41380,_0x5e53c5);},'VJtqk':_0x264442(-0x4,-0x1d,-0x1e,0x25)+_0x264442(-0x50,-0x77,-0x26,-0x40),'AmWVZ':function(_0x3795d5,_0x26cf9d){return _0x3795d5(_0x26cf9d);},'QobhP':function(_0x45098a,_0x258dae){return _0x45098a!==_0x258dae;},'OzmEz':_0x264442(-0xc9,-0x9d,-0x131,-0x44),'pKuZu':function(_0x6a9ea6,_0x22b6e8){return _0x6a9ea6(_0x22b6e8);},'CcEPG':'ugCms','AlSxS':_0x49b82b(0x1a1,0x194,0x24c,0x1fc),'ZBmQq':_0x264442(0x2a,-0x40,0xe,-0xb6)+_0x264442(0x16,-0x12,-0x52,-0x38)+_0x49b82b(0x201,0x257,0x220,0x1d2),'wsgUr':function(_0x21b192,_0x2290b7){return _0x21b192+_0x2290b7;},'PgmBS':_0x264442(-0xe6,-0xdd,-0xc0,-0x112)+_0x49b82b(0xf2,0xe0,0x13c,0x172)+'4,','uyBij':function(_0x4784d6,_0x473a27){return _0x4784d6||_0x473a27;},'JfUOR':function(_0x421b7f,_0x2df3b1){return _0x421b7f===_0x2df3b1;},'Vjybu':_0x49b82b(0x125,0x1ad,0xc6,0x13b),'HHzuE':_0x49b82b(0x1c0,0x247,0x1a0,0x1de)+_0x264442(-0xaf,-0xcf,-0x168,-0xc6),'fLjww':function(_0x276795,_0x3c05b3,_0x1615c4){return _0x276795(_0x3c05b3,_0x1615c4);},'HSCfE':_0x264442(0xb,-0x62,-0x87,-0x2c)+_0x49b82b(0x1ee,0x150,0x19e,0x158),'bsqIp':function(_0x1bd55f){return _0x1bd55f();},'HyNrT':_0x264442(-0xb8,-0x19,0x72,-0x81),'etaJn':_0x264442(-0x130,-0xde,-0xea,-0x6e),'rWFny':_0x49b82b(0x11a,0x14e,0x211,0x1a9),'BfJGe':'API响应中未找到图'+'像数据。','sUqET':function(_0x5066ba,_0x408eb5){return _0x5066ba(_0x408eb5);},'occfZ':_0x264442(-0x2a,-0x59,-0x5e,-0x58)+_0x264442(-0x10d,-0x13d,-0xa0,-0x191)+'L。','pgBlP':function(_0x294d93,_0x404ed0){return _0x294d93||_0x404ed0;},'RIbeM':_0x264442(-0x132,-0x10f,-0x7b,-0x85)};let _0x5904f7=_0x5a5fba;_0x4f64f6=_0x1657b4[_0x264442(-0xe1,-0x6d,-0xb6,-0x7f)](processCharacterPrompt,_0x4f64f6),_0x4f64f6=await stripChineseAnnotations(_0x4f64f6),_0x5a5fba=_0x1657b4[_0x264442(-0x42,-0x91,0x7,-0xe9)](processCharacterPrompt,_0x5a5fba);function _0x49b82b(_0x1ed031,_0x36bd2e,_0x743c8,_0x339667){return _0x5310(_0x339667- -0xa0,_0x36bd2e);}_0x5a5fba=await stripChineseAnnotations(_0x5a5fba);const _0xea57b0=extension_settings[extensionName][_0x49b82b(0x257,0x24f,0x232,0x230)][_0x49b82b(0x103,0xa7,0x10a,0x132)](),_0x4edf85=extension_settings[extensionName];clearLog(),_0x1657b4[_0x49b82b(0xb4,0x78,0x12d,0x100)](addLog,_0x49b82b(0x19f,0x15b,0x19f,0x115)+'i生成图片...客户'+'端为'+_0x4edf85['client']+_0x264442(-0x99,-0xd5,-0x44,-0x169)+_0x4edf85[_0x264442(-0x93,-0xaf,-0x142,-0xbb)+_0x49b82b(0x1c7,0x296,0x1ff,0x1fa)]);const _0x138f80=_0x5a5fba&&_0x1657b4['cqSGJ'](_0x5a5fba['trim'](),'')?_0x5a5fba:_0x4f64f6;addLog(_0x264442(-0x10d,-0xb0,-0x130,-0xdc)+_0x138f80);let _0x53b30f=![];_0x138f80[_0x49b82b(0x1e5,0x1f8,0x20e,0x1e3)](_0x1657b4[_0x49b82b(0xcd,0x1d4,0x1d5,0x16a)])&&(_0x1657b4[_0x49b82b(0x1f5,0x209,0x12c,0x1b4)]!==_0x1657b4[_0x49b82b(0x1b7,0x1a0,0x1d7,0x1b4)]?_0x3ae54b['Character\x20'+_0x403a22+_0x264442(0x18,-0x56,-0x5b,-0x1e)]&&(_0x136e72=_0x1657b4['sgdUX'](_0x404253+',\x20',_0x1e74f7(_0x42e067['Character\x20'+_0x554d8a+'\x20Prompt']))):_0x53b30f=!![]);_0x1657b4[_0x264442(-0xb8,-0x4c,-0x7f,-0x6c)](addLog,'是否启用分角色模式\x20'+_0x49b82b(0x1ac,0x116,0x128,0x121)+_0x49b82b(0x1d5,0x16d,0x235,0x1c2)+_0x53b30f);let _0x37745a={},_0x124b96='',_0x18918f='';function _0x264442(_0x36b977,_0x406164,_0x57b4fc,_0x58486f){return _0x5310(_0x406164- -0x2e4,_0x58486f);}if(_0x53b30f){_0x1657b4[_0x264442(-0x114,-0x12c,-0x1a1,-0x196)](addLog,_0x1657b4[_0x49b82b(0x1fe,0x230,0x237,0x1c4)]),_0x37745a=_0x1657b4[_0x49b82b(0xf5,0x148,0x162,0x118)](parsePromptStringWithCoordinates,_0x138f80),_0x124b96=_0x37745a[_0x49b82b(0x29e,0x1c4,0x221,0x22f)+_0x264442(-0xcf,-0xc5,-0xa5,-0x42)];for(let _0x4df71f=-0x48+0x83*-0x26+0x13bb*0x1;_0x1657b4['QDwRO'](_0x4df71f,0x1*0x199d+-0x1*-0x18c7+-0x3260);_0x4df71f++){if(_0x1657b4[_0x264442(-0xeb,-0x11b,-0x12c,-0x195)](_0x264442(0x1a,-0xb,0x5,-0x79),_0x1657b4['hUyCq'])){if(_0x37745a[_0x49b82b(0xf4,0xc1,0xd1,0x11a)+_0x4df71f+_0x49b82b(0x185,0x22e,0x1d5,0x1ee)]){if(_0x1657b4[_0x264442(-0xc3,-0x11b,-0x18c,-0x152)]('sLkeE',_0x1657b4[_0x264442(-0xb1,-0x1c,0x1e,0x41)])){_0x1657b4['KUBeZ'](_0x8c527c,_0x49b82b(0xcf,0x127,0xa7,0x102)+_0x4322ce[_0x264442(-0xc0,-0x70,0x23,-0x36)]+'\x20'+_0x5a3708[_0x49b82b(0x135,0x150,0x172,0x1a4)]);throw new _0x5b3ac8(_0x264442(-0x103,-0x142,-0x1a2,-0xba)+_0x5b6ceb[_0x264442(-0xd3,-0x70,0xa,-0xc5)]+'\x20'+_0x1acb26[_0x49b82b(0x11e,0x15c,0x21f,0x1a4)]);}else _0x18918f=_0x1657b4[_0x49b82b(0x209,0x17e,0x1f7,0x1cf)](_0x1657b4[_0x264442(0x32,-0x2c,-0x9f,-0x92)](_0x18918f,',\x20'),_0x37745a[_0x49b82b(0xc1,0x184,0x10e,0x11a)+_0x4df71f+_0x264442(-0xd,-0x56,-0x88,-0x2a)]);}}else{const _0xcaa1cd=_0x3b702d[_0x49b82b(0x11f,0x69,0xe5,0x104)](_0x5371b9);_0x12eada=_0xcaa1cd['images'][-0x139*0x10+-0x158a+0x291a];}}}else _0x1657b4[_0x49b82b(0x212,0x16f,0x106,0x198)](addLog,_0x1657b4[_0x264442(-0xe8,-0x4b,-0x5e,-0xe7)]),_0x124b96=_0x138f80;let {modifiedPrompt:_0x1777b7,insertions:_0x3b85a1}=await _0x1657b4[_0x49b82b(0x73,0xee,0x11d,0x110)](prompt_replace,_0x124b96,_0x18918f);if(_0x53b30f)for(let _0x4e1a66=-0x1bc6+-0x2599+0x20b*0x20;_0x4e1a66<=0xb5*-0x25+0x1c29+-0x1fc;_0x4e1a66++){_0x37745a[_0x264442(-0xfa,-0x12a,-0xbd,-0x181)+_0x4e1a66+_0x49b82b(0x1c5,0x1c0,0x25e,0x1ee)]&&(_0x1777b7=_0x1657b4[_0x264442(-0x115,-0xc8,-0x150,-0xc6)](_0x1657b4['sgdUX'](_0x1777b7,',\x20'),_0x1657b4[_0x264442(-0x40,-0x79,-0x3b,-0x46)](prompt_replace_for_character,_0x37745a[_0x264442(-0xf1,-0x12a,-0xc9,-0x128)+_0x4e1a66+_0x49b82b(0x151,0x1f0,0x21b,0x1ee)])));}let _0x25d36f=await zhengmian(extension_settings[extensionName][_0x264442(-0x98,-0x137,-0x1c3,-0x1b3)][extension_settings[extensionName][_0x264442(-0x8f,-0x16,-0x55,-0x62)]][_0x264442(-0xf4,-0xa4,-0x69,-0xc5)+'t'],_0x1777b7,extension_settings[extensionName]['yushe'][extension_settings[extensionName][_0x264442(0x24,-0x16,0x6e,-0x8b)]][_0x49b82b(0x1c6,0x1ae,0x1f7,0x1a0)+_0x264442(0x6a,-0x1e,0x37,0x6e)],extension_settings[extensionName][_0x49b82b(0x1a4,0xf1,0x1cb,0x18c)],_0x3b85a1),_0x158cf2=await _0x1657b4[_0x49b82b(0x93,0x137,0x98,0x110)](fumian,extension_settings[extensionName][_0x264442(-0xaf,-0x137,-0x12d,-0x154)][extension_settings[extensionName][_0x264442(0x2e,-0x16,-0x85,-0xad)]][_0x49b82b(0x1f4,0x1b7,0x1c4,0x15a)+_0x264442(0x55,-0x39,-0xd2,0x13)],extension_settings[extensionName][_0x264442(-0x146,-0x12e,-0x19f,-0xde)]);_0x1657b4[_0x264442(-0x138,-0x131,-0x12c,-0x1a0)](addLog,_0x264442(-0x97,-0xeb,-0x53,-0xa3)+_0x158cf2),extension_settings['sd'][_0x1657b4[_0x49b82b(0x1bd,0x1e9,0x1af,0x207)]]=_0xea57b0,await _0x1657b4[_0x264442(-0x2d,-0x5f,-0x40,-0x76)](saveSettingsDebounced);try{if(_0x1657b4[_0x49b82b(0x271,0x27a,0x233,0x1f4)](_0x1657b4['TDPDD'],_0x1657b4[_0x264442(-0xdb,-0x5d,0x2d,-0xd7)])){if(_0x4edf85['client']===_0x1657b4['ZJnfE']){const _0x3b3817={};_0x3b3817[_0x264442(0x84,-0xc,0x37,-0x5b)]=_0x4edf85['st_chatu8_'+_0x264442(-0x10e,-0xa9,-0x52,-0x111)]?_0x4edf85['st_chatu8_'+_0x264442(-0x10a,-0xa9,-0x127,-0x123)]:'',_0x3b3817[_0x49b82b(0x18b,0x236,0x1e5,0x222)]=_0xea57b0;const _0x191a8c=await _0x1657b4['Dbxck'](fetch,_0x1657b4[_0x264442(-0x16b,-0x106,-0x17a,-0xff)],{'method':_0x49b82b(0x188,0x1f5,0x17f,0x196),'body':JSON[_0x264442(-0xd9,-0xe9,-0x152,-0xc8)](_0x3b3817),'headers':_0x1657b4[_0x264442(-0x13f,-0x102,-0x75,-0x17a)](getRequestHeaders,window[_0x264442(-0x3a,-0xc4,-0x13b,-0xf6)])});if(!_0x191a8c['ok']){_0x1657b4[_0x264442(-0x39,-0x1f,-0x6c,0x6c)](addLog,_0x49b82b(0x22e,0x156,0x110,0x193)+_0x191a8c[_0x264442(-0x1d,-0x70,-0x86,-0x7)]+'\x20'+_0x191a8c[_0x49b82b(0x1dc,0x191,0x124,0x1a4)]);throw new Error(_0x264442(-0xdb,-0xb1,-0xa9,-0x4e)+_0x191a8c[_0x49b82b(0x24f,0x1e7,0x173,0x1d4)]+'\x20'+_0x191a8c[_0x49b82b(0x1b5,0x21c,0x132,0x1a4)]);}let _0x48fad2=await _0x191a8c[_0x264442(-0xe,-0x69,-0x14,0x24)]();console[_0x49b82b(0x141,0x223,0x21c,0x1d8)](_0x1657b4[_0x49b82b(0x290,0x1fc,0x285,0x214)],_0x48fad2),console[_0x49b82b(0x1e4,0x1c2,0x1db,0x1d8)](_0x1657b4[_0x49b82b(0xa0,0x164,0x16e,0x134)],_0x4edf85[_0x264442(-0x125,-0xaf,-0x9c,-0xc5)+_0x264442(-0x44,-0x4a,0x3b,-0xe0)]);if(_0x1657b4[_0x264442(-0xac,-0x7a,-0x77,-0xd9)](_0x48fad2,_0x4edf85[_0x264442(-0x59,-0xaf,-0x74,-0xa7)+_0x264442(0x1c,-0x4a,0xd,-0xca)])){addLog('正在设置模型为'+_0x4edf85[_0x264442(-0x52,-0xaf,-0x12d,-0xff)+_0x49b82b(0x285,0x21e,0x1e7,0x1fa)]+_0x49b82b(0x142,0x1dd,0x20a,0x177)),toastr['info'](_0x49b82b(0x130,0xc6,0x157,0x151)+_0x4edf85['sd_cchatu_'+_0x264442(-0x49,-0x4a,-0x56,-0x49)]);const _0x27f6ef={};_0x27f6ef[_0x264442(0x49,-0xc,-0x79,0xb)]=_0x4edf85[_0x49b82b(0xa6,0xd0,0x1bd,0x11e)+'sd_auth']?_0x4edf85[_0x49b82b(0x171,0x12e,0xa6,0x11e)+_0x264442(-0x2a,-0xa9,-0x21,-0x6e)]:'',_0x27f6ef['url']=_0xea57b0,_0x27f6ef[_0x264442(-0x118,-0xd6,-0x101,-0xac)]=_0x4edf85[_0x264442(-0x5d,-0xaf,-0x100,-0x97)+_0x264442(0xa,-0x4a,-0x83,0x15)];const _0xbf4a6=await _0x1657b4[_0x49b82b(0xdb,0x110,0x98,0x110)](fetch,_0x49b82b(0x20f,0x215,0x1b4,0x1ce)+'t-model',{'method':_0x1657b4['nMtPX'],'body':JSON['stringify'](_0x27f6ef),'headers':_0x1657b4['bmMDX'](getRequestHeaders,window[_0x264442(-0x88,-0xc4,-0x58,-0xaa)])});if(!_0xbf4a6['ok']){_0x1657b4[_0x264442(-0x64,-0x1f,-0x9f,-0x3f)](addLog,_0x264442(-0x167,-0x142,-0x10e,-0x1be)+_0xbf4a6[_0x49b82b(0x1bf,0x1ab,0x23c,0x1d4)]+'\x20'+_0xbf4a6[_0x264442(-0xbd,-0xa0,-0x37,-0x129)]);throw new Error(_0x49b82b(0x86,0x100,0x15e,0x102)+_0xbf4a6[_0x49b82b(0x210,0x1c9,0x1e9,0x1d4)]+'\x20'+_0xbf4a6[_0x49b82b(0x1c1,0x1d8,0x1a6,0x1a4)]);}toastr[_0x264442(-0x2c,-0xa1,-0x12f,-0xf1)](_0x49b82b(0xd9,0x161,0x1de,0x14a)+_0x4edf85[_0x49b82b(0x137,0x222,0x118,0x195)+'8_model']+'成功');}}else{if(_0x1657b4[_0x264442(-0x16b,-0xcc,-0x3d,-0x9d)]===_0x1657b4[_0x49b82b(0x127,0x14e,0x1f6,0x199)])_0x33af57['on'](_0xd68dd7,_0x4c1115);else{let _0x1692a5=await getSDMode(_0xea57b0);if(_0x1657b4[_0x264442(0x15,-0x7a,-0x34,-0x17)](_0x1692a5,_0x4edf85[_0x264442(-0x92,-0xaf,-0xfa,-0x14)+_0x264442(-0xb0,-0x4a,-0xe0,-0x65)])){if(_0x1657b4[_0x264442(0x6,-0x78,-0x55,-0x2b)](_0x264442(0x20,-0x21,0x7b,-0x3d),_0x49b82b(0x1c2,0x199,0x1e1,0x147))){_0x1657b4[_0x264442(-0x13e,-0xc6,-0xd9,-0x33)](_0x58b95d,'获取模型失败:\x20'+_0x428e15[_0x264442(-0xeb,-0x70,-0x27,-0xf2)]+'\x20'+_0x484621[_0x49b82b(0x196,0x1c8,0x1f2,0x1a4)]);throw new _0x327a8a(_0x49b82b(0x10d,0x1c6,0x115,0x193)+_0x3463a4['status']+'\x20'+_0x4ecc4f[_0x264442(-0x119,-0xa0,-0xda,-0xcf)]);}else _0x1657b4['KUBeZ'](addLog,'正在切换模型为'+_0x4edf85[_0x264442(-0x47,-0xaf,-0x9e,-0x7d)+_0x49b82b(0x214,0x1d8,0x1e4,0x1fa)]+_0x264442(-0x100,-0xcd,-0x31,-0x131)),await _0x1657b4[_0x49b82b(0x185,0x294,0x1aa,0x224)](setSDMode,_0xea57b0,_0x4edf85[_0x49b82b(0x16e,0x215,0x126,0x195)+_0x264442(0x23,-0x4a,0x38,0x3d)]);}}}}else _0x1fc084['initialize'+_0x49b82b(0x180,0x1ad,0x20d,0x1b6)]=!![],_0x21145b();}catch(_0xeccaad){_0x1657b4[_0x49b82b(0x1a1,0xa0,0xec,0x10b)](addLog,_0x49b82b(0x1ff,0xfe,0x11c,0x169)+':\x20'+_0xeccaad[_0x264442(-0x3b,-0xa8,-0x12a,-0x76)]+('。请检查sdwebu'+_0x264442(-0x150,-0xf2,-0x90,-0x67)+_0x49b82b(0x1fa,0x20d,0x2ae,0x210)));throw new Error(_0x264442(-0xb8,-0xdb,-0x131,-0x144)+_0x49b82b(0xd0,0x14a,0xed,0x163)+_0x49b82b(0x107,0x195,0x111,0x152)+'查模型是否正确。');}let _0x2fb57d=-(0x11a2+-0x2c+0x29*-0x6d);const _0x559f59=_0x4edf85[_0x264442(-0x43,-0x89,-0xf,-0xf9)];_0x1657b4['cqSGJ'](_0x559f59,'')&&_0x559f59!==null&&!_0x1657b4['ncSTT'](isNaN,_0x1657b4[_0x49b82b(0x22b,0x2a2,0x17b,0x208)](Number,_0x559f59))&&_0x1657b4[_0x49b82b(0x12f,0x11a,0x1e6,0x18f)](Number,_0x559f59)>=-0x8a*0x17+0x64e+0xc3*0x8&&(_0x2fb57d=_0x1657b4[_0x264442(-0x127,-0x10c,-0x195,-0x156)](Number,_0x559f59));let _0x4867f7={'prompt':_0x25d36f,'negative_prompt':_0x158cf2,'sampler_name':_0x4edf85[_0x264442(-0x76,-0xaf,-0x7a,-0x71)+'8_samplerN'+_0x264442(-0x184,-0xf5,-0x8d,-0x15d)],'scheduler':_0x4edf85['sd_cchatu_'+_0x49b82b(0x18f,0x200,0x24f,0x1dd)+'r'],'steps':_0x4edf85[_0x264442(-0x4a,-0x26,-0xc,-0x9)],'cfg_scale':_0x4edf85[_0x264442(-0xbc,-0x11a,-0x121,-0xbc)],'width':_0x356c12?_0x356c12:_0x4edf85[_0x264442(-0x1c4,-0x135,-0x148,-0xff)],'height':_0x30fe64?_0x30fe64:_0x4edf85[_0x264442(-0x8b,-0xd,-0x4e,-0x4e)],'restore_faces':_0x1657b4[_0x264442(-0xc5,-0x8c,-0xe,-0x118)](_0x4edf85[_0x49b82b(0x180,0xca,0x113,0x143)+'es'],_0x1657b4[_0x264442(-0xb2,-0x74,0x19,-0xaf)]),'enable_hr':_0x1657b4[_0x49b82b(0x19b,0x2af,0x1fc,0x23a)](_0x4edf85[_0x49b82b(0x17a,0x1d1,0x1bc,0x209)+'fix'],_0x1657b4[_0x264442(-0x3b,-0x74,-0x3a,-0xb7)]),'hr_upscaler':_0x4edf85['sd_cchatu_'+'8_upscaler'],'hr_scale':_0x4edf85[_0x49b82b(0x105,0xc9,0x177,0x13d)+_0x49b82b(0x23b,0x202,0x1fd,0x1bf)],'hr_additional_modules':[],'denoising_strength':_0x4edf85[_0x49b82b(0x1d8,0x1e1,0x182,0x1fd)+'ing_streng'+'th'],'hr_second_pass_steps':_0x4edf85[_0x49b82b(0x1a2,0x215,0x29e,0x209)+_0x49b82b(0x129,0x206,0x1ef,0x183)],'seed':_0x2fb57d,'override_settings':{'CLIP_stop_at_last_layers':_0x1657b4['LLcxN'](Number,_0x4edf85[_0x264442(-0xc2,-0x57,-0x3a,-0xdb)+_0x49b82b(0x183,0xd2,0x145,0x111)]),'sd_vae':_0x4edf85['sd_cchatu_'+'8_vae']},'override_settings_restore_afterwards':!![],'save_images':!![],'send_images':!![],'do_not_save_grid':![],'do_not_save_samples':![]};_0x1657b4[_0x49b82b(0xb0,0x13e,0x187,0x133)](addLog,_0x49b82b(0x181,0x17e,0x1ae,0x16d)+_0x49b82b(0x286,0x279,0x27d,0x1e9)+_0x4867f7[_0x49b82b(0x16c,0x157,0x1a8,0x16d)+_0x264442(-0x4c,-0xbd,-0x103,-0x15b)]),addLog('enable_hr\x20'+'高清修复\x20为'+_0x4867f7[_0x49b82b(0x23a,0x2b5,0x1d2,0x23b)]);_0x4edf85['sd_cadetai'+_0x264442(-0x1a2,-0x125,-0x13a,-0x86)]==_0x1657b4[_0x264442(-0x64,-0x74,-0x29,0x17)]&&(_0x1657b4[_0x264442(-0x10b,-0x6d,-0x8f,0x25)](addLog,_0x1657b4[_0x264442(-0xc9,-0x98,-0x3f,-0x75)]),_0x4867f7=_0x1657b4[_0x264442(-0xfa,-0x134,-0x1c6,-0xb4)](deepMerge,_0x4867f7,{'alwayson_scripts':{'ADetailer':{'args':[!![],!![],{'ad_model':_0x1657b4[_0x264442(-0x20,-0x6a,0x19,-0xff)]}]}}}));const _0xeee7c9=_0x49b82b(0x228,0x1fe,0x251,0x1c7)+'图参数报告\x0a-\x20**'+_0x264442(-0x133,-0xc0,-0x133,-0x6d)+_0x49b82b(0x16d,0x24b,0x24f,0x1e8)+_0x25d36f+(_0x49b82b(0x1b6,0x11e,0x13f,0x174)+_0x49b82b(0x15f,0xa6,0xbc,0x12e)+_0x49b82b(0x1a4,0x20a,0x17c,0x20a)+'\x20')+_0x158cf2+('\x0a-\x20**采样方法\x20'+_0x49b82b(0x247,0x19a,0x277,0x21a)+_0x49b82b(0xcf,0xd2,0x1a3,0x160))+_0x4867f7[_0x264442(0xc,-0x46,-0x63,-0x16)+'me']+('\x0a-\x20**步数\x20(S'+_0x264442(-0x71,-0x10e,-0x9c,-0x14e))+_0x4867f7[_0x49b82b(0x208,0x181,0x18e,0x183)]+(_0x264442(-0xb4,-0x68,-0xf6,-0xd3)+_0x264442(-0x9a,-0x18,0x5e,-0x34))+_0x4867f7[_0x264442(0x67,-0x36,-0x7b,-0x2d)]+(_0x49b82b(0x18b,0x1e0,0x25c,0x1f1)+'ize):**\x20')+_0x4867f7[_0x49b82b(0x1ca,0x1b8,0xf4,0x139)]+'x'+_0x4867f7[_0x49b82b(0x237,0x1c4,0x1cb,0x1df)]+(_0x49b82b(0x161,0x19d,0x1e9,0x1f5)+_0x264442(-0x2e,-0x10,-0x43,-0xc))+(_0x1657b4[_0x264442(0x1a,-0x78,-0x13,-0x11)](_0x4867f7['seed'],-(0x3*0xbb7+0x2709*-0x1+-0x1*-0x3e5))?_0x1657b4[_0x49b82b(0x1ec,0x142,0x1e8,0x1ae)]:_0x4867f7[_0x49b82b(0x199,0x1d6,0xf7,0x18a)])+(_0x49b82b(0x2b1,0x283,0x27c,0x233)+_0x264442(-0xdc,-0xfb,-0x15e,-0x186))+_0x4edf85[_0x49b82b(0x1d7,0x118,0x1df,0x195)+_0x49b82b(0x1cd,0x23e,0x1ec,0x1fa)]+(_0x264442(-0xe4,-0x84,-0xf,0x18)+'*\x20')+_0x4867f7['override_s'+_0x264442(-0x96,-0xf7,-0x9c,-0xe3)][_0x264442(-0x17,-0x4d,-0xe1,0x28)]+('\x0a-\x20**Clip\x20'+_0x49b82b(0x248,0x247,0x199,0x1e4))+_0x4867f7[_0x49b82b(0x1db,0xa2,0x120,0x13f)+'ettings'][_0x264442(-0x14e,-0x127,-0x15f,-0x102)+_0x264442(-0x137,-0xe7,-0x16d,-0x106)+_0x49b82b(0x1b3,0x13f,0xee,0x15f)]+(_0x264442(-0x3c,-0x54,0x44,-0xc2)+_0x264442(0x3b,-0x51,-0x25,0x3a)+_0x49b82b(0x245,0x167,0x274,0x1e0))+_0x4867f7['enable_hr']+(_0x49b82b(0x2b0,0x1b2,0x2bc,0x21f)+_0x49b82b(0x14a,0xfc,0x1a9,0x186)+_0x49b82b(0x175,0x134,0xad,0x10e))+_0x4867f7[_0x264442(-0x1b8,-0x13c,-0xe4,-0xb1)]+(_0x264442(-0x11c,-0x13e,-0x12c,-0xaf)+_0x49b82b(0x226,0x1a5,0x233,0x1e6)+'\x20Strength)'+_0x264442(-0x15,-0x5a,0x13,-0x7))+_0x4867f7[_0x264442(0x5b,-0x42,-0x62,0x3a)+_0x49b82b(0x199,0x1d4,0x29e,0x20d)]+(_0x264442(-0x66,-0xd3,-0xf9,-0x101)+_0x49b82b(0x212,0x219,0x131,0x192)+_0x264442(-0xf2,-0x58,-0x2b,-0x77))+_0x4867f7[_0x49b82b(0x12f,0x15d,0x117,0x16d)+_0x49b82b(0x1ce,0x1f8,0x1bb,0x187)]+(_0x49b82b(0xaa,0xfe,0x15e,0x105)+_0x264442(-0x145,-0xdc,-0x86,-0x149))+_0x1657b4[_0x49b82b(0x26a,0x153,0x161,0x1d9)](_0x4edf85[_0x49b82b(0xb4,0x18c,0x112,0x146)+_0x264442(-0x17a,-0x125,-0x18f,-0x13a)],_0x264442(0x27,-0x63,-0x57,-0xcd))+_0x49b82b(0x122,0x1da,0x1b4,0x165);addLog(_0xeee7c9),_0x1657b4[_0x49b82b(0x247,0x159,0x16a,0x1cb)](addLog,'sdwebui生图参'+'数为'+JSON[_0x264442(-0x63,-0xe9,-0x113,-0x17a)](_0x4867f7)),console['log'](_0x1657b4[_0x264442(-0x16b,-0x129,-0x169,-0xa1)],_0x4867f7),await waitForLock(),_0x1657b4[_0x264442(-0x1c9,-0x130,-0x1b6,-0xb7)](acquireLock);try{if(_0x4edf85[_0x49b82b(0x11d,0x164,0x218,0x17a)]===_0x1657b4[_0x49b82b(0x13d,0x1e6,0x12e,0x1c5)]){_0x4867f7[_0x49b82b(0x212,0x21a,0x1ed,0x222)]=_0xea57b0,console[_0x49b82b(0x20c,0x180,0x249,0x1d8)](_0x1657b4['XGkaf'],_0x4edf85['st_chatu8_'+_0x49b82b(0x194,0x1e9,0x14b,0x19b)]),_0x4867f7[_0x49b82b(0x25d,0x257,0x232,0x238)]=_0x4edf85[_0x264442(-0x135,-0x126,-0x110,-0x122)+_0x264442(-0x9e,-0xa9,-0xcd,-0x136)]?_0x4edf85[_0x264442(-0xa4,-0x126,-0x10d,-0x170)+_0x264442(-0xc0,-0xa9,-0xa,-0x8a)]:'';const _0xddd8d1=await _0x1657b4[_0x264442(-0x10c,-0xa6,-0x2c,-0x11f)](fetch,_0x1657b4['VJtqk'],{'method':_0x1657b4[_0x49b82b(0xfa,0x16d,0xfd,0x117)],'headers':_0x1657b4['AmWVZ'](getRequestHeaders,window['token']),'body':JSON[_0x264442(-0x16e,-0xe9,-0xf3,-0xf2)](_0x4867f7)});if(!_0xddd8d1['ok']){if(_0x1657b4[_0x264442(-0x50,-0xee,-0xd5,-0x113)]('BPXwR',_0x1657b4[_0x49b82b(0x1d8,0x1ad,0x202,0x16c)])){if(_0xb95f30){const _0x5c0e46=_0x44fac9[_0x264442(-0x76,-0x3e,-0x8f,0x2d)](_0x3a7071,arguments);return _0x1ef5ce=null,_0x5c0e46;}}else{const _0x5a2451=await _0xddd8d1['text']();_0x1657b4[_0x49b82b(0x115,0x1b2,0x193,0x12d)](addLog,_0x264442(-0x128,-0x100,-0x63,-0x98)+_0x49b82b(0x114,0x1be,0x13c,0x189)+_0xddd8d1[_0x264442(-0xd4,-0x70,0x19,-0x85)]+'。响应内容:\x20'+_0x5a2451),console[_0x264442(0xe,-0x6c,-0x84,-0x87)](_0x49b82b(0x141,0x10f,0x13f,0x166),_0x5a2451);throw new Error(_0x49b82b(0x163,0x163,0x1a0,0x10a)+_0xddd8d1[_0x49b82b(0x21d,0x1c4,0x208,0x1d4)]+_0x264442(-0xaa,-0x11e,-0x108,-0x16b)+_0x5a2451);}}const _0xd6406e=await _0xddd8d1[_0x264442(-0xe,-0x69,-0x7,-0xe5)]();let _0x47a7f7='';try{if(_0x1657b4[_0x49b82b(0x1c5,0x129,0x10c,0x153)]===_0x1657b4[_0x264442(0x2a,-0x45,0x55,0x37)])_0x4d5056=_0x1657b4[_0x49b82b(0x150,0x170,0x1af,0x1cf)](_0x1657b4[_0x264442(-0xf3,-0x75,-0x34,-0xfd)](_0x381a0c,',\x20'),_0x576b94[_0x264442(-0x175,-0x12a,-0xa6,-0xd0)+_0x4d9abd+'\x20Prompt']);else{const _0x69ca90=JSON[_0x49b82b(0xa9,0x14c,0x69,0x104)](_0xd6406e);_0x47a7f7=_0x69ca90[_0x264442(-0x6,-0x44,-0x6b,-0x5b)][0x56e+0x1*0xae1+0xa7*-0x19];}}catch(_0x307ac7){_0x1657b4[_0x49b82b(0x137,0xb4,0xbf,0x109)](addLog,_0x1657b4[_0x49b82b(0x11b,0x181,0x1ab,0x18b)]),_0x47a7f7=_0xd6406e;}const _0x1eaa68=_0x1657b4[_0x49b82b(0x1bc,0x247,0x184,0x1c8)](_0x1657b4['PgmBS'],_0x47a7f7);return addLog(_0x264442(-0xc7,-0x59,-0x8f,-0x1d)+'化为\x20data\x20UR'+'L。'),{'image':_0x1eaa68,'change':_0x1657b4[_0x264442(-0x16a,-0x12b,-0xa0,-0x146)](_0x5a5fba,'')};}else{if(_0x1657b4[_0x264442(-0xf8,-0x10d,-0x141,-0x197)](_0x264442(-0xc6,-0xf4,-0xc5,-0x171),_0x1657b4['Vjybu'])){_0x1657b4['xnpHy'](_0x29106b,_0x49b82b(0x198,0x1bb,0x1fc,0x169)+':\x20'+_0x44bd6f[_0x49b82b(0x1d9,0x141,0x1a0,0x19c)]+('。请检查sdwebu'+_0x264442(-0x99,-0xf2,-0x182,-0xd6)+_0x49b82b(0x273,0x232,0x1fc,0x210)));throw new _0x303be9('获取或者切换模型失败'+'，请检查sdwebu'+_0x49b82b(0x109,0x108,0x1e4,0x152)+_0x264442(-0x34,-0x34,-0x7a,0x37));}else{const _0x1de0e2=new URL(_0x1657b4[_0x49b82b(0x26d,0x14b,0x1a3,0x1cf)](_0xea57b0,_0x1657b4[_0x49b82b(0x104,0xfe,0x107,0x14b)])),_0x4b02f4=await _0x1657b4[_0x49b82b(0x13b,0x154,0x1c4,0x1ab)](fetch,_0x1de0e2,{'method':_0x49b82b(0x117,0x229,0x146,0x196),'body':JSON[_0x49b82b(0xdd,0x126,0xfa,0x15b)](_0x4867f7),'headers':{'Content-Type':_0x1657b4['HSCfE'],'Authorization':_0x1657b4[_0x264442(0x4f,-0x33,-0x3,-0x3e)](getsdAuth)}});releaseLock();if(!_0x4b02f4['ok']){if(_0x1657b4[_0x49b82b(0x1e9,0x233,0x1b0,0x1cc)](_0x1657b4[_0x49b82b(0x21c,0x1df,0x1fb,0x1b1)],_0x1657b4[_0x49b82b(0x16b,0x21d,0x249,0x1b1)])){const _0x5270a7=await _0x4b02f4['text']();addLog(_0x264442(-0xf9,-0x11c,-0x11c,-0xce)+_0x49b82b(0x14c,0x15a,0x14b,0x103)+_0x4b02f4[_0x264442(0x1a,-0x70,-0x76,0x1d)]+_0x49b82b(0x213,0x19e,0x288,0x20c)+_0x5270a7),console['log'](_0x1657b4[_0x49b82b(0x247,0x239,0x1ce,0x1ef)],_0x5270a7);throw new Error(_0x264442(-0x133,-0x13a,-0x1b0,-0x18e)+_0x4b02f4[_0x49b82b(0x1d6,0x226,0x19b,0x1d4)]+_0x264442(-0x1b9,-0x11e,-0x97,-0x96)+_0x5270a7);}else _0x1657b4['vEqHv'](_0x25e5a3,_0x264442(0x10,-0x2d,-0x2f,-0x92)+'库');}const _0x3f9282=await _0x4b02f4[_0x264442(-0x153,-0xb7,-0x47,-0x102)]();if(!_0x3f9282[_0x264442(0x54,-0x44,-0x3b,0x50)]||_0x3f9282[_0x264442(0x44,-0x44,-0xa0,0x39)]['length']===-0x216d+0x217e+-0x11*0x1){if(_0x1657b4[_0x264442(-0x85,-0xee,-0x156,-0x170)](_0x264442(-0xec,-0x9b,-0x20,-0x36),_0x1657b4[_0x264442(0x22,-0x6e,-0xf5,-0xc7)]))_0x5e9d34[_0x264442(-0x15c,-0xff,-0xbc,-0x149)+'ener'](_0x32747b,_0x2df50a);else throw new Error(_0x1657b4[_0x49b82b(0x23b,0x173,0x19d,0x1a6)]);}const _0x11a4df=_0x3f9282[_0x264442(-0xb5,-0x44,-0x1f,0x11)][0xd84+0x1593+-0x2b3*0xd],_0x346abd=_0x1657b4[_0x264442(-0x62,-0x7c,-0xf1,-0x68)](_0x1657b4[_0x49b82b(0x20e,0x1fa,0x14e,0x17b)],_0x11a4df);return _0x1657b4[_0x264442(-0x8a,-0x27,0x2,-0x7d)](addLog,_0x1657b4[_0x49b82b(0x185,0x2b6,0x21f,0x220)]),{'image':_0x346abd,'change':_0x1657b4[_0x49b82b(0x144,0x1c0,0x131,0x141)](_0x5904f7,'')};}}}catch(_0x443cdd){if(_0x1657b4[_0x49b82b(0x12d,0xb4,0x18c,0x137)](_0x1657b4[_0x264442(-0x61,-0xe2,-0x102,-0xfb)],_0x1657b4[_0x264442(-0x140,-0xe2,-0x126,-0xc4)])){releaseLock(),addLog(_0x264442(-0x156,-0x108,-0xb7,-0x88)+_0x443cdd[_0x49b82b(0x1f4,0x232,0x232,0x19c)]),console[_0x264442(-0x24,-0x2e,-0x3,-0x6f)](_0x49b82b(0x18d,0x1b0,0x1c6,0x15e)+_0x49b82b(0xef,0x139,0x1a1,0x185)+'ge:',_0x443cdd);throw _0x443cdd;}else return _0x415563['toString']()[_0x264442(0x5c,-0x32,-0x30,-0x9a)](QRZakV[_0x49b82b(0x1dc,0x154,0x12a,0x190)])[_0x264442(-0xa2,-0x9a,0x3,-0xa7)]()[_0x264442(0x42,-0x1b,-0x6a,0x3a)+'r'](_0x369565)['search'](QRZakV[_0x49b82b(0x1fd,0x1ae,0x1b5,0x190)]);}}async function sdGenerate(_0x3df583){const _0x2ac9a6={'fYFkq':function(_0x4dd35e,_0x438f93){return _0x4dd35e(_0x438f93);},'kKfIw':_0x3c8463(-0x168,-0x10f,-0x116,-0x138),'RXJAI':function(_0xfac2b7,_0x435008){return _0xfac2b7(_0x435008);},'wmooT':function(_0x41d116,_0x35bc58){return _0x41d116!=_0x35bc58;},'ehqqT':function(_0x1bcc40,_0x397e89){return _0x1bcc40(_0x397e89);},'TvHnG':function(_0x22098a,_0x32aa4d){return _0x22098a(_0x32aa4d);},'NQXQz':function(_0x57fd16,_0x500706){return _0x57fd16(_0x500706);}},{id:_0x3b94df,prompt:_0x295b04,width:_0x43d689,height:_0x40c24,change:_0x31c3fa}=_0x3df583;function _0x72198a(_0x543171,_0x1003bd,_0x58b918,_0x59eec8){return _0x5310(_0x1003bd-0x250,_0x58b918);}_0x2ac9a6[_0x72198a(0x442,0x49d,0x470,0x483)](addLog,_0x3c8463(-0xf8,-0x16c,-0x15e,-0x195)+'ID:\x20'+_0x3b94df+(_0x72198a(0x492,0x478,0x4f3,0x47b)+':\x20')+_0x295b04+(_0x31c3fa?'\x20-\x20Change:'+'\x20'+_0x31c3fa:''));if(_0x31c3fa&&_0x31c3fa['includes'](_0x2ac9a6[_0x3c8463(-0x171,-0x12a,-0x11e,-0x14f)])){bananaGenerate(_0x3df583);return;}function _0x3c8463(_0x1f35e0,_0x15db32,_0x34976f,_0x2e3a72){return _0x5310(_0x1f35e0- -0x3ce,_0x34976f);}try{const {image:_0x40e269,change:_0x35894f}=await _0x2ac9a6[_0x72198a(0x3a8,0x412,0x3d5,0x43a)](generateSDImage,{'prompt':_0x295b04,'width':_0x43d689,'height':_0x40c24,'change':_0x31c3fa});if(_0x2ac9a6['wmooT'](extension_settings[extensionName][_0x3c8463(-0x186,-0x146,-0x208,-0x173)],'0')){const _0x5c0f8d={};_0x5c0f8d[_0x72198a(0x3a9,0x3fc,0x3ac,0x465)]=_0x35894f,await setItemImg(_0x295b04,_0x40e269,_0x5c0f8d),_0x2ac9a6[_0x72198a(0x3e7,0x438,0x437,0x4aa)](addLog,_0x3c8463(-0x104,-0xf6,-0x165,-0x13b)+'or\x20prompt:'+'\x20'+_0x295b04);}else _0x2ac9a6['TvHnG'](addLog,'缓存设置为不存入数据'+'库');const _0x1f35c2={};_0x1f35c2['id']=_0x3b94df,_0x1f35c2[_0x3c8463(-0x172,-0x1b2,-0xe0,-0x15e)]=!![],_0x1f35c2[_0x3c8463(-0x115,-0x117,-0x9c,-0x148)]=_0x40e269,_0x1f35c2['prompt']=_0x295b04,_0x1f35c2[_0x72198a(0x372,0x3fc,0x3ff,0x443)]=_0x35894f,eventSource[_0x3c8463(-0x16d,-0x1b0,-0x147,-0x1da)](EventType[_0x3c8463(-0x12b,-0x139,-0x159,-0xa6)+_0x3c8463(-0x1d7,-0x1bd,-0x1dd,-0x139)+'NSE'],_0x1f35c2),_0x2ac9a6[_0x3c8463(-0x1e6,-0x25d,-0x156,-0x1e4)](addLog,_0x3c8463(-0x17f,-0x1ef,-0x1e9,-0x14b)+_0x72198a(0x39d,0x414,0x40c,0x445)+_0x3b94df+')');}catch(_0x340f4e){const _0x27d68d=_0x72198a(0x4fa,0x492,0x49b,0x41c)+'常\x20(ID:\x20'+_0x3b94df+_0x3c8463(-0x19d,-0x19f,-0x215,-0x15c)+_0x340f4e[_0x3c8463(-0x192,-0x108,-0x140,-0x221)];_0x2ac9a6['NQXQz'](addLog,_0x3c8463(-0x159,-0x1da,-0x1f5,-0x16a)+_0x27d68d),console[_0x72198a(0x549,0x506,0x514,0x547)](_0x3c8463(-0x1d0,-0x15a,-0x1b3,-0x1b7)+_0x72198a(0x397,0x430,0x406,0x48f)+_0x72198a(0x480,0x460,0x4ae,0x45a),_0x340f4e);const _0x83c922={};_0x83c922['id']=_0x3b94df,_0x83c922['success']=![],_0x83c922['error']=_0x340f4e[_0x3c8463(-0x192,-0x135,-0x137,-0x1eb)],_0x83c922[_0x3c8463(-0x1c3,-0x171,-0x18b,-0x153)]=_0x295b04,eventSource[_0x3c8463(-0x16d,-0x16b,-0xd5,-0x1bd)](EventType[_0x3c8463(-0x12b,-0xce,-0x1c4,-0x95)+_0x72198a(0x4b7,0x447,0x3d2,0x4a1)+_0x3c8463(-0x11b,-0xc0,-0xc3,-0x183)],_0x83c922),addLog(_0x72198a(0x4f9,0x4f5,0x487,0x511)+'\x20(ID:\x20'+_0x3b94df+')');}}const LEGACY_EVENT_NAMES=[_0x491754(0x272,0x2cb,0x1b0,0x245)+_0x491754(0x1e4,0x27a,0x20b,0x1fb)+'st',_0x491754(0x256,0x28a,0x1dc,0x266)+_0x491754(0x237,0x1fe,0x2be,0x249)+'st'];function _0x5310(_0x12d178,_0x488610){const _0x157224=_0x3c29();return _0x5310=function(_0x136e72,_0x404253){_0x136e72=_0x136e72-(0x1857+-0x511*-0x3+0x1a6*-0x17);let _0x1e74f7=_0x157224[_0x136e72];if(_0x5310['SclNtw']===undefined){var _0x42e067=function(_0x5f2eeb){const _0x46a527='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x283672='',_0x393dda='',_0x55d72a=_0x283672+_0x42e067;for(let _0x130092=0x25a1+-0x1b4*-0x4+-0x16f*0x1f,_0x27a9b1,_0x32ef68,_0x466e4b=0x900+0x6b4+0x14*-0xc9;_0x32ef68=_0x5f2eeb['charAt'](_0x466e4b++);~_0x32ef68&&(_0x27a9b1=_0x130092%(-0x214d+-0xb7*-0x4+0x1e75)?_0x27a9b1*(0x1*-0x70f+-0xa98+-0x1*-0x11e7)+_0x32ef68:_0x32ef68,_0x130092++%(-0xd*-0x45+-0x104b*0x2+-0xbf*-0x27))?_0x283672+=_0x55d72a['charCodeAt'](_0x466e4b+(-0x8*0x1a+-0x2*-0x8b9+-0x1098))-(-0x2426+0x25e+0x14d*0x1a)!==-0xd*-0x1e9+-0xe75*-0x1+-0x274a?String['fromCharCode'](-0x20fb+-0x1a51+0x3c4b&_0x27a9b1>>(-(-0x5*0x359+0xc85+-0x21d*-0x2)*_0x130092&-0x1c40+-0x268c+0x42d2)):_0x130092:0x3*0x782+-0x45d*-0x2+-0x1f40){_0x32ef68=_0x46a527['indexOf'](_0x32ef68);}for(let _0x1cae02=-0xcb8*0x3+-0x9d9+0x1*0x3001,_0x37b534=_0x283672['length'];_0x1cae02<_0x37b534;_0x1cae02++){_0x393dda+='%'+('00'+_0x283672['charCodeAt'](_0x1cae02)['toString'](-0xf98+-0xbb+-0x5*-0x347))['slice'](-(-0x2c*0x24+0x607+0x2b));}return decodeURIComponent(_0x393dda);};_0x5310['dDOUzM']=_0x42e067,_0x12d178=arguments,_0x5310['SclNtw']=!![];}const _0x554d8a=_0x157224[0x8c6*0x1+-0xad0+0x9*0x3a],_0x430b79=_0x136e72+_0x554d8a,_0x4e06f9=_0x12d178[_0x430b79];if(!_0x4e06f9){const _0x4bac39=function(_0x2afa92){this['ueOVDQ']=_0x2afa92,this['wXuayP']=[0x1846+-0x161*-0x5+0xf95*-0x2,-0x2451+-0xf*-0xb3+0x19d4,-0x3ba+-0x1f*-0x5e+-0x5*0x188],this['sIYamm']=function(){return'newState';},this['ifoKoV']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['KbfoGI']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x4bac39['prototype']['EJraFj']=function(){const _0x4c1c60=new RegExp(this['ifoKoV']+this['KbfoGI']),_0x58b95d=_0x4c1c60['test'](this['sIYamm']['toString']())?--this['wXuayP'][0x95f*0x4+-0xecc+0x1*-0x16af]:--this['wXuayP'][0x1ea8+0x2*0xf04+-0x3cb0];return this['RdABqE'](_0x58b95d);},_0x4bac39['prototype']['RdABqE']=function(_0x428e15){if(!Boolean(~_0x428e15))return _0x428e15;return this['KtMoiP'](this['ueOVDQ']);},_0x4bac39['prototype']['KtMoiP']=function(_0x484621){for(let _0x327a8a=0x31a+-0xc74+-0x13*-0x7e,_0x3463a4=this['wXuayP']['length'];_0x327a8a<_0x3463a4;_0x327a8a++){this['wXuayP']['push'](Math['round'](Math['random']())),_0x3463a4=this['wXuayP']['length'];}return _0x484621(this['wXuayP'][-0xcd7+-0xa25*0x2+-0xb0b*-0x3]);},new _0x4bac39(_0x5310)['EJraFj'](),_0x1e74f7=_0x5310['dDOUzM'](_0x1e74f7),_0x12d178[_0x430b79]=_0x1e74f7;}else _0x1e74f7=_0x4e06f9;return _0x1e74f7;},_0x5310(_0x12d178,_0x488610);}function _0x3c29(){const _0x10518d=['EhzStMW','DgvWCYK6kIOG','sMzvt1i','qKnpq1C','D2LKDgG','s05VCeu','qKj3Dvu','C2tOR7FMSylNLj/LM77PLjNOR686ia','C2rFy3vWC2nHBa','u3Hmwwm','B3zLCNjPzgvFCW','CMf0Aw5Nifneia','CgDcBfa','t3DWCei','CMvZDg9YzuzHyW','6yws6AAgioI/LowBNUMuMEIVR+oaGUEkTUAaGq','CMvTB3zLtgLZDa','C2rFy2fKzxrHAq','B0T3tvO','zwHXCvq','B2rLBcK6kIOG','6k6+572U5QIH5z6llI4U5lI6','seH6Duu','yxv0B191CMW','zxr0Aw5NCW','Cgf5Bg9Hza','yw1L','ywzMu2y','5Q2J5zYO6k6+572U5QIH5z6llI4U5lI6','AEAyR+wqPUATO+w4UowqR+wkQo+8Jow5TUAJGa','q2nfueC','AfLVEuG','z0DMvLC','uw9IAfa','tufhrv9srvnqtW','BI9QC29U','6lsF6z2I5lI6oIa','BMvNyxrPDMvqCG','C3rYAw5NAwz5','v2jODva','yxrFBgfZDf9Syq','rxjYB3iGz2vUzq','EwvYCW','kIOG','nvrcsgv6tG','uKLIzu0','77Ym6k+35Qoa5P+LC2r3zwj1','mJKWnZG2m3zWvwH6uG','cI0TlqOGicaG','5zon5BQu5yAf5A65oG','zgf0ytPPBwfNzq','AwXLCJOQkIa','6i635y+w5OIw6icf5yIh5O2I5QIH5z6l5AsX6lsL','se9HrvO','ChjVBxb0','t3PTrxO','CMvZDg9Yzv9Myq','Bw9KzwW','loAOOEwEI+s4UG','Aw1Hz2u6','cI0GkIROHlJPG6JKV67LPi0G','l3bUzZTIyxnLnG','u0qG55sF5zU+5lQl5lU255Ur5zcS5zMO','cI0GkIROTj/PNAlMJ5dNPlOG','DhH0mMLTzW','Ahv3vu0','lI4U','Bfrbvfq','z2vUzxjHDguTAq','y2XPzw50','ugDTqLm','Buf4rem','BwfNzv9Yzxf1zq','ANvbB3y','B3nPDgLVBG','Dg9Rzw4','te1oDwe','y21VzgvSmJiYmG','C3rLChm','5Q2J6z2I5O+q56s6icHqCM9T','CMf0Aw5NigLTyq','kfvWC2nHBguGrG','y2vZ','ksaTifbYB21WDa','56cboIa','C2vLza','wKjTuxe','qvfux3nK','ANnVBG','Aw5PDgLHBgL6zq','vuvgs3q','z0P5DgO','ktOG','kfjLC3rVCMuGrG','6i635y+w5QIH5z6l5AsX6lsLoIa','55sO5lQo55sF5OIq55QevgfNoIa','C2rFy2nOyxr1xW','ue9tva','mtaYvNbLyujj','DfvQuum','v0X5CeC','z2vUzxjHDgvFAq','C2rFyxv0Aa','BwvZC2fNzq','mtGYnJu3nhzxvhHNwa','vhPAvwq','ntrZuvjtAgy','zML4zwrqCM9TCa','Bg9Hza','u0tNLj/LM77MTyhNQiVMJzxOJRFLIldLVii','Aw5MBW','C3rHDhvZvgv4Da','Egzcsfm','qMzkr2u','qLbyD1i','y2fJAgu','DezAC28','Dg9tDhjPBMC','zKXQD3C','A3vUr24','zLLgA3e','vKrlte4','5y+r6ycbu0tNLj/LM77MIjdLIP/LK43LUPq','wxbHzMy','shLoCLq','tufhrv9srvfvrq','svjAEwG','v0Lgue4','ndbRBenzugm','u0rmAxn0zw5LCG','mJiYmG','tNPcu0m','v0HzwLa','mZa1ntGWwu9cwfPd','C2rFy3nLzwq','C3vJy2vZCW','A0TMsxC','ywrLDgfPBgvYxW','zv9Mywn0B3i','cI0GkIPwquu6kG','zw1PDa','BgvZktOG','zvnbzu4','B1nWree','wKPUzKu','E+s/RUwBVN0','cI0TlqOJiYmG55sF','D3nNvxi','wKLsy1G','A0zOwe4','BvzfD3q','rNbZqMm','BMvYyxrL','l2fWAs9Zzc9Zzq','C2DKvvG','zwj0Bw8','CM1MDgm','zty0ioAvSoAnRUwKHoEqHUoaGG','zxH0zw5ZAw9UxW','C3rHDhvZ','6zsz6k+VoIa','CLDgBNK','Eg5WshK','Bg9N','zKzHB24','Be1iyMS','Dgv4Da','cI0GkIPdrKCGuW','of9Zy2HLzhvSzq','l3nKyxbPl3yXlW','AgvPz2H0','ktOQkIa','Dhj1zq','yxbWBgLJyxrPBW','Aw5JBhvKzxm','u2TPCdOQkIa','EKr6zge','kerLBM9PC2LUzW','verqreq','ChqPoIOQia','y2vZioIeUoMdQos/RUwKJsdKUlO','oIOQia','5zU+5yop5BEY5OIq5yQF6i635y+w5BM25Qc85BYp','ywnLCYK6kIOG','C2rFy2nSAxbFCW','ifbYB21WDa','zxrHsM4','cI0GkIRPQ5JMUixKV67LPi0G','cI0GkIRLSlRLR7GGkfm','D1fdsvG','keHPCMvZiezPEa','Eg5kvKy','cI0GkIRNP43LRzaGkfm','5yIg6kEs6iMY5QIH5BYpoIdOP6pMNPdLUky','C2rFDMfL','revluKG','t2vMA3G','of9TB2rLBa','5BEY5ywZ6zET44cc','Efz3zxi','C2rFy2rLBM9PCW','C2fTCgXLCL9Uyq','qwXtEfm','Aw1Hz2vZ','zKDfuue','zgvUB2LZAw5NxW','r0vorvjbvevFsq','sLnptIdOP6pMNPdLPlhOTkxVViW','5y+r6ycbu0tNLj/LM77LPlhOTkxLK43LUPq','yxbWBhK','CKLOsfK','AuTrDhG','C2rFy2HPCMvZxW','uhjVBxb0ktOQkG','B21WDa','44cc5zon5BQu5yAf5A65oIa','C3rYzw5NDgG','y2zNx3nJywXL','u2vNuKK','5P+L5QIH5z6l5PIV5zcM5Q2J56gU44cc','yNnXsxa','C2vHCMnO','tLnf','uwTdze8','seHitKq','zxjYB3i','57Yt5A2y6k6+572U5lI65lIn5A2y5ywL5PwW5O2U','u3PZuNy','Aw1Hz2veyxrH','kfnHBxbSzxiPoG','mtC0mtK2mNrdAw5fCW','ody0oxbdzgPdua','C1vXrvq','C2rFy3n0zxbZ','cI0GkIRMLl7LPkFLGi3NJOCG','B2nJzLO','5lIT55QeihbYB21WDooaGG','DxjS','vhHWALO','rKrZyK8','q3fwq3O','Df9LBMq','l2fWAs9Zzc9Nzq','CNPuDKm','y29UC3rYDwn0BW','5zU+5yop5BEY5A2y5ywL5PwW5O2U5BQtigy','rgDHD2S','y2fSztOQkIa','twHNB08','ExvZAgvPzf9Zza','u2nLBMuGq29TCa','C2rvCMW','zePHwgS','5BcD6k+v5l2C5lI65y6F5AEliejHCW','cI0GkIRMQkhLNOSGke0','zwvKktOQkIa','u29pz1G','5Ps25yIWu0tNLj/LM77OR7FMSyiGka','C2rFy2HLAwDODa','yxv0Aa','EwjiBKW','ueP1yxi','zw5HyMXLx2HY','CNnquMC','mti0ntGYnfrUBhrUuq','yM1nrfG','mJGYndG4tw5Pv0PA','5yIh5O2I5QIH5z6l5AsX6lsLoIa','6k+V44cc54Q25Ocb56cboIa','CgfYC2u','cI0GkIPbrgv0yq','cI0GkIRPH43NU5JLUyxLUQyG','5yYw5lI6igrHDgeGvvi','AhjFC2nHBgu','s1vczvO','6k+35Rgc5AsX6lsLloEkTUAaGEEGGtOG','sKjOqNO','y2HHBMDL','ExvZAgu','ywn0B3iPoIOQia','C2rFy3DPzhrO','tNfgs1a','A2LW','ueP5CuC','ywXcCfe','wgjos2m','5Q2J5zYO6ycA6l+hC2r3zwj1','vunqx3nK','BK10ufG','tLrxwNC','DxLcAwO','q2HHCMfJDgvYia','EMHzzuy','y3zeufK','q0Xjuf9ZDg9WxW','C3rFy2HHDhu4xW','BgvY','zw5LCG','kerPDMLKzv9YBW','uLHkquK','EuPyrNa','icHjrdOG','zM9YrwfJAa','lcdOR6BMG4u6ia','C2v0DgLUz3nZlG','u0qGqvbjioI/LowBNUMuMq','ywnLteW','C2rdzMDty2fSzq','zfHtywC','og4UChq','CeT1wNu','ke5Lz2f0AxzLia','BwfNzs1Yzxf1zq','6zQp5PY6kc0Xkq','EenLDM8','DhjPBq','rwL1AuC','uLjlDNy'];_0x3c29=function(){return _0x10518d;};return _0x3c29();}function initializeSDListener(){const _0x169f96={'MhgoO':function(_0x54ee5a,_0x5b350b){return _0x54ee5a(_0x5b350b);}};eventSource['on'](EventType[_0x1fccb7(0x3d0,0x3f0,0x3e7,0x45a)+_0x1fccb7(0x3f0,0x3a3,0x3b8,0x409)+'ST'],sdGenerate);function _0x3f7a21(_0xca67fe,_0x599333,_0x1ef241,_0x5d97a2){return _0x491754(_0xca67fe-0x41,_0x5d97a2,_0x1ef241-0x9b,_0x1ef241-0x30);}function _0x1fccb7(_0x1c359f,_0xfd93c,_0xeadf68,_0x4a6464){return _0x7e0659(_0xfd93c,_0x4a6464-0x1d1,_0xeadf68-0xc4,_0x4a6464-0x16a);}LEGACY_EVENT_NAMES['forEach'](_0x4f5dfa=>{eventSource['on'](_0x4f5dfa,sdGenerate);}),_0x169f96[_0x3f7a21(0x2ea,0x38d,0x329,0x33a)](addLog,_0x1fccb7(0x33e,0x343,0x384,0x3ca)+'已初始化。');}export async function replaceWithSd(){const _0x6aeb48={'fGEQA':function(_0xb15a9f,_0x2940c7){return _0xb15a9f(_0x2940c7);},'eSAeN':function(_0x3783db,_0x50637e){return _0x3783db+_0x50637e;},'LMNua':'UWXpK','ZIRcX':function(_0x1f258f,_0x330693){return _0x1f258f==_0x330693;},'WHYZP':_0x5ee7a4(0x62d,0x704,0x6a5,0x619),'Ypaff':function(_0x26ddc5){return _0x26ddc5();},'wQCIX':function(_0x583c0f){return _0x583c0f();}};function _0x27ff7a(_0x1c045f,_0x3214d4,_0x3eeea7,_0x248d2d){return _0x491754(_0x1c045f-0x190,_0x1c045f,_0x3eeea7-0x1e1,_0x3214d4- -0x162);}function _0x5ee7a4(_0x4f5221,_0x3fc51c,_0x399b18,_0x330312){return _0x491754(_0x4f5221-0x80,_0x4f5221,_0x399b18-0x107,_0x399b18-0x3a4);}_0x6aeb48[_0x5ee7a4(0x686,0x637,0x639,0x65b)](extension_settings[extensionName]['mode'],'sd')?_0x6aeb48[_0x27ff7a(0x10f,0x123,0xa8,0xc0)]===_0x6aeb48['WHYZP']?(!window[_0x27ff7a(0x61,0xf8,0x100,0x13d)+_0x27ff7a(0x8c,0x120,0xc7,0x176)]&&(window[_0x27ff7a(0x114,0xf8,0x138,0x84)+_0x27ff7a(0x155,0x120,0x122,0x162)]=!![],_0x6aeb48[_0x27ff7a(0x1af,0x11a,0x1a9,0xfd)](initializeSDListener)),_0x6aeb48[_0x27ff7a(0x17d,0x15c,0x1be,0x142)](initializeImageProcessing)):(_0x18f30c['on'](_0x5227b1['GENERATE_I'+'MAGE_REQUE'+'ST'],_0x396192),_0x44134b[_0x5ee7a4(0x5f1,0x519,0x595,0x59c)](_0x4ab36f=>{_0x2de635['on'](_0x4ab36f,_0x4c1615);}),_0x6aeb48[_0x27ff7a(0x186,0x16b,0x166,0xfa)](_0x94f0e8,'SD\x20生图事件监听器'+'已初始化。')):window[_0x5ee7a4(0x699,0x678,0x5fe,0x58f)+'SDListener']&&(eventSource[_0x5ee7a4(0x5a3,0x581,0x5b5,0x552)+_0x27ff7a(0x8d,0x8a,0xcc,0x3d)](EventType[_0x5ee7a4(0x5ea,0x615,0x673,0x69b)+_0x27ff7a(0x148,0x11c,0x1a3,0xb2)+'ST'],sdGenerate),LEGACY_EVENT_NAMES[_0x5ee7a4(0x62d,0x5e9,0x595,0x60d)](_0x56ebdd=>{function _0x2442e9(_0x2a171d,_0x3185ed,_0x5ecd0d,_0x6806fb){return _0x27ff7a(_0x3185ed,_0x2a171d-0x4ef,_0x5ecd0d-0x52,_0x6806fb-0x1a3);}const _0x2f8aed={'rsPRg':function(_0x4dd91a,_0x42bebc){function _0x341737(_0x519bf4,_0x55713d,_0x130b5e,_0x424863){return _0x5310(_0x424863-0x297,_0x55713d);}return _0x6aeb48[_0x341737(0x489,0x49e,0x4ac,0x4fa)](_0x4dd91a,_0x42bebc);},'yJXFp':function(_0x25fd2c,_0x5e5d05){return _0x6aeb48['fGEQA'](_0x25fd2c,_0x5e5d05);}};function _0x3fd117(_0x2f719e,_0x333e21,_0x4b1736,_0x34c53d){return _0x27ff7a(_0x4b1736,_0x2f719e-0x474,_0x4b1736-0x14d,_0x34c53d-0x107);}_0x6aeb48[_0x2442e9(0x5da,0x60d,0x601,0x637)]===_0x3fd117(0x4fa,0x550,0x51a,0x50b)?_0x393dda=_0x2f8aed['rsPRg'](_0x2f8aed[_0x3fd117(0x61a,0x60f,0x5cd,0x5f1)](_0x55d72a,',\x20'),_0x2f8aed[_0x2442e9(0x57c,0x541,0x518,0x537)](_0x130092,_0x27a9b1[_0x2442e9(0x573,0x5ea,0x5b3,0x5c9)+_0x32ef68+'\x20Prompt'])):eventSource[_0x3fd117(0x523,0x545,0x5a5,0x4df)+'ener'](_0x56ebdd,sdGenerate);}),window[_0x27ff7a(0x15c,0xf8,0xe1,0x5d)+_0x27ff7a(0x186,0x120,0x13b,0x137)]=![],_0x6aeb48[_0x5ee7a4(0x649,0x60e,0x671,0x66b)](addLog,_0x5ee7a4(0x5c1,0x679,0x5e3,0x55f)+_0x27ff7a(0x1ae,0x165,0x191,0x123)));}
//# sourceMappingURL=http://localhost:8000/sd.js.map
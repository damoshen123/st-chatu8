(function(_0x21c55b,_0x4f916c){const _0x478acf=_0x21c55b();function _0x129cfa(_0x44c4b9,_0x40c7bf,_0x4ede7e,_0x30dbca){return _0x2045(_0x40c7bf- -0x372,_0x30dbca);}function _0xe98441(_0xe0d2eb,_0x218a0f,_0x288514,_0x1d81a8){return _0x2045(_0x1d81a8-0x31a,_0x218a0f);}while(!![]){try{const _0x2a8a5b=-parseInt(_0x129cfa(-0x23a,-0x1e1,-0x177,-0x16d))/(-0x209+0x58c+0x1c1*-0x2)*(parseInt(_0xe98441(0x5c5,0x593,0x5bf,0x573))/(-0x116*-0xd+-0x38b+-0xa91*0x1))+parseInt(_0xe98441(0x446,0x45d,0x48c,0x466))/(-0x7e5+0x669*0x3+-0xdf*0xd)+-parseInt(_0xe98441(0x488,0x4b9,0x50f,0x498))/(0x412*-0x3+-0x1*0x2e9+-0x19*-0x9b)+parseInt(_0xe98441(0x4b8,0x442,0x465,0x4bf))/(0x1*-0x193a+0x168*-0x13+0x33f7)*(parseInt(_0xe98441(0x4dd,0x52d,0x475,0x4b0))/(0xb67+-0x1*-0xbe9+-0x174a))+-parseInt(_0x129cfa(-0x18c,-0x1b5,-0x1b0,-0x15e))/(-0x1131+0x30e+0xe2a)*(-parseInt(_0xe98441(0x447,0x47a,0x461,0x47c))/(0x3*-0x15d+-0x1e07+0x2226))+-parseInt(_0x129cfa(-0xbf,-0x12a,-0x152,-0xdf))/(0x3*0xb9b+-0x4be*0x1+-0x2*0xf05)*(-parseInt(_0x129cfa(-0x1d7,-0x16a,-0x18c,-0xf4))/(-0xe44+0x5c0+0x6*0x16d))+-parseInt(_0x129cfa(-0x174,-0x1b0,-0x23e,-0x173))/(-0x112e*-0x2+0x6fd+0x2*-0x14a7);if(_0x2a8a5b===_0x4f916c)break;else _0x478acf['push'](_0x478acf['shift']());}catch(_0x5282ae){_0x478acf['push'](_0x478acf['shift']());}}}(_0x5b75,-0xa63*-0x1c+0x1ac0e+-0x9f42));const _0xe00580=(function(){function _0x1c81fc(_0x578ab4,_0x119849,_0x2531ab,_0xbf3dea){return _0x2045(_0x2531ab- -0x215,_0x578ab4);}const _0x1e38b9={};_0x1e38b9['WpzNp']=function(_0x57ea38,_0x4e398e){return _0x57ea38!==_0x4e398e;},_0x1e38b9[_0x46e7fb(-0x2d,0x50,0xca,0x43)]=_0x1c81fc(0x39,-0x41,0x27,0x5a);const _0x3c6449=_0x1e38b9;function _0x46e7fb(_0x493f8c,_0x8d9331,_0x56ac2c,_0x1d8696){return _0x2045(_0x1d8696- -0x130,_0x8d9331);}let _0x13fce5=!![];return function(_0x795591,_0x4e9574){function _0x43b739(_0xf46405,_0x2b8b1e,_0x37a1f0,_0x5dd6e6){return _0x46e7fb(_0xf46405-0xb,_0x5dd6e6,_0x37a1f0-0x180,_0x37a1f0- -0x129);}function _0x21871b(_0xee5416,_0x5109fb,_0x3f9e07,_0xddb490){return _0x1c81fc(_0xddb490,_0x5109fb-0x3b,_0x3f9e07-0x432,_0xddb490-0x9b);}if(_0x3c6449['WpzNp'](_0x21871b(0x4c1,0x3ea,0x459,0x48c),_0x3c6449[_0x43b739(-0x159,-0x109,-0xe6,-0x51)])){const _0x3a96d2=_0x3b096f?function(){function _0x552ca7(_0x385ccc,_0x4cd6e1,_0x114a3c,_0x45c3af){return _0x43b739(_0x385ccc-0x1b6,_0x4cd6e1-0x186,_0x45c3af-0xd6,_0x114a3c);}if(_0x1fd01b){const _0x230a54=_0x5de80c[_0x552ca7(0xa7,0x5f,0x72,0xbe)](_0x3aca60,arguments);return _0x15c2ce=null,_0x230a54;}}:function(){};return _0x9eb75a=![],_0x3a96d2;}else{const _0x327108=_0x13fce5?function(){function _0x4a3306(_0x1e515b,_0x4b8d81,_0x1a9c5b,_0xe73672){return _0x43b739(_0x1e515b-0x20,_0x4b8d81-0xde,_0x4b8d81- -0x106,_0x1a9c5b);}if(_0x4e9574){const _0xbb60b1=_0x4e9574[_0x4a3306(-0x177,-0x11e,-0x199,-0xf3)](_0x795591,arguments);return _0x4e9574=null,_0xbb60b1;}}:function(){};return _0x13fce5=![],_0x327108;}};}()),_0x56bdaa=_0xe00580(this,function(){function _0xda8136(_0x2f78a2,_0x55bf63,_0x1c8c78,_0x8d57c2){return _0x2045(_0x2f78a2- -0x1d6,_0x8d57c2);}const _0x28e509={};_0x28e509[_0x5a64b4(0x62a,0x5fc,0x64d,0x5cf)]='(((.+)+)+)'+'+$';const _0x52ac77=_0x28e509;function _0x5a64b4(_0x4a061a,_0x1b7461,_0x5b69a0,_0x2a19d9){return _0x2045(_0x2a19d9-0x3d5,_0x4a061a);}return _0x56bdaa[_0xda8136(0x78,0x38,0xe3,-0x16)]()['search'](_0x52ac77['bGkZJ'])[_0xda8136(0x78,0xfd,0x4c,-0x6)]()[_0x5a64b4(0x5fb,0x5a2,0x63b,0x61a)+'r'](_0x56bdaa)['search'](_0x52ac77[_0x5a64b4(0x546,0x5f2,0x5d1,0x5cf)]);});_0x56bdaa();import{sleep,zhengmian,fumian,deepMerge,getSDMode,setSDMode,addLog,getRequestHeaders,clearLog,prompt_replace,getsdAuth,parsePromptStringWithCoordinates,prompt_replace_for_character,stripChineseAnnotations,waitForLock,releaseLock,acquireLock}from'./utils.js';import{setItemImg}from'./database.js';import{extension_settings}from'../../../../extensions.js';import{extensionName,EventType}from'./config.js';import{saveSettingsDebounced,eventSource}from'../../../../../script.js';import{initializeImageProcessing}from'./iframe.js';import{processCharacterPrompt}from'./characterprompt.js';import{bananaGenerate}from'./banana.js';function _0x2045(_0x58d970,_0xcf2db8){const _0x2d744d=_0x5b75();return _0x2045=function(_0x4e056a,_0x248e19){_0x4e056a=_0x4e056a-(0x6c2*-0x5+0x186f+-0x25*-0x49);let _0x590dfd=_0x2d744d[_0x4e056a];if(_0x2045['KQbezk']===undefined){var _0x38ea5b=function(_0x24c24e){const _0x6a0732='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4751df='',_0x5d7dee='',_0x4f3851=_0x4751df+_0x38ea5b;for(let _0x4ae26c=0x217b+0x21c2+-0x433d,_0x2b5e5d,_0x251626,_0x2838ab=-0x11*-0x1db+-0x10af*0x1+0x3*-0x4f4;_0x251626=_0x24c24e['charAt'](_0x2838ab++);~_0x251626&&(_0x2b5e5d=_0x4ae26c%(0x3*-0x5d9+-0x225c+0x33eb)?_0x2b5e5d*(0x1caa*0x1+-0x13d*0xf+-0x9d7)+_0x251626:_0x251626,_0x4ae26c++%(0x4*0x4b2+-0xb72*-0x1+-0x1e36))?_0x4751df+=_0x4f3851['charCodeAt'](_0x2838ab+(-0x111e*-0x1+-0x1b64+0xa50))-(-0x941+-0x1a3*-0x3+-0x231*-0x2)!==0x186d+0x116b+0x1a*-0x19c?String['fromCharCode'](-0xd39+0x1a42+-0xc0a&_0x2b5e5d>>(-(-0x1*-0x1ea9+0x2*0x111f+-0x40e5)*_0x4ae26c&0x2*-0xaf1+-0x36c+0x1954*0x1)):_0x4ae26c:0x167*0x10+0x12ea+-0x1*0x295a){_0x251626=_0x6a0732['indexOf'](_0x251626);}for(let _0x345527=0x49*-0xb+-0x1344+0xb9*0x1f,_0x59081a=_0x4751df['length'];_0x345527<_0x59081a;_0x345527++){_0x5d7dee+='%'+('00'+_0x4751df['charCodeAt'](_0x345527)['toString'](0xc64+-0x219a+0x30a*0x7))['slice'](-(0x2*0xd1f+-0x697+-0x13a5));}return decodeURIComponent(_0x5d7dee);};_0x2045['vaeOmX']=_0x38ea5b,_0x58d970=arguments,_0x2045['KQbezk']=!![];}const _0x31d8bf=_0x2d744d[-0x1319+-0x129e+0x78b*0x5],_0x268be1=_0x4e056a+_0x31d8bf,_0x2befea=_0x58d970[_0x268be1];if(!_0x2befea){const _0x48d147=function(_0x3b29d7){this['NUgHLK']=_0x3b29d7,this['rOOBzX']=[-0x1876*0x1+0x1b7*-0xb+0xec*0x2f,-0x5e*0x4a+-0x17e3+0x330f,0x49*-0x73+0x211c+-0x51],this['xVufOB']=function(){return'newState';},this['tudWtV']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['kliHxu']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x48d147['prototype']['Dclmyq']=function(){const _0x3fd717=new RegExp(this['tudWtV']+this['kliHxu']),_0x44f8a8=_0x3fd717['test'](this['xVufOB']['toString']())?--this['rOOBzX'][0x3a*-0x44+0x10be+-0x155]:--this['rOOBzX'][-0xed6+-0x7*0xd+0xf31*0x1];return this['dQYiEV'](_0x44f8a8);},_0x48d147['prototype']['dQYiEV']=function(_0x2d024b){if(!Boolean(~_0x2d024b))return _0x2d024b;return this['ZftrAb'](this['NUgHLK']);},_0x48d147['prototype']['ZftrAb']=function(_0x410734){for(let _0x1e798c=0x1*0xaee+-0x82f*-0x1+-0x131d,_0xd09977=this['rOOBzX']['length'];_0x1e798c<_0xd09977;_0x1e798c++){this['rOOBzX']['push'](Math['round'](Math['random']())),_0xd09977=this['rOOBzX']['length'];}return _0x410734(this['rOOBzX'][-0x1*-0x971+0x1773+-0x20e4]);},new _0x48d147(_0x2045)['Dclmyq'](),_0x590dfd=_0x2045['vaeOmX'](_0x590dfd),_0x58d970[_0x268be1]=_0x590dfd;}else _0x590dfd=_0x2befea;return _0x590dfd;},_0x2045(_0x58d970,_0xcf2db8);}async function generateSDImage({prompt:_0x33ae91,width:_0x11836d,height:_0x1c4c68,change:_0x4382d3}){const _0x5de088={'qgjDA':function(_0x54a390,_0x254853){return _0x54a390(_0x254853);},'DfVKA':_0x14380(0x32a,0x3ed,0x333,0x3a1)+_0x14380(0x366,0x33c,0x315,0x365)+'image:','UgUKJ':function(_0x366d04,_0x21ef8e){return _0x366d04(_0x21ef8e);},'RHLIL':_0x14380(0x37a,0x3aa,0x324,0x397)+_0x34fae7(0x286,0x24e,0x1e1,0x1cc),'lDDHz':function(_0x4e469d,_0x3e3ea7){return _0x4e469d(_0x3e3ea7);},'JZyav':function(_0x179fe6,_0x41874d){return _0x179fe6+_0x41874d;},'YYdIt':function(_0x363b5e,_0x1de2dc){return _0x363b5e(_0x1de2dc);},'OveXl':function(_0x3e385d,_0x330f93){return _0x3e385d(_0x330f93);},'grfze':_0x14380(0x343,0x40c,0x2fc,0x382)+_0x34fae7(0x1e6,0x1d6,0x1bb,0x189),'auQvf':function(_0x1ef340){return _0x1ef340();},'QNQey':_0x14380(0x357,0x3f3,0x397,0x3a1)+'rating\x20ima'+_0x14380(0x278,0x2c7,0x25c,0x2c5),'msYsY':function(_0x584f0b,_0xf8a8be){return _0x584f0b(_0xf8a8be);},'LswFL':function(_0x28ca1c,_0x2c3e29){return _0x28ca1c(_0x2c3e29);},'jznsk':function(_0x39af2c,_0x30349d){return _0x39af2c(_0x30349d);},'bIwLg':function(_0x38b86c){return _0x38b86c();},'BlcQm':function(_0x47211c,_0x3395ba){return _0x47211c!==_0x3395ba;},'eKwyW':_0x34fae7(0x19a,0x16d,0xdf,0x14e)+'osition','MWQEQ':function(_0xc9d1dc,_0x1f0ce2){return _0xc9d1dc(_0x1f0ce2);},'CGEsH':function(_0x5c9f91,_0xe9648a){return _0x5c9f91(_0xe9648a);},'JMFbC':'分角色模式:\x20解析带'+_0x34fae7(0x210,0x26f,0x299,0x2a4),'cRsGZ':function(_0x184af8,_0x4549b9){return _0x184af8<=_0x4549b9;},'tswtj':function(_0x4ca0e2,_0x15635b){return _0x4ca0e2(_0x15635b);},'OhIxf':function(_0x22039c,_0x4d85c2,_0x2a0222){return _0x22039c(_0x4d85c2,_0x2a0222);},'VEzIy':function(_0x221baa,_0x37d95f){return _0x221baa===_0x37d95f;},'QSqAH':_0x34fae7(0x23a,0x229,0x2b9,0x238),'oeDyx':function(_0x254be8,_0x32db9d){return _0x254be8+_0x32db9d;},'vdKBe':function(_0x161379,_0x2138ba){return _0x161379+_0x2138ba;},'Vmdnw':function(_0x3797d0,_0x45489a,_0x52a0e7,_0x5791a6,_0x53de53,_0xebf16d){return _0x3797d0(_0x45489a,_0x52a0e7,_0x5791a6,_0x53de53,_0xebf16d);},'VytYA':'auto_url','XWXhU':_0x34fae7(0x1d0,0x24a,0x268,0x1ea),'BWgqE':_0x14380(0x36a,0x314,0x29a,0x31c),'VYLhp':function(_0x5a2120,_0xfa9f24){return _0x5a2120(_0xfa9f24);},'UJlLQ':_0x34fae7(0x15a,0x1eb,0x159,0x217)+_0x14380(0x3aa,0x3e4,0x3b2,0x36d),'WSmSZ':'extension_'+_0x14380(0x411,0x301,0x3ff,0x38d)+_0x14380(0x33b,0x2d7,0x3cb,0x348)+_0x14380(0x24b,0x332,0x2de,0x2ce),'idkDP':function(_0xb94781,_0x2a49e7){return _0xb94781!=_0x2a49e7;},'ZklJx':function(_0x5560d7,_0x44dc35){return _0x5560d7(_0x44dc35);},'XzGZJ':_0x34fae7(0x20f,0x217,0x271,0x2a0)+'t-model','OyGYv':function(_0x191c77,_0x398678){return _0x191c77(_0x398678);},'DBCDT':function(_0x3fa361,_0x2da607){return _0x3fa361(_0x2da607);},'NHWnT':'jVLvD','iQnzM':_0x14380(0x3bb,0x3e9,0x3dc,0x390),'YsJfp':function(_0x2df670,_0x512483,_0x27216f){return _0x2df670(_0x512483,_0x27216f);},'KAINb':'qEDxL','CbyhJ':function(_0x3cb41f,_0x441f4c){return _0x3cb41f(_0x441f4c);},'MeUcP':function(_0x465ea9,_0x2b207d){return _0x465ea9>=_0x2b207d;},'TuBbo':_0x14380(0x3e9,0x2e7,0x2e7,0x360),'TIjJQ':_0x34fae7(0x302,0x28b,0x254,0x2c4),'dHpPP':function(_0x1ff55b,_0x5d3c33){return _0x1ff55b==_0x5d3c33;},'LzzXX':'bPYSW','rduzg':_0x34fae7(0x21f,0x1df,0x270,0x26e),'cZCDF':function(_0x2dd7f0,_0x39096d){return _0x2dd7f0(_0x39096d);},'CUtSa':_0x34fae7(0x22b,0x23c,0x25a,0x26f)+_0x34fae7(0x220,0x1a3,0x173,0x228),'MEzoB':_0x34fae7(0x1df,0x17a,0xee,0x130),'QDCTf':function(_0x27e1c5,_0x156895){return _0x27e1c5==_0x156895;},'JjBLW':_0x34fae7(0x130,0x190,0x1e6,0x1fd),'ezsUH':function(_0x4aa5c5){return _0x4aa5c5();},'COGzd':function(_0x1f0327,_0x3d0870,_0x3a5491){return _0x1f0327(_0x3d0870,_0x3a5491);},'XmkXy':_0x14380(0x355,0x2b5,0x2b3,0x345)+_0x14380(0x301,0x32c,0x398,0x318),'TSCvM':'响应内容:','diVto':function(_0x2ddab4,_0x9b180c){return _0x2ddab4(_0x9b180c);},'ZxRkQ':'JSON\x20解析失败，'+_0x14380(0x303,0x2cf,0x320,0x34d)+_0x14380(0x361,0x315,0x268,0x2f2),'sOiiq':_0x14380(0x444,0x378,0x420,0x3ba)+_0x14380(0x337,0x34c,0x37c,0x314)+'4,','civEa':_0x34fae7(0x220,0x19b,0x158,0x21d)+_0x34fae7(0x18a,0x172,0x148,0x1f2)+'L。','SgApu':function(_0xbaf084,_0x5b7601){return _0xbaf084||_0x5b7601;},'WQfRj':function(_0x7ce9b2,_0x2c0dd3){return _0x7ce9b2!==_0x2c0dd3;},'HnoUd':_0x14380(0x388,0x325,0x3a1,0x371),'bDfKS':_0x14380(0x332,0x3ab,0x315,0x33b)+_0x14380(0x3ba,0x313,0x3b1,0x352),'XTUeI':function(_0x1ce80e,_0x44e3bd,_0x14e9ac){return _0x1ce80e(_0x44e3bd,_0x14e9ac);},'ynduv':_0x34fae7(0x1ed,0x18a,0xf9,0x18d)+_0x14380(0x3aa,0x2f6,0x39a,0x322),'zcUiY':function(_0x5db0b9){return _0x5db0b9();},'uhsWy':function(_0x45b3e4){return _0x45b3e4();},'EdDRV':'hVIvz','nSzrD':_0x14380(0x305,0x3b9,0x318,0x32e)+_0x14380(0x346,0x389,0x344,0x30a),'xBwZA':function(_0x3c2b1e,_0x40819d){return _0x3c2b1e(_0x40819d);}};let _0x4d2fe2=_0x4382d3;_0x33ae91=_0x5de088[_0x14380(0x3b4,0x392,0x3cc,0x37f)](processCharacterPrompt,_0x33ae91),_0x33ae91=await _0x5de088[_0x14380(0x2d4,0x2c7,0x3a7,0x35a)](stripChineseAnnotations,_0x33ae91),_0x4382d3=_0x5de088[_0x34fae7(0x23a,0x20d,0x19b,0x1cc)](processCharacterPrompt,_0x4382d3),_0x4382d3=await _0x5de088[_0x14380(0x3b6,0x3ef,0x3f4,0x369)](stripChineseAnnotations,_0x4382d3);const _0x4d0912=extension_settings[extensionName][_0x14380(0x2fd,0x283,0x321,0x303)][_0x34fae7(0x229,0x1cf,0x1c5,0x1cd)](),_0xf8ba68=extension_settings[extensionName];_0x5de088[_0x34fae7(0x272,0x282,0x25b,0x27b)](clearLog),_0x5de088[_0x14380(0x2c3,0x366,0x38d,0x339)](addLog,_0x14380(0x389,0x2ec,0x3e8,0x353)+_0x14380(0x3a7,0x411,0x3d9,0x39c)+'端为'+_0xf8ba68[_0x14380(0x41e,0x418,0x316,0x38f)]+_0x14380(0x24f,0x304,0x2d6,0x2ca)+_0xf8ba68[_0x14380(0x30c,0x2f8,0x3bd,0x348)+_0x34fae7(0x223,0x1a2,0x1fd,0x1a4)]);const _0x22e373=_0x4382d3&&_0x5de088[_0x34fae7(0x254,0x22c,0x275,0x246)](_0x4382d3[_0x14380(0x2ea,0x288,0x34c,0x2fb)](),'')?_0x4382d3:_0x33ae91;addLog(_0x34fae7(0x1a9,0x1bc,0x18c,0x1b2)+_0x22e373);let _0x56aac0=![];_0x22e373[_0x14380(0x34c,0x275,0x254,0x2d9)](_0x5de088[_0x14380(0x27b,0x2cf,0x2ed,0x2ed)])&&(_0x56aac0=!![]);_0x5de088['MWQEQ'](addLog,_0x14380(0x2e9,0x391,0x3ca,0x350)+_0x34fae7(0x2f7,0x280,0x276,0x288)+_0x14380(0x3c2,0x30e,0x359,0x388)+_0x56aac0);let _0x448de3={},_0x42d417='',_0x2ca91a='';if(_0x56aac0){_0x5de088[_0x34fae7(0x12c,0x177,0x107,0x127)](addLog,_0x5de088[_0x14380(0x2b1,0x2c1,0x29f,0x333)]),_0x448de3=parsePromptStringWithCoordinates(_0x22e373),_0x42d417=_0x448de3[_0x5de088[_0x14380(0x322,0x2fd,0x370,0x2ed)]];for(let _0x5e747e=-0x1*0x1961+0x1*0x1dd5+-0x473*0x1;_0x5de088[_0x14380(0x2eb,0x2d4,0x302,0x35f)](_0x5e747e,-0xf10*0x2+-0x674+0x2498*0x1);_0x5e747e++){_0x448de3[_0x14380(0x33d,0x34a,0x317,0x361)+_0x5e747e+_0x34fae7(0x219,0x1e2,0x16c,0x258)]&&(_0x2ca91a=_0x5de088['JZyav'](_0x5de088[_0x34fae7(0x173,0x19c,0x171,0x1ee)](_0x2ca91a,',\x20'),_0x448de3[_0x34fae7(0x1d9,0x235,0x1fe,0x225)+_0x5e747e+_0x14380(0x2f9,0x366,0x2f6,0x30e)]));}}else _0x5de088[_0x14380(0x2cb,0x2cf,0x2e1,0x2c9)](addLog,_0x5de088[_0x34fae7(0x1ad,0x1ba,0x1e8,0x1e8)]),_0x42d417=_0x22e373;let {modifiedPrompt:_0x1356e0,insertions:_0x4b4e98}=await _0x5de088[_0x34fae7(0x218,0x1a4,0x13c,0x196)](prompt_replace,_0x42d417,_0x2ca91a);if(_0x56aac0)for(let _0x2050ea=0xd1*0x2+-0x3*0x70f+0x1*0x138c;_0x5de088['cRsGZ'](_0x2050ea,-0x2b*-0x14+0xc85+0x83*-0x1f);_0x2050ea++){if(_0x5de088[_0x14380(0x281,0x357,0x354,0x2e4)](_0x5de088[_0x14380(0x3cf,0x375,0x3b0,0x34c)],_0x14380(0x39d,0x3db,0x3cf,0x356))){const _0x53573b='SD生图流程捕获到异'+_0x14380(0x3ab,0x376,0x2e0,0x36b)+_0x4b75e9+_0x34fae7(0x1a0,0x211,0x20f,0x1d4)+_0x4de292[_0x14380(0x35a,0x31e,0x2fb,0x32a)];_0x5de088['qgjDA'](_0x131d75,_0x34fae7(0x233,0x1ea,0x1c0,0x1b7)+_0x53573b),_0x5eae2f[_0x34fae7(0x244,0x1fb,0x22e,0x28b)](_0x5de088['DfVKA'],_0x5ceab4);const _0x5e1edf={};_0x5e1edf['id']=_0x5c5ef2,_0x5e1edf['success']=![],_0x5e1edf[_0x14380(0x2a1,0x2ad,0x3a6,0x327)]=_0x338395['message'],_0x5e1edf[_0x34fae7(0x276,0x205,0x1df,0x294)]=_0x3d36b6,_0x5997fe[_0x14380(0x229,0x2c5,0x2b7,0x2b5)](_0x114613[_0x34fae7(0x191,0x1d8,0x15d,0x15e)+_0x34fae7(0x21e,0x26e,0x259,0x2c5)+'NSE'],_0x5e1edf),_0xc93f3(_0x14380(0x320,0x32d,0x37d,0x37b)+_0x34fae7(0x2d8,0x27d,0x313,0x270)+_0x105f10+')');}else _0x448de3[_0x34fae7(0x1a8,0x235,0x1c0,0x1f6)+_0x2050ea+_0x14380(0x369,0x2e5,0x2e6,0x30e)]&&(_0x1356e0=_0x5de088[_0x14380(0x37f,0x346,0x2b9,0x335)](_0x5de088[_0x34fae7(0x265,0x288,0x20b,0x2ea)](_0x1356e0,',\x20'),prompt_replace_for_character(_0x448de3['Character\x20'+_0x2050ea+_0x14380(0x2dc,0x302,0x383,0x30e)])));}let _0x5b3f0c=await _0x5de088[_0x34fae7(0x213,0x242,0x207,0x28b)](zhengmian,extension_settings[extensionName][_0x34fae7(0x2f3,0x279,0x30a,0x22b)][extension_settings[extensionName][_0x34fae7(0x1ac,0x1c4,0x1f0,0x249)]][_0x14380(0x344,0x290,0x329,0x2dd)+'t'],_0x1356e0,extension_settings[extensionName][_0x14380(0x31a,0x358,0x3ce,0x3a5)][extension_settings[extensionName]['yusheid_sd']][_0x34fae7(0x227,0x1b1,0x15f,0x1ff)+_0x14380(0x33f,0x369,0x3c3,0x36f)],extension_settings[extensionName][_0x14380(0x373,0x350,0x3c3,0x366)],_0x4b4e98),_0x202f33=await fumian(extension_settings[extensionName][_0x34fae7(0x2d9,0x279,0x25e,0x210)][extension_settings[extensionName][_0x34fae7(0x1f6,0x1c4,0x259,0x1f1)]][_0x14380(0x371,0x331,0x3b7,0x394)+_0x34fae7(0x263,0x258,0x222,0x201)],extension_settings[extensionName][_0x34fae7(0x102,0x193,0x1c5,0x193)]);addLog(_0x34fae7(0x18f,0x1a5,0x204,0x18c)+_0x202f33),extension_settings['sd'][_0x5de088['VytYA']]=_0x4d0912,await _0x5de088['bIwLg'](saveSettingsDebounced);function _0x34fae7(_0x33f064,_0xd0a29a,_0x1fd151,_0x576859){return _0x2045(_0xd0a29a-0x36,_0x1fd151);}try{if(_0x5de088['VEzIy'](_0xf8ba68['client'],_0x5de088[_0x14380(0x274,0x252,0x31e,0x29a)])){const _0x5000a4={};_0x5000a4['auth']=_0xf8ba68[_0x34fae7(0x233,0x1d0,0x14e,0x24a)+_0x14380(0x21e,0x210,0x29f,0x296)]?_0xf8ba68[_0x14380(0x314,0x38c,0x332,0x2fc)+_0x14380(0x270,0x29f,0x2d2,0x296)]:'',_0x5000a4[_0x34fae7(0x17b,0x197,0x194,0x1aa)]=_0x4d0912;const _0x4a8a0b=await _0x5de088[_0x34fae7(0x120,0x1a4,0x1e2,0x197)](fetch,'/api/sd/ge'+_0x14380(0x2ad,0x2d0,0x359,0x2de),{'method':_0x5de088[_0x14380(0x322,0x387,0x2fc,0x37d)],'body':JSON['stringify'](_0x5000a4),'headers':_0x5de088[_0x14380(0x350,0x2eb,0x24e,0x2d2)](getRequestHeaders,window['token'])});if(!_0x4a8a0b['ok']){_0x5de088[_0x34fae7(0x284,0x255,0x1c6,0x260)](addLog,_0x14380(0x21d,0x2c2,0x292,0x2b1)+_0x4a8a0b['status']+'\x20'+_0x4a8a0b[_0x14380(0x2e4,0x343,0x2f2,0x359)]);throw new Error(_0x14380(0x23e,0x2b7,0x2f6,0x2b1)+_0x4a8a0b[_0x34fae7(0x1b6,0x215,0x278,0x185)]+'\x20'+_0x4a8a0b[_0x34fae7(0x1cd,0x22d,0x1c0,0x2af)]);}let _0x25181b=await _0x4a8a0b[_0x14380(0x2af,0x35c,0x388,0x338)]();console[_0x34fae7(0x119,0x187,0x1b9,0x1a2)](_0x5de088[_0x34fae7(0x166,0x1bd,0x13a,0x19e)],_0x25181b),console[_0x14380(0x27a,0x29c,0x2ac,0x2b3)](_0x5de088['WSmSZ'],_0xf8ba68[_0x14380(0x31b,0x2fd,0x325,0x348)+'8_model']);if(_0x5de088[_0x14380(0x350,0x3b1,0x3b0,0x386)](_0x25181b,_0xf8ba68[_0x34fae7(0x284,0x21c,0x21d,0x244)+_0x34fae7(0x17f,0x1a2,0x179,0x1cd)])){_0x5de088[_0x34fae7(0x1da,0x22f,0x241,0x2c3)](addLog,_0x14380(0x34c,0x2c2,0x37a,0x2f7)+_0xf8ba68['sd_cchatu_'+'8_model']+_0x14380(0x20b,0x282,0x30a,0x297)),toastr[_0x14380(0x2c6,0x247,0x34a,0x2db)](_0x14380(0x2fe,0x38d,0x3cf,0x38a)+_0xf8ba68['sd_cchatu_'+_0x34fae7(0x207,0x1a2,0x1dd,0x127)]);const _0x2eef2c={};_0x2eef2c[_0x14380(0x345,0x2f7,0x29e,0x332)]=_0xf8ba68[_0x34fae7(0x198,0x1d0,0x18b,0x1a0)+'sd_auth']?_0xf8ba68['st_chatu8_'+_0x14380(0x2a9,0x318,0x2db,0x296)]:'',_0x2eef2c[_0x34fae7(0x1fb,0x197,0x187,0x212)]=_0x4d0912,_0x2eef2c[_0x14380(0x2cd,0x317,0x2f8,0x354)]=_0xf8ba68['sd_cchatu_'+_0x14380(0x261,0x273,0x278,0x2ce)];const _0x4767a8=await _0x5de088[_0x14380(0x2f4,0x339,0x255,0x2d0)](fetch,_0x5de088[_0x14380(0x2ba,0x337,0x313,0x2f9)],{'method':_0x5de088[_0x14380(0x3fe,0x370,0x3b3,0x37d)],'body':JSON[_0x34fae7(0x1b4,0x1aa,0x16e,0x180)](_0x2eef2c),'headers':_0x5de088['OyGYv'](getRequestHeaders,window[_0x14380(0x2be,0x241,0x284,0x2c1)])});if(!_0x4767a8['ok']){_0x5de088[_0x14380(0x280,0x31f,0x3a4,0x312)](addLog,_0x34fae7(0x2be,0x232,0x1d9,0x1b5)+_0x4767a8[_0x34fae7(0x1e9,0x215,0x186,0x227)]+'\x20'+_0x4767a8['statusText']);throw new Error(_0x14380(0x2fc,0x362,0x369,0x35e)+_0x4767a8[_0x14380(0x370,0x3a6,0x328,0x341)]+'\x20'+_0x4767a8['statusText']);}toastr[_0x34fae7(0x235,0x1af,0x20d,0x1d6)](_0x14380(0x2f4,0x34c,0x278,0x2c0)+_0xf8ba68[_0x34fae7(0x298,0x21c,0x1e5,0x241)+_0x14380(0x25b,0x361,0x364,0x2ce)]+'成功');}}else{let _0xa9299f=await _0x5de088['DBCDT'](getSDMode,_0x4d0912);_0xa9299f!=_0xf8ba68[_0x34fae7(0x23a,0x21c,0x1be,0x216)+_0x14380(0x28f,0x339,0x2fe,0x2ce)]&&(_0x5de088[_0x14380(0x333,0x2e8,0x335,0x358)](_0x5de088[_0x14380(0x255,0x28e,0x2f7,0x29c)],_0x5de088['iQnzM'])?(_0x5de088[_0x14380(0x356,0x301,0x2b2,0x325)](addLog,'正在切换模型为'+_0xf8ba68[_0x14380(0x300,0x2c4,0x390,0x348)+_0x34fae7(0x15f,0x1a2,0x20d,0x226)]+_0x14380(0x316,0x224,0x23f,0x297)),await _0x5de088[_0x34fae7(0xd2,0x168,0x1e3,0x18d)](setSDMode,_0x4d0912,_0xf8ba68[_0x14380(0x2f1,0x3b4,0x2e4,0x348)+_0x34fae7(0x14f,0x1a2,0x159,0x182)])):(_0x25b9c6[_0x34fae7(0x1bc,0x1d4,0x18b,0x15c)+_0x14380(0x342,0x2d7,0x361,0x2cc)](_0x1e8065[_0x14380(0x35b,0x308,0x2fd,0x304)+_0x14380(0x2b6,0x34f,0x2e1,0x305)+'ST'],_0x44c648),_0x1a337e['initialize'+_0x14380(0x345,0x2f5,0x36d,0x32d)]=![],_0x5de088[_0x14380(0x2ed,0x379,0x397,0x381)](_0x3ca9b5,_0x5de088[_0x14380(0x247,0x351,0x2b1,0x2c6)])));}}catch(_0x2c2357){if(_0x5de088[_0x34fae7(0x194,0x1b8,0x216,0x126)](_0x5de088['KAINb'],_0x5de088[_0x14380(0x3c8,0x385,0x33c,0x3b8)])){addLog(_0x34fae7(0x289,0x249,0x2c6,0x1f8)+':\x20'+_0x2c2357['message']+(_0x34fae7(0x206,0x231,0x1d6,0x1a2)+_0x14380(0x28c,0x2ba,0x2de,0x31d)+'查模型是否正确。'));throw new Error('获取或者切换模型失败'+_0x34fae7(0x1d7,0x1b0,0x185,0x18c)+_0x14380(0x31c,0x370,0x3a9,0x31d)+_0x34fae7(0x1b9,0x208,0x1cd,0x230));}else _0x18c77e[_0x34fae7(0x221,0x236,0x1f3,0x24f)+_0x14380(0x2e7,0x2c6,0x3c2,0x32d)]&&(_0x21be8f[_0x14380(0x2c6,0x310,0x363,0x300)+_0x14380(0x32a,0x2de,0x2c2,0x2cc)](_0xc9e0e0[_0x14380(0x391,0x2b2,0x32e,0x304)+_0x14380(0x2df,0x357,0x27d,0x305)+'ST'],_0x4e61b9),_0x36f3e0[_0x34fae7(0x1d9,0x236,0x23b,0x1ea)+_0x34fae7(0x20f,0x201,0x1f5,0x18e)]=![],_0x5de088[_0x34fae7(0x2d4,0x255,0x2c8,0x2bb)](_0x33f412,_0x5de088[_0x34fae7(0x1a5,0x19a,0x1a6,0x183)]));}let _0x8002dc=-(-0x17f9+0x2b0+0x1*0x154a);const _0x16b128=_0xf8ba68[_0x34fae7(0x2c3,0x289,0x26f,0x213)];if(_0x5de088[_0x34fae7(0x277,0x22c,0x255,0x2bd)](_0x16b128,'')&&_0x16b128!==null&&!_0x5de088[_0x14380(0x2bb,0x2d6,0x311,0x2e2)](isNaN,_0x5de088[_0x14380(0x2b0,0x2e2,0x271,0x2ec)](Number,_0x16b128))&&_0x5de088['MeUcP'](_0x5de088[_0x14380(0x3ba,0x3a8,0x335,0x369)](Number,_0x16b128),-0x14f*-0x3+-0x197f+0x1592)){if(_0x5de088[_0x34fae7(0x23e,0x1b5,0x19d,0x1f3)]===_0x5de088['TuBbo'])_0x8002dc=_0x5de088['VYLhp'](Number,_0x16b128);else{_0x5de088['qgjDA'](_0x526bad,_0x14380(0x2f9,0x370,0x367,0x35e)+_0x249a77[_0x14380(0x2b2,0x341,0x308,0x341)]+'\x20'+_0x3c884f['statusText']);throw new _0x3ac745(_0x34fae7(0x243,0x232,0x1a0,0x1c4)+_0x394f34[_0x34fae7(0x290,0x215,0x207,0x19b)]+'\x20'+_0x366fce[_0x34fae7(0x2b4,0x22d,0x1ee,0x1db)]);}}let _0x466e4f={'prompt':_0x5b3f0c,'negative_prompt':_0x202f33,'sampler_name':_0xf8ba68['sd_cchatu_'+_0x14380(0x2ae,0x360,0x300,0x2ea)+'ame'],'scheduler':_0xf8ba68[_0x34fae7(0x271,0x21c,0x1a0,0x243)+_0x34fae7(0xd6,0x169,0x179,0x1f5)+'r'],'steps':_0xf8ba68[_0x14380(0x32a,0x3d3,0x3c7,0x398)],'cfg_scale':_0xf8ba68[_0x34fae7(0x1bb,0x1c9,0x208,0x252)],'width':_0x11836d?_0x11836d:_0xf8ba68['sd_cwidth'],'height':_0x1c4c68?_0x1c4c68:_0xf8ba68[_0x14380(0x3ed,0x353,0x358,0x39f)],'restore_faces':_0xf8ba68[_0x14380(0x356,0x32b,0x2af,0x323)+'es']==_0x34fae7(0x272,0x28b,0x2d8,0x238),'enable_hr':_0xf8ba68[_0x34fae7(0x316,0x28a,0x2fa,0x268)+_0x14380(0x3c9,0x3a1,0x427,0x393)]==_0x5de088[_0x14380(0x41b,0x3bb,0x443,0x3bf)],'hr_upscaler':_0xf8ba68['sd_cchatu_'+_0x14380(0x2c5,0x3a8,0x29f,0x321)],'hr_scale':_0xf8ba68[_0x34fae7(0x298,0x21d,0x1eb,0x27b)+_0x34fae7(0x119,0x17e,0x188,0x144)],'hr_additional_modules':[],'denoising_strength':_0xf8ba68['sd_cdenois'+_0x14380(0x30d,0x371,0x37b,0x391)+'th'],'hr_second_pass_steps':_0xf8ba68[_0x34fae7(0x249,0x28a,0x269,0x2a0)+_0x34fae7(0x233,0x1e0,0x199,0x22d)],'seed':_0x8002dc,'override_settings':{'CLIP_stop_at_last_layers':_0x5de088[_0x14380(0x305,0x328,0x336,0x381)](Number,_0xf8ba68['sd_cclip_s'+_0x14380(0x38a,0x343,0x2af,0x2fa)]),'sd_vae':_0xf8ba68[_0x14380(0x311,0x3c3,0x2d7,0x348)+'8_vae']},'override_settings_restore_afterwards':!![],'save_images':!![],'send_images':!![],'do_not_save_grid':![],'do_not_save_samples':![]};addLog(_0x14380(0x2a8,0x23c,0x31b,0x298)+'ces\x20脸部修复\x20为'+_0x466e4f[_0x34fae7(0x1f8,0x16c,0x167,0x1e5)+_0x34fae7(0x257,0x24c,0x284,0x279)]),_0x5de088[_0x14380(0x372,0x38e,0x39e,0x3b3)](addLog,_0x14380(0x315,0x290,0x32f,0x2df)+_0x34fae7(0x2bb,0x25f,0x29b,0x2f5)+_0x466e4f[_0x34fae7(0x206,0x286,0x22a,0x315)]);if(_0x5de088['dHpPP'](_0xf8ba68[_0x14380(0x23b,0x2e8,0x233,0x2a1)+'ler'],_0x14380(0x337,0x33a,0x33d,0x3b7))){if(_0x5de088[_0x14380(0x382,0x30f,0x338,0x326)]===_0x5de088[_0x34fae7(0x258,0x25b,0x29b,0x24f)]){_0x5de088['lDDHz'](_0x2d024b,_0x14380(0x250,0x24c,0x337,0x2b1)+_0x410734[_0x14380(0x385,0x2e5,0x37b,0x341)]+'\x20'+_0x1e798c['statusText']);throw new _0xd09977('获取模型失败:\x20'+_0x3f30cd[_0x34fae7(0x27f,0x215,0x24f,0x1f3)]+'\x20'+_0x2bbc96[_0x14380(0x3e0,0x2e9,0x2f6,0x359)]);}else _0x5de088[_0x34fae7(0x1dd,0x21a,0x190,0x22b)](addLog,'adetailer_'+_0x34fae7(0x26a,0x278,0x22b,0x256)),_0x466e4f=_0x5de088[_0x34fae7(0x152,0x1a4,0x1a3,0x1b7)](deepMerge,_0x466e4f,{'alwayson_scripts':{'ADetailer':{'args':[!![],!![],{'ad_model':_0x5de088[_0x34fae7(0x25f,0x244,0x298,0x1bd)]}]}}});}function _0x14380(_0x5f29d2,_0x159253,_0x4f8ae3,_0x1fc8ec){return _0x2045(_0x1fc8ec-0x162,_0x159253);}const _0x594e48='\x0a---\x0a###\x20生'+'图参数报告\x0a-\x20**'+'正面提示\x20(Prom'+'pt):**\x20'+_0x5b3f0c+('\x0a-\x20**负面提示\x20'+_0x34fae7(0x184,0x16f,0xed,0x202)+'Prompt):**'+'\x20')+_0x202f33+(_0x34fae7(0x25b,0x1d3,0x14d,0x221)+_0x34fae7(0x23f,0x252,0x1fb,0x1ca)+_0x34fae7(0x288,0x283,0x21f,0x311))+_0x466e4f[_0x34fae7(0x1f5,0x26a,0x246,0x205)+'me']+('\x0a-\x20**步数\x20(S'+_0x14380(0x354,0x2d0,0x391,0x310))+_0x466e4f[_0x34fae7(0x1f3,0x1e0,0x24e,0x1e4)]+(_0x34fae7(0x1d9,0x180,0x139,0x1aa)+'cale:**\x20')+_0x466e4f[_0x14380(0x2d7,0x2ec,0x2fa,0x2da)]+(_0x34fae7(0x258,0x24d,0x1e8,0x286)+_0x14380(0x32a,0x354,0x3d3,0x351))+_0x466e4f[_0x14380(0x2c0,0x312,0x339,0x342)]+'x'+_0x466e4f[_0x34fae7(0x294,0x28d,0x31b,0x30e)]+(_0x34fae7(0x292,0x1ff,0x1da,0x25c)+_0x34fae7(0x1f5,0x1bb,0x22a,0x1c9))+(_0x5de088[_0x14380(0x35a,0x2d9,0x37a,0x2e4)](_0x466e4f[_0x34fae7(0x143,0x1ac,0x1c5,0x1b9)],-(-0x13*-0x1c6+0x1*0xc7a+-0xdf*0x35))?_0x5de088[_0x34fae7(0x196,0x176,0x1ae,0x181)]:_0x466e4f[_0x14380(0x325,0x355,0x258,0x2d8)])+(_0x34fae7(0x154,0x1c5,0x1c9,0x221)+_0x34fae7(0x251,0x1ed,0x1c9,0x264))+_0xf8ba68[_0x14380(0x2dd,0x362,0x326,0x348)+'8_model']+('\x0a-\x20**VAE:*'+'*\x20')+_0x466e4f['override_s'+_0x34fae7(0x186,0x1c2,0x145,0x17f)][_0x34fae7(0x25b,0x21f,0x245,0x223)]+('\x0a-\x20**Clip\x20'+_0x34fae7(0x273,0x250,0x22e,0x2a0))+_0x466e4f['override_s'+'ettings']['CLIP_stop_'+'at_last_la'+'yers']+(_0x34fae7(0x2aa,0x21b,0x220,0x250)+'(Hires\x20Fix'+_0x14380(0x3da,0x340,0x326,0x39d))+_0x466e4f['enable_hr']+(_0x14380(0x253,0x25c,0x27e,0x2c2)+_0x14380(0x32c,0x3bb,0x33d,0x34f)+_0x34fae7(0x2b2,0x248,0x1c0,0x1f8))+_0x466e4f[_0x34fae7(0x199,0x18c,0x133,0x20c)]+(_0x14380(0x2f8,0x3d2,0x3f2,0x383)+_0x34fae7(0x19b,0x1dd,0x213,0x1c2)+'\x20Strength)'+':**\x20')+_0x466e4f[_0x34fae7(0x270,0x203,0x26e,0x290)+_0x14380(0x2be,0x37a,0x359,0x32c)]+(_0x34fae7(0x154,0x1d5,0x23c,0x244)+_0x14380(0x3cc,0x363,0x389,0x36c)+_0x34fae7(0x15d,0x17b,0x1d7,0x113))+_0x466e4f['restore_fa'+'ces']+(_0x34fae7(0x2a7,0x260,0x23d,0x2d9)+'iler:**\x20')+_0x5de088[_0x34fae7(0x1da,0x214,0x26d,0x23d)](_0xf8ba68[_0x34fae7(0x145,0x175,0x1ba,0x174)+_0x14380(0x3ed,0x400,0x3ce,0x377)],_0x5de088[_0x14380(0x3da,0x3d2,0x372,0x3bf)])+_0x34fae7(0x22d,0x1e1,0x15e,0x24e);_0x5de088['CbyhJ'](addLog,_0x594e48),addLog(_0x14380(0x2bc,0x318,0x250,0x2ba)+'数为'+JSON[_0x14380(0x355,0x321,0x331,0x2d6)](_0x466e4f)),console[_0x14380(0x2c9,0x235,0x315,0x2b3)](_0x5de088[_0x34fae7(0x1fb,0x1e3,0x1f1,0x23e)],_0x466e4f),await waitForLock(),_0x5de088['ezsUH'](acquireLock);try{if(_0x5de088[_0x34fae7(0x15e,0x1b8,0x241,0x124)](_0xf8ba68[_0x34fae7(0x272,0x263,0x286,0x273)],_0x5de088[_0x34fae7(0x124,0x16e,0x1a2,0x1f5)])){if(_0x5de088[_0x34fae7(0x23a,0x22c,0x1fc,0x234)](_0x14380(0x2ce,0x397,0x327,0x31a),_0x34fae7(0x1d8,0x247,0x2cd,0x1c0))){_0x466e4f[_0x14380(0x31f,0x281,0x318,0x2c3)]=_0x4d0912,console[_0x14380(0x292,0x291,0x2e2,0x2b3)](_0x34fae7(0x1e6,0x1f4,0x1ae,0x226)+_0x14380(0x378,0x3b2,0x41d,0x395)+_0x34fae7(0x2d0,0x254,0x2e7,0x1cf),_0xf8ba68[_0x34fae7(0x175,0x1d0,0x265,0x16f)+_0x34fae7(0x176,0x16a,0x118,0x101)]),_0x466e4f[_0x14380(0x2ef,0x389,0x2f0,0x332)]=_0xf8ba68['st_chatu8_'+_0x14380(0x21e,0x2dc,0x25e,0x296)]?_0xf8ba68['st_chatu8_'+_0x14380(0x21e,0x22a,0x271,0x296)]:'';const _0x138f53=await _0x5de088['COGzd'](fetch,_0x5de088[_0x34fae7(0x188,0x1da,0x15b,0x1eb)],{'method':_0x5de088[_0x34fae7(0x287,0x251,0x1cd,0x209)],'headers':_0x5de088[_0x34fae7(0x14a,0x1b6,0x1fc,0x194)](getRequestHeaders,window['token']),'body':JSON[_0x14380(0x35a,0x29f,0x282,0x2d6)](_0x466e4f)});if(!_0x138f53['ok']){const _0xaa6260=await _0x138f53[_0x14380(0x2ad,0x2fa,0x2cf,0x338)]();_0x5de088[_0x14380(0x24e,0x2d6,0x282,0x2a3)](addLog,_0x14380(0x22d,0x292,0x29c,0x2a4)+_0x14380(0x280,0x324,0x394,0x308)+_0x138f53[_0x34fae7(0x1b6,0x215,0x1b3,0x24a)]+'。响应内容:\x20'+_0xaa6260),console['log'](_0x5de088[_0x34fae7(0x17f,0x1ab,0x18d,0x1f5)],_0xaa6260);throw new Error('请求失败,状态码:\x20'+_0x138f53[_0x14380(0x38d,0x3b5,0x2bb,0x341)]+_0x34fae7(0x22c,0x290,0x24a,0x231)+_0xaa6260);}const _0x14dad6=await _0x138f53[_0x34fae7(0x225,0x20c,0x20a,0x1c2)]();let _0x2dcae5='';try{const _0x4ec3c9=JSON[_0x14380(0x27b,0x2e3,0x2e3,0x2ad)](_0x14dad6);_0x2dcae5=_0x4ec3c9[_0x14380(0x411,0x33e,0x35f,0x3a6)][0x982*-0x2+0x16c7+-0x9*0x6b];}catch(_0x3557a8){_0x5de088[_0x14380(0x340,0x389,0x30c,0x358)](_0x34fae7(0x1fb,0x17f,0xf1,0x134),'TcgPb')?(_0x5de088[_0x14380(0x408,0x426,0x3cc,0x3a2)](addLog,_0x5de088[_0x34fae7(0x11d,0x183,0x170,0x1f4)]),_0x2dcae5=_0x14dad6):_0x50dfb5[_0x14380(0x30a,0x2fd,0x359,0x361)+_0x4fb7fe+_0x34fae7(0x20d,0x1e2,0x22e,0x261)]&&(_0xe131f2=_0x5de088[_0x34fae7(0x20f,0x19c,0x19e,0x1fd)](_0x1861b8+',\x20',_0x18f71b['Character\x20'+_0x1ee70e+'\x20Prompt']));}const _0x30b277=_0x5de088['sOiiq']+_0x2dcae5;return _0x5de088[_0x14380(0x328,0x281,0x23d,0x2a3)](addLog,_0x5de088[_0x34fae7(0x1e8,0x1f2,0x1aa,0x234)]),{'image':_0x30b277,'change':_0x5de088[_0x14380(0x2d6,0x2e4,0x2fd,0x2b2)](_0x4382d3,'')};}else _0x435964['on'](_0x593fab[_0x14380(0x372,0x2c8,0x37f,0x304)+_0x14380(0x2ee,0x29b,0x37b,0x305)+'ST'],_0x51e0da),_0x5de088[_0x14380(0x307,0x342,0x3db,0x37f)](_0x5ad0d5,_0x14380(0x3c5,0x307,0x39e,0x397)+_0x34fae7(0x2d7,0x246,0x23e,0x1e2));}else{if(_0x5de088[_0x34fae7(0x1c3,0x1fd,0x249,0x1d2)](_0x5de088['HnoUd'],'bezKd')){const _0x251026=new URL(_0x5de088['JZyav'](_0x4d0912,_0x5de088[_0x34fae7(0x18c,0x204,0x1da,0x239)])),_0x204c60=await _0x5de088[_0x34fae7(0x1cf,0x218,0x2ae,0x26f)](fetch,_0x251026,{'method':_0x5de088[_0x14380(0x3d1,0x3ee,0x3d8,0x37d)],'body':JSON['stringify'](_0x466e4f),'headers':{'Content-Type':_0x5de088[_0x34fae7(0x105,0x174,0x17d,0x1a3)],'Authorization':_0x5de088[_0x14380(0x2fc,0x3cd,0x31e,0x364)](getsdAuth)}});_0x5de088[_0x14380(0x2e0,0x32e,0x357,0x31b)](releaseLock);if(!_0x204c60['ok']){if(_0x5de088['EdDRV']===_0x5de088[_0x14380(0x29b,0x2ed,0x2be,0x2b0)]){const _0x3f2240=await _0x204c60['text']();_0x5de088[_0x34fae7(0x2bc,0x287,0x223,0x319)](addLog,'SD\x20API\x20返回错'+_0x14380(0x31d,0x2f7,0x2f1,0x2d4)+_0x204c60[_0x34fae7(0x1cd,0x215,0x1b9,0x1fd)]+_0x34fae7(0x18b,0x17d,0x102,0x156)+_0x3f2240),console[_0x34fae7(0x19a,0x187,0xf7,0x138)](_0x5de088[_0x14380(0x343,0x289,0x262,0x2d7)],_0x3f2240);throw new Error(_0x14380(0x25c,0x357,0x351,0x2ef)+_0x204c60[_0x14380(0x2f7,0x39a,0x2b6,0x341)]+',\x20详情:\x20'+_0x3f2240);}else _0x5de088[_0x14380(0x2d5,0x28c,0x31f,0x312)](_0xe86e11,_0x5de088[_0x34fae7(0x184,0x1ba,0x207,0x1c7)]),_0x128888=_0x429409;}const _0xb1a60b=await _0x204c60[_0x34fae7(0x158,0x18b,0x1fe,0xfb)]();if(!_0xb1a60b[_0x14380(0x3d8,0x425,0x385,0x3a6)]||_0x5de088[_0x14380(0x348,0x358,0x310,0x2e4)](_0xb1a60b['images']['length'],0x67*-0x49+0x15ea+-0x17*-0x53))throw new Error(_0x5de088[_0x34fae7(0x217,0x274,0x2e2,0x2bc)]);const _0x23e14f=_0xb1a60b['images'][-0x2331+0xb*0xa3+-0xa4*-0x2c],_0x458dbc=_0x5de088[_0x14380(0x3ac,0x300,0x3b8,0x335)](_0x5de088[_0x34fae7(0x146,0x1bf,0x250,0x166)],_0x23e14f);return _0x5de088[_0x34fae7(0x2b7,0x27c,0x2a4,0x29d)](addLog,_0x5de088['civEa']),{'image':_0x458dbc,'change':_0x5de088[_0x14380(0x255,0x240,0x232,0x2b2)](_0x4d2fe2,'')};}else{_0x5de088['auQvf'](_0x12d640),_0x5de088[_0x34fae7(0x17b,0x1e6,0x1d4,0x18c)](_0xace2b4,_0x34fae7(0x1e9,0x23b,0x1d5,0x2ba)+_0x4ea49c[_0x14380(0x2dd,0x39f,0x321,0x32a)]),_0x11a1a3[_0x34fae7(0x169,0x1fb,0x258,0x1fd)](_0x5de088[_0x14380(0x21c,0x29a,0x26e,0x2a8)],_0x4e8735);throw _0x39ce5a;}}}catch(_0x1bd607){_0x5de088[_0x14380(0x37c,0x283,0x296,0x315)](releaseLock),addLog(_0x34fae7(0x1c4,0x23b,0x27b,0x27e)+_0x1bd607[_0x34fae7(0x205,0x1fe,0x215,0x1e0)]),console[_0x34fae7(0x229,0x1fb,0x1b7,0x1e3)](_0x5de088[_0x14380(0x2be,0x27e,0x2f0,0x2a8)],_0x1bd607);throw _0x1bd607;}}function _0x5b75(){const _0x478ffa=['zxr0Aw5NCW','6k+35Rgc5AsX6lsLloEkTUAaGEEGGtOG','ExvZAgvPzf9Zza','cI0GkIRMQkhLNOSGke0','zty0ioAvSoAnRUwKHoEqHUoaGG','ndrQwKHUtwC','zxrmA04','C2rdzMDty2fSzq','vLj0uKS','5Q2J5zYO6k6+572U5QIH5z6l5lI6','mZCWmNbpC25UBG','whPhwKO','A2LW','DhjPBq','C3rFy2HHDhu4xW','E+s/RUwBVN0','tLnf','cI0GkIRPH4FMOlFMLRNMS5uG','CMvTB3zLtgLZDa','cI0GkIROHlJPG6JKV67LPi0G','5lIT55QeihbYB21WDooaGG','C2rvCMW','r0vorvjbvevFsq','tufhrv9srvfvrq','wg1RwhK','nJu1weDoALDI','56cboIa','kerLBM9PC2LUzW','5yop5PwW5O2U44cc','BKvtAvq','C3rLChm','cI0TlqOGicaG','ifbYB21WDa','sMPctfC','DgvWCYK6kIOG','5y+r6ycbu0tNLj/LM77MIjdLIP/LK43LUPq','t3zLwgW','A0DcAgu','l3bUzZTIyxnLnG','yxvrDMy','6zsz6k+VoIa','y21VzgvSmJiYmG','BMvYyxrL','B2rLBcK6kIOG','AgTvzKS','DwHZv3K','ue9tva','AEAyR+wqPUATO+w4UowqR+wkQo+8Jow5TUAJGa','y2L2rwe','mtm4nJe1nhLlCezdEa','Cgf5C3rFy2HHDa','of91ChnJywXLCG','BI9QC29U','CMvZDg9YzuzHyW','mty1ntaWnxrvswPMyq','t3Lhwxy','thP6wfG','zxjYB3i','Aw1Hz2u6','v1fMuMO','BwvZC2fNzq','cI0GkIRNP43LRzaGkfm','C3rYzw5NDgG','u0rmAxn0zw5LCG','qvbj5zon5BQu5lIT5PYQ5OM+5yIW5zU+','zgvUB2LZAw5NxW','yKrMs1m','ChjVBxb0','yxv0Aa','sK1gyKm','5P+L5QIH5z6l5PIV5zcM5Q2J56gU44cc','B2veExG','ic0Gq2HHBMDLoG','uMLerwK','Dgv4Da','thn3rKW','r1zvugO','l3nKyxbPl3yXlW','rfvqwgS','ktOG','ksaTifbYB21WDa','5Ps25yIWu0tNLj/LM77OR7FMSyiGka','uurdvgy','C3rHDhvZ','D2LKDgG','l2fWAs9Zzc9Zzq','wfrvzuK','l2fWAs9Zzc9Nzq','y1Pdrey','cI0GkIRPQ5JMUixKV67LPi0G','C2rFy2nOyxr1xW','C2rFy3vWC2nHBa','B3iGChjVBxb0oG','C2rFDMfL','uvnXquG','5BcD6k+v5l2C5lI65y6F5AEliejHCW','qujzrgq','kfvWC2nHBguGrG','5PIV5zcM5zcV55sO5yIg6kEs6iMY5QIH5BYpia','AxPLktOQkIa','DhH0mMLTzW','5Q2J5zYO6ycA6l+hC2r3zwj1','Bw9KzwW','z3rLshm','qKTzweO','BNftr0q','qMXJuw0','C3rHDhvZvgv4Da','BxnzC1K','wMTSsNG','yKDRwKO','44cc6k+35Qoa5P+LC2r3zwj1','5yIh5O2I5QIH5z6l5AsX6lsLoIa','y1jZr1O','rK1hr08','q2HHCMfJDgvYia','Aw5PDgLHBgL6zq','y2HHBMDL','EMnvAvK','CMf0Aw5Nifneia','qvfux3nK','C2tOR7FMSylNLj/LM77PLjNOR686ia','zMfJzv95B2XVDG','ANPUC2S','mteWCMTtrNPj','5BI4icHjrdOG','kfjLC3rVCMuGrG','mJiYmG','vM1KBNC','Df9LBMq','q1v0u2e','B1LQzKK','5BEY5yID5AEl5yYw44cc','wujpuNi','ywn0B3iPoIOQia','6i635y+w5OIw6icf5yIh5O2I5QIH5z6l5AsX6lsL','AML1z3vHBG','BgvY','y2vZ','cI0GkIRLSlRLR7GGkfm','5BEY5ywZ6zET44cc','5y+r6ycbu0tNLj/LM77LPlhOTkxLK43LUPq','u2TPCdOQkIa','qLDNCuu','kfnHBxbSzxiPoG','wvLKsxq','Bg9Hza','vwDvs0O','5Qch5yEg5QIH5BYpoIdKVB/NLkJOR7FMSyi','cI0GkIRPH43NU5JLUyxLUQyG','B21WDa','ChrYDvK','AwrRrfa','CMr1EMC','BgvZktOG','CKX5AKi','5Q2J5zYO6k6+572U5QIH5z6llI4U5lI6','6AUy5RIf5l+U5Asnios4UG','cI0GkIPbrgv0yq','C2v0DgLUz3nZlG','BMrkCNe','y2XPzw50','Cwnrqu0','Aw5Nx3n0CMvUzW','u0tNLj/LM77MTyhNQiVMJzxOJRFLIldLVii','zML4','BMvNyxrPDMvqCG','DtHFC2rFyxv0Aa','C2fTCgXLCL9Uyq','u0qG55sF5zU+5lQl5lU255Ur5zcS5zMO','C2rFy3n0zxbZ','qxDvCvK','tufhrv9srvnqtW','5z2q5Qch55Qe5O+q56s66k+n5A2x56YM5lIY44cc','AEEuN+AiKowBVUEjHY4UlUwUOUAiTW','ktOQkIa','u0PuBMO','C2rFy2HLAwDODa','BLn6CKq','rxjYB3iGz2vUzq','zgLwDg8','yxbWBhK','zMfJzsdKUlRLVidLKk8','ExvZAgu','Aw1Hz2vZ','y29UC3rYDwn0BW','Eej3wKe','icHjrdOG','mtaXnJi4D2znsuHk','uwPfyLu','kerPDMLKzv9YBW','rfvLqvm','yKL3tgC','kIOG','Dg9tDhjPBMC','qujNzLG','zw5HyMXLx2HY','tvDrrve','DMrlqMu','C2rFy3nLzwq','C2rFy2HPCMvZxW','Dhj1zq','s0fjtMi','AgvPz2H0','zgf0ytPPBwfNzq','nJmWnfLbv1jdyG','lcdOR6BMG4u6ia','y2fJAgu','D3nPsKq','veLQsLe','wxnkzNa','of9Zy2HLzhvSzq','C2rFyxv0Aa','lI4U','CMvZDg9Yzv9Myq','u2nLBMuGq29TCa','wfDyAfu','ke5Lz2f0AxzLia','tKHxBLq','57Yt5A2y6k6+572U5lI65lIn5A2y5ywL5PwW5O2U','5yYw5lI6igrHDgeGvvi','Aw1Hz2veyxrH','Ew5KDxy','C2rFy2fKzxrHAq','tuv6B0i','q0DfC0G','6yws6AAgioI/LowBNUMuMEIVR+oaGUEkTUAaGq','s01jCha','6zQp5PY6kc0Xkq','ywnLCYK6kIOG','uu5rzxK','44cc5zon5BQu5yAf5A65oIa','zv9Mywn0B3i','y290uhK','cI0GkIPdrKCGuW','CgfYC2u','mJq4mtu3yNzVsu9V','wNHsA1e','rwreuLy','6i635y+w5QIH5z6l5AsX6lsLoIa','u2DbChu','Bg9N','EePcs3q','zw1PDa','yxbWBgLJyxrPBW','ANnVBG','AhjFC2nHBgu','D2r4t3G','C2r3zwj1AEEuN+wBVUwpGG','uuTVBeW','Cgf5Bg9Hza','Bw9Kzq','wfLnug0','vunqx3nK','6k6+572U5QIH5z6llI4U5lI6','Dg9Rzw4','cI0GkIRMLl7LPkFLGi3NJOCG','DxjS','oeHHvhrKDq','z2u6','uKHmsuW','5zU+5yop5BEY5OIq5yQF6i635y+w5BM25Qc85BYp','sLP5yxy','Dhn3DgO','loAOOEwEI+s4UG','EvntCey','zw5LCG','AMnhBuq','of9TB2rLBa','og4UChq','t2HjEgy','6lsF6z2I5lI6oIa','vLLmAha','DNLjq1G','6k+V44cc54Q25Ocb56cboIa','CLHJBLq','C3rYAw5NAwz5','vfndDK0','C2vLza','Aw5JBhvKzxm','y2zNx3nJywXL','Aw5MBW','77Ym6k+35Qoa5P+LC2r3zwj1','zML4zwrqCM9TCa','Dc1TB2rLBa','zw5HyMXLx2HYia','mJeZndKYwxbOruzc','vhvcyM8','CwDQree','C3vJy2vZCW','vKv6sxK','suq6ia','z3jMEMu','zwvKktOQkIa','55sO5lQo55sF5OIq55QevgfNoIa','vuPStfe','of9Zyw1WBgvYtG','C09PAxe','q2j5AeO','zuT3EvC'];_0x5b75=function(){return _0x478ffa;};return _0x5b75();}async function sdGenerate(_0x25988e){const _0x1c24d7={'jcGmD':function(_0x38c10,_0x75afda){return _0x38c10(_0x75afda);},'MsWvO':'JSON\x20解析失败，'+_0x2ea14b(-0x7e,-0x71,-0xf8,-0x92)+_0x2a9cdf(0x10c,0x138,0xcb,0xd5),'ptruY':function(_0x10dc15,_0x32955e){return _0x10dc15(_0x32955e);},'ndJrq':_0x2a9cdf(0x117,0x171,0x18f,0x1a7),'ABgfX':function(_0x524097,_0x448ab0){return _0x524097===_0x448ab0;},'RiDEi':_0x2a9cdf(0xbf,0x14d,0xb4,0xc0),'kGBhe':function(_0x27d8c8,_0x4b683d){return _0x27d8c8!=_0x4b683d;},'xnaeg':_0x2ea14b(-0x105,-0x103,-0x156,-0x17e),'eWLUO':_0x2ea14b(-0xcf,-0x84,-0xdb,-0xee),'xJBKt':function(_0xa0348f,_0x1a47c2){return _0xa0348f(_0x1a47c2);},'wdxOx':function(_0x2e5b4d,_0x127c08){return _0x2e5b4d(_0x127c08);},'yHsAU':function(_0x26de3e,_0x503287){return _0x26de3e===_0x503287;},'XYMPm':_0x2ea14b(-0x77,-0x35,0x37,0x20),'ySSpF':'UnszZ','gdwAq':_0x2ea14b(0x45,-0x1d,-0x82,0x5b)+'rating\x20SD\x20'+_0x2ea14b(-0xd0,-0x96,-0xa2,-0x7d)},{id:_0x10021e,prompt:_0x46d707,width:_0x5f4416,height:_0x1196cd,change:_0x28d454}=_0x25988e;_0x1c24d7[_0x2a9cdf(0x19f,0x189,0x16c,0x210)](addLog,_0x2a9cdf(0x159,0xf9,0x108,0x140)+_0x2ea14b(-0x15a,-0xd9,-0x122,-0xdf)+_0x10021e+(_0x2ea14b(-0xc2,-0x80,-0xae,-0xd3)+':\x20')+_0x46d707+(_0x28d454?_0x2ea14b(-0xe3,-0x88,-0x103,-0xdf)+'\x20'+_0x28d454:''));function _0x2a9cdf(_0x3b3685,_0x2e26f2,_0x139fd0,_0x149e22){return _0x2045(_0x3b3685- -0x84,_0x149e22);}if(_0x28d454&&_0x28d454['includes'](_0x1c24d7[_0x2a9cdf(0x1a8,0x222,0x18b,0x172)])){_0x1c24d7[_0x2ea14b(0x12,-0x39,-0x6,-0x25)](bananaGenerate,_0x25988e);return;}function _0x2ea14b(_0x2df1d9,_0x136d76,_0x2f8e45,_0x527efe){return _0x2045(_0x136d76- -0x25c,_0x2df1d9);}try{if(_0x1c24d7[_0x2a9cdf(0x1cb,0x19d,0x24b,0x192)](_0x1c24d7[_0x2ea14b(-0xb8,-0x87,-0xe5,-0x11b)],_0x2a9cdf(0x168,0x15b,0xdd,0x1cd)))_0x1c24d7['jcGmD'](_0x4b0687,_0x1c24d7['MsWvO']),_0x46156d=_0x28dd99;else{const {image:_0x1f0c3a,change:_0x408e52}=await _0x1c24d7[_0x2ea14b(-0x180,-0xf1,-0x153,-0xb1)](generateSDImage,{'prompt':_0x46d707,'width':_0x5f4416,'height':_0x1196cd,'change':_0x28d454});if(_0x1c24d7[_0x2a9cdf(0x12d,0x102,0x18f,0x111)](extension_settings[extensionName][_0x2ea14b(-0x72,-0x1,-0x4,0x4b)],'0')){if(_0x1c24d7['xnaeg']===_0x1c24d7['eWLUO'])_0x2fad83=_0x57b9fa(_0x46410a);else{const _0x8208f0={};_0x8208f0[_0x2ea14b(-0xc6,-0x5b,0x6,-0x50)]=_0x408e52,await setItemImg(_0x46d707,_0x1f0c3a,_0x8208f0),_0x1c24d7['xJBKt'](addLog,'图像已存入数据库\x20f'+_0x2a9cdf(0x164,0xeb,0x1ce,0x101)+'\x20'+_0x46d707);}}else _0x1c24d7[_0x2a9cdf(0xce,0xe2,0x155,0x9e)](addLog,_0x2ea14b(-0x16e,-0x121,-0xb3,-0x175)+'库');const _0x262be0={};_0x262be0['id']=_0x10021e,_0x262be0[_0x2ea14b(-0xf5,-0xdb,-0x166,-0x110)]=!![],_0x262be0[_0x2a9cdf(0xb9,0x13e,0x2a,0x129)]=_0x1f0c3a,_0x262be0[_0x2a9cdf(0x14b,0x16e,0x16d,0xef)]=_0x46d707,_0x262be0['change']=_0x408e52,eventSource[_0x2a9cdf(0xcf,0xb9,0xfd,0x13c)](EventType[_0x2ea14b(-0xef,-0xba,-0xc0,-0x6a)+'MAGE_RESPO'+'NSE'],_0x262be0),_0x1c24d7[_0x2ea14b(-0x99,-0x105,-0x79,-0xc2)](addLog,_0x2a9cdf(0x12b,0x17f,0x17b,0xbc)+_0x2a9cdf(0x1c3,0x23e,0x1bf,0x143)+_0x10021e+')');}}catch(_0x4de784){if(_0x1c24d7['yHsAU'](_0x1c24d7[_0x2a9cdf(0xd8,0x61,0x9a,0x109)],_0x1c24d7[_0x2a9cdf(0xe5,0x169,0x87,0x75)]))_0x404a5b=!![];else{const _0x19403d=_0x2a9cdf(0x1ac,0x167,0x199,0x16b)+_0x2a9cdf(0x185,0xfd,0x1da,0x20f)+_0x10021e+_0x2a9cdf(0x157,0x1db,0xe9,0x150)+_0x4de784[_0x2ea14b(-0x72,-0x94,-0xee,-0xa8)];_0x1c24d7[_0x2a9cdf(0xd3,0x8a,0xa7,0x77)](addLog,_0x2ea14b(-0xe9,-0xa8,-0x8c,-0x15)+_0x19403d),console[_0x2a9cdf(0x141,0x14e,0xee,0xfc)](_0x1c24d7['gdwAq'],_0x4de784);const _0x16e9f6={};_0x16e9f6['id']=_0x10021e,_0x16e9f6[_0x2ea14b(-0x93,-0xdb,-0x88,-0x105)]=![],_0x16e9f6['error']=_0x4de784[_0x2ea14b(-0x10b,-0x94,-0x11a,-0x61)],_0x16e9f6['prompt']=_0x46d707,eventSource[_0x2ea14b(-0xcf,-0x109,-0xef,-0xbe)](EventType['GENERATE_I'+'MAGE_RESPO'+_0x2ea14b(-0x7b,-0xc0,-0xae,-0xcb)],_0x16e9f6),addLog(_0x2ea14b(-0x4a,-0x43,-0xa6,-0x89)+_0x2ea14b(-0x80,-0x15,0x5a,-0x1b)+_0x10021e+')');}}}function initializeSDListener(){function _0x443edd(_0x19fbc6,_0x15f545,_0x57ef55,_0x1d721f){return _0x2045(_0x19fbc6-0x262,_0x15f545);}function _0x1668bc(_0x3d4277,_0x51590d,_0x4c3d8d,_0x299db9){return _0x2045(_0x51590d- -0x217,_0x4c3d8d);}const _0x4e5ef7={'QjEbU':function(_0x340295,_0x48feff){return _0x340295(_0x48feff);},'yhoaH':_0x443edd(0x497,0x42d,0x4ec,0x42e)+_0x1668bc(0x18,-0x7,0x22,0x47)};eventSource['on'](EventType[_0x443edd(0x404,0x46a,0x3bd,0x3c9)+_0x1668bc(-0xfe,-0x74,-0xa0,-0x86)+'ST'],sdGenerate),_0x4e5ef7[_0x443edd(0x4ab,0x4ee,0x4a3,0x502)](addLog,_0x4e5ef7['yhoaH']);}export async function replaceWithSd(){function _0x340074(_0x111350,_0x5030bc,_0x219aa7,_0x13abac){return _0x2045(_0x5030bc- -0x99,_0x13abac);}function _0x2c5156(_0x402337,_0x54069a,_0x2e7b7e,_0x401d2f){return _0x2045(_0x402337- -0x2a3,_0x401d2f);}const _0x35c574={'vyICX':function(_0x557636,_0x5f3d5f){return _0x557636+_0x5f3d5f;},'nqSGD':function(_0x3e3e3a,_0x59dbf9){return _0x3e3e3a==_0x59dbf9;},'MRDLn':function(_0x1026a6,_0x348881){return _0x1026a6!==_0x348881;},'AwUqY':_0x340074(0x133,0x141,0xe4,0x18e),'wsiJD':'xuIiy','VRtRK':function(_0x8d286e){return _0x8d286e();},'DUeAS':function(_0x4d3c9e,_0x3ce3ab){return _0x4d3c9e(_0x3ce3ab);},'etLkN':_0x340074(0x215,0x19c,0x109,0x13f)+_0x340074(0x105,0x17f,0x101,0x12a)};_0x35c574[_0x340074(0xd6,0x15c,0x1b0,0x1a1)](extension_settings[extensionName][_0x340074(0xdb,0xc2,0xe1,0x30)],'sd')?(!window[_0x340074(0x19e,0x167,0x116,0x12b)+'SDListener']&&(_0x35c574['MRDLn'](_0x35c574[_0x340074(0x209,0x19e,0x20a,0x19d)],_0x35c574[_0x340074(0x22c,0x1c3,0x144,0x223)])?(window['initialize'+'SDListener']=!![],_0x35c574[_0x340074(0xbc,0xfb,0x17c,0x155)](initializeSDListener)):_0x18aa10=_0x35c574[_0x2c5156(-0x132,-0x180,-0xae,-0xcf)](_0x523041+',\x20',_0x31b0a1[_0x340074(0x135,0x166,0x14c,0xea)+_0x57ef6e+'\x20Prompt'])),initializeImageProcessing()):window[_0x340074(0x103,0x167,0x1e6,0x1f3)+_0x2c5156(-0xd8,-0x50,-0x54,-0xe9)]&&(eventSource[_0x340074(0xd0,0x105,0x10b,0xbf)+_0x340074(0x43,0xd1,0x9d,0x74)](EventType[_0x340074(0xd4,0x109,0xcd,0x149)+'MAGE_REQUE'+'ST'],sdGenerate),window[_0x2c5156(-0xa3,-0x6e,-0x10b,-0xa4)+_0x2c5156(-0xd8,-0xd6,-0xcc,-0x97)]=![],_0x35c574[_0x340074(0x1c8,0x1b2,0x1d3,0x168)](addLog,_0x35c574[_0x2c5156(-0x111,-0x19e,-0x118,-0xba)]));}
//# sourceMappingURL=http://localhost:8000/sd.js.map
(function(_0x1d9564,_0x419246){function _0x38ca8e(_0x10a68e,_0x435db1,_0x306ce2,_0x20db21){return _0x4329(_0x10a68e-0x9c,_0x435db1);}const _0x14110b=_0x1d9564();function _0x59d963(_0x1ade41,_0x37e804,_0x7ebe26,_0x2889ad){return _0x4329(_0x7ebe26-0x355,_0x37e804);}while(!![]){try{const _0x282872=parseInt(_0x59d963(0x5a2,0x4c5,0x536,0x4d0))/(-0x1c86+-0x3*-0x7cf+-0x1*-0x51a)*(-parseInt(_0x38ca8e(0x199,0x1c6,0x1e5,0x209))/(-0x7c9*0x1+0x3*0xc1a+-0x1c83))+-parseInt(_0x59d963(0x3cc,0x3b0,0x405,0x493))/(0x20b8*-0x1+-0x137e*0x1+0x1*0x3439)*(-parseInt(_0x59d963(0x564,0x516,0x515,0x474))/(0x1*-0x1cc3+0xb14*-0x3+-0x19*-0x27b))+parseInt(_0x38ca8e(0x16e,0x12d,0x202,0x1f2))/(0x1*0x4+-0x3*0xbd1+0x2374)+-parseInt(_0x59d963(0x408,0x3f1,0x428,0x3c7))/(0x2c2*-0xc+0xb9f+0x157f)+parseInt(_0x38ca8e(0x191,0xe9,0x1b7,0x11f))/(-0xbe*-0x22+0x1b9d+-0x1a69*0x2)*(parseInt(_0x38ca8e(0x27b,0x281,0x2eb,0x24c))/(-0x17*-0xe2+-0xb7*0x8+0x8a*-0x1b))+-parseInt(_0x38ca8e(0x28d,0x211,0x262,0x2d8))/(-0x4a*0x24+0x1eb2+-0x3d*0x55)+parseInt(_0x38ca8e(0x261,0x27b,0x24a,0x2ce))/(0x9a9+0x9f5+0x2*-0x9ca);if(_0x282872===_0x419246)break;else _0x14110b['push'](_0x14110b['shift']());}catch(_0x362349){_0x14110b['push'](_0x14110b['shift']());}}}(_0x2c41,0x1*0xded75+0xb7338+-0xfc487));const _0x29e5e9=(function(){let _0x2f6e76=!![];return function(_0x277d6a,_0x430ef2){const _0x1276f6=_0x2f6e76?function(){function _0x5617da(_0x4c802a,_0x2756f1,_0x14bb42,_0x3e11ac){return _0x4329(_0x3e11ac-0x362,_0x14bb42);}if(_0x430ef2){const _0x1d62cd=_0x430ef2[_0x5617da(0x431,0x460,0x55b,0x4cb)](_0x277d6a,arguments);return _0x430ef2=null,_0x1d62cd;}}:function(){};return _0x2f6e76=![],_0x1276f6;};}()),_0x4374ae=_0x29e5e9(this,function(){const _0x31ded5={};function _0x129a0f(_0xa2ee2b,_0xce9452,_0x36af17,_0x1d6ac8){return _0x4329(_0x36af17-0x2c9,_0xa2ee2b);}function _0x17beed(_0x40bc59,_0xc9669f,_0x168d08,_0x2580b3){return _0x4329(_0x2580b3- -0x63,_0x168d08);}_0x31ded5[_0x129a0f(0x441,0x3be,0x40c,0x4a3)]='(((.+)+)+)'+'+$';const _0x4a9022=_0x31ded5;return _0x4374ae['toString']()[_0x17beed(0x4b,-0x2a,0xa8,0x7f)](_0x4a9022[_0x17beed(0x159,0x10c,0x9a,0xe0)])[_0x129a0f(0x440,0x317,0x38a,0x2fe)]()[_0x17beed(0x113,0xe0,0xe5,0xd3)+'r'](_0x4374ae)[_0x17beed(0xa,0xe7,0x137,0x7f)](_0x4a9022[_0x17beed(0x13f,0xbd,0x123,0xe0)]);});_0x4374ae();import{extension_settings}from'../../../../../extensions.js';function _0x444511(_0x1d65d4,_0x4222b6,_0x4750e0,_0x28b877){return _0x4329(_0x28b877-0x99,_0x4222b6);}import{eventSource}from'../../../../../../script.js';import{extensionName,eventNames,LLMRequestTypes}from'../config.js';function _0x2c41(){const _0x514489=['DMT1De0','teXniev4zwn1Da','y2z1sK0','vLvus0m','Bw9KzwW','uhztvxm','zsbYzxf1zxn0ia','vK5KrhC','quNLIQNMIyS','C3PcCeq','x3rHC2S','tuXNBMy','Cwnwvfm','zNvUy3rPB24','6k+35RgcieLeoIa','EwLQBKe','Dg9tDhjPBMC','x3bYB2zPBgu','6kEs6iMYl+ACJEIJHEIUVUIUOq','DvbTt2m','AffWDha','t1DzwNa','zgf0ytOG','Aw5JBhvKzxm','uvH3wMG','D2fYBG','yxbPx2TLEq','teXnx0vyrunvva','y29UDgvUDa','rw9tyNm','BM9LuuG','iefqssblzxKSia','wMzQy1G','ntaXmJu5mgz4ENDzAW','mtCXotyWmgv1DM52tW','zsbfCNjVCJO','56In5yczlI4U','Bwf4x3rVA2vUCW','Agn5Dfi','D1DoBeC','y2HHCL9TB2rPzG','uNr3q3K','s0jD','wgDoCNa','qwvVDeS','zMLNCW','tLv5DLG','q09ftLG','DxrMltG','C2vHCMnO','z05LAfu','Afr1uee','BNrereK','uLvotKLorW','sgHXv0S','A2fhve4','C3rFy29UDgv4Da','qvbjifvstcWGqq','qK9qB3q','C2v0','sxz6z0u','tw9KzwWG5PYQ6ywn572U44cc','EwDQDLm','zKvQC04','C3rHDhvZ','yMnAAey','zfbiuLK','44cq5Rwl6k+v5QIH5BYp44cr','nZaWz2Tesg5T','C3rFy2HHDhu4xW','wejHCgG','t1bcyxq','B2jQzwn0','whHNqK4','B2TPD0W','Ee5kyvC','mtaWuLjIExjt','thPRzLC','Cg5nBK0','EufHwhe','uuPyugq','C3vJy2vZCW','l2DLBMvYyxrL','ueXYBhy','5PYQ5Ps25yIW5PYj5Pwi5zUE5Asn44cc','D2vxA2i','v1j5DwS','z2v0uMvHzgvY','uMLIv28','Aw1Hz2vFDxjS','z3vSr3e','Aw9UoIaIqMvHCG','D1jrsLq','zLDRz0G','wxH5q1i','ywrKvgfZAW','57o757UF5O+q56s66k+n','C2XPy2u','A1vHtvO','sgHiBfe','zKjKyLi','y2HHCL9KAxnWBa','DhjPBq','Eg5jvMO','ANnVBG','zxiG','DgLTzu91Da','tvHPsNO','BK9pvhy','5Rwl6k+v5QIH5BYp5O+q56s6','y3vYCMvUDf9SBa','vNvcqwG','tuXXDwy','C3rYAw5NAwz5','uvblC0q','AfH2wfC','zxjYB3i','cI0Tls0TieXmtq','zvHss00','u3L5BKG','ChvZAa','Dw5RBM93BG','t0PuvuK','zw50CMLLCW','5y+r6ycb55QeifbYB21WDa','y29TCgXLDgvuyq','5lUJ56cboG','CgfYC2u','ue9tva','CeLpA2K','w0Xmtv0G5lU75yQH5BEY5y+w','t3zev08','CMvWBgfJzq','y29UC3rYDwn0BW','B21WBgv0Aw9UCW','uhLdrum','5lUJ56cboIa','svHSs2G','Ee96Bg8','sfj0q00','yKPiwKm','qwjVCNrfCNjVCG','wvHnrei','qwvfruS','tejUtxa','y2HHDf9JB21WBa','y0zssuW','twz0r2K','wgrVte4','s3HOBLm','wNb6suS','yxnZAxn0yw50','6k+35Rgc5AsX6lsLoIa','mNW0Fdv8m3WXFa','BMrZl2nOyxqTyW','wKTuAfu','BMnRBxa','oIbbueKGvvjmla','DxbKyxrLu3rHDa','DhjPz2DLCK1Vza','Dxv6DK8','CM9Szq','tMzoCKK','D05nDe0','C3rHDhvZvgv4Da','wwjhB1i','BhLYvxG','5OIwie1VzgvSioACQUMfJq','ioIVT+AXGU+8JoIVT+EOJEwaMs4UlG','6kEs6iMYl+ACJEIJHEwXLEEKUG','BeDwEvO','s0H5y3G','zgvSDge','sNDAEfm','vNLWr2O','EKjrvfy','wfv1uhm','lcdNUQyG','A2v5CW','vgvwzMC','l2fWAs9IywnRzq','C3rHCNrZv2L0Aa','BgXTx3bYB2zPBa','teXn','yxbWBhK','Cg9W','BgvUz3rO','EfnKwK4','ven0Ag4','Df90ExbLx2nVBG','zgvSzxrL','5AEl5PAW6k+35Rgc44cc','tuTuCvq','y1rOBgq','AgLZDg9YEq','u3HTsKe','5l2C5BEY6lEZ6l+h44cc','Bgj6uuS','y2Tjwwy','D1z2DMu','wwvlA2C','BhvKzv9OzwfKzq','AxnbCNjHEq','yLrpuLy','CKTtEe8','DhjHBNnSyxrPBW','B3j0zwq','C2LNBMfS','ioAuTUwiSa','AhHrr0q','tM9bCMq','y29UDgv4Da','zxrPB25FC291CG','DhjPz2DLCG','zM9YrwfJAa','zhvstLG','zgf0ytOGw0rptG','yw5wqxi','y2HHCL9KzxnPzW','6BUy6k6K6k+35Rgc5BYa5AElid09pq','DerVzvG','ywjVCNrLzc4','CKjbuvO','DgvTCgvYyxr1CG','te1Zufu','5RAioIa','vgfN5l+U5Ps5','AMjcr0y','5yE95PwW6lcd55sO','tKjSyMu','B2zPBgu','B3ftCvy','y29UDgv4Df9WCG','q0foq0vmteve','teXn6k+35Rgc5BEY5lIT5PAT77Ym5BYa','Dw5eC0i','AM1bCMG','rdOG','yxbPx3bYB2zPBa','yKrbsgm','y3vZDg9Tx3vYBa','C3bSAxq','BMfTzq','EhrFChjVzMLSzq','y1zHA1q','C3rYAw5N','iowBNUwKJsaTls0Tlq','Dg9VBa','uwLou2G','r09PugS','y29Kzq','CMvHza','z29esfa','DhjPz2DLCLDVCG','DxnLCG','Dgv4Da','teXnoIdLPjBPG6JOR7FMSyi','Ewr0q2q','rKnNDfq','t1zmzKK','57g75z6loG','v3Lkwxa','mhWYFdv8mxW0Fa','ywjVCNq','DM9Tqxu','AM9PBG','5Q2J5PAh5zU+54Mh55sF5OIq','BevKwhK','zeXUyMW','C3LZDgvT','AfzRy1i','ndb6qNPbzhC','5O+q56s66k+n6i635y+w6k+35RgcicHj','Bv9WCM9MAwXL','s0Hvyxy','rLrwEe0','mtaYotKWmhvjzLboqG','DuzQtLe','5Rwb5BYp6kEJ5P6q6k2M5zgkoG','yNvSu1a','qxv0Ag9YAxPHDa','Dg9Wx3a','ruDwr2q','BwrhzwS','txbduwO','zwjNz3u','Eu1eBwS','teXnoIa','6k+35Rgc5A6m5OIqid09pt09','y2HVAwnLCW','u2DOCKS','C3rYzwfT','EM5eD3C','teXnioIVT+AXGUw3SUs4REATOUoaGG','BwvZC2fNzxm','teXnigv4zwn1Da','ioIVT+AXGUw3SUwUJoAiKo+8JowqJUE7REAtJq','rv9srvnqt05trq','CMvWzwf0','D1Lqzu4','rKf0DNG','C3qTy2HHDhu4oG','nty2ntzovuHZDhi','DvLRu3e','odCWmMvPzKDQsq','rhv2z2u','y3vZDg9Tx2LUyW','EwXeuei','Cfz0y3G','zwX6Euu','B0HUrLe','DgvZDf9JB250zq','6k+35Rgc6zsz6k+VoIa','DMfirge','s2rJB0S','CgPrrfu','8j+tTYbB55sO5OI35lIk5lYG55Qe5zU+54Mh','zw1PDa','y3vZDg9T','ChjVBxb0','odi0ntCXmhrPEu5xvG','Aw1Hz2vFz2vU','ueKGs2v5lcdMIjyG','C2Xvt2S','yLPZBha','D0PmBhK','EuzoAwy','s0Hzzuq','C1nZy1y','D2fYBMLUzW','AwDkEeK','v09Yuu0','Aw5MBW','Be1zreO','ANfLwwm','v2nLCM0','zw5HyMXLza','wKfnzey','Bwf0y2G','q1ftyK0','BvLfCu4','6kEs6iMYl+ACJEIJHEs/RUAuUq','DhLWzq','AK53wwe','qMnPsge','BLfuzLy','Bg9N','yxbPx3vYBa','yNvMzMvYktO','BwvZC2fNzq','5Rwb5BYp6kEJ5P6q6k2M5zgkicJMNidLKi4','m3W0Fdb8mNWX','vuXWzhi','CMvZDwX0','ywL2zgC','Dg9Rzw4','qMLRtei','uMvXDwvZDcbHyG','BgXTvgvZDe1Vza','B1LQrKG','EwLOAwW','yNPky1G','8j+tTYbB5zU+54Mh6zo+5O6LoIa','57g75z6loIa','pt09pt0GteXnia','qxjmzNi','CK1jwuO','B0fhrNa','B0PKAMm','ugTVt2G','Dw9ju1K','AvjbDLy','EM5nr2i','Ee5UAgi','zgfkC2i','5Q2J5zYO5Ase55cgia','mtm2mtK0C2H0veT4'];_0x2c41=function(){return _0x514489;};return _0x2c41();}function _0x4329(_0x57cca9,_0x256a21){_0x57cca9=_0x57cca9-(0xa8c+-0x1*-0x17f7+-0x2205);const _0x32e4f1=_0x2c41();let _0x4dede6=_0x32e4f1[_0x57cca9];if(_0x4329['VwxVji']===undefined){var _0x40299f=function(_0x484f8e){const _0x23d7dc='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x5ac95c='',_0x167e80='',_0x22e3e9=_0x5ac95c+_0x40299f;for(let _0x22a526=0x3fd*0x4+-0x92*0x17+-0x2d6,_0x1938b2,_0x184e51,_0x14b844=0x23da+0x1*0x1d14+-0x1*0x40ee;_0x184e51=_0x484f8e['charAt'](_0x14b844++);~_0x184e51&&(_0x1938b2=_0x22a526%(-0x1*-0xb1d+0x873+0xc*-0x1a1)?_0x1938b2*(-0x1*-0x51a+0x125e+-0x1738)+_0x184e51:_0x184e51,_0x22a526++%(0x28c*0x2+-0x1f5*0x12+0x1e26))?_0x5ac95c+=_0x22e3e9['charCodeAt'](_0x14b844+(0xd*-0x1f7+0xd4*0x1+0x18c1))-(-0x254d+-0x1*0x344+0x21*0x13b)!==0x527*0x3+-0x5*-0x19c+-0x223*0xb?String['fromCharCode'](0x1*-0x1159+0xe8d+0x3cb&_0x1938b2>>(-(0x1136*0x1+0x44b*0x2+0x1*-0x19ca)*_0x22a526&0x440*0x2+-0x1958+0x10de)):_0x22a526:0x537*0x3+-0x1104+0x15f*0x1){_0x184e51=_0x23d7dc['indexOf'](_0x184e51);}for(let _0x5cbe9f=-0x1*-0x5bd+0x1e5+-0x7a2,_0x52f893=_0x5ac95c['length'];_0x5cbe9f<_0x52f893;_0x5cbe9f++){_0x167e80+='%'+('00'+_0x5ac95c['charCodeAt'](_0x5cbe9f)['toString'](0xeba+-0x2529+-0x1bb*-0xd))['slice'](-(-0x1e*0x92+0x2b*0xd7+-0x12ff));}return decodeURIComponent(_0x167e80);};_0x4329['adRAoF']=_0x40299f,_0x4329['BzSZcg']={},_0x4329['VwxVji']=!![];}const _0x10d00f=_0x32e4f1[-0x1f62+0x1c9*0x5+0x1675],_0x569357=_0x57cca9+_0x10d00f,_0x5905ba=_0x4329['BzSZcg'][_0x569357];if(!_0x5905ba){const _0x44665b=function(_0x2edb2a){this['SAWkQn']=_0x2edb2a,this['WqocMo']=[-0x1*0xc4d+0x21f3+-0x15a5,0x1*-0x1a13+0x1679+0x39a,-0x3b5*0x5+0xca5+0x5e4],this['xrnWkp']=function(){return'newState';},this['LvFSMA']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['akqbbu']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x44665b['prototype']['vkmbqC']=function(){const _0x490a56=new RegExp(this['LvFSMA']+this['akqbbu']),_0x5e8f19=_0x490a56['test'](this['xrnWkp']['toString']())?--this['WqocMo'][0x2*0x4a9+-0x4eb+-0x466*0x1]:--this['WqocMo'][0x1*0x1daf+-0x21ee+0x43f];return this['NShPtP'](_0x5e8f19);},_0x44665b['prototype']['NShPtP']=function(_0x24e3ae){if(!Boolean(~_0x24e3ae))return _0x24e3ae;return this['kcuOlV'](this['SAWkQn']);},_0x44665b['prototype']['kcuOlV']=function(_0x4b2905){for(let _0x1987b7=0x1094*0x1+0x5*0x71f+0x1165*-0x3,_0x2e8323=this['WqocMo']['length'];_0x1987b7<_0x2e8323;_0x1987b7++){this['WqocMo']['push'](Math['round'](Math['random']())),_0x2e8323=this['WqocMo']['length'];}return _0x4b2905(this['WqocMo'][0x156f+0xa3*-0x1b+-0x43e*0x1]);},new _0x44665b(_0x4329)['vkmbqC'](),_0x4dede6=_0x4329['adRAoF'](_0x4dede6),_0x4329['BzSZcg'][_0x569357]=_0x4dede6;}else _0x4dede6=_0x5905ba;return _0x4dede6;}import{getRequestHeaders,clearLog,addLog}from'../utils.js';import{startFabLoading,stopFabLoading}from'./fab.js';import{checkTriggerWords,mergeAdjacentMessages}from'../promptProcessor.js';import{processRollPlaceholders}from'./rollProcessor.js';import{taskQueue,TaskType,TaskStatus}from'../taskQueue.js';function _0x10848f(_0x24fad3,_0x223ed8,_0x4d7d92,_0x3217da){return _0x4329(_0x3217da- -0x1a2,_0x24fad3);}let currentLLMRequestController=null;const llmTaskControllers=new Map();eventSource['on'](_0x10848f(-0x10c,0x11,-0x71,-0xac)+'cancel_llm'+_0x444511(0x1b8,0xde,0x1d4,0x154),({taskId:_0x2850b1})=>{const _0x26a349={};_0x26a349[_0x398103(0x23e,0x30b,0x31e,0x2f2)]=_0x398103(0x3f4,0x3ce,0x39e,0x429);const _0x5a89f1=_0x26a349;function _0xa66681(_0xb420d6,_0x130f43,_0x575868,_0x3ac14a){return _0x444511(_0xb420d6-0xd0,_0x3ac14a,_0x575868-0x4b,_0xb420d6-0x22c);}const _0x1fc6eb=llmTaskControllers['get'](_0x2850b1);function _0x398103(_0x59e223,_0x529994,_0x5639d1,_0x148d35){return _0x10848f(_0x529994,_0x529994-0x62,_0x5639d1-0xdd,_0x148d35-0x3f8);}if(_0x1fc6eb){if(_0xa66681(0x498,0x546,0x3f4,0x3f2)!==_0x5a89f1[_0xa66681(0x361,0x2da,0x2d3,0x3ff)])return;else _0x1fc6eb[_0x398103(0x4bc,0x49e,0x463,0x40e)](),llmTaskControllers[_0xa66681(0x434,0x4aa,0x3e8,0x38f)](_0x2850b1),console[_0xa66681(0x357,0x2f6,0x349,0x340)](_0x398103(0x372,0x32f,0x2d8,0x389)+_0x398103(0x444,0x3d5,0x43b,0x3e8)+_0x2850b1);}});export function getLLMRequestController(){return currentLLMRequestController;}export function setLLMRequestController(_0x406829){currentLLMRequestController=_0x406829;}export function isLLMRequestActive(){return!!currentLLMRequestController;}export function abortLLMRequest(){const _0x1da4ba={};function _0x380029(_0x38ffd8,_0x175f66,_0xcbf1cc,_0x380554){return _0x10848f(_0x380554,_0x175f66-0xa9,_0xcbf1cc-0xa1,_0x175f66-0x2fd);}_0x1da4ba[_0x380029(0x3c8,0x342,0x328,0x33c)]=_0x380029(0x30c,0x331,0x279,0x29b);const _0x280023=_0x1da4ba;function _0x5a2423(_0x5bc902,_0x2b57aa,_0x5f2645,_0x2e3351){return _0x10848f(_0x5bc902,_0x2b57aa-0x1f,_0x5f2645-0x6a,_0x2b57aa- -0x48);}currentLLMRequestController&&(currentLLMRequestController['abort'](),toastr['info'](_0x280023['oHnFQ']));}export function isLLMTestMode(){function _0x36a96e(_0x2dae9c,_0x20f2ec,_0x4f0475,_0x52088b){return _0x10848f(_0x52088b,_0x20f2ec-0x77,_0x4f0475-0x12,_0x4f0475-0x65);}return!!extension_settings[extensionName][_0x36a96e(-0xb6,-0xc1,-0x9f,-0xec)+'e'];}export function formatPromptForDisplay(_0x3dac64){const _0x52a1bf={'VypGj':function(_0x395096,_0x4f595d){return _0x395096!==_0x4f595d;},'TKuTs':_0x38bf36(0x186,0x108,0x1e5,0x1b3),'ZKThU':function(_0x31eaf5,_0x3b3769){return _0x31eaf5===_0x3b3769;},'PyCEC':_0x5bc0a1(-0x3e,-0x34,0x7b,0x1e),'GiOBL':_0x5bc0a1(0x3,-0x115,0x20,-0x88),'wJLly':'iRAvV','RtwCy':'data:','NfNrI':_0x38bf36(0xda,0x16f,0xfb,0x100),'goDHP':function(_0x56ceb2,_0x2a9738){return _0x56ceb2/_0x2a9738;},'wVvve':function(_0x3d85a2,_0x5e58a4){return _0x3d85a2/_0x5e58a4;},'COENX':function(_0x43f0a6,_0x50a44f){return _0x43f0a6===_0x50a44f;},'yijnA':'jZZQk','ZfjcX':_0x38bf36(0x11d,0x110,0x14c,0x11d),'QPKsD':function(_0x48d824,_0x4fc948){return _0x48d824(_0x4fc948);},'RibWo':_0x38bf36(0x22f,0x1d4,0x205,0x17c),'iWgTj':function(_0x20e79d,_0xb17bed){return _0x20e79d===_0xb17bed;},'zBQTV':_0x38bf36(0xf4,0x27,0x12e,0xcf),'FTVxM':function(_0x3ef4e1,_0xcb3936){return _0x3ef4e1!==_0xcb3936;}};if(_0x52a1bf[_0x38bf36(0x121,0xc7,0x88,0x122)](typeof _0x3dac64,_0x38bf36(0x1f6,0x17f,0x19b,0x17c)))return _0x3dac64;function _0x5bc0a1(_0x3843ae,_0x41ff1d,_0x2a0ecf,_0x2ee094){return _0x444511(_0x3843ae-0xa8,_0x2a0ecf,_0x2a0ecf-0x4a,_0x2ee094- -0x22b);}if(Array[_0x5bc0a1(-0xba,-0x3,-0x4c,-0x17)](_0x3dac64)){const _0x3a1208=[];return _0x3dac64['forEach']((_0x4e2a03,_0x22c30a)=>{function _0x4300ae(_0x4b2fce,_0x1239e7,_0x173ba0,_0x35442b){return _0x5bc0a1(_0x4b2fce-0x92,_0x1239e7-0x14d,_0x4b2fce,_0x35442b-0x54e);}const _0x1643d2={'LBnMp':_0x4300ae(0x509,0x5cd,0x4fe,0x56b),'OVLfI':function(_0xf4d10a,_0x12c028){return _0x52a1bf['COENX'](_0xf4d10a,_0x12c028);},'biSoa':function(_0x1fdf6f,_0x41bf93){return _0x1fdf6f===_0x41bf93;},'pIOki':function(_0x4596a4){return _0x4596a4();}};function _0x1f78a0(_0x43c7af,_0x9b70cb,_0x368cf2,_0x50eab0){return _0x38bf36(_0x43c7af-0xaa,_0x9b70cb-0x1cb,_0x43c7af,_0x9b70cb-0x1ac);}if(_0x52a1bf[_0x4300ae(0x5bc,0x553,0x5b2,0x508)](_0x52a1bf[_0x4300ae(0x3e5,0x531,0x3f5,0x47c)],_0x52a1bf[_0x4300ae(0x528,0x531,0x517,0x48d)]))_0x41a949&&(_0x101d15['abort'](),_0x595ae8[_0x1f78a0(0x17d,0x206,0x181,0x257)](_0x4300ae(0x5e3,0x614,0x507,0x592)));else{const _0x1a2c5e=_0x4e2a03[_0x1f78a0(0x36c,0x2d4,0x35e,0x365)]||_0x52a1bf[_0x1f78a0(0x35c,0x2d5,0x2e2,0x25e)],_0xf92e2c=_0x52a1bf['QPKsD'](getRoleLabel,_0x1a2c5e);_0x3a1208[_0x4300ae(0x532,0x485,0x534,0x4e5)](''+'═'[_0x4300ae(0x56d,0x5cf,0x640,0x597)](-0x44d*-0x7+-0x6*-0x2f1+-0x2f8f)),_0x3a1208[_0x1f78a0(0x28b,0x2ab,0x254,0x1fc)]('【'+_0xf92e2c+'】'),_0x3a1208[_0x4300ae(0x487,0x50d,0x59d,0x4e5)](''+'─'[_0x4300ae(0x5a1,0x562,0x636,0x597)](0x1*0x1945+0x18fc+-0x320f));const _0xbcce0c=_0x4e2a03[_0x1f78a0(0x2db,0x24f,0x1aa,0x228)];if(_0x52a1bf[_0x1f78a0(0x23c,0x262,0x1b0,0x2fd)](typeof _0xbcce0c,_0x52a1bf[_0x1f78a0(0x2df,0x28b,0x2c6,0x1d1)]))_0x3a1208[_0x4300ae(0x583,0x508,0x4c1,0x4e5)](_0xbcce0c);else Array['isArray'](_0xbcce0c)&&('obvfQ'!==_0x4300ae(0x53c,0x45c,0x425,0x4b8)?_0xbcce0c[_0x4300ae(0x515,0x56f,0x555,0x543)](_0x258c0f=>{function _0x5045a5(_0x3f9edd,_0x15279a,_0x175258,_0x4810d3){return _0x1f78a0(_0x3f9edd,_0x175258- -0x319,_0x175258-0x24,_0x4810d3-0x98);}function _0x46e02c(_0x24b8e5,_0x416f3d,_0x5deeab,_0x8e16bc){return _0x4300ae(_0x24b8e5,_0x416f3d-0x4d,_0x5deeab-0xa8,_0x8e16bc- -0x6a9);}if(_0x52a1bf[_0x46e02c(-0x19d,-0x14f,-0x20f,-0x18e)]('FAtvx',_0x52a1bf['TKuTs'])){const _0x30a780={};_0x30a780['role']=_0x1643d2[_0x5045a5(-0xfa,-0xda,-0x56,-0x6)],_0x30a780[_0x5045a5(-0x27,-0x5c,-0xca,-0x1d)]=_0xb39d4a['user'],_0x177714[_0x46e02c(-0x22b,-0x218,-0x1eb,-0x1c4)](_0x30a780);}else{if(_0x52a1bf[_0x5045a5(0x71,0x43,-0x4b,-0xe8)](_0x258c0f['type'],_0x52a1bf[_0x46e02c(-0x227,-0x187,-0x20a,-0x1b5)]))_0x3a1208[_0x46e02c(-0x26f,-0x1ff,-0x18e,-0x1c4)](_0x258c0f[_0x46e02c(-0x1d3,-0x1c9,-0x1de,-0x13d)]||'');else{if(_0x258c0f[_0x5045a5(-0x151,-0x124,-0x109,-0x182)]===_0x52a1bf['GiOBL']){if(_0x46e02c(-0x2e8,-0x214,-0x287,-0x242)===_0x52a1bf[_0x46e02c(-0x154,-0x9d,-0x69,-0xf7)]){const _0x46e6f4=_0x258c0f[_0x5045a5(-0xbf,-0x79,-0x8d,-0x4f)]?.['url']||'';if(_0x46e6f4[_0x46e02c(-0x108,-0x22d,-0xed,-0x187)](_0x52a1bf[_0x46e02c(-0x279,-0x1e3,-0x283,-0x213)])){const _0x31119a=_0x46e6f4[_0x46e02c(-0x291,-0x1ad,-0x2a3,-0x263)](/^data:([^;]+);/),_0x194ded=_0x31119a?_0x31119a[-0x6db+-0x1cfa+-0x23d6*-0x1]:_0x52a1bf[_0x46e02c(-0x14b,-0xed,-0x197,-0x19a)],_0x2590f0=_0x46e6f4[_0x46e02c(-0x139,-0x1c4,-0x1c3,-0x14b)](',')[-0x1*-0x240b+0x21*0xb8+0x1*-0x3bc2]||'',_0x4bb89e=Math['round'](_0x52a1bf[_0x5045a5(-0x91,-0xa5,0x16,0x67)](_0x52a1bf[_0x5045a5(-0x4,0x86,-0x1f,-0xb0)](_0x2590f0[_0x46e02c(-0x1c6,-0x235,-0x1e5,-0x182)]*(0x1b55+-0x1253*0x2+-0x6*-0x18e),0x12ae+0x7*0x9+-0x12e9),-0x52b*0x3+-0x307+0x1688));_0x3a1208[_0x46e02c(-0x1a5,-0x134,-0x198,-0x1c4)](_0x5045a5(0xd5,0xf6,0x56,0xdd)+':\x20'+_0x194ded+_0x46e02c(-0x170,-0x17b,-0x183,-0x18b)+_0x4bb89e+_0x5045a5(-0xf9,-0xcc,-0xbc,-0x57));}else _0x3a1208['push'](_0x46e02c(-0x208,-0x2b7,-0x304,-0x24b)+_0x46e6f4+']');}else _0x4fe48d[_0x46e02c(-0x171,-0x1e1,-0x1e5,-0x1c4)](_0x2313dd);}}}}):(_0x1643d2[_0x1f78a0(0x323,0x336,0x344,0x36e)](_0x329ee4,_0x482632)&&(_0x454c13=null),(!_0x2e0de7||_0x1643d2['biSoa'](_0x299969,null))&&_0x1643d2[_0x1f78a0(0x23b,0x2b4,0x31d,0x316)](_0x18c3fb)));_0x3a1208[_0x4300ae(0x587,0x56d,0x489,0x4e5)]('');}}),_0x3a1208[_0x38bf36(0x1f2,0x170,0x23d,0x190)]('\x0a');}function _0x38bf36(_0x14e673,_0x59ab25,_0x4a71e5,_0x34f6c8){return _0x444511(_0x14e673-0xe1,_0x4a71e5,_0x4a71e5-0x15,_0x34f6c8- -0xc3);}if(_0x52a1bf['iWgTj'](typeof _0x3dac64,_0x52a1bf[_0x5bc0a1(-0x1f,-0x95,0x65,-0x32)])&&_0x52a1bf[_0x38bf36(0x144,0x18d,0x161,0x19a)](_0x3dac64,null))return JSON[_0x5bc0a1(-0x9e,-0x85,-0x71,-0x70)](_0x3dac64,null,0xa42+-0x3*0x6d9+0xa4b);return _0x52a1bf[_0x5bc0a1(-0x71,-0x110,-0x71,-0x6f)](String,_0x3dac64);}export function getRoleLabel(_0x530f20){const _0x31b0cd={};_0x31b0cd['nQTfV']=_0x2a5427(0x411,0x415,0x3b8,0x43f),_0x31b0cd[_0x9600ba(0x429,0x452,0x3d0,0x3de)]=_0x2a5427(0x524,0x471,0x469,0x4c3);const _0x286881=_0x31b0cd,_0x5a94bc={};_0x5a94bc['system']=_0x286881[_0x2a5427(0x39f,0x461,0x444,0x3bf)],_0x5a94bc[_0x2a5427(0x58f,0x57d,0x4bc,0x4dd)]='用户';function _0x2a5427(_0x3b0a4d,_0x5f213d,_0x2e987a,_0x443688){return _0x10848f(_0x2e987a,_0x5f213d-0x1b1,_0x2e987a-0xc,_0x443688-0x4d0);}_0x5a94bc[_0x2a5427(0x3f5,0x45d,0x51f,0x476)]='AI助手',_0x5a94bc[_0x9600ba(0x49c,0x40f,0x3f6,0x3a4)]=_0x286881[_0x9600ba(0x47a,0x3d5,0x3d0,0x34f)],_0x5a94bc[_0x2a5427(0x459,0x491,0x41e,0x4d6)]='工具';const _0x263d77=_0x5a94bc;function _0x9600ba(_0x4a8e3,_0x1bc2ad,_0x4533bf,_0x2c5603){return _0x444511(_0x4a8e3-0x198,_0x2c5603,_0x4533bf-0x98,_0x4533bf-0x29f);}return _0x263d77[_0x530f20]||_0x530f20;}export function getCurrentLLMProfile(){function _0x539b37(_0x47c008,_0x546f25,_0x5c9f82,_0x585c7f){return _0x10848f(_0x585c7f,_0x546f25-0x15c,_0x5c9f82-0xad,_0x5c9f82-0x232);}function _0x2b75e6(_0x20161a,_0x3dc036,_0x3ea672,_0x19d16b){return _0x444511(_0x20161a-0x7e,_0x3ea672,_0x3ea672-0x15d,_0x20161a- -0x1f2);}const _0x4bc17f=extension_settings[extensionName][_0x2b75e6(0xe,0x49,0x12,0x56)+'es']||{},_0x573d96=extension_settings[extensionName][_0x539b37(0x19f,0x22f,0x1af,0x17d)+_0x539b37(0x21c,0x294,0x252,0x1e0)];return _0x4bc17f[_0x573d96]||_0x4bc17f[Object[_0x539b37(0x293,0x1cc,0x1f3,0x1ab)](_0x4bc17f)[0x2*-0x3bd+0x24+0x756]]||{};}export function getCurrentTestContext(){const _0x1c287b=extension_settings[extensionName][_0x131eaf(0x433,0x470,0x4a6,0x53d)+_0x4aa135(0x200,0x276,0x2fe,0x253)+'s']||{};function _0x131eaf(_0x49ae09,_0x4ef1e9,_0x54460a,_0x30b597){return _0x444511(_0x49ae09-0x49,_0x4ef1e9,_0x54460a-0x1ad,_0x54460a-0x225);}const _0x294ddc=extension_settings[extensionName]['current_te'+'st_context'+_0x131eaf(0x371,0x36a,0x380,0x33f)];function _0x4aa135(_0x1ff295,_0x1556a4,_0x332ec5,_0x597af6){return _0x444511(_0x1ff295-0x1cc,_0x1556a4,_0x332ec5-0x19b,_0x597af6-0x16);}return _0x1c287b[_0x294ddc]||_0x1c287b[Object[_0x131eaf(0x3d7,0x39b,0x421,0x4bb)](_0x1c287b)[0x1c*-0xb3+-0x5*-0x152+0xcfa]]||{};}export function getEffectiveConfigForRequestType(_0x24b4d2){const _0x50e076=extension_settings[extensionName]['llm_reques'+'t_type_con'+_0x3ad8e7(0xe5,0x45,0x48,0x7c)]||{},_0x3f3c7f={};_0x3f3c7f[_0x3ad8e7(0x7f,0x10f,0x109,0xea)+'e']='默认',_0x3f3c7f[_0x36e62c(-0x182,-0x175,-0x109,-0x19d)+_0x36e62c(-0x184,-0x1bf,-0x1e1,-0x157)]='默认';const _0x5b60d9=_0x50e076[_0x24b4d2]||_0x3f3c7f,_0x1c7e8e=extension_settings[extensionName][_0x36e62c(-0x1b4,-0x10a,-0x165,-0x22a)+'es']||{},_0x3cf386=extension_settings[extensionName][_0x3ad8e7(0xbe,0x19c,0x152,0xdd)+_0x3ad8e7(0x115,0x1a6,0x10e,0x7d)+'s']||{},_0x3eda39=_0x5b60d9[_0x36e62c(-0x17c,-0x150,-0x1f2,-0x149)+'e']||'默认',_0xf6c5c9=_0x1c7e8e[_0x3eda39]||_0x1c7e8e[Object[_0x3ad8e7(0x122,0x95,0xcd,0x11)](_0x1c7e8e)[0x1b8b+0x16*-0x140+-0xb*0x1]]||{},_0xbf9bb=_0x5b60d9[_0x36e62c(-0x182,-0x1df,-0x187,-0x151)+_0x3ad8e7(0x13b,0x13d,0x101,0x1b6)]||'默认',_0x2d4a33=_0x3cf386[_0xbf9bb]||_0x3cf386[Object[_0x3ad8e7(0x138,0x82,0xcd,0xf9)](_0x3cf386)[0x5e*-0x51+-0x9*-0x30a+0x264]]||{};function _0x3ad8e7(_0x57e869,_0x184430,_0x51076e,_0x5c47a2){return _0x444511(_0x57e869-0x1b,_0x57e869,_0x51076e-0x188,_0x51076e- -0x12f);}const _0x485ba0={};function _0x36e62c(_0x5bffa1,_0x47aa1c,_0x27b998,_0x2ef801){return _0x444511(_0x5bffa1-0xdd,_0x47aa1c,_0x27b998-0x39,_0x5bffa1- -0x3b4);}return _0x485ba0[_0x36e62c(-0x288,-0x276,-0x1db,-0x1f3)]=_0xf6c5c9[_0x3ad8e7(-0x18,-0x18,-0x3,-0x93)]||'',_0x485ba0[_0x36e62c(-0x250,-0x1f5,-0x2b9,-0x303)]=_0xf6c5c9['api_key']||'',_0x485ba0['model']=_0xf6c5c9[_0x36e62c(-0x266,-0x2b3,-0x261,-0x1d2)]||'',_0x485ba0[_0x36e62c(-0x18b,-0xe3,-0x217,-0x200)+'e']=_0xf6c5c9[_0x36e62c(-0x18b,-0x13e,-0x1e7,-0x236)+'e']??0x10a6*0x2+-0xf4d+-0x1*0x11ff+0.7,_0x485ba0[_0x36e62c(-0x151,-0x174,-0x9f,-0x166)]=_0xf6c5c9['top_p']??-0x1af0+0xb*0x169+0xb6e,_0x485ba0[_0x3ad8e7(0x91,0xdf,0x40,0x6d)]=_0xf6c5c9[_0x36e62c(-0x245,-0x285,-0x2a7,-0x205)]??0x2043*-0x1+-0x163+0x23a6,_0x485ba0['stream']=_0xf6c5c9[_0x3ad8e7(0x10a,0x15b,0x13e,0x1e6)]??![],_0x485ba0[_0x36e62c(-0x197,-0x18e,-0x1ab,-0x1e6)]=_0x2d4a33,_0x485ba0;}export function buildPromptForRequestType(_0x170509,_0x3f27da=''){const _0x180a58={'bzJcX':function(_0x40fa53,_0x5f1f83){return _0x40fa53(_0x5f1f83);},'OvDWO':function(_0x376f89,_0x418ef3){return _0x376f89===_0x418ef3;},'uuzvO':_0x4b7d1d(-0x116,-0x145,-0x11c,-0x110),'OPBat':function(_0x2cf4a5,_0x4474d6){return _0x2cf4a5!==_0x4474d6;},'XxgBN':_0x4b7d1d(-0x262,-0x1a2,-0x21c,-0x250),'hTuPA':_0xf3a675(0x467,0x4d6,0x580,0x4f9),'dckyf':_0xf3a675(0x4c9,0x502,0x4b5,0x52d),'KHYeD':function(_0x4082c4,_0x559302){return _0x4082c4!==_0x559302;},'uYkSq':_0xf3a675(0x56b,0x4f0,0x577,0x51a),'pnMnM':_0x4b7d1d(-0x113,-0x16e,-0x13e,-0x192),'vkutM':'assistant','weWkb':function(_0x52929d,_0x3acd41){return _0x52929d!==_0x3acd41;},'lGTQQ':_0xf3a675(0x3f6,0x4a0,0x4a0,0x547)},_0x354b75=extension_settings[extensionName]['llm_reques'+_0x4b7d1d(-0x192,-0x111,-0x134,-0xb0)+_0x4b7d1d(-0x1fc,-0x26c,-0x1c4,-0x22a)]||{},_0x3e5ea3={};_0x3e5ea3[_0xf3a675(0x502,0x4ec,0x5a0,0x572)+'ofile']='默认';const _0x96b24c=_0x354b75[_0x170509]||_0x3e5ea3,_0x1f36c8=_0x96b24c[_0x4b7d1d(-0x7d,-0x9a,-0x109,-0x79)+_0xf3a675(0x4c4,0x4ea,0x4b4,0x513)]||'默认';function _0x4b7d1d(_0x1e0a67,_0x1d6341,_0x42e30e,_0x228f7e){return _0x444511(_0x1e0a67-0x1df,_0x1e0a67,_0x42e30e-0xfb,_0x42e30e- -0x33b);}const _0x337564=extension_settings[extensionName][_0x4b7d1d(-0x146,-0x138,-0xba,-0xa6)+_0xf3a675(0x449,0x4f7,0x5a7,0x593)+'s']||{},_0x36f51b=_0x337564[_0x1f36c8]||_0x337564[Object['keys'](_0x337564)[-0x1670+0x867+0xe09*0x1]]||{},_0xb77344=[];if(_0x36f51b[_0xf3a675(0x45e,0x47f,0x4d3,0x4fa)]&&Array['isArray'](_0x36f51b['entries']))_0x36f51b[_0x4b7d1d(-0x108,-0x191,-0x176,-0x232)]['forEach'](_0x3853d8=>{function _0x37cf49(_0x516861,_0x5dc6cc,_0x3e9c16,_0x5364a6){return _0x4b7d1d(_0x5364a6,_0x5dc6cc-0x18c,_0x516861-0x476,_0x5364a6-0x4e);}if(!_0x3853d8[_0x4a1dc4(0x41d,0x3ae,0x3ed,0x361)])return;if(!_0x3853d8[_0x4a1dc4(0x462,0x3e9,0x504,0x4c0)]||_0x180a58[_0x37cf49(0x308,0x2db,0x2c5,0x2e9)](_0x3853d8[_0x4a1dc4(0x462,0x3ce,0x476,0x3e8)][_0x4a1dc4(0x4ac,0x4fc,0x51b,0x48c)](),''))return;if(_0x3853d8[_0x4a1dc4(0x4e5,0x518,0x550,0x4cf)+'e']===_0x180a58[_0x4a1dc4(0x4e6,0x4db,0x4de,0x541)]){if(_0x180a58[_0x4a1dc4(0x48d,0x4f2,0x4ef,0x517)](_0x180a58[_0x4a1dc4(0x48f,0x4d7,0x51c,0x408)],_0x180a58[_0x4a1dc4(0x479,0x46d,0x3dc,0x517)])){if(!_0x3f27da||!checkTriggerWords(_0x3853d8['triggerWor'+'ds'],_0x3f27da))return;}else _0x180a58['bzJcX'](_0x166271,_0x39a646);}const _0x4715e5={};_0x4715e5[_0x4a1dc4(0x4e7,0x4d4,0x505,0x47f)]=_0x3853d8[_0x4a1dc4(0x4e7,0x4cc,0x57e,0x487)]||_0x180a58['dckyf'];function _0x4a1dc4(_0x249d0e,_0x5bff73,_0x589b60,_0x2e1520){return _0x4b7d1d(_0x589b60,_0x5bff73-0x10b,_0x249d0e-0x637,_0x2e1520-0x1dc);}_0x4715e5[_0x4a1dc4(0x462,0x46f,0x4b0,0x3fb)]=_0x3853d8[_0x37cf49(0x2a1,0x305,0x33b,0x284)],_0xb77344['push'](_0x4715e5);});else _0x36f51b[_0xf3a675(0x47f,0x4c6,0x4db,0x4fe)]&&Array[_0xf3a675(0x4c7,0x4ce,0x54e,0x572)](_0x36f51b[_0xf3a675(0x552,0x4c6,0x508,0x4fd)])&&(_0x180a58[_0xf3a675(0x4f7,0x459,0x4a3,0x3d3)](_0x180a58['lGTQQ'],_0x4b7d1d(-0x27a,-0x29c,-0x1f6,-0x27e))?_0x36f51b[_0x4b7d1d(-0x150,-0x97,-0x12f,-0x161)][_0x4b7d1d(-0xa1,-0x188,-0x11b,-0x1c9)](_0x585a4b=>{if(_0x585a4b[_0x1b041e(0x512,0x523,0x51a,0x4d8)]&&_0x180a58[_0x1b041e(0x3e2,0x475,0x336,0x403)](_0x585a4b[_0x2d2777(0x12c,0x1bf,0x1a9,0x113)]['trim'](),'')){const _0x597add={};_0x597add[_0x1b041e(0x4b5,0x425,0x552,0x431)]=_0x1b041e(0x512,0x533,0x534,0x46b),_0x597add[_0x1b041e(0x430,0x4b9,0x3a6,0x441)]=_0x585a4b['user'],_0xb77344['push'](_0x597add);}function _0x1b041e(_0x2972e9,_0x207edc,_0x2b8a06,_0xfbdc76){return _0xf3a675(_0x2b8a06,_0x2972e9-0x10,_0x2b8a06-0x95,_0xfbdc76-0x14f);}function _0x2d2777(_0x39679d,_0x2d744e,_0x124fea,_0xea46e1){return _0xf3a675(_0x39679d,_0x2d744e- -0x343,_0x124fea-0xa4,_0xea46e1-0x1e);}if(_0x585a4b[_0x2d2777(0x1d5,0x158,0x1f7,0xc7)]&&_0x180a58[_0x1b041e(0x45b,0x4b5,0x4bf,0x44a)](_0x585a4b['assistant'][_0x1b041e(0x47a,0x3fc,0x3f8,0x40c)](),'')){if(_0x180a58[_0x2d2777(0x1a0,0x1f0,0x1b3,0x247)]!==_0x180a58[_0x1b041e(0x462,0x406,0x48b,0x434)]){const _0x480654={};_0x480654['role']=_0x180a58[_0x2d2777(0xb2,0xc1,0xb4,0x156)],_0x480654[_0x1b041e(0x430,0x3be,0x4a0,0x429)]=_0x585a4b['assistant'],_0xb77344[_0x1b041e(0x48c,0x520,0x408,0x53e)](_0x480654);}else{const _0xf6c690=_0x40299f[_0x10d00f][_0x2d2777(0x12f,0x177,0x176,0x14e)+'es']||{},_0xf42666=_0x569357[_0x5905ba][_0x2d2777(0x94,0x12f,0x1d7,0xf2)+_0x1b041e(0x525,0x4c9,0x4d5,0x4bc)];return _0xf6c690[_0xf42666]||_0xf6c690[_0x484f8e['keys'](_0xf6c690)[-0x10c1+-0xb99+-0xe2d*-0x2]]||{};}}}):_0x22d958['warn']('流式解析警告\x20(最后'+'buffer):',_0x3b88f6[_0xf3a675(0x353,0x3e8,0x439,0x412)]));const _0x16811c=mergeAdjacentMessages(_0xb77344),_0x848392=_0x180a58[_0x4b7d1d(-0x2ba,-0x206,-0x201,-0x252)](processRollPlaceholders,_0x16811c);function _0xf3a675(_0x33df05,_0x304d77,_0x359d73,_0x562964){return _0x444511(_0x33df05-0xb,_0x33df05,_0x359d73-0x7b,_0x304d77-0x2ba);}return _0x848392;}const _0x581d47={};_0x581d47[_0x10848f(0xde,0x53,0x7b,0x50)]=_0x444511(0x1d5,0x1fd,0x1ec,0x254),_0x581d47[_0x444511(0x188,0x1a2,0x252,0x224)+'n']=_0x10848f(-0xde,-0x10a,-0xdc,-0xdf),_0x581d47[_0x444511(0x110,0x1ef,0x14c,0x1af)+'ay']=_0x444511(0x26f,0x26d,0x18c,0x1f3),_0x581d47[_0x10848f(-0x4e,-0xb6,-0x71,-0xc9)+'y']=_0x444511(0x1a4,0x73,0xb2,0x126),_0x581d47[_0x444511(0x174,0x24a,0x265,0x217)+'n']='翻译',_0x581d47['tag_modify']=_0x444511(0x177,0x22a,0x181,0x22c);const REQUEST_TYPE_NAMES=_0x581d47;export async function executeTypedLLMRequest(_0x23f57c,_0x5c12c2,_0x431963,_0x2d3cce=null){function _0x2b6e2b(_0x40bc08,_0x451b5a,_0x426018,_0x4398ff){return _0x444511(_0x40bc08-0x14d,_0x451b5a,_0x426018-0xe9,_0x40bc08- -0x344);}const _0x9e7fee={'KHycx':_0x4cc914(0x4da,0x3d0,0x432,0x47d),'uFjNQ':_0x4cc914(0x307,0x41c,0x39a,0x359),'LMsPU':_0x2b6e2b(-0x20e,-0x238,-0x219,-0x184)+_0x2b6e2b(-0x12c,-0x149,-0x15e,-0xba),'bZslp':function(_0x43cf5c,_0x3c88fd){return _0x43cf5c>_0x3c88fd;},'vaHDa':function(_0x514726,_0xf92d1a){return _0x514726(_0xf92d1a);},'QiNSh':'(((.+)+)+)'+'+$','lMYDJ':_0x4cc914(0x4a2,0x37e,0x423,0x3f3),'mdGek':_0x2b6e2b(-0x161,-0x1a8,-0xd1,-0x18c)+'0','iugxF':_0x2b6e2b(-0x1f2,-0x1b7,-0x1e8,-0x185),'VUTKC':_0x2b6e2b(-0x116,-0x88,-0x19a,-0x151),'bTORV':function(_0x319d92,_0x2c3e4b){return _0x319d92===_0x2c3e4b;},'okiwL':function(_0x264f0a,_0x1ef35a){return _0x264f0a===_0x1ef35a;},'ZAMdF':'trigger','UNzCI':function(_0xba9113,_0x4b6416,_0x32c9f7){return _0xba9113(_0x4b6416,_0x32c9f7);},'VdHXK':_0x2b6e2b(-0xfc,-0x18a,-0x172,-0x17e),'BciHa':function(_0x3c5e6f,_0x32acf8){return _0x3c5e6f===_0x32acf8;},'pVtcx':function(_0x38dd14,_0x1443a9){return _0x38dd14(_0x1443a9);},'szBpD':function(_0x3b77d1,_0x10961e){return _0x3b77d1||_0x10961e;},'VudwV':_0x2b6e2b(-0xe3,-0x106,-0x107,-0xd2),'oJdjc':'heLrD','rFLIc':_0x4cc914(0x431,0x39d,0x3f7,0x3ad)+_0x2b6e2b(-0x13b,-0x1cf,-0x12d,-0x193),'ebggu':function(_0xc3f1a){return _0xc3f1a();},'XBaph':function(_0x3a60d9,_0x321537){return _0x3a60d9(_0x321537);},'jbBGF':function(_0xfc8eba,_0x27171d){return _0xfc8eba(_0x27171d);},'XIKpg':function(_0x283d92,_0x4f1244){return _0x283d92||_0x4f1244;},'tDoeX':function(_0x11f771,_0x384f38){return _0x11f771===_0x384f38;},'OJTUI':_0x2b6e2b(-0x1e6,-0x25e,-0x24d,-0x18d),'MKTqT':'EEHCb','nOOTv':_0x2b6e2b(-0x146,-0xcf,-0x1e4,-0x18f)+_0x2b6e2b(-0x160,-0x1f1,-0x165,-0x153)+_0x2b6e2b(-0x174,-0x20a,-0x1b7,-0x1f1)+_0x2b6e2b(-0x1a8,-0x19c,-0xf9,-0x18b),'CQSbM':function(_0x32a394,_0x417c3b){return _0x32a394(_0x417c3b);},'anVAr':_0x4cc914(0x3e3,0x3e8,0x35d,0x36c),'xNnhb':'POST','EGVGd':_0x4cc914(0x40b,0x3f3,0x419,0x3cc),'slUOk':_0x2b6e2b(-0xf9,-0x176,-0x19b,-0x1b4),'rKSxO':function(_0x52ce62,_0x76056a){return _0x52ce62===_0x76056a;},'YbGoR':_0x2b6e2b(-0x1b2,-0x1f2,-0x1a9,-0x137),'ckIYf':function(_0x5e7f67,_0x396885){return _0x5e7f67!==_0x396885;},'ylDPB':'gQVFP','EoSbs':'QwRsA','wgzNT':_0x4cc914(0x450,0x429,0x412,0x45d),'wRQJT':_0x4cc914(0x393,0x378,0x312,0x35f),'daJsb':_0x4cc914(0x37e,0x404,0x411,0x3fd),'lbzQK':_0x4cc914(0x39e,0x316,0x38b,0x385),'wNMtM':_0x4cc914(0x3dd,0x338,0x3f2,0x497),'igJxI':function(_0x1741e5,_0x3479fb){return _0x1741e5!==_0x3479fb;},'elzyE':_0x4cc914(0x372,0x33e,0x3bd,0x37f),'ExWtj':_0x2b6e2b(-0x1ca,-0x120,-0x1f7,-0x199),'XdoLN':_0x4cc914(0x35b,0x3de,0x347,0x36e),'EMyZf':_0x2b6e2b(-0xf2,-0x45,-0x45,-0x81),'IXlKh':_0x2b6e2b(-0x122,-0xea,-0x128,-0xe7)+'E]','AeotK':_0x2b6e2b(-0x1e4,-0x189,-0x224,-0x250),'uPmOc':'SoLZz','QXwZh':_0x4cc914(0x36a,0x338,0x3de,0x386),'noeQH':function(_0x43bae4,_0x3f21df){return _0x43bae4!==_0x3f21df;},'hMBED':_0x4cc914(0x2d9,0x3f9,0x37d,0x3a8),'bcZhF':_0x2b6e2b(-0x205,-0x2c1,-0x26a,-0x290),'SxmJA':function(_0x463a34,_0x36cf47){return _0x463a34(_0x36cf47);},'cThld':function(_0x2f2d8f,_0x66f56e){return _0x2f2d8f!==_0x66f56e;},'yihil':_0x2b6e2b(-0x21f,-0x204,-0x287,-0x253),'wWNlG':function(_0x35b797,_0x5e684d){return _0x35b797(_0x5e684d);},'SyynH':_0x4cc914(0x32d,0x32c,0x2f2,0x2d0)+_0x2b6e2b(-0x217,-0x1cc,-0x1de,-0x22b),'IGpsD':_0x4cc914(0x319,0x2e1,0x361,0x37d),'ygjvS':function(_0x38e687,_0x5f1b03){return _0x38e687===_0x5f1b03;},'TCthn':_0x4cc914(0x364,0x323,0x3d5,0x326),'IvzgE':_0x4cc914(0x2ce,0x2b7,0x2dc,0x2ac),'hVkcR':'sNPbd','VuBAh':function(_0x20fa90,_0x42d74a){return _0x20fa90(_0x42d74a);},'VNdDw':_0x4cc914(0x2cc,0x3e8,0x37a,0x40d),'wkbcI':function(_0x414e1e,_0x74a6fb){return _0x414e1e!==_0x74a6fb;},'MftGi':_0x2b6e2b(-0xcf,-0x59,-0x73,-0x7b),'xSdZN':_0x4cc914(0x311,0x383,0x34f,0x2ba),'hcytR':function(_0x3c1206,_0x4b9255){return _0x3c1206===_0x4b9255;},'eXRKM':function(_0x290da0,_0x4439ed){return _0x290da0!==_0x4439ed;},'uoISY':_0x2b6e2b(-0x1c4,-0x153,-0x18e,-0x16f),'skdlJ':_0x4cc914(0x31b,0x3f7,0x374,0x373),'bDAHc':'VpQyQ','MpCQj':_0x4cc914(0x3c7,0x49c,0x401,0x48b)},{prompt:_0x3758dc,id:_0x1d5eec}=_0x23f57c;if(_0x9e7fee[_0x2b6e2b(-0x1f1,-0x14e,-0x253,-0x136)](!_0x1d5eec,!_0x3758dc))return;currentLLMRequestController&&(_0x9e7fee['VudwV']===_0x9e7fee[_0x2b6e2b(-0x203,-0x206,-0x17b,-0x15e)]?(_0x5bc3d9[_0x4cc914(0x444,0x45a,0x414,0x4a1)](),_0x494be8['info'](_0x9e7fee[_0x2b6e2b(-0x14f,-0x1b5,-0xdd,-0x18f)])):(currentLLMRequestController[_0x2b6e2b(-0xf3,-0x57,-0x1ad,-0xc1)](),toastr[_0x2b6e2b(-0x227,-0x190,-0x211,-0x267)](_0x9e7fee['rFLIc'])));currentLLMRequestController=new AbortController();const _0x1b675c=currentLLMRequestController[_0x2b6e2b(-0x12b,-0x134,-0xc6,-0x1bc)],_0x178c83=currentLLMRequestController,_0x24e79f=REQUEST_TYPE_NAMES[_0x5c12c2]||_0x5c12c2,_0x8e44a9={};_0x8e44a9[_0x4cc914(0x383,0x3d0,0x3ff,0x4af)]=_0x4cc914(0x4e9,0x3a7,0x42c,0x37e)+_0x24e79f,_0x8e44a9[_0x2b6e2b(-0x21d,-0x1fe,-0x23a,-0x2d9)]=TaskType[_0x2b6e2b(-0x143,-0x1f8,-0x126,-0x112)],_0x8e44a9[_0x4cc914(0x3b5,0x3eb,0x44c,0x4f3)]=_0x1d5eec;const _0xc8a71=taskQueue[_0x2b6e2b(-0x19b,-0x210,-0x22e,-0xf4)](_0x8e44a9);llmTaskControllers[_0x4cc914(0x38c,0x359,0x348,0x3ac)](_0xc8a71,currentLLMRequestController),taskQueue[_0x4cc914(0x304,0x466,0x3ab,0x35f)+'us'](_0xc8a71,TaskStatus[_0x4cc914(0x3e8,0x2ef,0x342,0x36a)]),startFabLoading();let _0xd3d8ad=![];_0x9e7fee['ebggu'](clearLog),_0x9e7fee[_0x4cc914(0x31e,0x393,0x353,0x40d)](addLog,_0x4cc914(0x386,0x28f,0x300,0x245)+'请求开始\x20('+_0x24e79f+')\x20====='),_0x9e7fee[_0x2b6e2b(-0xc1,-0x8f,-0x153,-0xaf)](addLog,_0x4cc914(0x2a0,0x31a,0x31b,0x271)+_0x1d5eec),addLog(_0x2b6e2b(-0x17e,-0x180,-0x143,-0x1a7)+':'),addLog(_0x9e7fee[_0x4cc914(0x3db,0x387,0x3f0,0x411)](formatPromptForDisplay,_0x3758dc));const _0x2723ee=getEffectiveConfigForRequestType(_0x5c12c2),{api_url:_0x48f649,api_key:_0x4cb298,model:_0x6db0e1,temperature:_0x2849d6,top_p:_0x2855a0,max_tokens:_0x483091,stream:_0x54ee82}=_0x2723ee;function _0x4cc914(_0x2a7f98,_0x5db174,_0x5503b7,_0x3d64ae){return _0x10848f(_0x5db174,_0x5db174-0xb1,_0x5503b7-0x1e2,_0x5503b7-0x3fe);}if(_0x9e7fee['XIKpg'](!_0x48f649,!_0x4cb298)||!_0x6db0e1){if(_0x9e7fee['tDoeX'](_0x9e7fee[_0x4cc914(0x3b1,0x3aa,0x387,0x33d)],_0x9e7fee[_0x2b6e2b(-0x13a,-0xdd,-0x11b,-0xb4)])){_0x3fa728=!![],_0x33071f[_0x4cc914(0x338,0x301,0x3ab,0x333)+'us'](_0x5ce038,_0x132393[_0x2b6e2b(-0x111,-0x64,-0x131,-0xa7)]),_0xab24b8['delete'](_0x37bff3);const _0x3e6034={};_0x3e6034[_0x2b6e2b(-0x108,-0x166,-0x147,-0xfd)]=_0x9e7fee['uFjNQ'],_0x3e6034[_0x2b6e2b(-0x216,-0x1c7,-0x177,-0x291)]=_0x9e7fee[_0x2b6e2b(-0x11a,-0xa0,-0x1bc,-0x1c7)];const _0x2a62cd={};_0x2a62cd[_0x2b6e2b(-0x1a9,-0x1c8,-0x19c,-0x210)]=![],_0x2a62cd['result']=null,_0x2a62cd['id']=_0x426620,_0x2a62cd[_0x4cc914(0x38c,0x414,0x381,0x326)]=_0x3e6034,_0x12cb86[_0x2b6e2b(-0xbd,-0x154,-0xbf,-0x163)](_0x3c7a35,_0x2a62cd);return;}else{const _0x1b7dc7=_0x24e79f+(_0x4cc914(0x375,0x3f2,0x3aa,0x2f3)+_0x4cc914(0x2a9,0x2dd,0x32c,0x339)+_0x2b6e2b(-0x153,-0x101,-0x1f1,-0x1da)+'置。');toastr[_0x2b6e2b(-0x186,-0xe0,-0x176,-0x197)](_0x1b7dc7);const _0x3bfd9d={};_0x3bfd9d[_0x2b6e2b(-0x1a9,-0x1b4,-0x172,-0x194)]=![],_0x3bfd9d[_0x4cc914(0x2f2,0x389,0x2f5,0x379)]=_0x1b7dc7,_0x3bfd9d['id']=_0x1d5eec,eventSource[_0x2b6e2b(-0xbd,-0x6c,-0xe5,-0x141)](_0x431963,_0x3bfd9d);return;}}const _0x29b3cb=_0x9e7fee[_0x4cc914(0x3c2,0x31f,0x379,0x2e1)],_0x26fadf=_0x48f649[_0x4cc914(0x3a0,0x338,0x391,0x2fe)](/\/$/,'');_0x2d3cce&&_0x9e7fee[_0x2b6e2b(-0x220,-0x23a,-0x196,-0x187)](_0x2d3cce,_0x4cc914(0x313,0x3b3,0x30b,0x393)+_0x24e79f+_0x4cc914(0x3d3,0x437,0x3b5,0x406));try{if(_0x9e7fee[_0x2b6e2b(-0x121,-0x12b,-0xf8,-0x19c)]!==_0x9e7fee['anVAr']){_0x271ab0=''+_0x1fb313[_0x2b6e2b(-0x186,-0x1b5,-0x139,-0x209)][_0x2b6e2b(-0x216,-0x2d1,-0x1c4,-0x253)];const _0x34e1a9=[];if(_0x5f4d58[_0x2b6e2b(-0x186,-0x185,-0x205,-0x116)]['type'])_0x34e1a9['push'](_0x4cc914(0x26a,0x2f3,0x2ff,0x391)+_0x238739['error'][_0x2b6e2b(-0x21d,-0x2a5,-0x164,-0x25c)]);if(_0x1266ee[_0x2b6e2b(-0x186,-0x17b,-0x224,-0x138)][_0x2b6e2b(-0x100,-0x6d,-0x1a7,-0x6d)])_0x34e1a9[_0x4cc914(0x335,0x2f5,0x385,0x3eb)](_0x4cc914(0x2f5,0x39c,0x395,0x3c6)+_0x20c6ce[_0x2b6e2b(-0x186,-0xe6,-0x12e,-0x17b)]['code']);_0x9e7fee[_0x4cc914(0x402,0x4b2,0x451,0x4d1)](_0x34e1a9[_0x2b6e2b(-0x140,-0xb2,-0x14f,-0x158)],-0x19f4*0x1+-0x115d+0x2b51)&&(_0x4afa4a+='\x20('+_0x34e1a9[_0x2b6e2b(-0xf1,-0xad,-0xb0,-0x103)](',\x20')+')');}else{const _0x441b96={};_0x441b96['chat_compl'+_0x4cc914(0x47b,0x37e,0x3e1,0x37f)+'ce']='custom',_0x441b96[_0x2b6e2b(-0x10a,-0x80,-0x116,-0xe5)]=_0x26fadf,_0x441b96[_0x4cc914(0x3be,0x38f,0x43f,0x401)+_0x4cc914(0x410,0x433,0x3d6,0x410)+'rs']=_0x2b6e2b(-0xe2,-0x9b,-0x2b,-0x5a)+_0x2b6e2b(-0x19f,-0x202,-0x1eb,-0x14c)+_0x4cc914(0x332,0x430,0x376,0x388)+_0x4cb298+'\x22',_0x441b96[_0x2b6e2b(-0x1f6,-0x2a8,-0x244,-0x26f)]=_0x6db0e1,_0x441b96['messages']=_0x3758dc,_0x441b96['temperatur'+'e']=_0x2849d6,_0x441b96['top_p']=_0x2855a0,_0x441b96['max_tokens']=_0x483091,_0x441b96[_0x2b6e2b(-0xd7,-0x59,-0x139,-0x140)]=_0x54ee82;const _0x416cd1=_0x441b96,_0x15a18d=await fetch(_0x29b3cb,{'method':_0x9e7fee[_0x4cc914(0x348,0x272,0x309,0x291)],'headers':getRequestHeaders(window[_0x4cc914(0x2b3,0x374,0x2f7,0x2d9)]),'body':JSON['stringify'](_0x416cd1),'signal':_0x1b675c});if(!_0x15a18d['ok']){try{const _0x5aca03=await _0x15a18d[_0x4cc914(0x3e7,0x3b1,0x375,0x403)]();if(_0x5aca03[_0x4cc914(0x402,0x40b,0x381,0x3ed)]){if(_0x9e7fee[_0x2b6e2b(-0x12f,-0x87,-0xe9,-0x1e5)](_0x9e7fee[_0x4cc914(0x45f,0x4dc,0x427,0x42d)],_0x9e7fee[_0x2b6e2b(-0xb7,-0x15c,-0x166,-0x169)]))return _0x5898f9;else{let _0x4cf5e8;if(_0x9e7fee[_0x4cc914(0x377,0x468,0x3d9,0x338)](typeof _0x5aca03[_0x2b6e2b(-0x186,-0x127,-0x21e,-0x195)],_0x9e7fee[_0x4cc914(0x350,0x430,0x3b2,0x3d7)])&&_0x5aca03[_0x2b6e2b(-0x186,-0xdb,-0x117,-0x204)][_0x2b6e2b(-0x216,-0x248,-0x2c2,-0x2a5)]){if(_0x9e7fee[_0x4cc914(0x36a,0x457,0x3d3,0x390)](_0x4cc914(0x3ee,0x41b,0x360,0x38c),_0x9e7fee[_0x2b6e2b(-0xc7,-0x92,-0x51,-0x10e)])){_0x4cf5e8=''+_0x5aca03[_0x2b6e2b(-0x186,-0x1ef,-0x23d,-0x20f)][_0x4cc914(0x3a9,0x2ac,0x2f1,0x251)];const _0x399fb0=[];if(_0x5aca03[_0x2b6e2b(-0x186,-0x196,-0x1e3,-0x140)]['type'])_0x399fb0['push'](_0x4cc914(0x27e,0x34d,0x2ff,0x275)+_0x5aca03[_0x4cc914(0x34c,0x2d0,0x381,0x411)]['type']);if(_0x5aca03['error']['code'])_0x399fb0[_0x2b6e2b(-0x182,-0x18d,-0x1ca,-0x1e5)](_0x4cc914(0x421,0x304,0x395,0x41e)+_0x5aca03['error'][_0x4cc914(0x3f6,0x34f,0x407,0x361)]);if(_0x9e7fee['bZslp'](_0x399fb0['length'],0x44f*-0x8+0x1484+0x37d*0x4)){if(_0x9e7fee[_0x2b6e2b(-0x1dd,-0x139,-0x245,-0x170)]===_0x9e7fee[_0x4cc914(0x3e5,0x295,0x32a,0x2cd)])_0x4cf5e8+='\x20('+_0x399fb0[_0x4cc914(0x366,0x4d2,0x416,0x3f0)](',\x20')+')';else return _0x3a95a6;}}else _0x7533f4=''+_0x565b45['stringify'](_0x4c89bd[_0x4cc914(0x3f5,0x431,0x381,0x2c5)]);}else _0x4cf5e8=''+JSON[_0x2b6e2b(-0x189,-0xff,-0x15e,-0x17e)](_0x5aca03[_0x2b6e2b(-0x186,-0x146,-0x135,-0x17b)]);throw new Error(_0x4cf5e8);}}}catch(_0x30a0f7){if(_0x9e7fee[_0x4cc914(0x28c,0x263,0x2ec,0x384)](_0x9e7fee['wgzNT'],_0x9e7fee[_0x2b6e2b(-0x19e,-0x218,-0x217,-0x257)]))_0x9e7fee[_0x2b6e2b(-0xc1,-0x20,-0x8,-0xd8)](_0x258972,_0x4a3cdd);else{if(_0x30a0f7[_0x4cc914(0x389,0x23e,0x2f1,0x38d)][_0x4cc914(0x276,0x27f,0x324,0x3a0)](_0x9e7fee[_0x2b6e2b(-0x1fd,-0x23e,-0x2b2,-0x21a)])||_0x30a0f7[_0x4cc914(0x31f,0x2a8,0x2f1,0x33a)][_0x4cc914(0x27a,0x2d8,0x324,0x392)](_0x9e7fee[_0x2b6e2b(-0x135,-0x104,-0x12f,-0x81)])){if(_0x9e7fee[_0x4cc914(0x40a,0x3ed,0x3b0,0x3e7)]!==_0x2b6e2b(-0x115,-0x113,-0x1c9,-0x18c))return _0x3982ad[_0x2b6e2b(-0x1ea,-0x24a,-0x1ad,-0x18d)]()['search'](TvYEtV[_0x2b6e2b(-0x102,-0x66,-0xbd,-0x188)])[_0x2b6e2b(-0x1ea,-0x1cc,-0x1a4,-0x269)]()['constructo'+'r'](_0x36f2aa)[_0x4cc914(0x2d5,0x3e1,0x33e,0x398)](TvYEtV[_0x4cc914(0x4a6,0x390,0x405,0x3e5)]);else throw _0x30a0f7;}}}throw new Error(_0x4cc914(0x339,0x368,0x3a5,0x344)+_0x15a18d[_0x4cc914(0x368,0x352,0x34d,0x3df)]+'\x20'+_0x15a18d[_0x4cc914(0x354,0x3a0,0x3b1,0x445)]);}let _0x16da9a='';if(_0x54ee82){if(_0x9e7fee[_0x2b6e2b(-0x229,-0x254,-0x184,-0x267)](_0x9e7fee[_0x4cc914(0x45b,0x4c5,0x442,0x3ed)],_0x9e7fee['elzyE']))_0x5b9682[_0x4cc914(0x3da,0x3ed,0x385,0x387)](_0x2b6e2b(-0x209,-0x266,-0x2b3,-0x19e)+_0x55ca0e+']');else{const _0x26a52b=_0x15a18d['body'][_0x4cc914(0x3ee,0x365,0x364,0x381)](),_0x1272ad=new TextDecoder(_0x9e7fee['ExWtj']);let _0x438b64='';while(!![]){if(_0x9e7fee[_0x4cc914(0x34d,0x2eb,0x2de,0x331)](_0x9e7fee[_0x2b6e2b(-0x166,-0x118,-0xbd,-0x222)],_0x9e7fee['EMyZf'])){const {done:_0xa2ef62,value:_0x37205e}=await _0x26a52b[_0x4cc914(0x395,0x3fc,0x408,0x461)]();if(_0xa2ef62)break;const _0xbf8abc={};_0xbf8abc[_0x2b6e2b(-0xd7,-0x153,-0x82,-0x10c)]=!![],_0x438b64+=_0x1272ad['decode'](_0x37205e,_0xbf8abc);const _0x43cf37=_0x438b64['split']('\x0a');_0x438b64=_0x43cf37[_0x4cc914(0x3e4,0x453,0x3c6,0x439)]()||'';for(const _0x246a29 of _0x43cf37){const _0x126352=_0x246a29[_0x4cc914(0x3be,0x3fa,0x373,0x3bb)]();if(!_0x126352||_0x126352===_0x9e7fee[_0x2b6e2b(-0x171,-0x10c,-0x1ec,-0xec)])continue;if(_0x126352[_0x4cc914(0x420,0x3e2,0x3c2,0x422)](_0x9e7fee[_0x2b6e2b(-0x1ce,-0x1c3,-0x1ee,-0x1a7)])){if(_0x9e7fee['igJxI'](_0x9e7fee[_0x2b6e2b(-0x1e7,-0x218,-0x255,-0x154)],_0x9e7fee[_0x2b6e2b(-0x1e2,-0x18f,-0x16d,-0x151)]))try{const _0x42721f=_0x126352[_0x4cc914(0x2f6,0x363,0x36e,0x3f2)](-0xa8+0x197c+-0x19*0xfe),_0x1f7e14=JSON[_0x2b6e2b(-0x17b,-0x189,-0x1fb,-0x20e)](_0x42721f),_0x59ff4b=_0x1f7e14[_0x2b6e2b(-0xd9,-0x44,-0x134,-0x11e)]?.[0x7*0x4db+0x6ab*-0x1+-0x1b52]?.[_0x4cc914(0x36f,0x414,0x3b9,0x369)]?.[_0x4cc914(0x33e,0x3b5,0x329,0x3d4)];_0x59ff4b&&(_0x9e7fee[_0x2b6e2b(-0x1dc,-0x1f3,-0x202,-0x20a)](_0x9e7fee['hMBED'],_0x9e7fee[_0x4cc914(0x3f6,0x389,0x34e,0x3e0)])?(_0x16da9a+=_0x59ff4b,_0x2d3cce&&_0x9e7fee[_0x4cc914(0x3b6,0x42e,0x3d0,0x419)](_0x2d3cce,_0x16da9a)):_0x2ded99+='\x20('+_0x2c1b73[_0x4cc914(0x442,0x469,0x416,0x402)](',\x20')+')');}catch(_0x420901){console[_0x4cc914(0x3b1,0x37b,0x326,0x347)](_0x9e7fee[_0x4cc914(0x2fd,0x31a,0x2e1,0x2f3)],_0x420901[_0x2b6e2b(-0x216,-0x24f,-0x1ed,-0x249)]);}else _0x3ca26f[_0x2b6e2b(-0x1e1,-0x200,-0x1e3,-0x136)](_0x9e7fee[_0x2b6e2b(-0x226,-0x25a,-0x2ae,-0x266)],_0x3cdf56[_0x4cc914(0x33b,0x2fc,0x2f1,0x3a7)]);}}}else{const _0x1c8f24=_0x9e7fee[_0x2b6e2b(-0xdf,-0xbc,-0x10d,-0xd9)][_0x2b6e2b(-0x109,-0xd1,-0x9a,-0x84)]('|');let _0x12eecd=0x96c+-0x5ce+-0x39e*0x1;while(!![]){switch(_0x1c8f24[_0x12eecd++]){case'0':return;case'1':const _0x51abeb={};_0x51abeb[_0x2b6e2b(-0x108,-0x78,-0xdf,-0x1ae)]=_0x9e7fee[_0x2b6e2b(-0xe5,-0x132,-0x190,-0xb5)],_0x51abeb[_0x4cc914(0x2cd,0x256,0x2f1,0x2f1)]=_0x9e7fee[_0x4cc914(0x403,0x3fe,0x3ed,0x343)];const _0x3ad5f6={};_0x3ad5f6[_0x2b6e2b(-0x1a9,-0x25d,-0x1df,-0xfe)]=![],_0x3ad5f6[_0x4cc914(0x2f8,0x2e8,0x2f5,0x289)]=null,_0x3ad5f6['id']=_0x104c03,_0x3ad5f6['error']=_0x51abeb,_0x49d64b[_0x4cc914(0x3f7,0x4c2,0x44a,0x4d0)](_0x724909['LLM_EXECUT'+_0x2b6e2b(-0xd1,-0x20,-0x66,-0x3d)],_0x3ad5f6);continue;case'2':_0x5a643d=!![];continue;case'3':_0x152836[_0x4cc914(0x440,0x37c,0x3cb,0x324)](_0x10cbf5);continue;case'4':_0x4f3da4['log'](_0x2b6e2b(-0xd3,-0xde,-0x9a,-0x60)+_0x2b6e2b(-0x1f4,-0x2b0,-0x2ae,-0x1b6)+_0x4cc914(0x4a5,0x46e,0x3ea,0x39a));continue;case'5':_0x59d5cf[_0x2b6e2b(-0x15c,-0xad,-0x1d3,-0x1f3)+'us'](_0x2500ac,_0x39658d[_0x4cc914(0x3ec,0x3a1,0x3f6,0x3c2)]);continue;}break;}}}if(_0x438b64[_0x4cc914(0x428,0x37f,0x373,0x347)]()&&_0x9e7fee[_0x2b6e2b(-0x139,-0x100,-0xdc,-0xd6)](_0x438b64[_0x2b6e2b(-0x194,-0x1e0,-0x12e,-0x1f4)](),_0x9e7fee[_0x2b6e2b(-0x171,-0x1ba,-0x206,-0xd1)])&&_0x438b64[_0x2b6e2b(-0x194,-0x178,-0x1a6,-0x168)]()[_0x2b6e2b(-0x145,-0x1d8,-0x11b,-0x181)](_0x4cc914(0x326,0x31c,0x323,0x3be)))try{const _0x30c65a=_0x438b64[_0x2b6e2b(-0x194,-0x220,-0xd9,-0x19b)]()[_0x4cc914(0x409,0x3f1,0x36e,0x337)](0x22cc+0x22f2+-0x45b8),_0x47ebd2=JSON['parse'](_0x30c65a),_0x5492d2=_0x47ebd2[_0x2b6e2b(-0xd9,-0x4f,-0xbc,-0xb3)]?.[0xb68+-0x844*-0x2+-0x1bf0]?.[_0x4cc914(0x38b,0x3b7,0x3b9,0x3bd)]?.[_0x4cc914(0x275,0x274,0x329,0x3d8)];_0x5492d2&&(_0x9e7fee[_0x2b6e2b(-0x20b,-0x174,-0x287,-0x1f5)]!==_0x9e7fee[_0x4cc914(0x317,0x335,0x2fc,0x29d)]?(_0x177918[_0x4cc914(0x47c,0x3e0,0x414,0x461)](),_0x41c6c0[_0x2b6e2b(-0x227,-0x2d3,-0x28b,-0x25d)](_0x4cc914(0x415,0x33d,0x3f7,0x38f)+'始新请求。')):(_0x16da9a+=_0x5492d2,_0x2d3cce&&_0x9e7fee[_0x2b6e2b(-0x1d3,-0x24e,-0x11c,-0x27b)](_0x2d3cce,_0x16da9a)));}catch(_0xf3c150){console['warn'](_0x9e7fee[_0x2b6e2b(-0x183,-0x1de,-0x138,-0x177)],_0xf3c150['message']);}!_0x16da9a&&(_0x16da9a=_0x9e7fee['IGpsD'],toastr[_0x2b6e2b(-0x22a,-0x198,-0x1a8,-0x286)](_0x24e79f+(':\x20LLM\x20未收到有'+'效回复。')));}}else{if(_0x9e7fee[_0x2b6e2b(-0x1bc,-0x140,-0x274,-0x267)](_0x9e7fee[_0x2b6e2b(-0x13e,-0x18f,-0xcc,-0x86)],_0x9e7fee[_0x4cc914(0x2f6,0x2b8,0x349,0x3eb)])){const _0xb861c9={};_0xb861c9[_0x2b6e2b(-0xed,-0x81,-0x11c,-0x71)]=_0x2b6e2b(-0x19a,-0x1cc,-0xf6,-0x215),_0xb861c9[_0x4cc914(0x370,0x493,0x40b,0x489)]='用户',_0xb861c9['assistant']=_0x9e7fee['iugxF'],_0xb861c9[_0x2b6e2b(-0x1ed,-0x177,-0x161,-0x1c2)]=_0x9e7fee[_0x2b6e2b(-0x1f7,-0x1a2,-0x247,-0x18d)],_0xb861c9[_0x2b6e2b(-0x103,-0x182,-0x184,-0xf9)]='工具';const _0x58cb37=_0xb861c9;return _0x58cb37[_0x3cc270]||_0x491c17;}else{const _0x1ab11f=await _0x15a18d['json']();if(_0x1ab11f[_0x4cc914(0x3c9,0x403,0x381,0x347)]){let _0x378f12;if(_0x9e7fee[_0x4cc914(0x401,0x3d6,0x3d9,0x349)](typeof _0x1ab11f[_0x2b6e2b(-0x186,-0xea,-0x1db,-0x20e)],_0x4cc914(0x3d2,0x2f3,0x355,0x385))&&_0x1ab11f[_0x2b6e2b(-0x186,-0x23e,-0x12b,-0x1d0)][_0x4cc914(0x251,0x29a,0x2f1,0x354)]){_0x378f12=''+_0x1ab11f[_0x4cc914(0x329,0x412,0x381,0x360)]['message'];const _0x28a302=[];if(_0x1ab11f[_0x2b6e2b(-0x186,-0x181,-0x10b,-0x123)][_0x2b6e2b(-0x21d,-0x180,-0x1d3,-0x1bc)])_0x28a302[_0x2b6e2b(-0x182,-0x219,-0x1c6,-0x17a)](_0x4cc914(0x363,0x32c,0x2ff,0x38c)+_0x1ab11f[_0x2b6e2b(-0x186,-0x14b,-0x1a3,-0x1ff)][_0x2b6e2b(-0x21d,-0x272,-0x2bd,-0x20b)]);if(_0x1ab11f[_0x4cc914(0x327,0x408,0x381,0x3f0)][_0x4cc914(0x3ab,0x47d,0x407,0x3df)])_0x28a302[_0x4cc914(0x2de,0x367,0x385,0x3b3)](_0x2b6e2b(-0x172,-0x165,-0x1e9,-0xd1)+_0x1ab11f[_0x4cc914(0x3e2,0x3f7,0x381,0x324)]['code']);_0x9e7fee[_0x4cc914(0x4be,0x3a9,0x451,0x42b)](_0x28a302[_0x4cc914(0x3a4,0x3d4,0x3c7,0x39d)],0x13c3+0x8f8+-0x1cbb)&&(_0x378f12+='\x20('+_0x28a302[_0x4cc914(0x4cc,0x4b1,0x416,0x40d)](',\x20')+')');}else{if(_0x9e7fee[_0x4cc914(0x3e5,0x398,0x32b,0x3bb)](_0x4cc914(0x392,0x35b,0x30f,0x3bd),_0x9e7fee[_0x2b6e2b(-0xec,-0xef,-0xb6,-0xbd)]))_0x378f12=''+JSON[_0x4cc914(0x333,0x2e7,0x37e,0x410)](_0x1ab11f[_0x4cc914(0x3fc,0x335,0x381,0x2ed)]);else{if(!_0x567290||!_0x38c9c0(_0x15d63c[_0x2b6e2b(-0xfd,-0x8c,-0x102,-0x7c)+'ds'],_0xfb36d8))return;}}throw new Error(_0x378f12);}_0x16da9a=_0x1ab11f[_0x4cc914(0x377,0x437,0x42e,0x410)]?.[0x382*0x1+0x435*0x3+-0x1*0x1021]?.['message']?.[_0x4cc914(0x2e8,0x3e5,0x329,0x27e)]||'',!_0x16da9a&&(_0x16da9a=_0x9e7fee['IGpsD'],toastr[_0x2b6e2b(-0x22a,-0x1bb,-0x2b8,-0x29a)](_0x24e79f+(':\x20LLM\x20未收到有'+'效回复。'))),_0x2d3cce&&_0x2d3cce(_0x16da9a);}}_0x9e7fee[_0x4cc914(0x28f,0x3dc,0x334,0x306)](addLog,_0x2b6e2b(-0x185,-0x221,-0x213,-0x207)+_0x4cc914(0x499,0x4af,0x403,0x46a)),addLog(_0x16da9a),_0x9e7fee[_0x2b6e2b(-0x18b,-0x15f,-0x1a5,-0x209)](addLog,'=====\x20LLM\x20'+_0x2b6e2b(-0xda,-0xdf,-0x129,-0x154)),taskQueue[_0x4cc914(0x350,0x331,0x38a,0x315)+'sk'](_0xc8a71,!![]),llmTaskControllers[_0x2b6e2b(-0x13c,-0x130,-0xca,-0xf6)](_0xc8a71);const _0x5baddb=extension_settings[extensionName][_0x2b6e2b(-0x20d,-0x283,-0x22a,-0x2a3)+'e'];if(_0x5baddb){const _0x2b91ac={};_0x2b91ac[_0x4cc914(0x325,0x30b,0x377,0x3e6)]=0x1388,toastr[_0x4cc914(0x30e,0x2ae,0x2e0,0x37f)](_0x2b6e2b(-0x1b7,-0x103,-0x21d,-0x245)+_0x24e79f+(_0x2b6e2b(-0xd2,-0xfb,-0x1a,-0x7c)+_0x2b6e2b(-0x136,-0x167,-0xba,-0x132)),_0x9e7fee[_0x2b6e2b(-0x1f3,-0x179,-0x2ad,-0x22a)],_0x2b91ac);}const _0x4ea325={};_0x4ea325['success']=!![],_0x4ea325[_0x4cc914(0x28f,0x360,0x2f5,0x23d)]=_0x16da9a,_0x4ea325['id']=_0x1d5eec,_0x4ea325['testMode']=_0x5baddb,eventSource[_0x2b6e2b(-0xbd,-0x6,-0x169,-0xc4)](_0x431963,_0x4ea325);}}catch(_0x78cc24){if(_0x9e7fee['wkbcI'](_0x9e7fee['MftGi'],_0x9e7fee[_0x4cc914(0x30a,0x43a,0x3a0,0x428)])){const _0x346951={'KdcoK':function(_0x276c3a,_0x40f461){function _0x2c7838(_0x4e300b,_0x2671a1,_0x4391e7,_0x181461){return _0x2b6e2b(_0x4391e7-0x5a6,_0x2671a1,_0x4391e7-0xe4,_0x181461-0xaa);}return _0x9e7fee[_0x2c7838(0x460,0x50f,0x4e5,0x441)](_0x276c3a,_0x40f461);}};return function(_0x5b97bf){function _0x49c270(_0x3b9a75,_0x3c4ad6,_0x50b398,_0xe71c7b){return _0x2b6e2b(_0x50b398-0x4ce,_0x3c4ad6,_0x50b398-0x56,_0xe71c7b-0x35);}const {id:_0x4f4d33}=_0x5b97bf;if(!_0x4f4d33)return;const _0x9269f6=_0x2b070f[_0x2f1e47]||_0x52ce76;_0x4faf14[_0x49c270(0x20b,0x327,0x2b5,0x2b3)](_0x2e0c95(0x11c,0x138,0x1b0,0x236)+_0x2e0c95(0x20d,0x1f4,0x153,0x14d)+_0x9269f6+(_0x2e0c95(0x219,0x192,0x193,0x10e)+_0x49c270(0x389,0x47c,0x3c1,0x345))+_0x4f4d33+')');const _0xf3ba7f=_0x346951[_0x49c270(0x427,0x43e,0x40e,0x352)](_0x262786,_0x152e2c);function _0x2e0c95(_0x3fa9fc,_0x16c301,_0x325c55,_0x350df1){return _0x4cc914(_0x3fa9fc-0x1e6,_0x350df1,_0x325c55- -0x28a,_0x350df1-0x1c7);}const _0xbf03c1={};_0xbf03c1[_0x2e0c95(0x26c,0x17e,0x1c2,0x198)]=_0xf3ba7f,_0xbf03c1['id']=_0x4f4d33,_0x51bd1e[_0x2e0c95(0x1c6,0x144,0x1c0,0x188)](_0x41d7d8,_0xbf03c1);};}else{if(_0x78cc24['name']===_0x9e7fee[_0x2b6e2b(-0xe5,-0x131,-0x10d,-0x125)]){const _0x181e07=_0x4cc914(0x39d,0x34b,0x2f3,0x239)['split']('|');let _0x341639=-0x14dc+0xf+-0x6ef*-0x3;while(!![]){switch(_0x181e07[_0x341639++]){case'0':llmTaskControllers[_0x2b6e2b(-0x13c,-0x1d1,-0x1c2,-0x19f)](_0xc8a71);continue;case'1':return;case'2':const _0x4a7e39={};_0x4a7e39[_0x4cc914(0x49d,0x3ee,0x3ff,0x399)]=_0x9e7fee['uFjNQ'],_0x4a7e39[_0x2b6e2b(-0x216,-0x16b,-0x192,-0x297)]=_0x9e7fee[_0x4cc914(0x3a2,0x480,0x3ed,0x3e4)];const _0x432568={};_0x432568[_0x2b6e2b(-0x1a9,-0x157,-0x144,-0x198)]=![],_0x432568[_0x2b6e2b(-0x212,-0x267,-0x2c0,-0x236)]=null,_0x432568['id']=_0x1d5eec,_0x432568[_0x2b6e2b(-0x186,-0x10b,-0x203,-0x1e1)]=_0x4a7e39,eventSource[_0x2b6e2b(-0xbd,-0x130,-0x47,-0x32)](_0x431963,_0x432568);continue;case'3':_0xd3d8ad=!![];continue;case'4':taskQueue[_0x2b6e2b(-0x15c,-0xa5,-0xde,-0x1f6)+'us'](_0xc8a71,TaskStatus[_0x2b6e2b(-0x111,-0x115,-0x6b,-0x1c0)]);continue;}break;}}console[_0x2b6e2b(-0x186,-0x23f,-0x12c,-0xec)](_0x24e79f+'\x20Error:',_0x78cc24);const _0x240e0f=_0x4cc914(0x4a1,0x489,0x445,0x3ce)+_0x78cc24['message'];if(_0x2d3cce){if(_0x9e7fee[_0x4cc914(0x47c,0x3f1,0x3e9,0x418)](_0x9e7fee[_0x4cc914(0x47a,0x433,0x3c8,0x3cd)],_0x9e7fee[_0x2b6e2b(-0x13f,-0x151,-0xed,-0x1df)]))_0x9e7fee[_0x4cc914(0x475,0x45b,0x446,0x404)](_0x2d3cce,_0x240e0f);else{if(!_0x30e66b[_0x4cc914(0x248,0x38f,0x2e4,0x22c)])return;if(!_0x5a250e[_0x4cc914(0x360,0x2fc,0x329,0x29e)]||_0x9e7fee[_0x4cc914(0x47b,0x3d6,0x3d8,0x39f)](_0x11a885['content'][_0x4cc914(0x3bf,0x34e,0x373,0x417)](),''))return;if(_0x9e7fee[_0x4cc914(0x316,0x325,0x357,0x3f6)](_0x47f0b6['triggerMod'+'e'],_0x9e7fee[_0x4cc914(0x2c5,0x2e2,0x2e5,0x2c3)])){if(!_0x381c17||!_0x9e7fee['UNzCI'](_0x4e413b,_0x44615e[_0x4cc914(0x362,0x434,0x40a,0x4a5)+'ds'],_0x26afb7))return;}const _0x2aba7f={};_0x2aba7f[_0x4cc914(0x310,0x410,0x3ae,0x444)]=_0x245a9f['role']||_0x9e7fee['VdHXK'],_0x2aba7f[_0x4cc914(0x2f0,0x2c0,0x329,0x323)]=_0x5aec0c[_0x2b6e2b(-0x1de,-0x187,-0x1c9,-0x28d)],_0x18301e[_0x4cc914(0x3e9,0x3cd,0x385,0x3ab)](_0x2aba7f);}}toastr[_0x4cc914(0x2db,0x343,0x381,0x3e6)](_0x78cc24['message']),taskQueue[_0x4cc914(0x403,0x3b2,0x38a,0x42a)+'sk'](_0xc8a71,![]),llmTaskControllers[_0x4cc914(0x348,0x47d,0x3cb,0x480)](_0xc8a71);const _0x47645b={};_0x47645b[_0x4cc914(0x2a1,0x3ba,0x35e,0x3b7)]=![],_0x47645b[_0x2b6e2b(-0x212,-0x189,-0x1ac,-0x189)]=_0x240e0f,_0x47645b['id']=_0x1d5eec,eventSource[_0x4cc914(0x4db,0x398,0x44a,0x4a9)](_0x431963,_0x47645b);}}finally{if(_0x9e7fee[_0x4cc914(0x28f,0x33d,0x333,0x289)](currentLLMRequestController,_0x178c83)){if(_0x9e7fee[_0x2b6e2b(-0x184,-0xe1,-0x19a,-0x1e8)](_0x9e7fee[_0x2b6e2b(-0x201,-0x1f9,-0x2af,-0x23d)],_0x9e7fee['skdlJ']))currentLLMRequestController=null;else{let _0x23cd00;if(_0x9e7fee[_0x2b6e2b(-0x21b,-0x295,-0x264,-0x2cf)](typeof _0x204eb8[_0x4cc914(0x3d4,0x364,0x381,0x300)],_0x2b6e2b(-0x1b2,-0x20d,-0x108,-0x129))&&_0x360891['error'][_0x4cc914(0x30e,0x254,0x2f1,0x254)]){_0x23cd00=''+_0x17fa74[_0x2b6e2b(-0x186,-0x1da,-0x195,-0x22c)][_0x2b6e2b(-0x216,-0x21c,-0x2c8,-0x239)];const _0x2abebd=[];if(_0x258b74[_0x2b6e2b(-0x186,-0xe8,-0x14d,-0x168)][_0x4cc914(0x26c,0x364,0x2ea,0x3a0)])_0x2abebd[_0x4cc914(0x369,0x3f9,0x385,0x373)](_0x4cc914(0x378,0x274,0x2ff,0x314)+_0x5c5d51[_0x4cc914(0x3e9,0x373,0x381,0x39f)][_0x2b6e2b(-0x21d,-0x218,-0x298,-0x263)]);if(_0x1b1338[_0x2b6e2b(-0x186,-0x21c,-0x186,-0xe3)][_0x2b6e2b(-0x100,-0xa0,-0xcb,-0x143)])_0x2abebd['push'](_0x2b6e2b(-0x172,-0xe4,-0x157,-0x18d)+_0x3903c1['error'][_0x4cc914(0x47f,0x386,0x407,0x3cf)]);_0x9e7fee[_0x2b6e2b(-0xb6,-0xad,-0x134,-0x51)](_0x2abebd[_0x2b6e2b(-0x140,-0x15d,-0x153,-0xac)],0x12a0+0x2576+-0x3816)&&(_0x23cd00+='\x20('+_0x2abebd[_0x2b6e2b(-0xf1,-0xf7,-0x39,-0x170)](',\x20')+')');}else _0x23cd00=''+_0x640551[_0x4cc914(0x388,0x2db,0x37e,0x31d)](_0x3c3405['error']);throw new _0x34d496(_0x23cd00);}}(!_0xd3d8ad||_0x9e7fee['ygjvS'](currentLLMRequestController,null))&&(_0x9e7fee[_0x2b6e2b(-0x12e,-0x9a,-0x14f,-0xf4)](_0x9e7fee[_0x4cc914(0x364,0x385,0x3fc,0x34a)],_0x9e7fee[_0x2b6e2b(-0xde,-0x150,-0x19b,-0xab)])?_0x9e7fee[_0x4cc914(0x3ce,0x39e,0x441,0x4bd)](_0x520a9d,_0x33f86b):_0x9e7fee[_0x2b6e2b(-0xdd,-0xe2,-0x8c,-0x52)](stopFabLoading));}}export async function executeDefaultLLMRequest(_0x2f37e6,_0x819d1b,_0x2b2406=null){const _0x18d651={'gulGq':function(_0x79c5d9,_0x341b46){return _0x79c5d9(_0x341b46);},'lEdXy':'测试模式提示','WOrQM':_0xa4a1d3(-0x210,-0x20b,-0x227,-0x1b6),'HRtCM':_0x545ce9(0x21c,0x19d,0x21c,0x1e4),'eovou':function(_0x267d3c,_0x14df47){return _0x267d3c!==_0x14df47;},'HhHlQ':_0x545ce9(0x29c,0x269,0x29f,0x2a6),'yAaXq':function(_0x1eddf5,_0x410e0c){return _0x1eddf5!==_0x410e0c;},'YSIym':_0xa4a1d3(-0x234,-0x2d4,-0x1eb,-0x223),'oqSqV':function(_0x455ef7,_0x26564d){return _0x455ef7||_0x26564d;},'Duvge':_0xa4a1d3(-0x283,-0x1dd,-0x134,-0x1d0)+_0x545ce9(0x25d,0x2ec,0x1e9,0x2d6),'unDsB':_0x545ce9(0x29e,0x246,0x34a,0x29c),'zgGVW':function(_0x35b88d){return _0x35b88d();},'MLgnf':function(_0x382ad7,_0x18bafa){return _0x382ad7||_0x18bafa;},'ArLfr':function(_0x1479eb,_0x53457c){return _0x1479eb!==_0x53457c;},'JwZxS':'EYjpz','fBdbR':_0xa4a1d3(-0x2e2,-0x279,-0x22f,-0x230),'yFNif':function(_0x35b4ee,_0x35f1d8){return _0x35b4ee===_0x35f1d8;},'NnmBY':_0x545ce9(0x17c,0x1bd,0x1cf,0x1ab),'YiJpl':_0xa4a1d3(-0xd2,-0x1ab,-0x204,-0x17c),'gNehU':function(_0x4e51f2,_0x5a9cfd,_0x48e779){return _0x4e51f2(_0x5a9cfd,_0x48e779);},'ntDDI':function(_0x59a6a0,_0x3e7d12){return _0x59a6a0(_0x3e7d12);},'oYjFH':_0xa4a1d3(-0x232,-0x269,-0x281,-0x272),'Wcerm':function(_0x5af0a7,_0x5cbf4f){return _0x5af0a7===_0x5cbf4f;},'NCCRq':'lcEot','bJHZC':_0xa4a1d3(-0x20f,-0x196,-0x22a,-0x1a8),'OMCte':_0xa4a1d3(-0x255,-0x26e,-0x120,-0x1c1),'LzkfW':function(_0x5aa17f,_0x325492){return _0x5aa17f!==_0x325492;},'pjQDU':_0xa4a1d3(-0x2b9,-0x2d3,-0x319,-0x2c2),'YxyCR':function(_0x4254f3,_0x1489f3){return _0x4254f3(_0x1489f3);},'KCZeM':_0x545ce9(0x248,0x204,0x228,0x1fc),'rVttC':function(_0x66902f,_0x2b49c0){return _0x66902f===_0x2b49c0;},'WRyuk':_0x545ce9(0x22b,0x1cd,0x25e,0x1ad),'hXvXW':function(_0x159db0,_0x3026ba){return _0x159db0===_0x3026ba;},'oAGFp':_0x545ce9(0x1aa,0x16d,0x1c9,0x103),'kUaMZ':_0x545ce9(0x244,0x1ac,0x2ef,0x213),'kaGTN':_0xa4a1d3(-0x23d,-0x162,-0x130,-0x1b4)+'3','OWYZp':'LLM\x20execut'+_0xa4a1d3(-0x2ab,-0x2ea,-0x2ba,-0x2b4)+'aborted.','duRNX':_0xa4a1d3(-0x24e,-0x28d,-0x25f,-0x2ce)+_0x545ce9(0x26c,0x1e1,0x303,0x1bb),'fEjsN':function(_0x559f6d,_0x36fbb1){return _0x559f6d(_0x36fbb1);},'YXMDB':function(_0x160522,_0x3d99b8){return _0x160522===_0x3d99b8;},'XgNrp':function(_0x370a5b,_0x3238fc){return _0x370a5b===_0x3238fc;},'AeEEK':'UGQgb','KxhnS':_0x545ce9(0x187,0x162,0x16d,0x227),'rBAQZ':function(_0x417226){return _0x417226();}},{prompt:_0x339920,id:_0x3e4c9f}=_0x2f37e6;if(_0x18d651[_0x545ce9(0x285,0x2a9,0x297,0x2e9)](!_0x3e4c9f,!_0x339920))return;currentLLMRequestController&&(currentLLMRequestController['abort'](),toastr[_0xa4a1d3(-0x290,-0x31b,-0x3a3,-0x2e7)](_0x18d651[_0xa4a1d3(-0x229,-0x21a,-0xd5,-0x189)]));currentLLMRequestController=new AbortController();const _0x1f584a=currentLLMRequestController['signal'],_0x277c4f=currentLLMRequestController,_0x5c4dc3={};_0x5c4dc3['name']=_0x18d651[_0x545ce9(0x289,0x334,0x204,0x2d0)],_0x5c4dc3['type']=TaskType[_0x545ce9(0x255,0x2a1,0x1da,0x26e)],_0x5c4dc3[_0xa4a1d3(-0x12d,-0x1cb,-0xd5,-0x17b)]=_0x3e4c9f;const _0x59df97=taskQueue['addTask'](_0x5c4dc3);llmTaskControllers[_0x545ce9(0x1d9,0x26d,0x202,0x1dc)](_0x59df97,currentLLMRequestController),taskQueue[_0xa4a1d3(-0x2d0,-0x1c5,-0x24d,-0x21c)+'us'](_0x59df97,TaskStatus['RUNNING']),_0x18d651['zgGVW'](startFabLoading);let _0x322885=![];clearLog(),addLog(_0x545ce9(0x191,0x1c8,0x14b,0x213)+_0x545ce9(0x279,0x254,0x2d5,0x2a7)+'=='),_0x18d651[_0x545ce9(0x1f8,0x216,0x16b,0x180)](addLog,'请求\x20ID:\x20'+_0x3e4c9f);function _0xa4a1d3(_0x708058,_0x49ea54,_0x1408d2,_0x586266){return _0x10848f(_0x708058,_0x49ea54-0x17c,_0x1408d2-0x7d,_0x586266- -0x1c9);}addLog(_0x545ce9(0x21a,0x252,0x21f,0x224)+':'),addLog(_0x18d651[_0x545ce9(0x1f8,0x1c1,0x19b,0x22e)](formatPromptForDisplay,_0x339920));const {api_url:_0x51fbbf,api_key:_0x5b523f,model:_0x166a1e,temperature:_0x10892a,top_p:_0x576aba,max_tokens:_0x3c2b6a}=_0x819d1b;function _0x545ce9(_0x20792e,_0x5be164,_0x1837ed,_0x427b06){return _0x444511(_0x20792e-0xe2,_0x427b06,_0x1837ed-0x58,_0x20792e-0x54);}if(_0x18d651[_0x545ce9(0x1a9,0x230,0x1a0,0x19a)](!_0x51fbbf,!_0x5b523f)||!_0x166a1e){const _0x468e73=_0xa4a1d3(-0x1d3,-0x2c1,-0x1cc,-0x281)+_0xa4a1d3(-0x131,-0x166,-0x18c,-0x178)+_0xa4a1d3(-0x223,-0x265,-0x1f3,-0x27d);toastr[_0xa4a1d3(-0x2bc,-0x1be,-0x262,-0x246)](_0x468e73);const _0x33fae9={};_0x33fae9[_0x545ce9(0x1ef,0x2a9,0x19e,0x285)]=![],_0x33fae9[_0x545ce9(0x186,0x20b,0x1fb,0x14b)]=_0x468e73,_0x33fae9['id']=_0x3e4c9f,eventSource[_0xa4a1d3(-0x1cb,-0x233,-0x19d,-0x17d)](eventNames[_0xa4a1d3(-0x343,-0x289,-0x343,-0x29f)+_0xa4a1d3(-0x1df,-0x11b,-0xd9,-0x191)],_0x33fae9);return;}const _0x3a3f20='/api/backe'+'nds/chat-c'+_0x545ce9(0x224,0x2d4,0x2a3,0x276)+_0xa4a1d3(-0x2ca,-0x287,-0x28a,-0x268),_0x4ee706=_0x51fbbf['replace'](/\/$/,'');_0x2b2406&&(_0x18d651[_0x545ce9(0x192,0xe5,0x1f4,0xea)](_0x18d651[_0x545ce9(0x24b,0x1ee,0x210,0x1c1)],_0x18d651[_0x545ce9(0x202,0x1f0,0x1d9,0x1ff)])?_0x18d651[_0xa4a1d3(-0x2a0,-0x1d9,-0x2a1,-0x260)](_0x2b2406,'正在处理外部请求，请'+_0x545ce9(0x1c2,0x1b6,0x240,0x21c)):_0x18d651[_0x545ce9(0x1f8,0x25b,0x28e,0x2b1)](_0x318843,_0x4a6210));try{if(_0x18d651[_0x545ce9(0x16b,0x1f8,0x1b4,0x1bd)](_0x18d651['NnmBY'],_0x18d651['NnmBY'])){const _0x121a8d={};_0x121a8d[_0xa4a1d3(-0x29a,-0x1ce,-0x29b,-0x229)+_0x545ce9(0x272,0x31e,0x2d0,0x1c3)+'ce']=_0x18d651['YiJpl'],_0x121a8d[_0xa4a1d3(-0x141,-0x158,-0x115,-0x1ca)]=_0x4ee706,_0x121a8d[_0xa4a1d3(-0x244,-0x120,-0xd6,-0x188)+'lude_heade'+'rs']=_0xa4a1d3(-0x13a,-0x10d,-0x250,-0x1a2)+_0xa4a1d3(-0x21b,-0x23f,-0x29e,-0x25f)+_0xa4a1d3(-0x20f,-0x26b,-0x291,-0x251)+_0x5b523f+'\x22',_0x121a8d[_0xa4a1d3(-0x2aa,-0x2b3,-0x237,-0x2b6)]=_0x166a1e,_0x121a8d[_0x545ce9(0x2c4,0x291,0x251,0x31b)]=_0x339920,_0x121a8d['temperatur'+'e']=_0x10892a,_0x121a8d['top_p']=_0x576aba,_0x121a8d['max_tokens']=_0x3c2b6a,_0x121a8d[_0xa4a1d3(-0x240,-0x1c9,-0x1d0,-0x197)]=![];const _0x5075ee=_0x121a8d,_0xfb0b4=await _0x18d651[_0xa4a1d3(-0x221,-0x335,-0x2a2,-0x288)](fetch,_0x3a3f20,{'method':_0x545ce9(0x21e,0x190,0x264,0x2ca),'headers':_0x18d651[_0xa4a1d3(-0x246,-0x1cb,-0x2d6,-0x286)](getRequestHeaders,window['token']),'body':JSON[_0x545ce9(0x20f,0x24c,0x28f,0x1ac)](_0x5075ee),'signal':_0x1f584a}),_0x1c6572=await _0xfb0b4['json']();if(_0x1c6572[_0x545ce9(0x212,0x1df,0x200,0x19b)]){let _0x1f2ccc;if(_0x18d651[_0x545ce9(0x16b,0xf1,0x107,0x106)](typeof _0x1c6572[_0xa4a1d3(-0x22e,-0x1cd,-0x269,-0x246)],_0x18d651[_0xa4a1d3(-0x263,-0x281,-0x220,-0x2cc)])&&_0x1c6572[_0xa4a1d3(-0x2bd,-0x279,-0x1ef,-0x246)][_0x545ce9(0x182,0x1d4,0x218,0x1ef)]){if(_0x18d651[_0x545ce9(0x174,0x1b1,0x1fc,0x1b5)](_0x18d651['NCCRq'],_0x18d651[_0x545ce9(0x22a,0x19d,0x255,0x1b7)])){const _0x38930b={};_0x38930b['timeOut']=0x1388,_0xa338ac[_0x545ce9(0x171,0x1d5,0xdc,0x1c1)](_0x545ce9(0x1e1,0x164,0x265,0x1c0)+_0x4551bc+(_0xa4a1d3(-0x1b2,-0x1a7,-0x100,-0x192)+_0x545ce9(0x262,0x2b6,0x244,0x310)),_0x18d651[_0x545ce9(0x2a9,0x2f8,0x209,0x33b)],_0x38930b);}else{_0x1f2ccc=''+_0x1c6572['error'][_0x545ce9(0x182,0x22f,0x223,0x204)];const _0x2018f4=[];if(_0x1c6572['error'][_0xa4a1d3(-0x325,-0x283,-0x393,-0x2dd)])_0x2018f4[_0x545ce9(0x216,0x1d8,0x1ee,0x2ce)](_0x545ce9(0x190,0x138,0xea,0x241)+_0x1c6572[_0xa4a1d3(-0x212,-0x237,-0x289,-0x246)][_0x545ce9(0x17b,0xd3,0x1aa,0x235)]);if(_0x1c6572['error'][_0xa4a1d3(-0x1d4,-0x262,-0x23a,-0x1c0)])_0x2018f4['push'](_0x545ce9(0x226,0x248,0x224,0x1b8)+_0x1c6572['error'][_0x545ce9(0x298,0x31c,0x218,0x209)]);_0x2018f4[_0x545ce9(0x258,0x1d4,0x1da,0x2c9)]>-0x13*-0x77+-0x8e1*-0x2+-0x1*0x1a97&&(_0x1f2ccc+='\x20('+_0x2018f4['join'](',\x20')+')');}}else _0x1f2ccc=''+JSON['stringify'](_0x1c6572[_0x545ce9(0x212,0x194,0x199,0x213)]);throw new Error(_0x1f2ccc);}if(!_0xfb0b4['ok'])throw new Error(_0xa4a1d3(-0x2c8,-0x244,-0x1b8,-0x222)+_0xfb0b4['status']+'\x20'+_0xfb0b4['statusText']);const _0x392433=_0x1c6572[_0x545ce9(0x2bf,0x231,0x319,0x269)]?.[0x23d*0xa+-0x1e33+0x7d1]?.['message']?.[_0xa4a1d3(-0x264,-0x201,-0x2d8,-0x29e)]||'';if(!_0x392433){if(_0x545ce9(0x2c2,0x35c,0x273,0x257)===_0x18d651['OMCte']){const _0x320990=_0x14b844[_0x5cbe9f][_0xa4a1d3(-0x18b,-0x131,-0xc9,-0x183)+_0xa4a1d3(-0x224,-0x11a,-0x283,-0x1c7)+'s']||{},_0x585808=_0x52f893[_0x44665b]['current_te'+_0xa4a1d3(-0x1fb,-0x301,-0x286,-0x282)+_0xa4a1d3(-0x221,-0x279,-0x2ef,-0x2a9)];return _0x320990[_0x585808]||_0x320990[_0x2edb2a[_0x545ce9(0x250,0x20e,0x2ff,0x1cd)](_0x320990)[-0xda5*-0x1+0x87*-0x14+-0x319]]||{};}else toastr['warning']('LLM\x20未收到有效回'+'复。');}_0x2b2406&&(_0x18d651[_0x545ce9(0x1eb,0x262,0x27b,0x1ce)](_0xa4a1d3(-0x33e,-0x23d,-0x2ac,-0x2c2),_0x18d651[_0xa4a1d3(-0xcd,-0x17c,-0x222,-0x17f)])?_0x186f16=null:_0x2b2406(_0x392433));addLog(_0xa4a1d3(-0x1fd,-0x1a4,-0x283,-0x245)+_0xa4a1d3(-0x1b0,-0x167,-0x230,-0x1c4)),_0x18d651['ntDDI'](addLog,_0x392433),_0x18d651[_0x545ce9(0x1fc,0x14d,0x247,0x1f6)](addLog,_0x545ce9(0x191,0x1a7,0x24b,0x14a)+_0xa4a1d3(-0x10f,-0x21b,-0x21a,-0x19a)),taskQueue[_0x545ce9(0x21b,0x298,0x24a,0x184)+'sk'](_0x59df97,!![]),llmTaskControllers[_0x545ce9(0x25c,0x276,0x1ce,0x2e9)](_0x59df97);const _0x5d4d5d={};_0x5d4d5d['success']=!![],_0x5d4d5d['result']=_0x392433,_0x5d4d5d['id']=_0x3e4c9f,eventSource[_0x545ce9(0x2db,0x37a,0x329,0x227)](eventNames['LLM_EXECUT'+'E_RESPONSE'],_0x5d4d5d);}else{if(_0x4733e9[_0x545ce9(0x182,0x219,0x210,0xf0)][_0x545ce9(0x1b5,0x215,0x213,0x173)](_0x18d651[_0xa4a1d3(-0x230,-0x2b8,-0x337,-0x2e8)])||_0x41d3cf['message'][_0xa4a1d3(-0x202,-0x343,-0x2a5,-0x2a3)](_0x18d651[_0xa4a1d3(-0x267,-0x2c4,-0x247,-0x22f)]))throw _0x4f8d8e;}}catch(_0x4467c1){if(_0x18d651[_0x545ce9(0x1ed,0x1bd,0x25b,0x1ef)](_0x545ce9(0x248,0x25b,0x285,0x1dc),_0x18d651['KCZeM'])){if(_0x1024d5){const _0x5a4ee6=_0x4bdbdd['apply'](_0x3bb856,arguments);return _0x43ac39=null,_0x5a4ee6;}}else{if(_0x18d651['rVttC'](_0x4467c1[_0xa4a1d3(-0x1f3,-0x1e8,-0x210,-0x1c8)],_0x18d651[_0x545ce9(0x1f4,0x199,0x1c8,0x212)])){if(_0x18d651[_0x545ce9(0x211,0x2a9,0x172,0x2bd)](_0x18d651[_0x545ce9(0x194,0xea,0x138,0x1e5)],_0x18d651[_0xa4a1d3(-0x2ad,-0x23a,-0x2ed,-0x258)]))return!!_0x4455bf[_0x28701e][_0x545ce9(0x18b,0x1d7,0x246,0x190)+'e'];else{const _0x60cf9=_0x18d651[_0xa4a1d3(-0x20e,-0x207,-0x22c,-0x283)]['split']('|');let _0x4d64ba=-0x3e4+-0x770+0xb54;while(!![]){switch(_0x60cf9[_0x4d64ba++]){case'0':_0x322885=!![];continue;case'1':llmTaskControllers['delete'](_0x59df97);continue;case'2':console[_0x545ce9(0x17f,0x22b,0x13c,0x1ae)](_0x18d651[_0x545ce9(0x1b3,0x1a0,0x20b,0x224)]);continue;case'3':return;case'4':const _0x66af63={};_0x66af63[_0x545ce9(0x290,0x1d8,0x32a,0x210)]=_0x18d651[_0x545ce9(0x1f4,0x13c,0x262,0x25a)],_0x66af63[_0x545ce9(0x182,0x230,0x135,0x155)]=_0x18d651[_0x545ce9(0x275,0x2e4,0x244,0x202)];const _0x56c1fd={};_0x56c1fd[_0x545ce9(0x1ef,0x29a,0x279,0x157)]=![],_0x56c1fd[_0xa4a1d3(-0x2d1,-0x31d,-0x289,-0x2d2)]=null,_0x56c1fd['id']=_0x3e4c9f,_0x56c1fd['error']=_0x66af63,eventSource[_0xa4a1d3(-0xe6,-0x14d,-0x146,-0x17d)](eventNames[_0x545ce9(0x1b9,0x127,0x11c,0x1f5)+'E_RESPONSE'],_0x56c1fd);continue;case'5':taskQueue[_0xa4a1d3(-0x2c5,-0x2c1,-0x196,-0x21c)+'us'](_0x59df97,TaskStatus[_0x545ce9(0x287,0x204,0x2f1,0x23e)]);continue;}break;}}}console['error'](_0x545ce9(0x19f,0x132,0x184,0x201)+_0x545ce9(0x1c1,0x146,0x134,0x214),_0x4467c1);const _0x480644=_0xa4a1d3(-0x1e9,-0x14e,-0x209,-0x182)+_0x4467c1[_0xa4a1d3(-0x2fd,-0x36b,-0x387,-0x2d6)];_0x2b2406&&_0x18d651[_0xa4a1d3(-0x2a8,-0x1de,-0x28f,-0x27b)](_0x2b2406,_0x480644);toastr[_0xa4a1d3(-0x29c,-0x2e7,-0x1de,-0x246)](_0x4467c1[_0xa4a1d3(-0x334,-0x34b,-0x360,-0x2d6)]),taskQueue[_0xa4a1d3(-0x241,-0x258,-0x258,-0x23d)+'sk'](_0x59df97,![]),llmTaskControllers[_0x545ce9(0x25c,0x265,0x20c,0x1fd)](_0x59df97);const _0x26e3b4={};_0x26e3b4['success']=![],_0x26e3b4[_0xa4a1d3(-0x2cf,-0x34a,-0x22c,-0x2d2)]=_0x480644,_0x26e3b4['id']=_0x3e4c9f,eventSource[_0xa4a1d3(-0x1f6,-0xc3,-0x1e9,-0x17d)](eventNames['LLM_EXECUT'+_0x545ce9(0x2c7,0x2dc,0x311,0x282)],_0x26e3b4);}}finally{_0x18d651['YXMDB'](currentLLMRequestController,_0x277c4f)&&(currentLLMRequestController=null);if(!_0x322885||_0x18d651[_0xa4a1d3(-0x2b2,-0x2b2,-0x239,-0x22c)](currentLLMRequestController,null)){if(_0x18d651[_0x545ce9(0x1c9,0x1ec,0x16b,0x1e0)](_0x18d651[_0xa4a1d3(-0x2da,-0x2b3,-0x2e6,-0x22b)],_0x18d651[_0x545ce9(0x233,0x20d,0x1e5,0x182)])){if(_0x212221[_0x545ce9(0x29c,0x30b,0x235,0x236)]&&_0x18d651['eovou'](_0x4f7a93[_0xa4a1d3(-0x1cd,-0x1d6,-0x277,-0x1bc)][_0xa4a1d3(-0x232,-0x28a,-0x1e0,-0x254)](),'')){const _0x58555c={};_0x58555c[_0xa4a1d3(-0x248,-0x2a7,-0x26c,-0x219)]=_0x18d651[_0x545ce9(0x201,0x222,0x2a3,0x298)],_0x58555c[_0xa4a1d3(-0x339,-0x261,-0x2cb,-0x29e)]=_0x28c831[_0xa4a1d3(-0x21f,-0x105,-0x1ea,-0x1bc)],_0x3f8c06[_0xa4a1d3(-0x1ec,-0x2d0,-0x25b,-0x242)](_0x58555c);}if(_0x37ea6d[_0xa4a1d3(-0x203,-0x226,-0x2a9,-0x223)]&&_0x18d651[_0x545ce9(0x1ed,0x23a,0x282,0x292)](_0x4c7d77[_0xa4a1d3(-0x1a2,-0x2b1,-0x262,-0x223)]['trim'](),'')){const _0x3c63b4={};_0x3c63b4[_0x545ce9(0x23f,0x1e3,0x18b,0x2cd)]=_0x18d651['YSIym'],_0x3c63b4[_0x545ce9(0x1ba,0x22d,0x13a,0x1be)]=_0x4c49d1[_0x545ce9(0x235,0x2d1,0x20d,0x1ef)],_0x14480e[_0x545ce9(0x216,0x171,0x201,0x17f)](_0x3c63b4);}}else _0x18d651[_0x545ce9(0x27c,0x233,0x243,0x257)](stopFabLoading);}}}export function createGetPromptHandler(_0x182764,_0x33e935){const _0x432d69={'MXiJz':function(_0x282f02,_0x1ded1){return _0x282f02!==_0x1ded1;},'fWkgH':_0x361506(0x4db,0x590,0x4a0,0x555),'woEkM':function(_0x51be04,_0x2b14db){return _0x51be04(_0x2b14db);}};function _0x361506(_0x369ba3,_0x557e4b,_0x786699,_0x23d352){return _0x10848f(_0x23d352,_0x557e4b-0x1b6,_0x786699-0x19b,_0x369ba3-0x4ae);}return function(_0x18baa3){function _0x177cab(_0x387b63,_0x31de3d,_0x2186bb,_0x2a508b){return _0x361506(_0x387b63- -0x283,_0x31de3d-0x6d,_0x2186bb-0x10d,_0x31de3d);}function _0x3daaea(_0x2b42fc,_0x3fa3bd,_0x142581,_0x48c80b){return _0x361506(_0x2b42fc- -0x5f1,_0x3fa3bd-0xef,_0x142581-0x169,_0x3fa3bd);}if(_0x432d69[_0x177cab(0x1a5,0x1a6,0x1fb,0x139)](_0x432d69[_0x3daaea(-0x1d7,-0x16f,-0x136,-0x1a7)],_0x432d69[_0x3daaea(-0x1d7,-0x224,-0x185,-0x1dc)]))return!!_0x4562b4;else{const {id:_0x11ced7}=_0x18baa3;if(!_0x11ced7)return;const _0x24ace1=REQUEST_TYPE_NAMES[_0x182764]||_0x182764;console['log'](_0x3daaea(-0x107,-0xe7,-0x8c,-0xda)+_0x177cab(0x20a,0x287,0x203,0x20a)+_0x24ace1+(_0x177cab(0x24a,0x290,0x221,0x2fb)+_0x3daaea(-0x147,-0x1da,-0x183,-0x199))+_0x11ced7+')');const _0x4bd2c5=_0x432d69['woEkM'](buildPromptForRequestType,_0x182764),_0x360ab6={};_0x360ab6['prompt']=_0x4bd2c5,_0x360ab6['id']=_0x11ced7,eventSource['emit'](_0x33e935,_0x360ab6);}};}export function createExecuteHandler(_0x42a5c8,_0x913aeb,_0x31077b=null){const _0x1fe3fc={'NUyvX':function(_0x10535d){return _0x10535d();},'FCgtT':function(_0x10ce18,_0x4a21cc,_0x44512a,_0x2baa9d,_0x23c800){return _0x10ce18(_0x4a21cc,_0x44512a,_0x2baa9d,_0x23c800);}};return async function(_0xb2bc73){function _0x3fac15(_0x7e03e8,_0x218e04,_0x1b9e54,_0x30c399){return _0x4329(_0x218e04- -0x43,_0x1b9e54);}const _0xbfff23=_0x31077b?_0x1fe3fc[_0x127b84(0xb2,0x101,0xa6,0x33)](_0x31077b):null;function _0x127b84(_0xce0979,_0x38e4ff,_0x725007,_0x362714){return _0x4329(_0x725007- -0x39,_0x38e4ff);}await _0x1fe3fc[_0x127b84(0x236,0xee,0x17a,0x226)](executeTypedLLMRequest,_0xb2bc73,_0x42a5c8,_0x913aeb,_0xbfff23);};}
(function(_0x4bab71,_0x3a1a84){const _0x3aab9a=_0x4bab71();function _0x3c336b(_0x12c930,_0x256c36,_0x470541,_0x5e53a4){return _0xb765(_0x12c930-0xe2,_0x5e53a4);}function _0x3f9403(_0x3884e7,_0x4415bb,_0x297fbb,_0x5b4cc2){return _0xb765(_0x297fbb-0x103,_0x3884e7);}while(!![]){try{const _0xba851=parseInt(_0x3f9403(0x36b,0x35b,0x307,0x29a))/(-0x1*0xca7+0x4*0x878+-0x1538)+-parseInt(_0x3c336b(0x29a,0x222,0x318,0x2b9))/(0xdd*0x2b+-0x16a0+-0xe7d)+parseInt(_0x3f9403(0x1c4,0x2cf,0x25d,0x2e5))/(-0x2418+0x7fd+0x1c1e)+parseInt(_0x3f9403(0x213,0x28f,0x25f,0x1d6))/(-0xa9*0x31+-0x1e30+-0x1*-0x3e8d)*(parseInt(_0x3c336b(0x27a,0x1f2,0x303,0x234))/(-0x4f9+0x5*0xa5+0x1c5*0x1))+-parseInt(_0x3c336b(0x364,0x37b,0x388,0x3da))/(-0x18a6+0x2488+-0xc*0xfd)+-parseInt(_0x3c336b(0x252,0x2b8,0x299,0x22d))/(-0x20bd+0x1c17+0x4ad)*(parseInt(_0x3f9403(0x334,0x2b5,0x2da,0x285))/(0x4*0x8dc+-0x257*-0x1+-0x3*0xc95))+parseInt(_0x3c336b(0x262,0x2dc,0x249,0x2f9))/(-0xbe3*0x1+-0x10+0xbfc)*(-parseInt(_0x3f9403(0x303,0x367,0x2f7,0x2e0))/(0x46f+0x296+-0x6fb));if(_0xba851===_0x3a1a84)break;else _0x3aab9a['push'](_0x3aab9a['shift']());}catch(_0x423b7b){_0x3aab9a['push'](_0x3aab9a['shift']());}}}(_0x258a,-0x53870+0x1*-0x12260+0x6*0x18e46));function _0x3d2894(_0x3dca85,_0x23055c,_0x5fb76f,_0x68f986){return _0xb765(_0x68f986- -0x3e2,_0x5fb76f);}const _0x3f37cf=(function(){const _0x543139={};_0x543139['ZbLmo']=function(_0x570cbc,_0x1f8178){return _0x570cbc===_0x1f8178;},_0x543139[_0x532afb(0x30c,0x3d0,0x36f,0x357)]=_0x5a93fc(0x3e,-0x40,-0x95,-0xce),_0x543139[_0x5a93fc(-0x45,-0xcb,-0x11c,-0xd6)]=function(_0x515ed4,_0x55ce0d){return _0x515ed4===_0x55ce0d;};function _0x532afb(_0x1a1c1c,_0x2152b8,_0x1af8b6,_0xa585d9){return _0xb765(_0xa585d9-0xe1,_0x1af8b6);}_0x543139[_0x532afb(0x31a,0x275,0x2a4,0x2c1)]='PlsKS';const _0x1cccc8=_0x543139;function _0x5a93fc(_0x3ce57b,_0x3226eb,_0x30750d,_0x10ddda){return _0xb765(_0x3226eb- -0x25c,_0x3ce57b);}let _0x176fe2=!![];return function(_0x2f833d,_0x1a4073){const _0x48100b={};_0x48100b['HassR']=_0x1bb669(0x1e2,0x1b9,0x22c,0x1f5)+_0x28caf6(0x301,0x2e6,0x2a4,0x31a)+_0x28caf6(0x446,0x33b,0x339,0x3c5);function _0x28caf6(_0xb7a52,_0x2447cc,_0x854968,_0x4c6c64){return _0x5a93fc(_0xb7a52,_0x4c6c64-0x416,_0x854968-0x19f,_0x4c6c64-0xbd);}function _0x1bb669(_0x331268,_0x4c0ffe,_0x4354e7,_0xe63beb){return _0x532afb(_0x331268-0x1c3,_0x4c0ffe-0x189,_0x331268,_0x4c0ffe- -0xe8);}const _0x2d0a75=_0x48100b;if(_0x1cccc8['AUpsb'](_0x1cccc8[_0x28caf6(0x31c,0x374,0x3ae,0x39a)],_0x1cccc8['OihfV'])){const _0x28429f=_0x176fe2?function(){function _0x465e80(_0x562fb6,_0x4d9689,_0x39a5ef,_0x826189){return _0x1bb669(_0x4d9689,_0x826189-0x266,_0x39a5ef-0x1c4,_0x826189-0x142);}function _0x570b99(_0xd7c809,_0x463116,_0x482179,_0x3ad3a4){return _0x28caf6(_0x3ad3a4,_0x463116-0xf3,_0x482179-0xb7,_0x463116- -0x146);}if(_0x1cccc8[_0x465e80(0x3ab,0x438,0x483,0x42d)](_0x1cccc8[_0x465e80(0x490,0x562,0x4f5,0x4d5)],_0x1cccc8[_0x465e80(0x472,0x4f0,0x496,0x4d5)])){if(_0x1a4073){const _0x1f0541=_0x1a4073[_0x570b99(0x2cc,0x266,0x24b,0x20f)](_0x2f833d,arguments);return _0x1a4073=null,_0x1f0541;}}else{const _0x391bad=_0x2d0a75[_0x465e80(0x40a,0x3e5,0x3cb,0x3f1)];_0x25e462['error'](_0x391bad);const _0x31af20={};_0x31af20[_0x570b99(0x254,0x1fe,0x23b,0x1f8)]=![],_0x31af20[_0x570b99(0x257,0x258,0x254,0x2b9)]=_0x391bad,_0x31af20['id']=_0x49ebf1,_0x54f939[_0x570b99(0x1dc,0x20d,0x1b6,0x1b5)](_0x1f1862['LLM_EXECUT'+_0x570b99(0x2e6,0x279,0x2a4,0x2b8)],_0x31af20);return;}}:function(){};return _0x176fe2=![],_0x28429f;}else{if(_0x5d954f){const _0xa756e0=_0x13da53[_0x28caf6(0x350,0x3c0,0x31f,0x3ac)](_0x13a7cc,arguments);return _0x48e27a=null,_0xa756e0;}}};}()),_0x31427c=_0x3f37cf(this,function(){function _0x4946a6(_0x3404e,_0x2426a5,_0x1320a3,_0x4eac63){return _0xb765(_0x4eac63- -0x352,_0x3404e);}function _0x54b0bf(_0x2542e2,_0x243fa5,_0x31d21a,_0x45344c){return _0xb765(_0x45344c-0x186,_0x31d21a);}const _0x322ea2={};_0x322ea2['hhjBQ']='(((.+)+)+)'+'+$';const _0x9d02ac=_0x322ea2;return _0x31427c[_0x4946a6(-0x212,-0x106,-0x200,-0x18f)]()['search'](_0x9d02ac[_0x4946a6(-0x1cd,-0x146,-0x1b9,-0x1c5)])[_0x4946a6(-0x1dc,-0x17b,-0x14d,-0x18f)]()[_0x4946a6(-0xcb,-0x96,-0x10e,-0x110)+'r'](_0x31427c)['search'](_0x9d02ac['hhjBQ']);});_0x31427c();import{extension_settings}from'../../../../../extensions.js';import{eventSource}from'../../../../../../script.js';import{extensionName,eventNames,LLMRequestTypes}from'../config.js';import{getRequestHeaders,clearLog,addLog}from'../utils.js';import{startFabLoading,stopFabLoading}from'./fab.js';function _0x258a(){const _0x58f513=['6k+35Rgc5A6m5OIqid09pt09','s0jD','tufwrxq','C3rHDhvZ','r3PMv2S','q1v6uNm','uwDfvMi','zvfZB0G','sgXVwKG','ywjvDwe','C3rYzwfT','ywjVCNrLzc4','BhvKzv9OzwfKzq','CgfYC2u','ruPZq1e','6kEs6iMYl+ACJEIJHEIUVUIUOq','ioIVT+AXGU+8JoIVT+EOJEwaMs4UlG','oIbmte0G5PYQ5Ps25yIW5PYj','teXnigv4zwn1Da','BuDwEe8','su9Zz1y','D2LnrvG','BgXTx3bYB2zPBa','x3bYB2zPBgu','DvbozMO','zvr2zMW','u0rqwLa','ihjLCxvLC3qGyq','qKDoC0W','ywjVCNq','ChHuEhy','zgvJB2rL','ChvZAa','ioIVT+AXGIaOsuq6ia','vMXqEfO','y3vZDg9T','z1vXs3y','CuHXzei','Aw5QvgO','sevAtwK','y29UDgv4Df9WCG','s0TPrhy','Df90ExbLx2nVBG','zg9OzfO','ioIVT+AXGUw3SUwUJoAiKo+8JowqJUE7REAtJq','BgzjvgK','EhzjEem','y29UC3rYDwn0BW','DgvTCgvYyxr1CG','y29UDgv4Da','zhHZDgi','y29Kzq','AxHjs3O','Dgv4Da','quNLIQNMIyS','y2HVAwnLCW','yxrItxq','r2requu','C3rYAw5N','teXnioIVT+AXGUw3SUs4REATOUoaGG','ELbPq0S','y25fENy','Dg9VBa','ugPTqvK','ioAuTUwiSa','ievYCM9YoG','yM9KEq','AM9PBG','zw50CMLLCW','D2D5zLC','DgTgr2O','8j+tTYbB5zU+54Mh6zo+5O6LoIa','D3DyuNe','r0vwA3i','yxbPx3vYBa','zxrPB25FC291CG','Aw9UoIaIqMvHCG','rdOG','8j+tTYbB55sO5OI35lIk5lYG55Qe5zU+54Mh','C2LNBMfS','ruzoAM0','C3bSAxq','De50tey','Aw5JBhvKzxm','y3vZDg9Tx2LUyW','5O+q56s66k+n6i635y+w6k+35RgcicHj','BMfTzq','zgf0ytOGw0rptG','5Rwb5BYp6kEJ5P6q6k2M5zgkicJMNidLKi4','6BUy6k6K6k+35Rgc5BYa5AElid09pq','D2fYBG','qxv0Ag9YAxPHDa','v1zot0S','teXnioACQUAuTUwiSoACIEAvIowBNG','t0DNufq','C3rYAw5NAwz5','5Q2J5PAh5zU+54Mh55sF5OIq','zxjYB3i','B05TAxC','tfbkAha','Bwf4x3rVA2vUCW','yxnLsuq','y3vYCMvUDf90zq','AxnbCNjHEq','EvLZvLa','BwvZC2fNzq','D3jjDK4','u3rXB2m','y2HHCL9KzxnPzW','5PYQ5Ps25yIW5PYj5Pwi5zUE5Asn44cc','6k+35RgcicHjrdOG','mJi5ntaWmhfHELPruW','rerrrLO','zsbfCNjVCJO','DxjS','vvHKwhC','CMvWBgfJzq','57g75z6loG','wenzwKO','DKXbDey','Bv9WCM9MAwXL','mtaZnJCWn2XuwvzYCq','l2fWAs9IywnRzq','nZG4twHICNvr','Ae5utwW','C2vHCMnO','rwrMDgi','ueKGs2v5lcdMIjyG','ue9tva','zsbYzxf1zxn0ia','Aw1Hz2vFDxjS','6kEs6iMYl+ACJEIJHEs/RUAuUq','y2HHCL9TB2rPzG','Dg1HswC','Bg9N','wvbTtfC','v0Dwq0e','BgXTvgvZDe1Vza','5AEl5PAW6k+35Rgc44cc','5Rwb5BYp6kEJ5P6q6k2M5zgkoG','Bwf0y2G','yxbPx2TLEq','DgvZDe1Vzgu','mJGWD3L4thjM','yNvMzMvYktO','uw9mBw4','shHutgC','DxnLCG','y2HHCL9KAxnWBa','56In5yczlI4U','qufyvfC','zvfdAfy','Dg9Wx3a','ELnMuMC','CuHlChm','wKXHvNm','5Rwl6k+v5QIH5BYp5O+q56s6','DhjPBq','qwjVCNrfCNjVCG','ouPyz25guW','ioAuTUwiSca','BgvUz3rO','6k+35Rgc6zsz6k+VoIa','5y+r6ycb55QeifbYB21WDa','Cg5xr2W','zw5HyMXLza','uKfeswC','y1H0BhG','y3vZDg9Tx3vYBa','C3vJy2vZCW','Euvjuvu','vKHdz1e','AgHQqLe','5OIwie1VzgvSioACQUMfJq','Aw5MBW','y29UDgvUDa','qvvWC2i','sgfZC1i','C2XPy2u','u0r4wem','yxbPx3bYB2zPBa','rw9ABey','wxnlz3e','otG1AMnAsw5Z','zw1PDa','rwvfBvO','Eef0Ewq','EhrFChjVzMLSzq','iefqssblzxKSia','zM9YrwfJAa','5lUJ56cboIa','qMP2ANO','D3zPvhO','uurMque','ANnVBG','yLLQwem','C3LZDgvT','AgLZDg9YEq','qMTttvO','57g75z6loIa','sxHABKG','zKjvA28','teXn6k+35Rgc5BEY5lIT5PAT77Ym5BYa','yM9YDgvKlG','qLftBKi','zgf0ytO','CMvWzwf0','Bw9KzwW','zM5rCKC','qNfhu1i','A2XWvKG','z016B3y','z3Lzwva','C3qTy2HHDhu4oG','DxrMltG','mJG4otbMrMnWzxa','qKzHt3y','tu1uC28','zfHerey','6k+35Rgc5AsX6lsLoIa','zMLNCW','zvjwuwW','A1DmD2K','qvbjifvstcWGqq','zhHPu04','EM96q2q','Dg9tDhjPBMC','teXniev4zwn1Da','DhjHBNnSyxrPBW','5Pwi5zUE5Asn44cc','te5NseC','CM91BMq','yKnZEfq','y2HHDf9JB21WBa','BMrZl2nOyxqTyW','Ee9dwhC','D2fYBMLUzW','wMjmBw8','lcdNUQyG','whb4vwq','57o757UF5O+q56s66k+n','iowBNUwKJsaTls0Tlq','B21WBgv0Aw9UCW','EwH0yuW','l2DLBMvYyxrL','y3vYCMvUDf9SBa','mJeYmg1vy2jrsW','yxnZAxn0yw50','C0jpq04','rM5hAfq','zhrjAe0','kcGOlISPkYKRkq','zNvUy3rPB24','BuP6uuG','teXnx0vyrunvva','t2LOzLy','5Q2J5zYO5Ase55cg5Asw6yoO6k+35Rgc77Ym6k+3','DgvZDf9JB250zq','5Q2J5zYO5Ase55cgia','CMvZDwX0','ChLqDK0','uMvXDwvZDcbHyG','B2jQzwn0','oIbbueKGvvjmla','DgLTzu91Da','6kEs6iMYl+ACJEIJHEwXLEEKUG','vgDSv3u','CM9Szq','Dw5RBM93BG','rwrHuxO','DhLWzq','zxiG','DhjPz2DLCK1Vza','yxbWBhK','B3j0zwq','mteXnda3mhDlueTpDq','A2v5CW','zgvSDge','pt09pt0GteXnia','BgXTx3jLCxvLCW','ChjVBxb0','BuDArLG','Dg9Rzw4','sMLbyxG','C3rHCNrZv2L0Aa','CNzOs2e','B1PKvhq','v0TSwuC','q0zUsfK','s0jJwgC','6k+35Rgc5BYa5AElicG','mZi5odu4veXqAg9x','rv9srvnqt05trq','qu9uDgO','ChruD1q','uvfKyxG','DLLrExa','DhjPz2DLCG','tw9KzwWG5PYQ6ywn572U44cc','z2v0uMvHzgvY','wxHZtve','cI0Tls0TieXmtq','B2zPBgu','6k+35RgcieLeoIa','C3rHDhvZvgv4Da','sfjKC3O'];_0x258a=function(){return _0x58f513;};return _0x258a();}import{checkTriggerWords,mergeAdjacentMessages}from'../promptProcessor.js';import{processRollPlaceholders}from'./rollProcessor.js';let currentLLMRequestController=null;export function getLLMRequestController(){return currentLLMRequestController;}export function setLLMRequestController(_0x1eefc5){currentLLMRequestController=_0x1eefc5;}export function isLLMRequestActive(){return!!currentLLMRequestController;}export function abortLLMRequest(){const _0x2c3fb0={};_0x2c3fb0[_0x186ecf(0x45c,0x3e1,0x47c,0x492)]=_0x1fe0ab(0x499,0x4cc,0x47a,0x513);function _0x186ecf(_0x3e4ac9,_0x47ed7f,_0xc709f0,_0x37bcc5){return _0xb765(_0x3e4ac9-0x241,_0xc709f0);}function _0x1fe0ab(_0x1ce7a4,_0x2ed567,_0x3cf6e5,_0x2cf79a){return _0xb765(_0x3cf6e5-0x22c,_0x1ce7a4);}const _0x5b1509=_0x2c3fb0;currentLLMRequestController&&(currentLLMRequestController['abort'](),toastr['info'](_0x5b1509[_0x1fe0ab(0x45b,0x48e,0x447,0x3f2)]));}export function isLLMTestMode(){function _0x2264ab(_0x10e873,_0x1832ae,_0x3fc03d,_0x329957){return _0xb765(_0x3fc03d-0x2fa,_0x10e873);}return!!extension_settings[extensionName][_0x2264ab(0x462,0x407,0x464,0x441)+'e'];}export function formatPromptForDisplay(_0x252550){const _0x4505d2={'EoZlF':_0x547df2(0x2ff,0x36c,0x3a1,0x3e1),'oZdTt':function(_0x4cfcd3,_0x379fa3){return _0x4cfcd3(_0x379fa3);},'JiAax':function(_0x31c7db,_0x1c9b32){return _0x31c7db===_0x1c9b32;},'HxTLg':_0x547df2(0x2fa,0x314,0x27e,0x286),'zozCd':_0x547df2(0x311,0x33b,0x379,0x3ca),'EdaQz':_0x2e3a1b(-0xae,0x11,-0x4a,-0x4f),'BkSMZ':function(_0x27719a,_0xc8c638){return _0x27719a===_0xc8c638;},'TIflL':_0x547df2(0x2cc,0x24f,0x1e8,0x1d5),'rvhKa':'unknown','eQsoH':function(_0x104173,_0x1e03eb){return _0x104173/_0x1e03eb;},'cpnbG':function(_0x32c450,_0x58375b){return _0x32c450/_0x58375b;},'DDQFZ':function(_0x14704e,_0x5e8c02){return _0x14704e*_0x5e8c02;},'JwZnA':function(_0x4d007c,_0x4ef467){return _0x4d007c!==_0x4ef467;},'WKlYG':'STccE','bOojQ':_0x547df2(0x299,0x2b8,0x2ca,0x251),'IxZnH':_0x2e3a1b(-0x51,-0x87,-0x79,-0x4a),'NWwqg':function(_0x44dc26,_0x17de12){return _0x44dc26!==_0x17de12;},'MAVEt':_0x547df2(0x2b5,0x2f9,0x289,0x338),'KKiDv':function(_0x555c26,_0x12a509){return _0x555c26===_0x12a509;}};if(_0x4505d2['JiAax'](typeof _0x252550,_0x4505d2[_0x547df2(0x272,0x295,0x306,0x28b)]))return _0x252550;function _0x547df2(_0x3f10ea,_0x23e9a8,_0x1a18c0,_0x430d8c){return _0xb765(_0x23e9a8-0xec,_0x1a18c0);}function _0x2e3a1b(_0x18f29b,_0x3d5bf1,_0x2f1e6c,_0xa4db52){return _0xb765(_0xa4db52- -0x297,_0x3d5bf1);}if(Array[_0x547df2(0x310,0x366,0x36f,0x2ed)](_0x252550)){if(_0x4505d2['NWwqg'](_0x4505d2[_0x2e3a1b(0x6,-0xec,-0xc7,-0x82)],'YxsMQ'))_0x2e54c3=_0x4505d2[_0x547df2(0x317,0x282,0x29f,0x2d1)],_0x384d68[_0x2e3a1b(-0x92,-0xe1,-0xe1,-0xca)](_0x131230+(_0x547df2(0x345,0x310,0x309,0x330)+_0x547df2(0x2af,0x2b2,0x31e,0x2af)));else{const _0x5a7023=[];return _0x252550[_0x2e3a1b(-0x161,-0x163,-0xfc,-0xf9)]((_0x5a0417,_0x218027)=>{const _0x5895e8=_0x5a0417[_0x49bdd9(0x27a,0x2d5,0x353,0x322)]||_0x2b2bc8(0x560,0x59f,0x588,0x5e8),_0x84e454=_0x4505d2[_0x2b2bc8(0x62c,0x5b1,0x61b,0x554)](getRoleLabel,_0x5895e8);_0x5a7023[_0x49bdd9(0x2de,0x31c,0x29b,0x2aa)](''+'═'[_0x2b2bc8(0x4e5,0x561,0x552,0x5ea)](0x1221+-0x3c4+0x1f*-0x75)),_0x5a7023[_0x2b2bc8(0x58a,0x5e5,0x678,0x609)]('【'+_0x84e454+'】'),_0x5a7023['push'](''+'─'['repeat'](-0x1a4d+-0x1d72+0x1*0x37f1));const _0x3b59e4=_0x5a0417[_0x2b2bc8(0x507,0x542,0x573,0x5d2)];function _0x49bdd9(_0x1ac610,_0x3544ca,_0x29df0b,_0x22b6c0){return _0x2e3a1b(_0x1ac610-0xc3,_0x29df0b,_0x29df0b-0x1f1,_0x3544ca-0x380);}if(_0x4505d2[_0x49bdd9(0x260,0x290,0x288,0x317)](typeof _0x3b59e4,_0x2b2bc8(0x5f6,0x5ff,0x642,0x58c))){if(_0x4505d2[_0x2b2bc8(0x4ce,0x559,0x5ea,0x4f5)](_0x49bdd9(0x2e0,0x30f,0x2c0,0x2ad),'sjUGy'))return _0x29fcd0['toString']()[_0x2b2bc8(0x4a5,0x510,0x59a,0x55a)](_0x2b2bc8(0x588,0x58e,0x551,0x50e)+'+$')[_0x2b2bc8(0x4f6,0x575,0x5b1,0x5f3)]()[_0x49bdd9(0x370,0x32b,0x357,0x35b)+'r'](_0x404d1b)[_0x49bdd9(0x250,0x247,0x1ae,0x1c7)](_0x49bdd9(0x33d,0x2c5,0x31c,0x2eb)+'+$');else _0x5a7023['push'](_0x3b59e4);}else{if(Array[_0x2b2bc8(0x5e9,0x62c,0x6ba,0x617)](_0x3b59e4)){if(_0x4505d2['JwZnA'](_0x4505d2[_0x49bdd9(0x268,0x2e9,0x2ce,0x30e)],_0x4505d2['bOojQ']))_0x3b59e4[_0x2b2bc8(0x4fa,0x550,0x529,0x52c)](_0x5cd450=>{function _0x4c02f1(_0x178fe2,_0x48733c,_0x262cc5,_0x5d5af3){return _0x2b2bc8(_0x178fe2-0xef,_0x262cc5- -0x442,_0x262cc5-0xf9,_0x48733c);}function _0x52098e(_0x312fe4,_0xda8965,_0x599b59,_0x432c5e){return _0x49bdd9(_0x312fe4-0x16d,_0x312fe4- -0x39c,_0x599b59,_0x432c5e-0x13e);}const _0x4d5ccd={'ixIKz':function(_0x53156b,_0x18b035){function _0x509769(_0x3a003d,_0x20b9bb,_0x50b093,_0x4bd144){return _0xb765(_0x50b093-0x10d,_0x20b9bb);}return _0x4505d2[_0x509769(0x36a,0x2f1,0x30c,0x2ca)](_0x53156b,_0x18b035);}};if(_0x4505d2[_0x52098e(-0xb7,-0x10c,-0x39,-0xef)](_0x4505d2[_0x52098e(-0x140,-0xb8,-0xb1,-0x15d)],_0x4505d2[_0x4c02f1(0x192,0x1a0,0x132,0x145)]))_0x1565da+=_0x46a2d6,_0x4f72e8&&_0x4d5ccd[_0x4c02f1(0x205,0x202,0x1b7,0x20e)](_0x52b39c,_0x4c77d0);else{if(_0x5cd450[_0x4c02f1(0x14d,0xea,0x15f,0x112)]===_0x4505d2[_0x52098e(-0xc5,-0x12e,-0xb7,-0xe7)])_0x5a7023[_0x52098e(-0x80,-0x57,-0xef,-0xd5)](_0x5cd450[_0x52098e(-0x6b,-0xfc,0x2d,-0xea)]||'');else{if(_0x4505d2[_0x52098e(-0x10c,-0x121,-0x82,-0xc6)](_0x5cd450['type'],_0x4505d2['TIflL'])){const _0x1dac80=_0x5cd450[_0x52098e(-0x150,-0x1a8,-0x144,-0x15a)]?.[_0x52098e(-0x2e,0x39,0x10,-0x96)]||'';if(_0x1dac80['startsWith'](_0x52098e(-0x105,-0xe0,-0x19d,-0x12c))){const _0xb15e6a=_0x1dac80['match'](/^data:([^;]+);/),_0x455cf4=_0xb15e6a?_0xb15e6a[-0x270*0xc+0xdb8+0xf89]:_0x4505d2[_0x4c02f1(0x1a8,0x1da,0x16e,0x1bd)],_0x1fe770=_0x1dac80[_0x4c02f1(0x1c0,0x212,0x1d4,0x1e0)](',')[-0xb2e+-0xa34+-0x1*-0x1563]||'',_0x45435f=Math[_0x52098e(-0xeb,-0xf4,-0x59,-0xbe)](_0x4505d2[_0x4c02f1(0x152,0x196,0x18a,0x144)](_0x4505d2['cpnbG'](_0x4505d2[_0x52098e(-0x30,0x2b,0x39,-0xb8)](_0x1fe770[_0x4c02f1(0x60,0xcb,0xf2,0x68)],0x1850+-0x9a+0x17b3*-0x1),0x1a*0x51+0x211+-0xa47),-0x1*0x113f+-0x18d+0x16cc));_0x5a7023['push'](_0x52098e(-0x52,-0x4f,0x37,0x1d)+':\x20'+_0x455cf4+_0x52098e(-0xe4,-0x178,-0x159,-0x9d)+_0x45435f+_0x4c02f1(0x178,0x197,0x184,0x180));}else _0x5a7023[_0x4c02f1(0x14c,0x13b,0x1a3,0x1c1)](_0x52098e(-0x59,-0x34,0x32,-0x83)+_0x1dac80+']');}}}});else throw _0x53f1c2;}}function _0x2b2bc8(_0x28e1bd,_0x3a465a,_0x5e8075,_0xb6c14d){return _0x547df2(_0x28e1bd-0x110,_0x3a465a-0x2c6,_0xb6c14d,_0xb6c14d-0x169);}_0x5a7023[_0x2b2bc8(0x566,0x5e5,0x550,0x665)]('');}),_0x5a7023['join']('\x0a');}}if(_0x4505d2[_0x547df2(0x33e,0x328,0x2ad,0x392)](typeof _0x252550,_0x547df2(0x34b,0x2d3,0x28a,0x264))&&_0x4505d2['JwZnA'](_0x252550,null))return JSON['stringify'](_0x252550,null,0xb3*-0x5+0x1*-0x1d9f+0x2120);return _0x4505d2[_0x2e3a1b(-0x25,-0x3d,-0x14,-0x98)](String,_0x252550);}function _0x7667(_0x7356f5,_0x4d15ca,_0x335a8e,_0x3e638f){return _0xb765(_0x3e638f-0x169,_0x7356f5);}export function getRoleLabel(_0x4e321c){const _0x3bfc76={};_0x3bfc76['FnGhT']=_0x2239cf(0x376,0x458,0x38a,0x3cd);function _0x2239cf(_0xe7a022,_0x32ac3c,_0x276ef2,_0x6eae11){return _0xb765(_0x6eae11-0x1fc,_0xe7a022);}function _0x4183fa(_0x26c4ef,_0x4ceaed,_0x47edce,_0x542ca9){return _0xb765(_0x47edce-0x308,_0x26c4ef);}_0x3bfc76[_0x2239cf(0x428,0x447,0x3a5,0x404)]=_0x4183fa(0x5cc,0x500,0x551,0x52f),_0x3bfc76['TSjHG']='函数调用';const _0x1face5=_0x3bfc76,_0x57ad9e={};_0x57ad9e[_0x4183fa(0x4bf,0x4d5,0x4ad,0x496)]=_0x1face5[_0x4183fa(0x571,0x56d,0x4e2,0x492)],_0x57ad9e[_0x2239cf(0x3b4,0x3ab,0x34c,0x370)]='用户',_0x57ad9e[_0x4183fa(0x461,0x4b5,0x4e0,0x503)]=_0x1face5['QQdax'],_0x57ad9e[_0x4183fa(0x533,0x56d,0x4e5,0x474)]=_0x1face5['TSjHG'],_0x57ad9e[_0x4183fa(0x5aa,0x4db,0x559,0x5b2)]='工具';const _0x4e5968=_0x57ad9e;return _0x4e5968[_0x4e321c]||_0x4e321c;}export function getCurrentLLMProfile(){function _0x581c58(_0x3195ee,_0x298bb8,_0x24a85d,_0x5c9938){return _0xb765(_0x24a85d- -0x238,_0x298bb8);}const _0x2587c3=extension_settings[extensionName][_0x581c58(0x3d,0x39,-0xf,-0x6b)+'es']||{},_0x2e496f=extension_settings[extensionName][_0x581c58(-0x3,0x30,-0x62,-0x48)+_0x296147(0x22f,0x1cd,0x174,0x19f)];function _0x296147(_0x2fcc37,_0x246055,_0x13d763,_0x5d177a){return _0xb765(_0x246055-0x74,_0x5d177a);}return _0x2587c3[_0x2e496f]||_0x2587c3[Object[_0x296147(0x212,0x269,0x2d4,0x2b8)](_0x2587c3)[0x1*-0x24c0+0x1e65*-0x1+0x4325]]||{};}function _0xb765(_0x22ea8c,_0x2ebd7c){const _0x237fc4=_0x258a();return _0xb765=function(_0x2b6a40,_0x39fc6c){_0x2b6a40=_0x2b6a40-(-0x1e93+-0x196a+-0x3*-0x131b);let _0x66c6ac=_0x237fc4[_0x2b6a40];if(_0xb765['YrphAE']===undefined){var _0x217c14=function(_0x7aa267){const _0x5c4bbf='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x3d4a27='',_0x16c0a='',_0x326abd=_0x3d4a27+_0x217c14;for(let _0x47d513=-0x1dae*0x1+0x68*0x43+-0x69*-0x6,_0x474e32,_0x4e2d40,_0x4d8346=-0x3dc*0x6+-0x5f3*-0x3+0x54f*0x1;_0x4e2d40=_0x7aa267['charAt'](_0x4d8346++);~_0x4e2d40&&(_0x474e32=_0x47d513%(-0xdd8+0x5*0x35b+-0x2eb)?_0x474e32*(-0x13cf+-0x1f3*0xb+0x2980)+_0x4e2d40:_0x4e2d40,_0x47d513++%(0x58*0x6e+-0xb0+-0x251c))?_0x3d4a27+=_0x326abd['charCodeAt'](_0x4d8346+(0x180b+0x13ed+0x15f7*-0x2))-(-0x1816+0x22c3+-0xaa3)!==-0x468+-0x22ea+0x2752?String['fromCharCode'](0xd9c+0x2f*0x47+-0x19a6&_0x474e32>>(-(0x23d+-0xb03+0x8c8)*_0x47d513&-0xcb4+-0x82*0x3b+0x2ab0)):_0x47d513:0x23de+-0xa56+-0x1*0x1988){_0x4e2d40=_0x5c4bbf['indexOf'](_0x4e2d40);}for(let _0x148f08=0x2f9*0xd+-0x7f*0x38+-0xadd,_0x1ccf17=_0x3d4a27['length'];_0x148f08<_0x1ccf17;_0x148f08++){_0x16c0a+='%'+('00'+_0x3d4a27['charCodeAt'](_0x148f08)['toString'](-0x24c1+0x13e+0x1*0x2393))['slice'](-(0x9*0x1c6+-0x1*-0x745+-0x1*0x1739));}return decodeURIComponent(_0x16c0a);};_0xb765['yMvPDJ']=_0x217c14,_0x22ea8c=arguments,_0xb765['YrphAE']=!![];}const _0x3f2705=_0x237fc4[0x1c95+-0x2503+-0x1a*-0x53],_0x177f51=_0x2b6a40+_0x3f2705,_0x3554e3=_0x22ea8c[_0x177f51];if(!_0x3554e3){const _0x56f44a=function(_0xd7d6e){this['JBvNAL']=_0xd7d6e,this['XLcUfa']=[-0x2568+-0x1*-0x5c+-0x250d*-0x1,-0xf44*0x1+0x2277+-0x1333,0x226+0x99c+-0xbc2*0x1],this['dnTWUK']=function(){return'newState';},this['NpvTXy']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['BJcVDn']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x56f44a['prototype']['gyRsID']=function(){const _0x151ecb=new RegExp(this['NpvTXy']+this['BJcVDn']),_0x1019f1=_0x151ecb['test'](this['dnTWUK']['toString']())?--this['XLcUfa'][-0x14*0x1c7+0x6fb*0x3+0x154*0xb]:--this['XLcUfa'][-0xa*-0x287+-0x7cd*0x4+0x5ee];return this['OXchgb'](_0x1019f1);},_0x56f44a['prototype']['OXchgb']=function(_0x221e1d){if(!Boolean(~_0x221e1d))return _0x221e1d;return this['xYMGBd'](this['JBvNAL']);},_0x56f44a['prototype']['xYMGBd']=function(_0x25f39c){for(let _0x34aefc=-0x1*-0x16d9+-0x301+-0x13d8,_0x46ab04=this['XLcUfa']['length'];_0x34aefc<_0x46ab04;_0x34aefc++){this['XLcUfa']['push'](Math['round'](Math['random']())),_0x46ab04=this['XLcUfa']['length'];}return _0x25f39c(this['XLcUfa'][-0x37a+-0x1614+0x198e]);},new _0x56f44a(_0xb765)['gyRsID'](),_0x66c6ac=_0xb765['yMvPDJ'](_0x66c6ac),_0x22ea8c[_0x177f51]=_0x66c6ac;}else _0x66c6ac=_0x3554e3;return _0x66c6ac;},_0xb765(_0x22ea8c,_0x2ebd7c);}export function getCurrentTestContext(){const _0x5412aa=extension_settings[extensionName][_0x26bfef(-0x27,-0x1c,-0x24,-0x80)+_0x26bfef(-0xa5,-0x62,-0x5d,-0x71)+'s']||{},_0x367dd6=extension_settings[extensionName][_0x26bfef(0xd9,0x7b,0x6c,0xd3)+'st_context'+_0x26bfef(0xb6,0x2c,0x97,0xb1)];function _0x1ff989(_0x3f7728,_0x53214d,_0x4dfad6,_0x3cfe51){return _0xb765(_0x4dfad6-0x123,_0x3f7728);}function _0x26bfef(_0x2962c4,_0x3cf120,_0x2ca04a,_0x1914d2){return _0xb765(_0x3cf120- -0x1fe,_0x1914d2);}return _0x5412aa[_0x367dd6]||_0x5412aa[Object[_0x1ff989(0x373,0x376,0x318,0x2f6)](_0x5412aa)[-0x5*-0x641+-0x10e2+-0xe63]]||{};}export function getEffectiveConfigForRequestType(_0x8a87b4){const _0x3a207a=extension_settings[extensionName][_0x4b6b56(-0x1ee,-0x167,-0x188,-0x1e3)+_0x9a081(0xb8,0x180,0xf9,0xec)+_0x9a081(0xc9,0x8b,0x79,0xd3)]||{},_0x3e25ac={};_0x3e25ac[_0x9a081(0x62,0x8d,0x51,0x41)+'e']='默认',_0x3e25ac['context_pr'+_0x9a081(0x8c,0xb2,0xcb,0x14c)]='默认';const _0x272aee=_0x3a207a[_0x8a87b4]||_0x3e25ac,_0x2a6e45=extension_settings[extensionName][_0x9a081(0xd5,0x58,0xe5,0xc8)+'es']||{},_0x44121e=extension_settings[extensionName][_0x4b6b56(-0x16c,-0x17d,-0x109,-0x168)+_0x4b6b56(-0x1ad,-0x1c3,-0x18e,-0x198)+'s']||{},_0x47e602=_0x272aee['api_profil'+'e']||'默认',_0xf12b7e=_0x2a6e45[_0x47e602]||_0x2a6e45[Object['keys'](_0x2a6e45)[0x7d8+0x25f9*0x1+-0x2dd1]]||{};function _0x9a081(_0x55c010,_0x1277df,_0x2467f9,_0x5df5a5){return _0xb765(_0x2467f9- -0x144,_0x5df5a5);}const _0x338cc6=_0x272aee[_0x9a081(0x181,0xdc,0xf7,0xee)+_0x9a081(0x6c,0xc0,0xcb,0x64)]||'默认',_0x547fdd=_0x44121e[_0x338cc6]||_0x44121e[Object['keys'](_0x44121e)[-0x9bb*0x4+-0x20bb+0x583*0xd]]||{},_0x18eb81={};_0x18eb81[_0x4b6b56(-0x7e,-0x102,-0x14e,-0x8e)]=_0xf12b7e[_0x4b6b56(-0xb0,-0x102,-0x17e,-0xf2)]||'',_0x18eb81[_0x4b6b56(-0x20d,-0x1f1,-0x1a7,-0x17c)]=_0xf12b7e['api_key']||'',_0x18eb81['model']=_0xf12b7e[_0x9a081(-0x1e,0x23,0x6c,0x2b)]||'',_0x18eb81[_0x9a081(0xa9,0xaf,0xff,0xc5)+'e']=_0xf12b7e[_0x4b6b56(-0x103,-0x11c,-0x17a,-0xac)+'e']??0x1637+0x4*0x71+-0x17fb+0.7,_0x18eb81[_0x4b6b56(-0x219,-0x1e6,-0x26e,-0x254)]=_0xf12b7e[_0x9a081(0x3e,0xbd,0x35,0x41)]??0x1d5d+-0x2*-0x3ba+-0x24d0,_0x18eb81[_0x4b6b56(-0x5a,-0xe8,-0x69,-0x76)]=_0xf12b7e[_0x4b6b56(-0x51,-0xe8,-0x5f,-0xb0)]??0x3*-0x831+-0x234e+-0xd9*-0x49,_0x18eb81['stream']=_0xf12b7e['stream']??![];function _0x4b6b56(_0x39e095,_0x52e49f,_0xcbefef,_0x121e36){return _0xb765(_0x52e49f- -0x35f,_0x121e36);}return _0x18eb81[_0x4b6b56(-0x144,-0x11b,-0xa0,-0x19e)]=_0x547fdd,_0x18eb81;}export function buildPromptForRequestType(_0x2e36e0,_0x85f647=''){const _0x5db64b={'HEZMi':_0x10c5cc(-0xe5,-0x13c,-0x104,-0x165)+'e\x20request\x20'+_0x5824b9(-0x78,-0xd4,-0xcd,-0x96),'fBUko':'AbortError','dohdZ':function(_0x3792d6,_0x4d94ba){return _0x3792d6!==_0x4d94ba;},'yEIQU':_0x10c5cc(-0xbd,-0x63,-0xde,-0x96),'pnWGl':function(_0x5be0ab,_0x55ba2c){return _0x5be0ab===_0x55ba2c;},'HRdsz':function(_0x56b031,_0x4c77f0,_0x4f6127){return _0x56b031(_0x4c77f0,_0x4f6127);},'dXDDF':'user','FDWQV':_0x5824b9(-0x199,-0xe8,-0x105,-0xba)+'orted','XCYZJ':'kPLdO','GzfWk':function(_0x3da821,_0x2f380c){return _0x3da821!==_0x2f380c;},'aCoGS':_0x5824b9(-0x11e,-0x1ab,-0x113,-0xd9),'XxXrd':function(_0x5ea167,_0x3e651e){return _0x5ea167(_0x3e651e);},'mJzQH':function(_0x16be25,_0x4448e6){return _0x16be25(_0x4448e6);}},_0x203eec=extension_settings[extensionName][_0x5824b9(-0x150,-0x134,-0xf3,-0x12b)+_0x10c5cc(-0x61,-0x13f,-0xec,-0xb1)+_0x5824b9(-0x124,-0x19a,-0x12e,-0xf6)]||{},_0x31818c={};_0x31818c[_0x10c5cc(-0x127,-0xa8,-0xee,-0xc4)+'ofile']='默认';const _0x1b1999=_0x203eec[_0x2e36e0]||_0x31818c,_0x3a0437=_0x1b1999[_0x10c5cc(-0x9e,-0x12a,-0xee,-0xaa)+_0x5824b9(-0xe1,-0x52,-0xdc,-0x153)]||'默认',_0x2d4198=extension_settings[extensionName]['test_conte'+_0x10c5cc(-0x19b,-0x101,-0x18d,-0x187)+'s']||{},_0xf12d7=_0x2d4198[_0x3a0437]||_0x2d4198[Object[_0x10c5cc(-0x177,-0x1a1,-0x134,-0xf0)](_0x2d4198)[0x35*0x44+-0x25da+0xb3*0x22]]||{},_0x53dcf0=[];function _0x5824b9(_0x2a4fe5,_0x39cd89,_0x39555c,_0x2c0b8c){return _0xb765(_0x39555c- -0x2eb,_0x2c0b8c);}if(_0xf12d7[_0x10c5cc(-0x43,-0x15a,-0xd2,-0x6a)]&&Array['isArray'](_0xf12d7['entries']))_0xf12d7['entries'][_0x10c5cc(-0x17f,-0x213,-0x18b,-0x1a8)](_0x3391d7=>{function _0x4ebfe6(_0x1d1410,_0x334ce0,_0x2855a9,_0xa0a2b2){return _0x5824b9(_0x1d1410-0x18,_0x334ce0-0x72,_0xa0a2b2-0x173,_0x2855a9);}function _0x17712f(_0x2170f8,_0x160f9f,_0x299422,_0x31ec2b){return _0x10c5cc(_0x299422,_0x160f9f-0x180,_0x160f9f-0xfc,_0x31ec2b-0x189);}if(_0x5db64b['dohdZ'](_0x4ebfe6(0xe0,0x145,0xc8,0x103),_0x5db64b[_0x17712f(-0xf9,-0xa2,-0x6f,-0x48)])){if(!_0x3391d7[_0x17712f(-0x66,-0xa7,-0x5a,-0x1f)])return;if(!_0x3391d7[_0x17712f(-0x11d,-0x9d,-0xb5,-0x69)]||_0x5db64b[_0x17712f(-0x13,-0xa8,-0x126,-0x7d)](_0x3391d7[_0x4ebfe6(0x56,0x71,-0x14,0x18)][_0x17712f(-0x3a,-0xaf,-0x130,-0x68)](),''))return;if(_0x3391d7[_0x17712f(0x2a,-0x3c,-0x64,-0x3c)+'e']===_0x17712f(-0x8c,-0x23,0x6d,-0xa1)){if(!_0x85f647||!_0x5db64b[_0x17712f(-0x45,-0x1b,0x61,0x46)](checkTriggerWords,_0x3391d7['triggerWor'+'ds'],_0x85f647))return;}const _0x27e0f9={};_0x27e0f9['role']=_0x3391d7[_0x17712f(-0x74,-0x41,0x23,-0x40)]||_0x5db64b[_0x17712f(-0xa7,-0x72,-0xb6,-0x4)],_0x27e0f9['content']=_0x3391d7[_0x17712f(-0x117,-0x9d,-0x35,-0x125)],_0x53dcf0['push'](_0x27e0f9);}else{_0x4face4[_0x17712f(-0x89,-0xc6,-0x6b,-0x11f)](_0x5db64b[_0x17712f(0x98,0xd,0x2b,-0x26)]);const _0x22a357={};_0x22a357[_0x17712f(0x9f,0x3c,-0x4e,-0x5a)]=_0x5db64b[_0x4ebfe6(0x72,0x69,0x23,0x32)],_0x22a357[_0x17712f(0xa6,0x4f,0x88,-0x1e)]=_0x17712f(-0x78,-0x47,-0xa9,-0xb3)+_0x17712f(-0xcb,-0x3a,0x18,-0x66);const _0x445428={};_0x445428['success']=![],_0x445428[_0x4ebfe6(-0x10,0xf7,0x82,0x6c)]=null,_0x445428['id']=_0x22bbbe,_0x445428[_0x17712f(0x73,0x47,-0x19,-0x3)]=_0x22a357,_0x33e708[_0x4ebfe6(0x50,0x6d,0x4e,0x21)](_0x2a2bfc[_0x4ebfe6(0xed,0xaa,0xbf,0x67)+_0x17712f(-0x2a,-0x28,0x5b,-0xd)],_0x445428);return;}});else _0xf12d7[_0x5824b9(-0x1ce,-0x153,-0x145,-0xfb)]&&Array['isArray'](_0xf12d7[_0x5824b9(-0x174,-0xcc,-0x145,-0x100)])&&_0xf12d7[_0x10c5cc(-0x127,-0x16b,-0x183,-0x1e2)][_0x5824b9(-0x16e,-0x11c,-0x14d,-0x15b)](_0x499fda=>{const _0x32f073={};function _0x2f7bd1(_0x1eff52,_0x2248db,_0x146c09,_0xd7dfd5){return _0x10c5cc(_0x2248db,_0x2248db-0x197,_0x146c09- -0x52,_0xd7dfd5-0x5e);}function _0x4e8122(_0x4346df,_0x33eb60,_0x582663,_0x450a09){return _0x10c5cc(_0x33eb60,_0x33eb60-0x10,_0x582663-0x3c7,_0x450a09-0x4b);}_0x32f073[_0x2f7bd1(-0x1c3,-0x20c,-0x1c6,-0x1e2)]=_0x5db64b['FDWQV'];const _0x3e568c=_0x32f073;if(_0x499fda['user']&&_0x5db64b[_0x4e8122(0x304,0x2be,0x2dc,0x2b0)](_0x499fda[_0x2f7bd1(-0x1cd,-0x248,-0x207,-0x23f)]['trim'](),'')){if(_0x5db64b['dohdZ'](_0x5db64b['XCYZJ'],_0x5db64b[_0x4e8122(0x271,0x273,0x1f5,0x28e)])){_0x515c98[_0x4e8122(0x171,0x1ae,0x205,0x1ac)](_0x45d6f0+('\x20request\x20a'+_0x2f7bd1(-0x19a,-0x24a,-0x1cf,-0x1d5)));const _0x1e7770={};_0x1e7770[_0x4e8122(0x296,0x2c5,0x307,0x2cc)]=_0x2f7bd1(-0x273,-0x1be,-0x1fc,-0x1b0),_0x1e7770[_0x2f7bd1(-0xd4,-0x12e,-0xff,-0xae)]=_0x3e568c[_0x2f7bd1(-0x250,-0x1db,-0x1c6,-0x1b8)];const _0xb3a4d1={};_0xb3a4d1[_0x4e8122(0x298,0x1c6,0x228,0x2be)]=![],_0xb3a4d1[_0x2f7bd1(-0x20b,-0x14d,-0x197,-0x1ab)]=null,_0xb3a4d1['id']=_0x3f6c13,_0xb3a4d1['error']=_0x1e7770,_0x3babd8[_0x2f7bd1(-0x20b,-0x235,-0x1e2,-0x1a1)](_0x5dc8aa,_0xb3a4d1);return;}else{const _0xf46496={};_0xf46496['role']=_0x5db64b[_0x4e8122(0x1f1,0x1d2,0x259,0x2a4)],_0xf46496[_0x4e8122(0x26c,0x223,0x22e,0x198)]=_0x499fda[_0x4e8122(0x18b,0x1b0,0x212,0x294)],_0x53dcf0[_0x2f7bd1(-0xfd,-0x1b7,-0x148,-0xd7)](_0xf46496);}}if(_0x499fda[_0x2f7bd1(-0x21c,-0x1de,-0x1a3,-0x1f8)]&&_0x5db64b[_0x4e8122(0x2c7,0x2ac,0x2b5,0x2a8)](_0x499fda[_0x2f7bd1(-0x10d,-0x11d,-0x1a3,-0x17f)][_0x2f7bd1(-0x26c,-0x276,-0x1fd,-0x1c4)](),'')){const _0x52d91e={};_0x52d91e[_0x4e8122(0x301,0x314,0x28a,0x21b)]=_0x5db64b['aCoGS'],_0x52d91e['content']=_0x499fda[_0x4e8122(0x309,0x1f1,0x276,0x20a)],_0x53dcf0['push'](_0x52d91e);}});const _0x393e89=_0x5db64b['XxXrd'](mergeAdjacentMessages,_0x53dcf0);function _0x10c5cc(_0x2a7538,_0x28d45e,_0x4ca4ca,_0x487990){return _0xb765(_0x4ca4ca- -0x329,_0x2a7538);}const _0x2ede3d=_0x5db64b[_0x5824b9(-0x132,-0x198,-0x10d,-0xc1)](processRollPlaceholders,_0x393e89);return _0x2ede3d;}const _0x4d8acc={};_0x4d8acc['image_gen']=_0x3d2894(-0x1de,-0xdd,-0x1c0,-0x16f),_0x4d8acc[_0x3d2894(-0x1c1,-0x167,-0x1a9,-0x163)+'n']=_0x3d2894(-0x1a8,-0x14f,-0x1f3,-0x1c0),_0x4d8acc[_0x3d2894(-0x269,-0x2d9,-0x1fe,-0x26d)+'ay']=_0x7667(0x32a,0x3e4,0x355,0x353),_0x4d8acc[_0x7667(0x2f8,0x31f,0x32c,0x2ce)+'y']=_0x3d2894(-0x29a,-0x2ff,-0x261,-0x27e),_0x4d8acc[_0x7667(0x2e4,0x2f1,0x309,0x32e)+'n']='翻译',_0x4d8acc['tag_modify']='Tag修改';const REQUEST_TYPE_NAMES=_0x4d8acc;export async function executeTypedLLMRequest(_0x15da48,_0x593110,_0x24e19e,_0x1126d3=null){const _0x225593={'fnQrG':function(_0x2095b1,_0x3e3a98){return _0x2095b1>_0x3e3a98;},'EFNjm':_0x31c180(0x501,0x57b,0x534,0x541),'EJsCQ':function(_0x399e99,_0x48e801){return _0x399e99(_0x48e801);},'bCsxT':_0x5cd1f6(0x1ff,0x117,0x121,0x1ac)+_0x5cd1f6(0x148,0xf6,0xe6,0x16c),'wviTz':function(_0x57b65d){return _0x57b65d();},'CUzRs':function(_0x246461,_0x11183b){return _0x246461(_0x11183b);},'Ijzvs':function(_0x4e462c,_0x2cdb05){return _0x4e462c===_0x2cdb05;},'vLAtF':_0x5cd1f6(0x148,0x181,0x1c8,0x1bb),'SDPZP':_0x5cd1f6(0x1a9,0x1da,0x211,0x1c0),'Gnqfe':_0x31c180(0x4be,0x4f2,0x4e2,0x545),'NJStk':_0x31c180(0x464,0x4b0,0x40a,0x487),'OURpI':_0x31c180(0x493,0x57c,0x494,0x529),'xAtyd':function(_0x984428,_0x47e897,_0x2e04b6){return _0x984428(_0x47e897,_0x2e04b6);},'BQSnB':_0x31c180(0x4e0,0x3c5,0x480,0x454),'pyPvM':function(_0x45322a,_0x517e57){return _0x45322a!==_0x517e57;},'xSEgD':_0x5cd1f6(0x26f,0x2a7,0x2c9,0x23a),'cXtlx':'BGWec','IOsgV':function(_0x3f86c7,_0x2d98a0){return _0x3f86c7===_0x2d98a0;},'tkFGj':'object','WVNOK':function(_0x348a4b,_0x479895){return _0x348a4b!==_0x479895;},'UXdXw':_0x31c180(0x43c,0x4b0,0x43d,0x45b),'qHqdB':_0x31c180(0x53e,0x4b1,0x53c,0x4de),'sBOCN':'代码:','BqGSR':_0x31c180(0x513,0x594,0x594,0x51f),'SCbdB':_0x5cd1f6(0x273,0x1f4,0x2c3,0x276),'nVuBe':function(_0x3bca95,_0x418e46){return _0x3bca95!==_0x418e46;},'AAXTW':'fReIX','VlPxZ':_0x31c180(0x4aa,0x465,0x49f,0x4f5),'eQChV':_0x31c180(0x5ad,0x4f0,0x533,0x55d)+'E]','eRVQl':'data:\x20','GEVkr':_0x31c180(0x504,0x59c,0x507,0x50c),'AOTtj':_0x5cd1f6(0xe3,0x16d,0x1d1,0x16d),'xvIxC':_0x31c180(0x57c,0x566,0x602,0x573),'mbxyZ':'CFnHY','QoLmn':function(_0x249e62,_0x9c8eb8){return _0x249e62(_0x9c8eb8);},'NEFSF':function(_0x1d74b7,_0x38ad96){return _0x1d74b7(_0x38ad96);},'GdDAE':_0x31c180(0x4d6,0x42d,0x476,0x472),'gMzov':_0x5cd1f6(0x1ef,0x20c,0x14f,0x1e7)+_0x31c180(0x47e,0x507,0x579,0x4e6),'QDfAA':_0x5cd1f6(0x19c,0x1be,0x23c,0x208)};function _0x31c180(_0x728bae,_0x46c849,_0x190c07,_0x4d6c57){return _0x3d2894(_0x728bae-0x136,_0x46c849-0x1e,_0x46c849,_0x4d6c57-0x6d5);}const {prompt:_0x5e7b97,id:_0x2aa7da}=_0x15da48;if(!_0x2aa7da||!_0x5e7b97)return;currentLLMRequestController&&(currentLLMRequestController[_0x31c180(0x534,0x4e9,0x55b,0x523)](),toastr[_0x5cd1f6(0x1d9,0x1c9,0x182,0x190)](_0x225593['bCsxT']));currentLLMRequestController=new AbortController();const _0x44e439=currentLLMRequestController[_0x5cd1f6(0x22c,0x260,0x219,0x263)];_0x225593[_0x31c180(0x441,0x474,0x4a2,0x494)](startFabLoading);const _0x14b542=REQUEST_TYPE_NAMES[_0x593110]||_0x593110;console[_0x5cd1f6(0x1c5,0x1ba,0x1a4,0x168)]('st-chatu8:'+_0x31c180(0x440,0x421,0x4f1,0x474)+_0x14b542+_0x5cd1f6(0x229,0x216,0x1a5,0x235)+_0x2aa7da+')',_0x5e7b97),_0x225593[_0x31c180(0x51e,0x4fc,0x40c,0x494)](clearLog),addLog(_0x31c180(0x451,0x477,0x4e7,0x4ea)+_0x31c180(0x4a5,0x56c,0x589,0x4f6)+_0x14b542+')\x20====='),_0x225593[_0x31c180(0x51f,0x53f,0x55a,0x50b)](addLog,_0x5cd1f6(0x209,0x290,0x1af,0x211)+_0x2aa7da),_0x225593[_0x31c180(0x485,0x57d,0x4df,0x514)](addLog,_0x31c180(0x4b3,0x446,0x47b,0x477)+':'),addLog(formatPromptForDisplay(_0x5e7b97));function _0x5cd1f6(_0x4b0d6a,_0x21ee81,_0x129e89,_0x15039f){return _0x3d2894(_0x4b0d6a-0x1e0,_0x21ee81-0xce,_0x129e89,_0x15039f-0x3e3);}const _0x531077=_0x225593[_0x5cd1f6(0x1c1,0x1e6,0x204,0x219)](getEffectiveConfigForRequestType,_0x593110),{api_url:_0x576f0d,api_key:_0x1a143d,model:_0xbd2456,temperature:_0x384ab5,top_p:_0x3e995b,max_tokens:_0x2ad360,stream:_0x126cb7}=_0x531077;if(!_0x576f0d||!_0x1a143d||!_0xbd2456){if(_0x225593['Ijzvs'](_0x225593[_0x31c180(0x3f1,0x425,0x458,0x44b)],_0x225593[_0x31c180(0x551,0x4ef,0x4ae,0x520)])){const {id:_0x55f2cf}=_0x4635cf;if(!_0x55f2cf)return;const _0x13ab59=_0x589e54[_0x20f8df]||_0x42c1ef;_0x3250a6['log'](_0x31c180(0x472,0x48b,0x51c,0x4a9)+_0x31c180(0x4f9,0x543,0x5a3,0x546)+_0x13ab59+('提示词获取请求\x20(I'+_0x5cd1f6(0x222,0x2c9,0x28a,0x261))+_0x55f2cf+')');const _0x27b88b=_0x3aab56(_0x377212),_0x122555={};_0x122555[_0x5cd1f6(0x1e7,0x1cb,0x286,0x1fa)]=_0x27b88b,_0x122555['id']=_0x55f2cf,_0x36770f[_0x5cd1f6(0x109,0x199,0x224,0x19a)](_0x3b6613,_0x122555);}else{const _0x2f280c=_0x14b542+(_0x31c180(0x4ae,0x54b,0x46f,0x4db)+_0x5cd1f6(0x17a,0x1c6,0x14c,0x19e)+_0x5cd1f6(0x179,0x14e,0x18e,0x18f)+'置。');toastr[_0x31c180(0x5d9,0x587,0x5e2,0x567)](_0x2f280c);const _0x38b709={};_0x38b709[_0x31c180(0x4bd,0x3f6,0x46a,0x47d)]=![],_0x38b709[_0x5cd1f6(0x185,0x1e4,0x21e,0x1e5)]=_0x2f280c,_0x38b709['id']=_0x2aa7da,eventSource[_0x5cd1f6(0x212,0x1ed,0x11c,0x19a)](_0x24e19e,_0x38b709);return;}}const _0x4cfa32=_0x31c180(0x3c4,0x3c1,0x4ba,0x44e)+'nds/chat-c'+_0x5cd1f6(0x15b,0x217,0x17c,0x1d4)+'/generate',_0x367c7f=_0x576f0d[_0x31c180(0x47e,0x4d6,0x485,0x448)](/\/$/,'');_0x1126d3&&_0x225593[_0x5cd1f6(0x280,0x1cf,0x1e7,0x219)](_0x1126d3,'正在处理\x20'+_0x14b542+_0x5cd1f6(0x266,0x19a,0x2bd,0x224));try{if(_0x225593['Gnqfe']!==_0x225593['NJStk']){const _0xaae98a={};_0xaae98a['chat_compl'+_0x31c180(0x5dc,0x4f6,0x56b,0x551)+'ce']=_0x225593['OURpI'],_0xaae98a[_0x31c180(0x40f,0x4ac,0x469,0x47c)]=_0x367c7f,_0xaae98a[_0x5cd1f6(0x282,0x1da,0x25f,0x268)+_0x31c180(0x4cd,0x562,0x599,0x512)+'rs']=_0x5cd1f6(0x2e0,0x242,0x1e7,0x26f)+'ion:\x20\x22Bear'+'er\x20'+_0x1a143d+'\x22',_0xaae98a['model']=_0xbd2456,_0xaae98a['messages']=_0x5e7b97,_0xaae98a['temperatur'+'e']=_0x384ab5,_0xaae98a[_0x31c180(0x465,0x473,0x457,0x46c)]=_0x3e995b,_0xaae98a[_0x5cd1f6(0x253,0x2c7,0x27b,0x278)]=_0x2ad360,_0xaae98a['stream']=_0x126cb7;const _0x54f1f1=_0xaae98a,_0x1e7778=await _0x225593[_0x31c180(0x495,0x409,0x47e,0x48e)](fetch,_0x4cfa32,{'method':_0x225593[_0x5cd1f6(0x21b,0x197,0x19f,0x1ae)],'headers':_0x225593[_0x5cd1f6(0x214,0x22c,0x24c,0x222)](getRequestHeaders,window[_0x31c180(0x51a,0x4af,0x48a,0x4ee)]),'body':JSON[_0x5cd1f6(0x300,0x25c,0x243,0x273)](_0x54f1f1),'signal':_0x44e439});if(!_0x1e7778['ok']){try{const _0x31c59c=await _0x1e7778[_0x5cd1f6(0x154,0x179,0x1c6,0x1a4)]();if(_0x31c59c[_0x5cd1f6(0x2b5,0x26e,0x225,0x275)]){if(_0x225593[_0x5cd1f6(0x15a,0x266,0x1e0,0x1e6)](_0x225593['xSEgD'],_0x225593[_0x5cd1f6(0x13c,0x143,0x179,0x189)])){let _0x5d212d;if(_0x225593[_0x5cd1f6(0x1ae,0x280,0x297,0x228)](typeof _0x31c59c[_0x31c180(0x4ed,0x4d8,0x52c,0x567)],_0x225593[_0x31c180(0x5ab,0x5c8,0x4b8,0x54c)])&&_0x31c59c[_0x31c180(0x533,0x51d,0x4eb,0x567)][_0x5cd1f6(0x2ce,0x2bc,0x2ea,0x27d)]){_0x5d212d=''+_0x31c59c[_0x31c180(0x5b5,0x4fb,0x5c3,0x567)][_0x31c180(0x505,0x4fb,0x507,0x56f)];const _0x440f7=[];if(_0x31c59c[_0x31c180(0x509,0x549,0x581,0x567)][_0x5cd1f6(0x254,0x1c7,0x1c1,0x1f0)])_0x440f7[_0x31c180(0x4bd,0x551,0x566,0x526)](_0x31c180(0x44c,0x50a,0x518,0x49b)+_0x31c59c[_0x5cd1f6(0x2ae,0x243,0x2c1,0x275)][_0x31c180(0x4e3,0x4f8,0x534,0x4e2)]);if(_0x31c59c[_0x5cd1f6(0x23d,0x1ed,0x1e4,0x275)]['code'])_0x440f7['push'](_0x31c180(0x48c,0x48e,0x45b,0x492)+_0x31c59c[_0x31c180(0x50f,0x531,0x50f,0x567)]['code']);_0x225593[_0x31c180(0x4fd,0x497,0x4f1,0x4a4)](_0x440f7[_0x31c180(0x3e9,0x49b,0x4e2,0x475)],-0x1*0xa52+0x2b*-0x3e+0x14bc)&&(_0x5d212d+='\x20('+_0x440f7[_0x5cd1f6(0x1d5,0x273,0x241,0x257)](',\x20')+')');}else{if(_0x225593[_0x31c180(0x4ee,0x5cd,0x512,0x562)](_0x225593[_0x5cd1f6(0x1cd,0x1c0,0x1b3,0x155)],_0x225593[_0x5cd1f6(0x2bf,0x1bb,0x2a5,0x239)]))_0x5d212d=''+JSON[_0x5cd1f6(0x28d,0x28a,0x210,0x273)](_0x31c59c[_0x5cd1f6(0x2aa,0x29d,0x213,0x275)]);else{_0x1df6e8=''+_0xc58b4c[_0x5cd1f6(0x2a8,0x2d9,0x221,0x275)][_0x31c180(0x504,0x521,0x573,0x56f)];const _0x3d8353=[];if(_0x44ddb8[_0x31c180(0x579,0x4d1,0x500,0x567)]['type'])_0x3d8353[_0x5cd1f6(0x26e,0x288,0x23c,0x234)](_0x31c180(0x451,0x456,0x485,0x49b)+_0x4b35d9[_0x5cd1f6(0x288,0x2e7,0x2a5,0x275)]['type']);if(_0x3a7a4a[_0x5cd1f6(0x2d4,0x1f4,0x29e,0x275)][_0x5cd1f6(0x1e5,0x25a,0x282,0x247)])_0x3d8353['push']('代码:\x20'+_0x5b7f01[_0x31c180(0x511,0x52c,0x5b8,0x567)][_0x31c180(0x5d0,0x514,0x4b8,0x539)]);_0x225593[_0x31c180(0x500,0x4be,0x49d,0x4a4)](_0x3d8353[_0x31c180(0x41d,0x4fd,0x427,0x475)],-0x1ddf+-0x1*-0x7e2+-0x1*-0x15fd)&&(_0x3710ed+='\x20('+_0x3d8353[_0x5cd1f6(0x220,0x1cd,0x261,0x257)](',\x20')+')');}}throw new Error(_0x5d212d);}else _0x2ebe2b[_0x31c180(0x4e6,0x4a5,0x546,0x526)](_0x31c180(0x4cc,0x4c9,0x5e5,0x54d)+_0x641fc0+']');}}catch(_0x291938){if(_0x291938[_0x5cd1f6(0x21c,0x2c8,0x2bb,0x27d)][_0x31c180(0x5c5,0x548,0x55e,0x559)](_0x5cd1f6(0xf1,0xd9,0x1ec,0x157))||_0x291938[_0x5cd1f6(0x243,0x226,0x25b,0x27d)]['includes'](_0x225593[_0x5cd1f6(0x22a,0x177,0x272,0x1da)])){if(_0x225593['pyPvM'](_0x225593[_0x31c180(0x425,0x4ff,0x442,0x4a5)],_0x225593['SCbdB']))throw _0x291938;else _0x1100c9=''+_0x3bb674[_0x5cd1f6(0x244,0x1de,0x1ff,0x273)](_0xd93976['error']);}}throw new Error(_0x5cd1f6(0x1d5,0x192,0x20a,0x1bd)+_0x1e7778[_0x5cd1f6(0x1bd,0x1b3,0x290,0x217)]+'\x20'+_0x1e7778[_0x31c180(0x550,0x48f,0x577,0x504)]);}let _0x3b5fd1='';if(_0x126cb7){if(_0x225593['nVuBe'](_0x225593['AAXTW'],_0x225593[_0x31c180(0x4c9,0x4c7,0x4d5,0x46a)]))_0x560605+='\x20('+_0x5651f7[_0x5cd1f6(0x22f,0x24f,0x209,0x257)](',\x20')+')';else{const _0x12acfd=_0x1e7778[_0x31c180(0x5c6,0x50d,0x5a8,0x548)][_0x31c180(0x4c2,0x4dc,0x495,0x4ff)](),_0x55249d=new TextDecoder(_0x31c180(0x4c8,0x527,0x425,0x4aa));let _0x5a64e3='';while(!![]){if(_0x225593[_0x5cd1f6(0x2b2,0x1c8,0x20f,0x228)](_0x225593[_0x31c180(0x4cb,0x4bc,0x4b5,0x528)],_0x31c180(0x503,0x557,0x4b2,0x51e)))return!!_0x5eda4a[_0xdc75ab][_0x5cd1f6(0xfa,0xf7,0x104,0x16b)+'e'];else{const {done:_0x5acea,value:_0x443db}=await _0x12acfd['read']();if(_0x5acea)break;const _0x42670b={};_0x42670b[_0x5cd1f6(0x1bf,0x223,0x231,0x21e)]=!![],_0x5a64e3+=_0x55249d[_0x31c180(0x599,0x58d,0x50f,0x525)](_0x443db,_0x42670b);const _0x25f55b=_0x5a64e3[_0x5cd1f6(0x262,0x225,0x2f0,0x265)]('\x0a');_0x5a64e3=_0x25f55b['pop']()||'';for(const _0x186383 of _0x25f55b){const _0xfb3421=_0x186383[_0x31c180(0x4c7,0x4c5,0x49b,0x471)]();if(!_0xfb3421||_0xfb3421===_0x225593[_0x5cd1f6(0x1c0,0x191,0x14e,0x179)])continue;if(_0xfb3421[_0x5cd1f6(0x1c3,0x1aa,0x1df,0x1fe)](_0x225593[_0x31c180(0x4d0,0x538,0x4cc,0x4b1)]))try{const _0x5c2432=_0xfb3421[_0x31c180(0x499,0x4d6,0x43d,0x486)](0x1*0x2677+0xfd3+-0x3644),_0x448979=JSON['parse'](_0x5c2432),_0x43fcd0=_0x448979[_0x5cd1f6(0x258,0x1f5,0x1eb,0x24b)]?.[0x10e8*0x1+-0x836*-0x3+-0x298a]?.[_0x5cd1f6(0x171,0x1f0,0x1ca,0x1f7)]?.[_0x5cd1f6(0x1a3,0x21c,0x155,0x191)];_0x43fcd0&&(_0x3b5fd1+=_0x43fcd0,_0x1126d3&&(_0x225593['IOsgV'](_0x225593[_0x31c180(0x4eb,0x5db,0x4f6,0x54f)],'QgEVb')?_0x225593[_0x31c180(0x4d5,0x51c,0x49e,0x50b)](_0x1126d3,_0x3b5fd1):(_0x207218[_0x5cd1f6(0x228,0x296,0x2ca,0x231)](),_0x134be1[_0x31c180(0x46b,0x45b,0x498,0x482)](_0x225593[_0x5cd1f6(0x260,0x214,0x212,0x264)]))));}catch(_0xda0368){console[_0x31c180(0x58a,0x547,0x5f1,0x560)](_0x225593[_0x5cd1f6(0x25c,0x1a7,0x18a,0x207)],_0xda0368[_0x31c180(0x5fe,0x546,0x4e5,0x56f)]);}}}}if(_0x5a64e3[_0x31c180(0x3fa,0x4cb,0x464,0x471)]()&&_0x5a64e3['trim']()!==_0x225593[_0x5cd1f6(0x1a9,0x1e1,0x149,0x179)]&&_0x5a64e3[_0x5cd1f6(0x11f,0x1dd,0xf7,0x17f)]()[_0x5cd1f6(0x1ed,0x18c,0x288,0x1fe)](_0x225593[_0x5cd1f6(0x1bd,0x166,0x210,0x1bf)]))try{const _0x2a9385=_0x5a64e3['trim']()[_0x5cd1f6(0x224,0x123,0x229,0x194)](0x24ab+0xb48*0x1+-0x2fed),_0x173f90=JSON[_0x31c180(0x509,0x5a1,0x4b3,0x513)](_0x2a9385),_0x5466d6=_0x173f90[_0x31c180(0x5b3,0x510,0x52f,0x53d)]?.[-0x1*-0x3b5+0x15b6+-0x196b]?.[_0x5cd1f6(0x1a6,0x1cf,0x1eb,0x1f7)]?.[_0x31c180(0x4fa,0x4e0,0x3ea,0x483)];_0x5466d6&&(_0x3b5fd1+=_0x5466d6,_0x1126d3&&_0x225593[_0x5cd1f6(0x1e4,0x19b,0x284,0x219)](_0x1126d3,_0x3b5fd1));}catch(_0x5e439d){console[_0x31c180(0x4ee,0x5dd,0x5a0,0x560)](_0x5cd1f6(0x284,0x1da,0x21c,0x26c)+_0x31c180(0x407,0x457,0x42e,0x464),_0x5e439d[_0x5cd1f6(0x2b6,0x312,0x236,0x27d)]);}!_0x3b5fd1&&(_0x3b5fd1=_0x225593[_0x5cd1f6(0x21b,0x28e,0x1f1,0x242)],toastr[_0x31c180(0x494,0x453,0x48b,0x4c0)](_0x14b542+(_0x31c180(0x57e,0x540,0x52e,0x517)+_0x5cd1f6(0x14a,0x1ad,0x1a3,0x1c7))));}}else{const _0x2cfe3e=await _0x1e7778[_0x31c180(0x4c6,0x423,0x4b1,0x496)]();if(_0x2cfe3e[_0x5cd1f6(0x2d9,0x1ff,0x2db,0x275)]){let _0x2ced83;if(_0x225593['IOsgV'](typeof _0x2cfe3e[_0x5cd1f6(0x221,0x207,0x273,0x275)],_0x225593[_0x31c180(0x525,0x51b,0x519,0x54c)])&&_0x2cfe3e[_0x31c180(0x4ed,0x569,0x511,0x567)]['message']){_0x2ced83=''+_0x2cfe3e[_0x5cd1f6(0x1e2,0x22f,0x229,0x275)][_0x5cd1f6(0x2b6,0x2d0,0x2ac,0x27d)];const _0x6a93bc=[];if(_0x2cfe3e[_0x5cd1f6(0x25b,0x20a,0x30e,0x275)][_0x5cd1f6(0x1b8,0x167,0x16f,0x1f0)])_0x6a93bc[_0x5cd1f6(0x2b2,0x279,0x261,0x234)]('类型:\x20'+_0x2cfe3e['error'][_0x31c180(0x4a3,0x462,0x503,0x4e2)]);if(_0x2cfe3e['error']['code'])_0x6a93bc['push'](_0x5cd1f6(0x15d,0x225,0x207,0x1a0)+_0x2cfe3e[_0x5cd1f6(0x292,0x209,0x2e1,0x275)]['code']);_0x6a93bc[_0x31c180(0x4f3,0x454,0x4bc,0x475)]>0x7*-0x3bf+-0x1e83*-0x1+0xb7*-0x6&&(_0x2ced83+='\x20('+_0x6a93bc[_0x31c180(0x4f9,0x51d,0x5a9,0x549)](',\x20')+')');}else _0x2ced83=''+JSON[_0x5cd1f6(0x1f5,0x2e8,0x1e2,0x273)](_0x2cfe3e['error']);throw new Error(_0x2ced83);}_0x3b5fd1=_0x2cfe3e[_0x31c180(0x51a,0x512,0x57c,0x53d)]?.[-0x6e8+0x2dd*0x1+0x40b]?.[_0x31c180(0x5f8,0x5b8,0x509,0x56f)]?.[_0x5cd1f6(0x166,0x16d,0x187,0x191)]||'';if(!_0x3b5fd1){if(_0x225593[_0x31c180(0x4f0,0x453,0x506,0x4d8)](_0x31c180(0x478,0x511,0x4c2,0x4f4),_0x225593['mbxyZ'])){const _0x101fec=_0x189e11['slice'](-0xd*0x232+-0x6d6+0x2366),_0xca9b29=_0x142043[_0x5cd1f6(0x1f8,0x1dd,0x214,0x221)](_0x101fec),_0x32fe67=_0xca9b29[_0x31c180(0x5d3,0x58d,0x4d2,0x53d)]?.[-0x224c+0x2359+0x10d*-0x1]?.[_0x5cd1f6(0x193,0x23e,0x20f,0x1f7)]?.[_0x31c180(0x452,0x4ba,0x419,0x483)];_0x32fe67&&(_0x4958b5+=_0x32fe67,_0x2b060e&&_0x225593[_0x31c180(0x4a6,0x509,0x4d8,0x514)](_0x3baebb,_0x38d7c8));}else _0x3b5fd1=_0x225593['xvIxC'],toastr['warning'](_0x14b542+(':\x20LLM\x20未收到有'+_0x5cd1f6(0x196,0x1c9,0x25f,0x1c7)));}_0x1126d3&&_0x225593[_0x5cd1f6(0x294,0x231,0x24a,0x222)](_0x1126d3,_0x3b5fd1);}_0x225593[_0x5cd1f6(0x245,0x1b6,0x252,0x219)](addLog,_0x5cd1f6(0x1ed,0x1b2,0x17d,0x20f)+_0x5cd1f6(0x1a4,0x267,0x1fb,0x1d3)),_0x225593[_0x5cd1f6(0x209,0x1a5,0x166,0x173)](addLog,_0x3b5fd1),_0x225593['NEFSF'](addLog,_0x5cd1f6(0x1c1,0x1f5,0x1c3,0x1f8)+_0x31c180(0x506,0x53b,0x58c,0x506));const _0x5409e3=extension_settings[extensionName][_0x31c180(0x3fe,0x4c6,0x441,0x45d)+'e'];if(_0x5409e3){const _0x209bca={};_0x209bca[_0x31c180(0x482,0x4e0,0x4ee,0x4dc)]=0x1388,toastr['info']('【测试模式】'+_0x14b542+(_0x5cd1f6(0x286,0x246,0x1ac,0x240)+'作已跳过。'),_0x31c180(0x479,0x3f1,0x478,0x470),_0x209bca);}const _0x12c5c8={};_0x12c5c8[_0x31c180(0x478,0x4d8,0x4be,0x47d)]=!![],_0x12c5c8[_0x31c180(0x50a,0x4a1,0x48d,0x4d7)]=_0x3b5fd1,_0x12c5c8['id']=_0x2aa7da,_0x12c5c8[_0x31c180(0x411,0x3db,0x42e,0x462)]=_0x5409e3,eventSource[_0x5cd1f6(0x226,0x118,0x103,0x19a)](_0x24e19e,_0x12c5c8);}else _0x3d9f08[_0x5cd1f6(0x1aa,0x298,0x1d5,0x231)](),_0x58a21a['info'](_0x225593[_0x31c180(0x4e5,0x45b,0x428,0x4bc)]);}catch(_0x5d153a){if(_0x225593['Ijzvs'](_0x5d153a[_0x5cd1f6(0x27e,0x29f,0x2e4,0x26a)],_0x225593[_0x31c180(0x5d6,0x4f0,0x4ab,0x53f)])){console[_0x5cd1f6(0x16e,0x1f2,0x18f,0x168)](_0x14b542+(_0x5cd1f6(0x298,0x21f,0x278,0x22f)+_0x5cd1f6(0x23b,0x164,0x238,0x1ad)));const _0x364237={};_0x364237[_0x31c180(0x53d,0x4e4,0x5a4,0x55c)]=_0x225593[_0x31c180(0x4ad,0x4d0,0x58f,0x53f)],_0x364237['message']=_0x225593[_0x5cd1f6(0x157,0x249,0x1da,0x1b5)];const _0x209ba3={};_0x209ba3[_0x31c180(0x4d1,0x4a6,0x44e,0x47d)]=![],_0x209ba3['result']=null,_0x209ba3['id']=_0x2aa7da,_0x209ba3[_0x5cd1f6(0x2cd,0x26a,0x2b9,0x275)]=_0x364237,eventSource[_0x5cd1f6(0x1a0,0x108,0x1bf,0x19a)](_0x24e19e,_0x209ba3);return;}console[_0x31c180(0x4e3,0x5b5,0x5f3,0x567)](_0x14b542+_0x31c180(0x4e3,0x4b0,0x5a8,0x547),_0x5d153a);const _0x101422=_0x31c180(0x472,0x4df,0x465,0x476)+_0x5d153a[_0x31c180(0x5ea,0x581,0x541,0x56f)];if(_0x1126d3){if('ggPww'!==_0x225593[_0x31c180(0x529,0x482,0x41c,0x495)])_0x1126d3(_0x101422);else{const _0x105771=_0x5a05ad[_0x155606][_0x31c180(0x528,0x4a5,0x509,0x51c)+'es']||{},_0x470bee=_0x382baf[_0x4b9375][_0x5cd1f6(0x18f,0x189,0x266,0x1d7)+_0x5cd1f6(0x109,0x1b2,0xdd,0x15a)];return _0x105771[_0x470bee]||_0x105771[_0x2c0625[_0x5cd1f6(0x255,0x283,0x256,0x1f6)](_0x105771)[0x17c+0x1*-0x1ca5+0x1b29]]||{};}}toastr[_0x31c180(0x4f6,0x5ef,0x567,0x567)](_0x5d153a[_0x5cd1f6(0x2bd,0x29a,0x2fd,0x27d)]);const _0x53c647={};_0x53c647[_0x5cd1f6(0x17b,0x116,0x1f9,0x18b)]=![],_0x53c647['result']=_0x101422,_0x53c647['id']=_0x2aa7da,eventSource[_0x31c180(0x4cb,0x4f9,0x457,0x48c)](_0x24e19e,_0x53c647);}finally{currentLLMRequestController=null,stopFabLoading();}}export async function executeDefaultLLMRequest(_0x3350b6,_0x1dec7e,_0x20d345=null){const _0x37c2f6={'lfITi':function(_0x389adc,_0x5ba04f){return _0x389adc(_0x5ba04f);},'BihIP':function(_0x3381be,_0xc7edae,_0x43298c){return _0x3381be(_0xc7edae,_0x43298c);},'hNTMl':_0xde9a15(0x3da,0x39d,0x365,0x323)+'稍候...','cnEzv':function(_0x2b92fb,_0x501ce9){return _0x2b92fb||_0x501ce9;},'OGgPT':function(_0x8200a2,_0x468c85){return _0x8200a2!==_0x468c85;},'klpVH':_0x2a0d2b(0x2d0,0x23a,0x293,0x213),'gUqKv':_0xde9a15(0x363,0x367,0x328,0x3f4)+_0xde9a15(0x387,0x327,0x32b,0x2c9),'WGVCA':function(_0x483540){return _0x483540();},'EeEmZ':function(_0x59d4d1,_0x220935){return _0x59d4d1(_0x220935);},'zSfRg':function(_0x1865e4,_0x30074e){return _0x1865e4(_0x30074e);},'JCriO':function(_0x11096c,_0xa5aa6f){return _0x11096c(_0xa5aa6f);},'QHXVT':function(_0x42321b,_0xb18bdb){return _0x42321b!==_0xb18bdb;},'wwXRq':_0x2a0d2b(0x348,0x2dd,0x2c0,0x305),'LNgHG':_0xde9a15(0x2a9,0x31d,0x2c7,0x307),'dtIhM':function(_0x49d3d3,_0x3ea95d){return _0x49d3d3===_0x3ea95d;},'KxhtD':'object','wgyfW':_0x2a0d2b(0x371,0x2f1,0x2db,0x2f3),'ZYqif':_0x2a0d2b(0x30a,0x28d,0x28e,0x2ba),'aseID':function(_0x45ad10,_0x283ef8){return _0x45ad10===_0x283ef8;},'dxstb':_0xde9a15(0x388,0x360,0x353,0x37d),'YsKgq':_0x2a0d2b(0x345,0x347,0x336,0x3ca),'ZLaVs':_0xde9a15(0x2fe,0x337,0x2a0,0x2ac),'wrIvN':function(_0xfc6f71,_0x3fbff9){return _0xfc6f71(_0x3fbff9);},'mGZFX':function(_0x289778,_0x30ccec){return _0x289778(_0x30ccec);},'vPnqH':function(_0xb36138,_0x59e46e){return _0xb36138(_0x59e46e);},'SyrfH':function(_0x4f8235,_0x2db9d5){return _0x4f8235===_0x2db9d5;},'tNtLF':_0xde9a15(0x307,0x33b,0x334,0x37d),'sYtnT':_0xde9a15(0x320,0x3a2,0x30a,0x403)+_0x2a0d2b(0x321,0x2d7,0x2fa,0x2dd),'vYQyp':_0xde9a15(0x334,0x380,0x32d,0x38a)+_0xde9a15(0x4b3,0x440,0x3e8,0x45f)},{prompt:_0x29222b,id:_0x2f2af3}=_0x3350b6;if(_0x37c2f6[_0xde9a15(0x419,0x40c,0x46b,0x3ea)](!_0x2f2af3,!_0x29222b))return;currentLLMRequestController&&(_0x37c2f6['OGgPT'](_0x37c2f6[_0xde9a15(0x3b1,0x36f,0x302,0x34f)],'ZZhSE')?(currentLLMRequestController['abort'](),toastr[_0xde9a15(0x2fa,0x34b,0x2f2,0x384)](_0x37c2f6[_0x2a0d2b(0x2f1,0x2da,0x33e,0x313)])):_0x37c2f6[_0x2a0d2b(0x372,0x30d,0x347,0x3d3)](_0x1091eb,_0xde9a15(0x349,0x39f,0x3c0,0x3a5)+_0x331ec3+_0xde9a15(0x467,0x3df,0x34f,0x34e)));function _0x2a0d2b(_0x939c7e,_0x49b070,_0x2ddd75,_0x57b60d){return _0x3d2894(_0x939c7e-0x169,_0x49b070-0xf3,_0x939c7e,_0x2ddd75-0x4e9);}currentLLMRequestController=new AbortController();const _0xaef809=currentLLMRequestController[_0xde9a15(0x48d,0x41e,0x461,0x401)];_0x37c2f6[_0xde9a15(0x318,0x325,0x2c9,0x37b)](startFabLoading),console[_0x2a0d2b(0x24d,0x1fb,0x26e,0x287)](_0x2a0d2b(0x30d,0x299,0x2bd,0x258)+'\x20收到\x20LLM\x20执行'+_0x2a0d2b(0x3fa,0x408,0x388,0x3b5)+_0x2f2af3+')',_0x29222b);function _0xde9a15(_0x1d4c04,_0x1a22fa,_0x934940,_0x9be764){return _0x3d2894(_0x1d4c04-0x0,_0x1a22fa-0xc2,_0x1d4c04,_0x1a22fa-0x59e);}_0x37c2f6[_0x2a0d2b(0x2e3,0x2cb,0x270,0x1da)](clearLog),_0x37c2f6['lfITi'](addLog,_0xde9a15(0x3eb,0x3b3,0x33f,0x355)+_0xde9a15(0x3c4,0x428,0x4c0,0x455)+'=='),addLog(_0xde9a15(0x455,0x3cc,0x37c,0x3ff)+_0x2f2af3),_0x37c2f6[_0xde9a15(0x3e2,0x356,0x3e5,0x2e6)](addLog,_0xde9a15(0x3ac,0x340,0x2d7,0x2d7)+':'),_0x37c2f6[_0x2a0d2b(0x25d,0x1e9,0x281,0x2b6)](addLog,_0x37c2f6[_0x2a0d2b(0x27c,0x1f8,0x281,0x295)](formatPromptForDisplay,_0x29222b));const {api_url:_0x10d433,api_key:_0x4d413c,model:_0x18c154,temperature:_0x1549d1,top_p:_0x5952d1,max_tokens:_0xaf6797}=_0x1dec7e;if(_0x37c2f6[_0x2a0d2b(0x3b9,0x39c,0x357,0x35a)](!_0x10d433,!_0x4d413c)||!_0x18c154){const _0x293f9c='API\x20URL,\x20A'+'PI\x20Key,\x20或\x20'+'Model\x20未配置。';toastr['error'](_0x293f9c);const _0x5add4f={};_0x5add4f[_0xde9a15(0x358,0x346,0x318,0x3c4)]=![],_0x5add4f['result']=_0x293f9c,_0x5add4f['id']=_0x2f2af3,eventSource['emit'](eventNames[_0x2a0d2b(0x341,0x2d7,0x2e6,0x25f)+_0x2a0d2b(0x379,0x398,0x30c,0x29d)],_0x5add4f);return;}const _0x8937d6='/api/backe'+_0x2a0d2b(0x2ab,0x2ed,0x2d2,0x34e)+_0xde9a15(0x362,0x38f,0x339,0x3b6)+_0xde9a15(0x3f0,0x391,0x394,0x324),_0x31db01=_0x10d433[_0x2a0d2b(0x1d6,0x2c7,0x25c,0x2e6)](/\/$/,'');_0x20d345&&_0x37c2f6['JCriO'](_0x20d345,'正在处理外部请求，请'+_0xde9a15(0x2fe,0x332,0x31e,0x2c5));try{if(_0x37c2f6['QHXVT'](_0x37c2f6[_0xde9a15(0x41d,0x417,0x405,0x492)],_0x37c2f6[_0xde9a15(0x3eb,0x417,0x441,0x382)])){if(!_0x299d8b||!_0x37c2f6['BihIP'](_0x147be7,_0x16815f['triggerWor'+'ds'],_0xf37a92))return;}else{const _0x3c90ed={};_0x3c90ed[_0x2a0d2b(0x27f,0x2df,0x2d1,0x34e)+_0xde9a15(0x40c,0x41a,0x429,0x3b0)+'ce']=_0x2a0d2b(0x34f,0x3d0,0x33d,0x348),_0x3c90ed[_0x2a0d2b(0x2d8,0x24b,0x290,0x24c)]=_0x31db01,_0x3c90ed[_0xde9a15(0x406,0x423,0x3fd,0x447)+_0x2a0d2b(0x2f0,0x29e,0x326,0x3ab)+'rs']=_0x2a0d2b(0x374,0x35d,0x375,0x3dd)+_0xde9a15(0x395,0x41b,0x3a6,0x3ee)+_0xde9a15(0x336,0x3ac,0x42a,0x343)+_0x4d413c+'\x22',_0x3c90ed[_0x2a0d2b(0x255,0x270,0x2b7,0x251)]=_0x18c154,_0x3c90ed['messages']=_0x29222b,_0x3c90ed[_0x2a0d2b(0x3ad,0x355,0x34a,0x376)+'e']=_0x1549d1,_0x3c90ed[_0xde9a15(0x3af,0x335,0x35e,0x335)]=_0x5952d1,_0x3c90ed['max_tokens']=_0xaf6797,_0x3c90ed[_0x2a0d2b(0x2cc,0x2f9,0x324,0x2e4)]=![];const _0x4c52b8=_0x3c90ed,_0x3fb89a=await _0x37c2f6['BihIP'](fetch,_0x8937d6,{'method':_0x37c2f6[_0x2a0d2b(0x325,0x2a8,0x2ce,0x353)],'headers':_0x37c2f6['lfITi'](getRequestHeaders,window[_0xde9a15(0x387,0x3b7,0x3a7,0x33c)]),'body':JSON[_0x2a0d2b(0x30e,0x2e9,0x379,0x410)](_0x4c52b8),'signal':_0xaef809}),_0x2b62c0=await _0x3fb89a[_0xde9a15(0x360,0x35f,0x3a4,0x320)]();if(_0x2b62c0[_0xde9a15(0x3d3,0x430,0x485,0x42d)]){let _0x24737f;if(_0x37c2f6[_0x2a0d2b(0x339,0x33d,0x2e2,0x2ed)](typeof _0x2b62c0[_0x2a0d2b(0x314,0x337,0x37b,0x391)],_0x37c2f6['KxhtD'])&&_0x2b62c0[_0x2a0d2b(0x32d,0x401,0x37b,0x3ce)][_0xde9a15(0x3ef,0x438,0x4c3,0x3fa)]){_0x24737f=''+_0x2b62c0[_0xde9a15(0x402,0x430,0x465,0x4a0)]['message'];const _0x4b038d=[];if(_0x2b62c0[_0xde9a15(0x3b5,0x430,0x4aa,0x3a1)][_0x2a0d2b(0x275,0x34c,0x2f6,0x37e)])_0x4b038d['push'](_0x2a0d2b(0x25b,0x313,0x2af,0x346)+_0x2b62c0['error'][_0xde9a15(0x3fb,0x3ab,0x43b,0x3ce)]);if(_0x2b62c0['error']['code'])_0x4b038d[_0x2a0d2b(0x3ac,0x3a2,0x33a,0x2d9)]('代码:\x20'+_0x2b62c0[_0xde9a15(0x4bc,0x430,0x4b0,0x478)][_0xde9a15(0x3c4,0x402,0x445,0x453)]);_0x4b038d['length']>0x2092*0x1+0x21f0*-0x1+0xaf*0x2&&(_0x37c2f6[_0xde9a15(0x3ab,0x42d,0x4b2,0x3e3)](_0x37c2f6[_0xde9a15(0x3ff,0x414,0x3f6,0x49c)],_0x37c2f6['ZYqif'])?_0x24737f+='\x20('+_0x4b038d[_0x2a0d2b(0x372,0x393,0x35d,0x3f4)](',\x20')+')':_0x37c2f6[_0xde9a15(0x3f1,0x3fc,0x447,0x409)](_0x4ff9bd,_0x37c2f6[_0xde9a15(0x2f9,0x319,0x2d5,0x284)]));}else _0x37c2f6[_0xde9a15(0x4ca,0x434,0x490,0x407)](_0x37c2f6[_0x2a0d2b(0x30e,0x37a,0x34c,0x3c9)],_0x37c2f6[_0xde9a15(0x432,0x401,0x3ba,0x416)])?_0x24737f=''+JSON[_0xde9a15(0x39d,0x42e,0x49f,0x4bf)](_0x2b62c0[_0x2a0d2b(0x3c5,0x2f9,0x37b,0x387)]):_0x2f9da7=_0x326b03;throw new Error(_0x24737f);}if(!_0x3fb89a['ok'])throw new Error(_0xde9a15(0x2f9,0x378,0x35b,0x356)+_0x3fb89a['status']+'\x20'+_0x3fb89a[_0xde9a15(0x417,0x3cd,0x355,0x338)]);const _0x11767e=_0x2b62c0[_0xde9a15(0x3b6,0x406,0x49e,0x3bb)]?.[0x2229+-0x11ab*-0x1+0x7c*-0x6b]?.[_0x2a0d2b(0x3a7,0x3fa,0x383,0x3cb)]?.['content']||'';if(!_0x11767e){if(_0x37c2f6[_0xde9a15(0x35d,0x353,0x3b1,0x2c3)]===_0x37c2f6[_0xde9a15(0x2ad,0x338,0x35f,0x3c3)])return _0x514c86;else toastr[_0x2a0d2b(0x2e4,0x241,0x2d4,0x330)](_0x2a0d2b(0x348,0x3b3,0x377,0x39c)+'复。');}_0x20d345&&_0x37c2f6[_0x2a0d2b(0x3e1,0x362,0x384,0x375)](_0x20d345,_0x11767e);_0x37c2f6[_0x2a0d2b(0x2a1,0x2a0,0x301,0x2b1)](addLog,_0x2a0d2b(0x38d,0x362,0x315,0x27f)+_0x2a0d2b(0x2a3,0x26d,0x2d9,0x2f5)),addLog(_0x11767e),_0x37c2f6['vPnqH'](addLog,_0x2a0d2b(0x27b,0x342,0x2fe,0x26d)+_0x2a0d2b(0x299,0x2f6,0x31a,0x2ea));const _0xd73ccb={};_0xd73ccb[_0x2a0d2b(0x269,0x2b4,0x291,0x2a4)]=!![],_0xd73ccb[_0x2a0d2b(0x330,0x2d0,0x2eb,0x284)]=_0x11767e,_0xd73ccb['id']=_0x2f2af3,eventSource[_0x2a0d2b(0x257,0x249,0x2a0,0x2d3)](eventNames[_0x2a0d2b(0x338,0x278,0x2e6,0x347)+_0x2a0d2b(0x2cb,0x394,0x30c,0x39c)],_0xd73ccb);}}catch(_0x23b499){if(_0x37c2f6['SyrfH'](_0x23b499[_0xde9a15(0x3a6,0x425,0x3a9,0x401)],_0x37c2f6[_0x2a0d2b(0x3b1,0x39a,0x36c,0x342)])){console[_0xde9a15(0x397,0x323,0x2a3,0x386)](_0xde9a15(0x44b,0x3e1,0x43d,0x438)+_0xde9a15(0x3ad,0x31e,0x295,0x2c5)+'aborted.');const _0x309a31={};_0x309a31['name']=_0xde9a15(0x353,0x33b,0x36d,0x30f),_0x309a31[_0x2a0d2b(0x345,0x385,0x383,0x3f5)]=_0x37c2f6['sYtnT'];const _0x36b61a={};_0x36b61a[_0x2a0d2b(0x305,0x2e8,0x291,0x2f5)]=![],_0x36b61a[_0x2a0d2b(0x33f,0x2ab,0x2eb,0x2a2)]=null,_0x36b61a['id']=_0x2f2af3,_0x36b61a[_0xde9a15(0x483,0x430,0x3b2,0x3bf)]=_0x309a31,eventSource[_0x2a0d2b(0x2fe,0x252,0x2a0,0x2a8)](eventNames[_0x2a0d2b(0x287,0x2cf,0x2e6,0x33d)+_0xde9a15(0x359,0x3c1,0x405,0x350)],_0x36b61a);return;}console[_0xde9a15(0x415,0x430,0x3d1,0x3b8)](_0x37c2f6[_0x2a0d2b(0x318,0x321,0x310,0x369)],_0x23b499);const _0x244d2a=_0x2a0d2b(0x2da,0x1fb,0x28a,0x214)+_0x23b499['message'];_0x20d345&&_0x37c2f6['mGZFX'](_0x20d345,_0x244d2a);toastr['error'](_0x23b499['message']);const _0x112625={};_0x112625['success']=![],_0x112625[_0xde9a15(0x40a,0x3a0,0x32b,0x373)]=_0x244d2a,_0x112625['id']=_0x2f2af3,eventSource[_0x2a0d2b(0x338,0x25c,0x2a0,0x300)](eventNames['LLM_EXECUT'+'E_RESPONSE'],_0x112625);}finally{currentLLMRequestController=null,stopFabLoading();}}export function createGetPromptHandler(_0x1b1eb0,_0x4c2eb1){const _0xcb7d0f={'unCQF':function(_0x2926a3,_0x2fb94c){return _0x2926a3(_0x2fb94c);}};return function(_0x37fc9f){function _0x45021d(_0x233496,_0x5f0c3c,_0x331bf4,_0x4f6f64){return _0xb765(_0x331bf4-0x9f,_0x4f6f64);}const {id:_0x1c6b09}=_0x37fc9f;if(!_0x1c6b09)return;const _0x265c69=REQUEST_TYPE_NAMES[_0x1b1eb0]||_0x1b1eb0;console['log'](_0x47a937(-0x183,-0x204,-0x203,-0x1b0)+_0x47a937(-0xc3,-0xdb,-0x189,-0x113)+_0x265c69+(_0x47a937(-0x14d,-0x81,-0xd8,-0xfe)+_0x45021d(0x368,0x2c1,0x2ff,0x2c6))+_0x1c6b09+')');const _0x4ca818=_0xcb7d0f['unCQF'](buildPromptForRequestType,_0x1b1eb0),_0x22a2d0={};_0x22a2d0[_0x45021d(0x316,0x30d,0x298,0x31c)]=_0x4ca818,_0x22a2d0['id']=_0x1c6b09;function _0x47a937(_0x2f465f,_0x4e6a54,_0xe6b71b,_0x1171cb){return _0xb765(_0x1171cb- -0x366,_0x4e6a54);}eventSource['emit'](_0x4c2eb1,_0x22a2d0);};}export function createExecuteHandler(_0x1cda81,_0x58f411,_0x38f70d=null){function _0x565369(_0x138ad9,_0x473016,_0x1d46a4,_0x400b25){return _0x3d2894(_0x138ad9-0x107,_0x473016-0xec,_0x1d46a4,_0x473016-0x317);}const _0x43161e={'XpxUd':_0x565369(0x19d,0x122,0x133,0x133),'tmaIg':function(_0x382a5f,_0x55f32a){return _0x382a5f/_0x55f32a;},'dxiSN':function(_0x1e00dc,_0xb30fd4){return _0x1e00dc*_0xb30fd4;},'TOnts':function(_0x276cb1,_0x55a353){return _0x276cb1===_0x55a353;},'Edftb':_0xd6fccd(0x3fb,0x3fe,0x402,0x368),'Bjvjz':function(_0x1b9e67){return _0x1b9e67();},'Stqoc':function(_0x2078fa,_0xbbd33c,_0x191776,_0x3e09c8,_0x1bb70f){return _0x2078fa(_0xbbd33c,_0x191776,_0x3e09c8,_0x1bb70f);}};function _0xd6fccd(_0x3eb85f,_0x400bcc,_0x17c5c0,_0x1ab978){return _0x7667(_0x17c5c0,_0x400bcc-0x144,_0x17c5c0-0x1a4,_0x3eb85f-0x61);}return async function(_0xba3383){function _0x30682c(_0x539e29,_0x2fa504,_0x5cdfdd,_0x511783){return _0xd6fccd(_0x5cdfdd- -0x483,_0x2fa504-0x1d6,_0x539e29,_0x511783-0x185);}function _0x9ea789(_0x573a17,_0xd12f26,_0x8721c6,_0x4873c5){return _0xd6fccd(_0xd12f26-0x1a8,_0xd12f26-0x1a7,_0x4873c5,_0x4873c5-0x1f2);}if(_0x43161e['TOnts'](_0x43161e[_0x9ea789(0x4cd,0x4d1,0x511,0x4ed)],_0x43161e[_0x30682c(-0x172,-0x1ea,-0x15a,-0xe9)])){const _0x11ecdf=_0x38f70d?_0x43161e[_0x30682c(-0xa9,-0x8d,-0x119,-0x13f)](_0x38f70d):null;await _0x43161e[_0x30682c(0x4,-0xbc,-0x3b,0x41)](executeTypedLLMRequest,_0xba3383,_0x1cda81,_0x58f411,_0x11ecdf);}else{const _0x2cffde=_0x42a6a2[_0x9ea789(0x562,0x4df,0x490,0x558)](/^data:([^;]+);/),_0x544bf3=_0x2cffde?_0x2cffde[-0xa5*0x14+-0xb*-0x2e1+-0x12c6]:_0x43161e[_0x30682c(-0xa3,-0x9c,-0xe9,-0x171)],_0x45f0ba=_0x38f51b['split'](',')[-0x42*-0x1f+0x9*-0x265+0xd90]||'',_0x1a5486=_0x1d0eff[_0x9ea789(0x53d,0x53a,0x4aa,0x4f1)](_0x43161e[_0x30682c(-0x150,-0x102,-0x153,-0x1e7)](_0x43161e[_0x30682c(-0xf3,-0xc4,-0x153,-0x139)](_0x43161e[_0x30682c(-0x103,-0x90,-0xf8,-0x163)](_0x45f0ba[_0x9ea789(0x520,0x4f4,0x47d,0x4ec)],-0xf3d+-0x54d*-0x5+-0xb41),-0xb73+0x1*0x737+-0x22*-0x20),0x2ea+0x4*0x44f+-0x1026));_0x59c05b[_0x9ea789(0x54a,0x5a5,0x551,0x534)](_0x9ea789(0x663,0x5d3,0x616,0x5bd)+':\x20'+_0x544bf3+_0x30682c(-0xda,-0x77,-0xea,-0xb7)+_0x1a5486+'KB]');}};}
//# sourceMappingURL=http://localhost:8000/llmService.js.map
function _0x6c2f(_0x1f6d4a,_0x29db4b){_0x1f6d4a=_0x1f6d4a-(-0x20fc*-0x1+0x12*0x102+-0x318d);const _0x4c947c=_0x3ee6();let _0x495237=_0x4c947c[_0x1f6d4a];if(_0x6c2f['IAMzuE']===undefined){var _0x28eca3=function(_0x4096d0){const _0xca8358='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2480b8='',_0x326cb5='',_0x56fd1e=_0x2480b8+_0x28eca3;for(let _0x2f02b4=0x29*-0x32+-0x230e+-0x1a*-0x1a8,_0xfc7fdb,_0x46b3d2,_0x4f20c0=-0x97*-0x25+-0x1a*-0x83+0x11*-0x211;_0x46b3d2=_0x4096d0['charAt'](_0x4f20c0++);~_0x46b3d2&&(_0xfc7fdb=_0x2f02b4%(-0xa6c+-0x2159+-0xb*-0x3fb)?_0xfc7fdb*(0x1c79+0x13bb*0x1+-0x2ff4)+_0x46b3d2:_0x46b3d2,_0x2f02b4++%(0x2178+-0x2234+0xc0))?_0x2480b8+=_0x56fd1e['charCodeAt'](_0x4f20c0+(-0x1e*-0x5f+0x1e4f+-0x2967))-(0x1c93+0x1*-0x7f1+-0x1498)!==-0x2*-0xcdc+0x19*0xd3+-0x3b*0xc9?String['fromCharCode'](0xfd9*0x1+0x1b5*-0x8+-0x66*0x3&_0xfc7fdb>>(-(-0x909*0x2+0x23ea+-0x11d6)*_0x2f02b4&0x25c+-0x129f+-0x17b*-0xb)):_0x2f02b4:0x5b9+-0x12ad+0xcf4){_0x46b3d2=_0xca8358['indexOf'](_0x46b3d2);}for(let _0x2983aa=-0x4*-0x1d7+-0x7a*0x43+0x55*0x4a,_0x41d414=_0x2480b8['length'];_0x2983aa<_0x41d414;_0x2983aa++){_0x326cb5+='%'+('00'+_0x2480b8['charCodeAt'](_0x2983aa)['toString'](0x223*0x1+0x1ded+-0x2000))['slice'](-(-0x7*-0x16d+0x4c*0x79+0x1f*-0x17b));}return decodeURIComponent(_0x326cb5);};_0x6c2f['gMsNHU']=_0x28eca3,_0x6c2f['BrVmsr']={},_0x6c2f['IAMzuE']=!![];}const _0x28dcb2=_0x4c947c[0x1873*-0x1+-0x26*-0x4f+0xcb9],_0x428895=_0x1f6d4a+_0x28dcb2,_0x3177a1=_0x6c2f['BrVmsr'][_0x428895];if(!_0x3177a1){const _0x6de132=function(_0x3cd296){this['WBPfII']=_0x3cd296,this['jsLpDe']=[0x172f+0x22f0+0x15a*-0x2b,-0xa82+-0x1*-0x851+-0x231*-0x1,-0x4*-0x665+-0x5*0x51b+-0x1*0xd],this['XcfFzZ']=function(){return'newState';},this['eDhjLF']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['jlWrPR']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x6de132['prototype']['xldsYE']=function(){const _0x4e931a=new RegExp(this['eDhjLF']+this['jlWrPR']),_0x5a7088=_0x4e931a['test'](this['XcfFzZ']['toString']())?--this['jsLpDe'][0x1b*-0x9f+-0x236+0x12fc]:--this['jsLpDe'][-0xb46+0xa*-0x2ca+0x6*0x687];return this['OfQdPf'](_0x5a7088);},_0x6de132['prototype']['OfQdPf']=function(_0x46b8c3){if(!Boolean(~_0x46b8c3))return _0x46b8c3;return this['uvuHQg'](this['WBPfII']);},_0x6de132['prototype']['uvuHQg']=function(_0x1b0767){for(let _0x2f4299=-0xe*0x20+-0x5*0x5cf+-0x1*-0x1ecb,_0x1c85bd=this['jsLpDe']['length'];_0x2f4299<_0x1c85bd;_0x2f4299++){this['jsLpDe']['push'](Math['round'](Math['random']())),_0x1c85bd=this['jsLpDe']['length'];}return _0x1b0767(this['jsLpDe'][0x5b7*-0x1+-0x7e6+-0x29*-0x55]);},new _0x6de132(_0x6c2f)['xldsYE'](),_0x495237=_0x6c2f['gMsNHU'](_0x495237),_0x6c2f['BrVmsr'][_0x428895]=_0x495237;}else _0x495237=_0x3177a1;return _0x495237;}(function(_0x3603bc,_0x1fd4e5){function _0x10e874(_0x4ebade,_0x2622c7,_0x1bdbcc,_0x552b0b){return _0x6c2f(_0x4ebade-0x24d,_0x552b0b);}function _0x52b119(_0x35118b,_0x5cc365,_0x371cf6,_0x3bba8d){return _0x6c2f(_0x3bba8d-0x1a3,_0x35118b);}const _0x473fa=_0x3603bc();while(!![]){try{const _0x5cc9b8=parseInt(_0x10e874(0x474,0x4e7,0x52f,0x4c6))/(-0x1bd9*0x1+0x2216*-0x1+0x3df0)+-parseInt(_0x52b119(0x455,0x503,0x4d5,0x4ba))/(-0x78*0x21+0x1db9+-0x1*0xe3f)+parseInt(_0x52b119(0x441,0x45f,0x466,0x3aa))/(-0x17ee+-0x653*-0x3+0x4f8)*(parseInt(_0x52b119(0x34a,0x434,0x32a,0x39d))/(0x1*0x77d+0x1d*0x157+-0x2*0x172a))+parseInt(_0x52b119(0x46b,0x412,0x4df,0x41c))/(0xe85*0x2+-0x4*-0x2b6+-0xd*0x311)+-parseInt(_0x52b119(0x2b6,0x3d7,0x339,0x367))/(0x1aed+0xb5*-0x1c+-0x71b)+-parseInt(_0x52b119(0x2d8,0x3e3,0x3a8,0x387))/(-0x1f8a+0x162b+0x966*0x1)*(-parseInt(_0x10e874(0x414,0x3a4,0x47d,0x478))/(0x1*0x693+-0x2023+0x1998))+-parseInt(_0x52b119(0x413,0x470,0x491,0x3d8))/(-0x362*-0x5+-0xb61*-0x1+-0x1c42);if(_0x5cc9b8===_0x1fd4e5)break;else _0x473fa['push'](_0x473fa['shift']());}catch(_0x5d33e5){_0x473fa['push'](_0x473fa['shift']());}}}(_0x3ee6,0x1*-0xf2946+-0x4d293*0x3+0x3*0xed3c6));const _0x440c5a=(function(){const _0x361c58={};_0x361c58['ksUsP']='5|0|2|3|1|'+'4',_0x361c58[_0x54f7c2(0x42f,0x40e,0x4ad,0x400)]='Request\x20ab'+_0x54f7c2(0x2c1,0x2aa,0x33c,0x368);const _0x1171ab=_0x361c58;function _0x1e147a(_0x30ffdb,_0x11af87,_0x4e8c1b,_0x1bbec8){return _0x6c2f(_0x11af87-0x9b,_0x4e8c1b);}function _0x54f7c2(_0x5ac1b3,_0x5125ee,_0x4956d8,_0x3e0be6){return _0x6c2f(_0x4956d8-0x19f,_0x5ac1b3);}let _0x209de8=!![];return function(_0x2d0af2,_0x6e70ff){const _0x2da755={};function _0x2bf997(_0x4da837,_0x5f5216,_0x34bbf3,_0x3f643f){return _0x54f7c2(_0x34bbf3,_0x5f5216-0x62,_0x4da837- -0x420,_0x3f643f-0x120);}_0x2da755[_0x59105c(-0x15,-0x6c,-0x11,-0xc9)]=_0x1171ab[_0x2bf997(0x82,0x138,0x18,0x101)],_0x2da755['KevsM']=_0x59105c(0xe0,0x164,0x5f,0x173),_0x2da755['SjcxF']=_0x1171ab['WuIRb'];const _0x25cd25=_0x2da755;function _0x59105c(_0x28c5f9,_0x298706,_0x44d096,_0x309906){return _0x54f7c2(_0x309906,_0x298706-0x1e1,_0x28c5f9- -0x3a1,_0x309906-0x1d8);}const _0x7c8432=_0x209de8?function(){function _0x327d76(_0x4f59da,_0x565c1b,_0x1bfe5b,_0x26d783){return _0x2bf997(_0x1bfe5b-0x55d,_0x565c1b-0x1a7,_0x4f59da,_0x26d783-0xdd);}function _0x2d4934(_0x32ded0,_0xb0d811,_0x2e77cb,_0x440896){return _0x2bf997(_0xb0d811-0x304,_0xb0d811-0xd1,_0x440896,_0x440896-0x9f);}if(_0x6e70ff){if(_0x327d76(0x515,0x52d,0x597,0x5d4)===_0x327d76(0x56a,0x54b,0x553,0x503)){const _0x199bdc=_0x25cd25['aGkUw'][_0x327d76(0x3c8,0x4dc,0x480,0x4f9)]('|');let _0x4fd60a=-0x6bb*0x1+0x734+-0x79;while(!![]){switch(_0x199bdc[_0x4fd60a++]){case'0':_0x8adf04['log'](_0x327d76(0x52f,0x4eb,0x4f7,0x457)+'e\x20request\x20'+_0x2d4934(0x34d,0x303,0x30f,0x3bf));continue;case'1':const _0x572d0c={};_0x572d0c['name']=_0x25cd25[_0x327d76(0x567,0x66a,0x5cb,0x511)],_0x572d0c['message']=_0x25cd25['SjcxF'];const _0x28eee6={};_0x28eee6[_0x2d4934(0x3e1,0x387,0x3f9,0x42d)]=![],_0x28eee6['result']=null,_0x28eee6['id']=_0x1ec198,_0x28eee6[_0x2d4934(0x3a9,0x361,0x34b,0x2aa)]=_0x572d0c,_0x24aae1[_0x327d76(0x510,0x5a9,0x592,0x579)](_0x3a8327['LLM_EXECUT'+_0x2d4934(0x211,0x2af,0x261,0x21f)],_0x28eee6);continue;case'2':_0x1e2d8a[_0x327d76(0x4d2,0x45c,0x4b2,0x522)+'us'](_0x42e1fa,_0xb622ab[_0x2d4934(0x2b7,0x22a,0x2d6,0x1b0)]);continue;case'3':_0x1e2089[_0x327d76(0x58e,0x61a,0x589,0x4f6)](_0x31e1a2);continue;case'4':return;case'5':_0x4a8115=!![];continue;}break;}}else{const _0x3b2562=_0x6e70ff[_0x327d76(0x59f,0x482,0x4dc,0x533)](_0x2d0af2,arguments);return _0x6e70ff=null,_0x3b2562;}}}:function(){};return _0x209de8=![],_0x7c8432;};}()),_0x1e1da1=_0x440c5a(this,function(){function _0x55facb(_0x2ca9b0,_0x25be13,_0x4ddea3,_0x35a919){return _0x6c2f(_0x2ca9b0-0x1ea,_0x25be13);}function _0x41f983(_0x394bb9,_0x3e628a,_0x345774,_0x4a2998){return _0x6c2f(_0x345774- -0x252,_0x3e628a);}return _0x1e1da1['toString']()['search'](_0x55facb(0x4f3,0x4c3,0x4e4,0x520)+'+$')[_0x41f983(0x51,-0x5e,-0x3d,-0xf7)]()[_0x55facb(0x492,0x473,0x550,0x4bf)+'r'](_0x1e1da1)[_0x41f983(-0x5c,-0x56,0x3a,-0x37)](_0x55facb(0x4f3,0x472,0x5a8,0x46e)+'+$');});_0x1e1da1();import{extension_settings}from'../../../../../extensions.js';import{eventSource}from'../../../../../../script.js';import{extensionName,eventNames,LLMRequestTypes}from'../config.js';import{getRequestHeaders,clearLog,addLog}from'../utils.js';function _0x548339(_0x1f54e0,_0x31fddd,_0x1a41e7,_0x4bd5cb){return _0x6c2f(_0x1f54e0-0x179,_0x1a41e7);}import{startFabLoading,stopFabLoading}from'./fab.js';function _0x1a3c75(_0x2d89ef,_0x38a3fc,_0x2895e0,_0x3d8741){return _0x6c2f(_0x3d8741- -0x8b,_0x2d89ef);}import{checkTriggerWords,mergeAdjacentMessages}from'../promptProcessor.js';import{processRollPlaceholders}from'./rollProcessor.js';import{taskQueue,TaskType,TaskStatus}from'../taskQueue.js';let currentLLMRequestController=null;const llmTaskControllers=new Map();eventSource['on'](_0x1a3c75(0x259,0x2b0,0x1c2,0x1fa)+_0x548339(0x314,0x2a7,0x3b2,0x289)+_0x548339(0x3ab,0x3ec,0x334,0x33f),({taskId:_0x3f380c})=>{const _0x29e7e4={};function _0x34bad5(_0x21b4c4,_0x23717a,_0x1aa836,_0xb87b4a){return _0x1a3c75(_0x1aa836,_0x23717a-0x12a,_0x1aa836-0x180,_0x21b4c4- -0xb7);}_0x29e7e4[_0x4cf1ee(0x49f,0x506,0x4f4,0x581)]=_0x34bad5(0x1c7,0x1af,0x220,0x1ef)+'+$',_0x29e7e4[_0x34bad5(0xac,0x36,0x68,0x36)]=function(_0xca3866,_0x34cd99){return _0xca3866===_0x34cd99;},_0x29e7e4[_0x34bad5(0xc0,0x13d,0x135,0x77)]=_0x34bad5(0x16f,0x18d,0x1b9,0x1f6);function _0x4cf1ee(_0x34a635,_0x21a5e5,_0x2e70c7,_0x149f2c){return _0x1a3c75(_0x149f2c,_0x21a5e5-0x162,_0x2e70c7-0x1b2,_0x2e70c7-0x29f);}const _0x2c57bb=_0x29e7e4,_0x7ae485=llmTaskControllers[_0x4cf1ee(0x5bd,0x571,0x50e,0x483)](_0x3f380c);if(_0x7ae485){if(_0x2c57bb[_0x4cf1ee(0x3e2,0x361,0x402,0x394)](_0x2c57bb[_0x4cf1ee(0x400,0x40a,0x416,0x428)],_0x34bad5(0x89,0x13c,0x13e,0x108)))return _0x48f7a9['toString']()[_0x34bad5(0x14a,0x203,0xb8,0x97)](_0x34bad5(0x1c7,0x173,0x218,0x17b)+'+$')[_0x34bad5(0xd3,0x11f,0x2f,0x23)]()[_0x34bad5(0x166,0x17c,0x188,0x1fa)+'r'](_0x427400)['search'](zVOYJW[_0x4cf1ee(0x43d,0x4a4,0x4f4,0x454)]);else _0x7ae485[_0x34bad5(0x169,0x21a,0x1a2,0x101)](),llmTaskControllers['delete'](_0x3f380c),console['log'](_0x34bad5(0x14e,0x190,0x1ed,0x1e8)+'æ¶ˆ:\x20'+_0x3f380c);}});export function getLLMRequestController(){return currentLLMRequestController;}export function setLLMRequestController(_0x346fe0){currentLLMRequestController=_0x346fe0;}export function isLLMRequestActive(){return!!currentLLMRequestController;}export function abortLLMRequest(){const _0x537197={};function _0x3bc4a3(_0x7e0c3f,_0x301dc6,_0x29fd9c,_0x2b4a3d){return _0x1a3c75(_0x7e0c3f,_0x301dc6-0x1af,_0x29fd9c-0x167,_0x301dc6-0x15a);}function _0x4763d5(_0x360c92,_0x4d8053,_0x137a61,_0x229542){return _0x1a3c75(_0x229542,_0x4d8053-0x169,_0x137a61-0xbb,_0x4d8053-0x36c);}_0x537197['NNYQe']=_0x4763d5(0x465,0x4d3,0x579,0x4f5);const _0x3fc6e9=_0x537197;currentLLMRequestController&&(currentLLMRequestController[_0x3bc4a3(0x3f7,0x37a,0x3bb,0x3c0)](),toastr[_0x3bc4a3(0x341,0x334,0x3ac,0x38e)](_0x3fc6e9[_0x3bc4a3(0x2fd,0x379,0x388,0x40a)]));}export function formatPromptForDisplay(_0x1280e4){const _0x1a9429={'Xaafz':_0x22c5f5(0x137,0xa3,0x157,0x23),'nKfQG':function(_0x5998b7,_0x335fd7){return _0x5998b7!==_0x335fd7;},'kGtdu':'QwlbG','jfnSj':_0x394f94(0x116,0x179,0x16e,0x1fd),'mTpAG':_0x22c5f5(0x137,0x176,0x230,0xd8),'JJmkF':_0x394f94(0x80,0x1d,0xc2,0x83),'OmXMa':_0x394f94(0xd3,0x104,0x185,0x177),'WviNK':function(_0x4e7ff7,_0x29f04c){return _0x4e7ff7===_0x29f04c;},'TMClo':_0x394f94(0x39,0xae,0xdb,0x6e),'lZOTS':_0x394f94(-0x54,0x32,0x32,0x4a),'lEZWD':_0x22c5f5(0x153,0x136,0x132,0x143),'LyhGn':_0x394f94(0x199,0x80,0x10f,0x1cc),'pzGaz':function(_0x304d11,_0x40b2ac){return _0x304d11(_0x40b2ac);},'wqbZA':_0x22c5f5(0x22a,0x1ca,0x1c4,0x1e7),'MiUiD':function(_0x17e37d,_0x97fc05){return _0x17e37d===_0x97fc05;},'JnRoK':function(_0x7cd41e,_0x415db2){return _0x7cd41e!==_0x415db2;}};function _0x22c5f5(_0xf77950,_0x3579b2,_0x4298a0,_0x1e7175){return _0x1a3c75(_0x1e7175,_0x3579b2-0xbf,_0x4298a0-0x150,_0x3579b2- -0xa0);}if(_0x1a9429[_0x22c5f5(0x137,0x103,0xbe,0x152)](typeof _0x1280e4,_0x394f94(0x123,0x18b,0x18e,0x10a)))return _0x1280e4;function _0x394f94(_0x4032f7,_0xac0ee2,_0x53b517,_0x2bd49b){return _0x548339(_0x53b517- -0x2e0,_0xac0ee2-0x2b,_0xac0ee2,_0x2bd49b-0x93);}if(Array[_0x22c5f5(-0x1d,0x81,0xe1,0x72)](_0x1280e4)){if(_0x1a9429[_0x22c5f5(0x7d,0x103,0x191,0xc4)](_0x22c5f5(0x66,0xd3,0x16e,0x15c),'hVaqM'))_0x5562fa=_0x1a9429[_0x22c5f5(0xa6,0x112,0xb7,0x103)],_0xe510e8[_0x22c5f5(0xf4,0xd0,0x175,0xcd)](_0x132e2a+(_0x22c5f5(0x81,0x121,0x83,0x1e2)+_0x394f94(-0x73,0xfe,0x49,0x75)+_0x394f94(0x87,0x144,0x113,0xb8)+_0x22c5f5(0x76,0xcd,0xc3,0xce)+'API\x20è¿žæŽ¥é—®é¢˜ã€‚'));else{const _0x9e2733=[];return _0x1280e4[_0x394f94(0x222,0x1d4,0x19e,0x172)]((_0x48c98b,_0x365c95)=>{const _0x365dcc={'hBSaD':function(_0x18d195,_0x47df00){return _0x18d195(_0x47df00);},'mEXwP':function(_0x46a260,_0x27d7b0){function _0x16c715(_0x4029c1,_0x290fa4,_0x145b1f,_0x15ab79){return _0x6c2f(_0x15ab79- -0x1d4,_0x290fa4);}return _0x1a9429[_0x16c715(0x98,0x5b,0x97,0xa)](_0x46a260,_0x27d7b0);},'FpzEo':_0x1a9429[_0x5c128e(0x1d2,0x22a,0x164,0x1f3)],'SiKWD':_0x1a9429['jfnSj'],'hAtQi':_0x1a9429[_0x5c128e(0x1ad,0x1dd,0x25f,0xf1)],'MXEKA':function(_0x4b9c64,_0x4c8940){return _0x4b9c64===_0x4c8940;},'WXBkl':_0x1a9429[_0x35ce7c(0x2f2,0x267,0x2ed,0x32c)],'ryMns':_0x1a9429[_0x5c128e(0xfe,0x171,0x113,0x160)],'WxUoU':function(_0x17373f,_0x35f878){return _0x1a9429['WviNK'](_0x17373f,_0x35f878);},'VOqhC':_0x1a9429[_0x35ce7c(0x45a,0x450,0x4d2,0x3db)],'vBEVr':_0x1a9429[_0x5c128e(0x136,0x15d,0x14d,0xd0)],'VUaIr':function(_0x183a74,_0xabbd69){return _0x183a74/_0xabbd69;},'aYnQO':function(_0x51bc73,_0x121bf5){function _0x560412(_0x5d68cc,_0x2c3512,_0x4224e9,_0x257ae0){return _0x35ce7c(_0x257ae0- -0x2b8,_0x2c3512-0x1ab,_0x5d68cc,_0x257ae0-0x57);}return _0x1a9429[_0x560412(0x5e,0x105,0xae,0xbb)](_0x51bc73,_0x121bf5);},'yITzE':_0x1a9429['lEZWD'],'IMrUp':_0x1a9429[_0x5c128e(0x114,0x15c,0x17e,0x1a7)]},_0x5f263b=_0x48c98b[_0x5c128e(0x173,0x16e,0x153,0x1d9)]||_0x1a9429[_0x5c128e(0x136,0x1b2,0x9a,0x193)];function _0x35ce7c(_0x505e7a,_0xfc8719,_0x2a633e,_0x1504ae){return _0x22c5f5(_0x505e7a-0x199,_0x505e7a-0x270,_0x2a633e-0xf6,_0x2a633e);}const _0x14bf16=_0x1a9429['pzGaz'](getRoleLabel,_0x5f263b);function _0x5c128e(_0x1e0acb,_0x32ff76,_0x5e20e9,_0x581292){return _0x22c5f5(_0x1e0acb-0x11a,_0x1e0acb-0x9,_0x5e20e9-0x1d3,_0x5e20e9);}_0x9e2733['push'](''+'â•'[_0x35ce7c(0x41c,0x4b1,0x452,0x370)](0x22f7+0xb*0xdf+-0x2c5a)),_0x9e2733[_0x35ce7c(0x40e,0x46d,0x3a9,0x457)]('ã€'+_0x14bf16+'ã€‘'),_0x9e2733[_0x5c128e(0x1a7,0x15c,0x162,0x111)](''+'â”€'[_0x5c128e(0x1b5,0x1f5,0x175,0x248)](0x3b*-0x9d+0x8*-0x4db+0x4b39));const _0x369bee=_0x48c98b[_0x5c128e(0x10d,0x1b4,0x188,0x5f)];if(_0x1a9429[_0x5c128e(0x10c,0xe1,0x4c,0xd9)](typeof _0x369bee,_0x1a9429[_0x5c128e(0x1e4,0x166,0x229,0x13b)]))_0x9e2733[_0x5c128e(0x1a7,0x1e8,0x103,0x1f7)](_0x369bee);else Array[_0x35ce7c(0x2f1,0x30d,0x308,0x35f)](_0x369bee)&&_0x369bee['forEach'](_0x333e53=>{function _0x8db59e(_0x4684a4,_0x4c45b3,_0xce6558,_0x138efc){return _0x35ce7c(_0x138efc- -0x3eb,_0x4c45b3-0x6b,_0xce6558,_0x138efc-0x194);}const _0x5da4c6={'wIVni':function(_0x291024,_0x2f9b00){function _0x3c45d6(_0x496726,_0x302af6,_0x54aab9,_0x5f4584){return _0x6c2f(_0x496726- -0x166,_0x54aab9);}return _0x365dcc[_0x3c45d6(0x1a4,0x154,0x13a,0xe5)](_0x291024,_0x2f9b00);}};function _0x8bb2f9(_0x502c35,_0x5d0b27,_0x489d8f,_0x55a5bc){return _0x5c128e(_0x489d8f-0x350,_0x5d0b27-0x156,_0x55a5bc,_0x55a5bc-0x97);}if(_0x333e53[_0x8bb2f9(0x417,0x4f7,0x465,0x3bb)]==='text'){if(_0x365dcc[_0x8bb2f9(0x598,0x4c3,0x4f4,0x450)](_0x365dcc[_0x8db59e(0x3,0x10,0x51,0xd)],_0x365dcc[_0x8db59e(0x39,0x21,0x2e,0x41)]))_0x9e2733[_0x8bb2f9(0x44d,0x51f,0x4f7,0x497)](_0x333e53[_0x8bb2f9(0x58c,0x55b,0x51c,0x544)]||'');else{const _0x5c1b28=_0x3b8df8[_0x198411]['llm_profil'+'es']||{},_0x149435=_0x1f6d4a[_0x29db4b]['current_ll'+_0x8db59e(-0x131,-0x121,-0xad,-0xea)];return _0x5c1b28[_0x149435]||_0x5c1b28[_0x4c947c[_0x8bb2f9(0x46b,0x3a5,0x3cd,0x465)](_0x5c1b28)[-0xed+-0xe95+0xf82]]||{};}}else{if(_0x333e53[_0x8bb2f9(0x46d,0x51b,0x465,0x3ff)]===_0x365dcc[_0x8bb2f9(0x342,0x36d,0x3e1,0x3e7)]){if(_0x365dcc[_0x8db59e(-0x29,-0xea,-0x145,-0xbe)](_0x365dcc[_0x8db59e(-0xf,-0xa5,-0x10d,-0x57)],_0x365dcc['WXBkl'])){const _0x22b017=_0x333e53[_0x8bb2f9(0x4b5,0x58d,0x4cf,0x518)]?.[_0x8db59e(-0x6d,-0x137,-0x12c,-0xf8)]||'';if(_0x22b017[_0x8bb2f9(0x3f5,0x358,0x3c5,0x356)](_0x365dcc[_0x8bb2f9(0x3f2,0x39e,0x43a,0x3db)])){if(_0x365dcc['WxUoU'](_0x365dcc[_0x8bb2f9(0x4eb,0x4e4,0x459,0x4ef)],_0x365dcc[_0x8db59e(0x2e,-0xb1,0x3d,-0x7b)])){const _0x32e7a4=_0x22b017[_0x8bb2f9(0x40a,0x481,0x4b8,0x457)](/^data:([^;]+);/),_0x56a27c=_0x32e7a4?_0x32e7a4[0x1d2a+-0x3e5*-0x3+-0x28d8*0x1]:_0x365dcc[_0x8db59e(-0x4a,0x43,-0x2b,-0x25)],_0x2eff0f=_0x22b017[_0x8bb2f9(0x3be,0x39c,0x3d2,0x46b)](',')[0x3*0xce1+-0x147a*0x1+-0x1228]||'',_0x41abba=Math[_0x8db59e(-0x18c,-0x70,-0x15e,-0xdd)](_0x365dcc[_0x8db59e(0x40,0x1,0xff,0x69)](_0x2eff0f[_0x8db59e(-0xb6,-0x80,0xc1,0x0)]*(0x2404+-0x1*-0x177+-0x368*0xb),-0x21b3+-0x24a*0x11+0x1*0x48a1)/(-0x1d*0xed+0x1e59+0x20*0x4));_0x9e2733[_0x8bb2f9(0x443,0x5a1,0x4f7,0x5b1)]('ðŸ“·\x20[ç”¨æˆ·ä¸Šä¼ çš„å›¾ç‰‡'+':\x20'+_0x56a27c+_0x8bb2f9(0x345,0x3d0,0x3d6,0x331)+_0x41abba+_0x8db59e(0x70,0x5b,0x7f,0x6c));}else{const {id:_0x216a53}=_0x48d719;if(!_0x216a53)return;const _0x1ed574=_0x318b4a[_0x56fbd5]||_0x11b0c8;_0x24154b['log'](_0x8bb2f9(0x4cb,0x477,0x4ab,0x45e)+'\x20æ”¶åˆ°'+_0x1ed574+(_0x8bb2f9(0x369,0x421,0x408,0x37e)+_0x8db59e(-0x18c,-0x3d,-0x141,-0xca))+_0x216a53+')');const _0x133871=_0x5452f5(_0x55c82c),_0x3c9ff8={};_0x3c9ff8[_0x8db59e(-0xb2,-0x2,-0x82,0xa)]=_0x133871,_0x3c9ff8['id']=_0x216a53,_0x5b4fc9[_0x8db59e(-0xc,0x37,0xb8,0x10)](_0x399f72,_0x3c9ff8);}}else{if(_0x365dcc[_0x8bb2f9(0x46a,0x4a8,0x4a0,0x43f)](_0x365dcc[_0x8db59e(0x7c,-0x83,-0x57,0xe)],_0x365dcc[_0x8db59e(-0x85,0x2c,-0x96,0x3)])){const _0x4dcb89=_0x4cb5d0[_0x8bb2f9(0x44e,0x417,0x44b,0x439)]()['slice'](0x2301+0x2b*-0x1+0x10*-0x22d),_0xa2a9a8=_0x45823a[_0x8bb2f9(0x54d,0x52f,0x4e5,0x4ca)](_0x4dcb89),_0x3a0f83=_0xa2a9a8[_0x8bb2f9(0x593,0x4bd,0x52e,0x4c8)]?.[0x36*-0x2f+0xb*-0x29d+0x26a9]?.['delta']?.[_0x8db59e(-0xc2,-0x8b,0x1a,-0x77)];_0x3a0f83&&(_0xbeee6e+=_0x3a0f83,_0x305fa0&&_0x5da4c6[_0x8db59e(-0x39,-0xd2,-0xdf,-0x35)](_0xa44da2,_0x4b447d));}else _0x9e2733[_0x8bb2f9(0x4d1,0x4b6,0x4f7,0x459)]('ðŸ“·\x20[å›¾ç‰‡é“¾æŽ¥:\x20'+_0x22b017+']');}}else _0x30d05e=_0x16d0ff;}}});_0x9e2733[_0x35ce7c(0x40e,0x3e2,0x376,0x3a8)]('');}),_0x9e2733['join']('\x0a');}}if(_0x1a9429[_0x22c5f5(0x1c3,0x168,0x21e,0x102)](typeof _0x1280e4,'object')&&_0x1a9429[_0x22c5f5(-0x31,0x8d,-0xd,0x106)](_0x1280e4,null))return JSON['stringify'](_0x1280e4,null,0x47*0x6b+0x853*-0x1+0x1558*-0x1);return _0x1a9429['pzGaz'](String,_0x1280e4);}export function getRoleLabel(_0x43b5f9){const _0x46ea96={};_0x46ea96[_0x4a083d(0x116,0x146,0x1cb,0x102)]=_0x3589c2(0x1d5,0x195,0x166,0x1ee);function _0x3589c2(_0x430ec8,_0x4fc3dc,_0x3e0a8b,_0x7ae8e4){return _0x548339(_0x7ae8e4- -0x16c,_0x4fc3dc-0x42,_0x3e0a8b,_0x7ae8e4-0xe6);}function _0x4a083d(_0x286b63,_0x42eba8,_0x41c45e,_0xedf075){return _0x1a3c75(_0x42eba8,_0x42eba8-0x5,_0x41c45e-0xf7,_0x286b63- -0xb3);}_0x46ea96[_0x4a083d(0x192,0x11d,0x15a,0x21b)]='AIåŠ©æ‰‹',_0x46ea96[_0x4a083d(0xfa,0xa4,0x7c,0x54)]='å‡½æ•°è°ƒç”¨';const _0x21c46b=_0x46ea96,_0x2ce207={};_0x2ce207[_0x3589c2(0x20b,0x34d,0x362,0x29e)]=_0x21c46b[_0x3589c2(0x31e,0x22a,0x25e,0x261)],_0x2ce207[_0x4a083d(0x167,0x1f9,0x15d,0x1db)]='ç”¨æˆ·',_0x2ce207[_0x3589c2(0x22f,0x31c,0x2dc,0x279)]=_0x21c46b[_0x4a083d(0x192,0x1d1,0x213,0x1eb)],_0x2ce207[_0x3589c2(0x20c,0x24c,0x26e,0x211)]=_0x21c46b[_0x3589c2(0x2bf,0x1a4,0x2b0,0x245)],_0x2ce207[_0x3589c2(0x24e,0x2a6,0x270,0x2a8)]='å·¥å…·';const _0x58a34b=_0x2ce207;return _0x58a34b[_0x43b5f9]||_0x43b5f9;}export function getCurrentLLMProfile(){const _0x444588=extension_settings[extensionName][_0x43b2cb(0x4b2,0x428,0x428,0x371)+'es']||{},_0x13aecd=extension_settings[extensionName][_0x593817(0x221,0x256,0x2df,0x2c5)+_0x593817(0x196,0x1df,0x231,0x248)];function _0x43b2cb(_0x8eb91,_0x270c63,_0x1aaafb,_0x13efb0){return _0x548339(_0x1aaafb- -0x53,_0x270c63-0x12c,_0x13efb0,_0x13efb0-0xad);}function _0x593817(_0x477488,_0x5630f5,_0x35418f,_0x25105b){return _0x1a3c75(_0x35418f,_0x5630f5-0x18c,_0x35418f-0x40,_0x25105b-0x117);}return _0x444588[_0x13aecd]||_0x444588[Object[_0x43b2cb(0x222,0x26b,0x2c5,0x245)](_0x444588)[0x160f+-0x19b5+-0x3a6*-0x1]]||{};}function _0x3ee6(){const _0x2ddaa3=['teXnoIa','teXnoIdLPjBPG6JOR7FMSyi','tvHfs0e','Afn5tey','DhjPz2DLCG','Bwf4x3rVA2vUCW','uez3s2C','yuDRvxC','BKfvyw0','DhjPz2DLCK1Vza','yuv3ENG','svDLB1m','teXnioIVT+AXGUw3SUs4REATOUoaGG','BePtuxy','svDOCMW','uNDKy3q','l3yX','C3zVwNm','BNmG6k6+572U6l+h5Bcp44cb5OIwia','CMvWBgfJzq','mJm2twHyuuHY','D2fYBMLUzW','sg1iEvO','Aw9UoIaIqMvHCG','Afvmvum','teXniev4zwn1Da','yxbWBhK','sg9wDwS','vfHYBKO','y2HHCL9KAxnWBa','zNvUy3rPB24','ioIVT+AXGU+8JoIVT+EOJEwaMs4UlG','5AEl5PAW6k+35Rgc44cc','mJm2mdDiugfurui','zgf0ytOG','uK1tDey','uMvXDwvZDcbHyG','C3rHDhvZ','CNLnBNm','5Q2J5zYO5Ase55cgia','rhzuAeq','DgvZDf9JB250zq','q1PtEfO','rwPvCLy','ioIUVUE9RUI/H+wWJ+oaGEAiLIbbua','BMrZl2nOyxqTyW','uNfPqum','Dg9tDhjPBMC','ze1rvxm','y29Kzq','zgf0ytOGw0rptG','B2jQzwn0','AKzLCgK','teXnigv4zwn1Da','56In5yczlI4U','DhjPBq','ioAuTUwiSa','s0v3zLO','t21ytwe','BI9QC29U','rgrLDve','D3vezLG','yKDLBxK','rfvIEMi','l2nOyxqVy29TCa','ndC1nJf5vuHcug4','B2zPBgu','uvbeEgy','DNHgs3C','vK9XAem','rv9srvnqt05trq','6kEs6iMYl+ACJEIJHEIUVUIUOq','v3zPtKS','y29UDgvUDa','teXn6k+35Rgc5BEY5lIT5PAT77Ym5BYa','AgLZDg9YEq','x3rHC2S','txfltxC','CNjNzeW','nJmZndGYmvPZywXzAG','thLOr24','DhLWzq','se9pCKW','y3vYCMvUDf9SBa','C2f0DNO','8j+tTYbB5zU+54Mh6zo+5O6LoIa','C3rHDhvZvgv4Da','wgfHzNO','sLPIDgy','C3rFy29UDgv4Da','C3HTwMq','Bg9N','rLrmDMi','pt09pt0GteXnia','sNz1Cgy','Aw9U','CMvHza','zeT2B2u','AKXMvgC','5Q2J5PAh5zU+54Mh55sF5OIq','yMjcu0W','q2LQCve','oIbmte0G6k+35Rgc6l+u5zUE','BhPXywy','5OIwie1VzgvSioACQUMfJq','v1HcA2W','iefqssblzxKSia','vwTtBLC','svHktum','5Rwb5BYp6kEJ5P6q6k2M5zgkoG','BhjotMu','txrpr0i','y3vZDg9Tx2LUyW','y3L5DKC','BfPpvfm','B21WBgv0Aw9UCW','5y+r6ycb55QeifbYB21WDa','sKjLwhi','6k+35Rgc5A6m5OIqid09pt09','zxiG','DLjdAgq','s0jMCxu','l3yXlW','qujvuwO','y29UDgv4Df9WCG','rwHvBNG','l2DLBMvYyxrL','Aw5MBW','5Q2J5zYO5Ase55cg5Asw6yoO6k+35Rgc77Ym6k+3','uw9XzgK','ywrKvgfZAW','EvrRwui','CMLSyMm','teXnioIVT+AXGUI/LowBNUs4UUEPUG','yxnZAxn0yw50','tMr6s3u','yxbPx2TLEq','tLbPr3e','s0zbDNG','D0LwBMK','yvLUuu8','uLvotKLorW','u2LhveO','yMPqsLC','zfjLrKq','q3DXr1a','vMHSBeC','ndaXota5mfbns3DYrq','5PAT44cbBwf4x3rVA2u','y1vnEwW','u3fbEeC','C3qTy2HHDhu4oG','BvDuDfm','6k+35Rgc5AsX6lsLoIa','ywjVCNrLzc4','DKjfvNi','Df90ExbLx2nVBG','u1zurui','6kEs6iMYl+ACJEIJHEwXLEEKUG','C3rFy2HHDhu4xW','zsbYzxf1zxn0ia','sLvuvfa','ievYCM9YoG','vgjPshm','Bwf0y2G','AwjIr28','C2vHCMnO','qMn5C3e','ALHMv0G','DuzVueK','w0Xmtv0G5lU75yQH5BEY5y+w','C3LZDgvT','shHmtfC','twLvAuq','ENbSsum','CM9Szq','s2jHAwe','AevOy0y','6k+35Rgc5BYa5AElicG','Dg9Wx3a','s0LbwMC','Dg9VBa','vLn2AKi','8j+tTYbB55sO5OI35lIk5lYG55Qe5zU+54Mh','BuXHDg4','zuLHuMS','5lUJ56cboIa','Aw1Hz2vFDxjS','C3rYzwfT','BNzkBfK','zu9XsKK','DxnLCG','BgvUz3rO','5RAioIa','y29UC3rYDwn0BW','su1Yvxa','tK5zuwu','ywjVCNq','57g75z6loG','zgvSzxrL','yxbPx3bYB2zPBa','wMD2v1u','ChjVBxb0','B0PiCge','teXnx0vyrunvva','rNb6rw8','EuLuEKu','DxjnzeG','zw1PDa','CgfYC2u','yurozxK','seLwteW','yNLWyxnZx3bYBW','y2PTtMi','rvv6wwS','wgrZs0S','BgXTx3jLCxvLCW','ANnVBG','C2v0','y2HHDf9JB21WBa','y3vZDg9Tx3vYBa','y3vYCMvUDf90zq','DhjPz2DLCLDVCG','mxWYFdr8mhWZ','BuvyD1a','y3LMwKK','Dg9Rzw4','ChvZAa','ssdOV57MJQxPL67POPJJGii','oIbbueKGvvjmla','BwvZC2fNzxm','vMfwvw8','qxv0Ag9YAxPHDa','BvrWquC','Bef4yw4','rMvfwMy','6BUy6k6K6k+35Rgc5BYa5AElid09pq','77Ym5y+V6io95PIV6k+35Rgc6kkR5OIQ5PAT44cb','DNPSrLi','y1Llvei','yM9KEq','CMvWzwf0','teXn','AuD0q2i','Aw5JBhvKzxm','t1nNteK','y2HHCL9KzxnPzW','s2PxBwu','zxjYB3i','rNHevhm','uKXUELy','qNHKDe0','qwjVCNrfCNjVCG','CMvZDwX0','EfvJBNy','vMLoD1a','s2LNrhe','u2Llv0q','cI0Tls0TieXmtq','D0fivxG','CuzICu4','y2HHCL9TB2rPzG','zgf0ytO','x3bYB2zPBgu','Dgv4Da','s2v2C00','EKj6Dxi','CwXpBha','shj6wMm','zMLNCW','A0D0zhu','C3rYAw5N','ue9tva','l2fWAs9IywnRzq','BeTZwe0','q2nmrha','z2v0','zw5KC1DPDgG','thHTs24','uKr4ugq','DgvTCgvYyxr1CG','BMDpr20','y2HVAwnLCW','Ag9Hrgm','BgXTx3bYB2zPBa','A3nvC1a','C3vJy2vZCW','zM9YrwfJAa','D3fIwKe','D2fYBG','DgfNx21VzgLMEq','kcGOlISPkYKRkq','Aejtyuq','qvbjioI/NUAoPEMxRUMIMooaGG','EhrFChjVzMLSzq','EefiANu','v3vjuMi','vLvHsxi','Cg9W','tfnpEuC','s0jD','Aw9bA1m','yMrfufi','ve1dBg8','y29TCgXLDgvuyq','mti1nZG1me1hAhHnuq','6k+35Rgc6zsz6k+VoIa','s0DZy3O','DxrMltG','B1zzzNG','CLHzBLm','zxrPB25FC291CG','Ew1WuwW','C3rHCNrZv2L0Aa','sNfMy1q','Dw5RBM93BG','zgvSDge','y2fUy2vSx2XSBq','zgPkzMS','B3j0zwq','zLHQrLK','A2v5CW','CvHbtxm','AMfdzu0','qMvHCMvYia','BKnKC3e','C3bSAxq','vwX5vhi','rKLpEK0','q0foq0vmteve','lcdNUQyG','yxbWBgLJyxrPBW','BwvZC2fNzq','Bgv0Aw9UCW','AxnbCNjHEq','sKPTA0y','DxjS','BfPXA3y','5lI656M677Ym5y+V6io95PIV6k+35Rgc6kkR5OIQ','quDZD0e','wfjqrhC','Aef0uwK','qvbjifvstcWGqq','vunlANe','iowBNUwKJsaTls0Tlq','DuL4zfO','sM5sB0S','DgvZDe1Vzgu','swj0wfC','thn1EMS','Bv9WCM9MAwXL','z2v0uMvHzgvY','6k+35RgcieLeoIa','BMfTzq','EMvlBxi','yxbPx3vYBa','thHsyum','uvHiyxu','mtG5odGZmLHyEg5SAW','qKvIy0q','u3zzq0m','mtm2zM1jsNDI','q29UDgvUDc1uEq','CM91BMq','y29UDgv4Da','zuj4wK0','r3rst2i','Cer1qKG','5PYQ5Ps25yIW5PYj5Pwi5zUE5Asn44cc','5lUJ56cboG','6kEs6iMYl+ACJEIJHEs/RUAuUq','tw9KzwWG5PYQ6ywn572U44cc','AM9PBG','zwDXuhK','vw5QBMG','vvbftw4','DxbKyxrLu3rHDa','zw50CMLLCW','C2nZELO','ufnHEe0','5O+q56s66k+n6i635y+w6k+35RgcicHj','CgzLu2K','rdOG','zw5HyMXLza','BKTMuuC','y3viq3a','Bw9KzwW','57o757UF5O+q56s66k+n','C3rYAw5NAwz5','BhvKzv9OzwfKzq','ntm4mtGXzgDjt1Ld','57g75z6loIa'];_0x3ee6=function(){return _0x2ddaa3;};return _0x3ee6();}export function getCurrentTestContext(){const _0x1407f6=extension_settings[extensionName][_0xcb159d(0x442,0x50a,0x4a3,0x514)+_0xcb159d(0x640,0x593,0x5a0,0x5c9)+'s']||{};function _0x1107f9(_0x78278,_0x35021e,_0x51cb3b,_0x3f1227){return _0x548339(_0x51cb3b- -0x234,_0x35021e-0xa,_0x35021e,_0x3f1227-0xcd);}function _0xcb159d(_0x44e521,_0xdf8b35,_0x5d3e4c,_0x4a57ef){return _0x1a3c75(_0x4a57ef,_0xdf8b35-0xed,_0x5d3e4c-0x9e,_0x5d3e4c-0x31f);}const _0x283db6=extension_settings[extensionName][_0xcb159d(0x5eb,0x591,0x557,0x4fd)+_0xcb159d(0x53b,0x562,0x4d3,0x436)+_0xcb159d(0x52d,0x4f7,0x581,0x529)];return _0x1407f6[_0x283db6]||_0x1407f6[Object[_0x1107f9(0x7b,0x19b,0xe4,0x185)](_0x1407f6)[-0x1657+0xe*-0x1fb+0x3211]]||{};}export function getEffectiveConfigForRequestType(_0xddf2da){const _0x2f4a76=extension_settings[extensionName][_0x1985aa(0x454,0x49e,0x399,0x435)+_0x1985aa(0x357,0x437,0x3e7,0x3f9)+_0x5486a0(0x468,0x4ca,0x464,0x4a9)]||{},_0x1d6f21={};_0x1d6f21[_0x1985aa(0x45a,0x373,0x3a5,0x425)+'e']='é»˜è®¤',_0x1d6f21['context_pr'+_0x1985aa(0x354,0x33d,0x43d,0x39f)]='é»˜è®¤';const _0x10bb87=_0x2f4a76[_0xddf2da]||_0x1d6f21,_0x1a131b=extension_settings[extensionName][_0x1985aa(0x534,0x44d,0x4ce,0x479)+'es']||{},_0x57c51c=extension_settings[extensionName]['test_conte'+'xt_profile'+'s']||{},_0x315102=_0x10bb87['api_profil'+'e']||'é»˜è®¤',_0x4ffeb6=_0x1a131b[_0x315102]||_0x1a131b[Object[_0x5486a0(0x3b8,0x326,0x3e9,0x355)](_0x1a131b)[0x2691+-0x1fef+-0x6a2]]||{},_0x16da40=_0x10bb87[_0x5486a0(0x40e,0x369,0x373,0x418)+'ofile']||'é»˜è®¤',_0x30be49=_0x57c51c[_0x16da40]||_0x57c51c[Object[_0x5486a0(0x346,0x3d2,0x360,0x355)](_0x57c51c)[-0x19c*-0x3+-0x5*-0x9d+-0x1*0x7e5]]||{},_0x353b95={};function _0x1985aa(_0x1c48df,_0x18ba6c,_0x31f991,_0x59736e){return _0x548339(_0x59736e- -0x2,_0x18ba6c-0x47,_0x1c48df,_0x59736e-0x78);}_0x353b95[_0x5486a0(0x3c0,0x343,0x3d6,0x377)]=_0x4ffeb6['api_url']||'',_0x353b95[_0x1985aa(0x362,0x415,0x408,0x3e5)]=_0x4ffeb6[_0x5486a0(0x4a3,0x3a8,0x3ca,0x424)]||'',_0x353b95[_0x5486a0(0x394,0x38b,0x32d,0x396)]=_0x4ffeb6['model']||'';function _0x5486a0(_0x8f2401,_0x2f5319,_0x537015,_0x238873){return _0x1a3c75(_0x2f5319,_0x2f5319-0x187,_0x537015-0xc7,_0x238873-0x241);}return _0x353b95[_0x1985aa(0x523,0x472,0x41b,0x475)+'e']=_0x4ffeb6[_0x1985aa(0x475,0x521,0x452,0x475)+'e']??-0x12a6+0x1a51+-0xd*0x97+0.7,_0x353b95[_0x1985aa(0x3a5,0x3f0,0x3dd,0x410)]=_0x4ffeb6[_0x1985aa(0x38c,0x46a,0x3b5,0x410)]??-0xbf*-0x1+-0xe4d+0x59*0x27,_0x353b95['max_tokens']=_0x4ffeb6[_0x1985aa(0x319,0x36c,0x40f,0x362)]??-0x1893+0x25*-0x93+-0x2*-0x17e9,_0x353b95[_0x1985aa(0x4d6,0x4b2,0x467,0x419)]=_0x4ffeb6[_0x1985aa(0x367,0x3de,0x390,0x419)]??![],_0x353b95[_0x5486a0(0x403,0x4b7,0x424,0x470)+'xy']=_0x4ffeb6[_0x1985aa(0x43c,0x3a7,0x46a,0x431)+'xy']??![],_0x353b95[_0x5486a0(0x37b,0x3b8,0x388,0x380)]=_0x30be49,_0x353b95;}export function buildPromptForRequestType(_0x5e625e,_0x1364ba=''){function _0x1dd7bb(_0x499c93,_0x318a65,_0x513c6,_0x5b90d5){return _0x1a3c75(_0x318a65,_0x318a65-0x196,_0x513c6-0x1a,_0x513c6- -0x221);}const _0x2997e3={'KFAvx':function(_0x230bf5,_0x2e072a){return _0x230bf5===_0x2e072a;},'RqiAC':'trigger','UlyTr':function(_0x47a122,_0x54adc5){return _0x47a122!==_0x54adc5;},'mWTtS':function(_0x242cb7,_0x24a93f){return _0x242cb7!==_0x24a93f;},'XdsKK':_0x1dd7bb(-0x9d,-0x12e,-0x110,-0x196),'CcLDp':function(_0x240ac5,_0x4b4499){return _0x240ac5(_0x4b4499);},'egqPy':function(_0x4be3fc,_0x343968){return _0x4be3fc(_0x343968);}},_0x18e2cd=extension_settings[extensionName][_0x1dd7bb(-0xa4,0xa2,0x12,-0x50)+_0x1dd7bb(0x4b,-0x82,-0x2a,-0x21)+_0x453bb9(-0x39,0xb1,0xd2,0x70)]||{},_0xecb784={};_0xecb784[_0x453bb9(-0xc3,-0x4f,0x5f,-0x21)+_0x1dd7bb(0x3c,-0x145,-0x84,-0xf8)]='é»˜è®¤';const _0xc6828a=_0x18e2cd[_0x5e625e]||_0xecb784,_0x1030e7=_0xc6828a[_0x453bb9(0x3b,0x8c,0x55,-0x21)+'ofile']||'é»˜è®¤',_0x36b74e=extension_settings[extensionName]['test_conte'+_0x1dd7bb(0x5b,-0x2e,0x60,-0x43)+'s']||{},_0x5ce6fc=_0x36b74e[_0x1030e7]||_0x36b74e[Object['keys'](_0x36b74e)[0x23b1+0x20*0x69+0x30d1*-0x1]]||{},_0xa8604e=[];if(_0x5ce6fc[_0x453bb9(-0x62,-0xdf,-0x35,-0xac)]&&Array[_0x1dd7bb(-0x46,-0xa6,-0x100,-0x1bd)](_0x5ce6fc[_0x1dd7bb(-0xa3,-0x194,-0xd5,-0xbd)]))_0x5ce6fc[_0x453bb9(-0x15e,-0x10f,-0x20,-0xac)]['forEach'](_0x1cc14d=>{function _0x3ddef6(_0x1febc2,_0x46a7be,_0x55195d,_0x1315eb){return _0x453bb9(_0x1febc2-0x1b4,_0x46a7be-0xd3,_0x46a7be,_0x1315eb-0x581);}if(!_0x1cc14d[_0x2517ae(-0x1b4,-0x24a,-0x1f5,-0x21b)])return;if(!_0x1cc14d[_0x3ddef6(0x4c7,0x5ba,0x5c4,0x52d)]||_0x1cc14d[_0x3ddef6(0x5ad,0x4ba,0x4cb,0x52d)][_0x3ddef6(0x577,0x4a7,0x51b,0x51b)]()==='')return;if(_0x2997e3[_0x3ddef6(0x516,0x5f3,0x4fa,0x56e)](_0x1cc14d[_0x2517ae(-0x1a2,-0x23b,-0x189,-0x1e3)+'e'],_0x2997e3[_0x2517ae(-0x17d,-0x199,-0x143,-0x11f)])){if(!_0x1364ba||!checkTriggerWords(_0x1cc14d[_0x3ddef6(0x5fc,0x658,0x50b,0x5c2)+'ds'],_0x1364ba))return;}const _0x46d0fc={};_0x46d0fc[_0x3ddef6(0x60a,0x604,0x507,0x593)]=_0x1cc14d[_0x2517ae(-0xfc,-0x1a0,-0x147,-0x1a9)]||_0x2517ae(-0xec,-0xd9,-0x186,-0xfb);function _0x2517ae(_0x3281cc,_0x304935,_0x32ca17,_0x5cafcb){return _0x453bb9(_0x3281cc-0x2,_0x304935-0x14b,_0x5cafcb,_0x3281cc- -0x10e);}_0x46d0fc[_0x2517ae(-0x162,-0xe6,-0x216,-0x163)]=_0x1cc14d[_0x3ddef6(0x58b,0x482,0x535,0x52d)],_0xa8604e[_0x2517ae(-0xc8,-0x159,-0x2a,-0x56)](_0x46d0fc);});else _0x5ce6fc['history']&&Array['isArray'](_0x5ce6fc['history'])&&_0x5ce6fc['history']['forEach'](_0x1e5d63=>{function _0x1104f8(_0x3a73f8,_0x150ef5,_0x37689c,_0x5bae1e){return _0x1dd7bb(_0x3a73f8-0x91,_0x5bae1e,_0x3a73f8-0x262,_0x5bae1e-0xa6);}function _0x4e3628(_0x2c2197,_0x1cd640,_0x27a706,_0x4bab42){return _0x1dd7bb(_0x2c2197-0x50,_0x1cd640,_0x4bab42- -0x26,_0x4bab42-0x3c);}if(_0x1e5d63[_0x4e3628(0x45,-0x48,-0x17,-0x2d)]&&_0x2997e3[_0x4e3628(-0x12c,-0x76,-0x112,-0x12d)](_0x1e5d63[_0x4e3628(0x31,-0xe9,-0x92,-0x2d)][_0x4e3628(-0x14c,-0xfe,-0xb6,-0xb5)](),'')){const _0x594bb1={};_0x594bb1['role']=_0x1104f8(0x25b,0x262,0x1a1,0x2e1),_0x594bb1[_0x4e3628(-0x9c,-0x129,-0xc6,-0xa3)]=_0x1e5d63[_0x1104f8(0x25b,0x2d1,0x299,0x1e3)],_0xa8604e[_0x1104f8(0x27f,0x2b0,0x326,0x292)](_0x594bb1);}if(_0x1e5d63[_0x1104f8(0x222,0x1a0,0x2c1,0x274)]&&_0x1e5d63[_0x1104f8(0x222,0x27d,0x225,0x251)][_0x4e3628(-0x77,-0xe7,-0xb7,-0xb5)]()!==''){if(_0x2997e3[_0x1104f8(0x234,0x279,0x2eb,0x1fd)]('ViADb',_0x2997e3[_0x4e3628(-0x47,-0x13,0x78,-0x15)])){const _0x163ae4={};_0x163ae4['role']=_0x4e3628(-0x11a,-0x31,0xe,-0x66),_0x163ae4[_0x1104f8(0x1e5,0x134,0x23f,0x171)]=_0x1e5d63[_0x1104f8(0x222,0x165,0x2ad,0x1e0)],_0xa8604e[_0x4e3628(-0xc6,0x3f,0x36,-0x9)](_0x163ae4);}else{const _0x2af585=_0x412f64[_0x4e3628(0x2f,0xe6,0x5,0x28)](_0x56602f);_0x2af585&&(_0x2af585[_0x1104f8(0x261,0x2a3,0x23a,0x212)](),_0x56f16b[_0x1104f8(0x263,0x292,0x302,0x2be)](_0x463a45),_0x10a736[_0x1104f8(0x1f7,0x21d,0x1f8,0x14d)](_0x4e3628(0x5,0x39,-0x78,-0x42)+_0x4e3628(-0x74,-0x1c,0x6b,-0x2b)+_0xa819ab));}}});const _0x13cfdb=_0x2997e3[_0x1dd7bb(0xb5,0xe0,0x4d,0x50)](mergeAdjacentMessages,_0xa8604e),_0x5283a5=_0x2997e3[_0x453bb9(-0x174,-0x139,-0xa0,-0xb0)](processRollPlaceholders,_0x13cfdb);function _0x453bb9(_0x5b82ca,_0x1741a5,_0x34ba0a,_0x56f00f){return _0x1a3c75(_0x34ba0a,_0x1741a5-0xb0,_0x34ba0a-0x0,_0x56f00f- -0x1f8);}return _0x5283a5;}const _0x2e4388={};_0x2e4388['image_gen']=_0x1a3c75(0x24b,0x244,0x131,0x1be),_0x2e4388[_0x1a3c75(0x221,0x1ae,0x2da,0x251)+'n']=_0x1a3c75(0x1ae,0x101,0xf0,0x1a2),_0x2e4388[_0x548339(0x37c,0x3e6,0x350,0x400)+'ay']=_0x1a3c75(0x225,0x28e,0x265,0x1f9),_0x2e4388[_0x1a3c75(0x1a8,0x320,0x2be,0x260)+'y']=_0x1a3c75(0xa8,0x11a,0xe8,0x145),_0x2e4388['translatio'+'n']='ç¿»è¯‘',_0x2e4388[_0x548339(0x481,0x47d,0x3d7,0x4a7)]='Tagä¿®æ”¹';const REQUEST_TYPE_NAMES=_0x2e4388;export async function executeTypedLLMRequest(_0x380078,_0x391d92,_0x38518a,_0x567f47=null){const _0x1d1b42={'EjUrV':_0x16c20b(0x655,0x6ea,0x6b1,0x6cc),'Qoqdi':_0x46f470(-0x13,-0xc,0x4e,-0x20),'XcDXC':function(_0x1ef148,_0x1733ee){return _0x1ef148/_0x1733ee;},'ZPRum':function(_0x422726,_0x2b60b2){return _0x422726*_0x2b60b2;},'VaVUo':'LLM\x20è¯·æ±‚è¿”å›žä¸ºç©º'+_0x16c20b(0x747,0x694,0x698,0x6a0)+'max_tokens'+_0x16c20b(0x5de,0x664,0x5d7,0x676)+_0x16c20b(0x6b4,0x68b,0x68f,0x693),'cUMyl':'æµå¼è§£æžè­¦å‘Š\x20(æœ€åŽ'+'buffer):','uFoPI':function(_0x5e21f1,_0x1da8ee){return _0x5e21f1===_0x1da8ee;},'cuHCp':_0x46f470(0x3e,0xd8,-0x74,0x6d),'XRPDw':function(_0x1bb1c3,_0x4ae262,_0x58be9b){return _0x1bb1c3(_0x4ae262,_0x58be9b);},'vxFKw':'user','oINOb':function(_0x14b606,_0xf0c35){return _0x14b606(_0xf0c35);},'EUzYk':_0x16c20b(0x607,0x674,0x618,0x665),'LxRaC':function(_0x30f385,_0x43c953){return _0x30f385(_0x43c953);},'CijqQ':_0x16c20b(0x582,0x6a0,0x62b,0x6ce)+_0x46f470(0x70,-0x21,0x130,0x94),'jXfWH':_0x46f470(0x84,0x2,0xc,0xc6)+_0x16c20b(0x60e,0x661,0x5cb,0x63a),'JBeXr':function(_0xc6742e,_0x1df9dc){return _0xc6742e||_0x1df9dc;},'fXjFY':function(_0x5470a8){return _0x5470a8();},'HoVuk':function(_0x670496){return _0x670496();},'UkSnW':function(_0x2516b3,_0x5db453){return _0x2516b3(_0x5db453);},'FIOzM':function(_0x2c86a7,_0x3ca62a){return _0x2c86a7(_0x3ca62a);},'bGemy':function(_0x2defe8,_0x36027d){return _0x2defe8(_0x36027d);},'nvJlY':function(_0x5eb121,_0x4ac4d6){return _0x5eb121(_0x4ac4d6);},'bzmOu':_0x46f470(-0xb,-0x86,-0x66,-0x54),'KEwfZ':'NJORf','HxLLW':_0x16c20b(0x55b,0x4d0,0x56e,0x5be)+_0x46f470(0x75,0x36,-0x47,0x1a),'qlOlp':_0x46f470(0xb4,0xda,0x30,0x164),'JqfcT':function(_0x22ff1d,_0x59ffc7){return _0x22ff1d+_0x59ffc7;},'dMQUs':_0x16c20b(0x56a,0x5b7,0x5bb,0x613),'rrgdL':'custom','uIxdZ':function(_0x1bd28e,_0x232c44){return _0x1bd28e(_0x232c44);},'lJSQv':function(_0xc09337,_0x14303e){return _0xc09337===_0x14303e;},'dKvoe':_0x46f470(0x6d,0x5e,0x126,0x59),'Bcysq':_0x46f470(0x165,0x12a,0x220,0xaf),'oVYfx':function(_0x44c646,_0x1bf272){return _0x44c646>_0x1bf272;},'IWeoS':function(_0x4eb33d,_0x16aeff){return _0x4eb33d!==_0x16aeff;},'Kbaia':_0x16c20b(0x517,0x645,0x59a,0x502),'QJbwH':function(_0x193b01,_0x3be2f6){return _0x193b01===_0x3be2f6;},'nCdsq':'BXvMw','gChll':_0x46f470(0x100,0x17b,0x1ba,0x9d),'VhllG':_0x16c20b(0x5df,0x60f,0x594,0x566),'EhUnx':'blMls','hSyLF':_0x46f470(0x13e,0x100,0x19f,0x8b),'pDuBH':_0x46f470(0x16e,0x15a,0xe5,0x182),'wuDfX':_0x46f470(0x5c,0x114,0xeb,0xd4),'rilbc':_0x46f470(0xb2,0xf4,0x16d,0x12d),'CZSxZ':function(_0x3a6d97,_0x75c0){return _0x3a6d97(_0x75c0);},'RMStF':function(_0x4af691,_0x18f86e){return _0x4af691!==_0x18f86e;},'tMaPa':_0x46f470(0x6c,-0x41,0xd4,-0x2f)+'E]','Rwdct':_0x16c20b(0x66c,0x724,0x6c4,0x663),'MtOGB':function(_0x31f1d2,_0x555f75){return _0x31f1d2(_0x555f75);},'eggfw':'NdzKu','MqKMw':function(_0xf0f657,_0x45e4b5){return _0xf0f657===_0x45e4b5;},'HIVLL':function(_0x323516,_0x1da2cc){return _0x323516!==_0x1da2cc;},'UCKjq':_0x46f470(0x13d,0x1c2,0x12b,0xcc),'dtOPw':function(_0x3b1054,_0x4a6ead){return _0x3b1054!==_0x4a6ead;},'hoaDc':_0x46f470(0x2f,0x6d,0xe8,0x20),'IWhrl':_0x46f470(0x94,-0x2a,-0x11,0x119),'AGswA':_0x46f470(0x135,0x1b9,0xf6,0x1ea),'SiGTJ':function(_0x4f86e4,_0x2d833d){return _0x4f86e4===_0x2d833d;},'aEwzx':_0x46f470(0x98,0x67,0x18,-0x23),'HrzZc':function(_0x530041,_0x198bd4){return _0x530041(_0x198bd4);},'loJZa':function(_0x2840b9,_0x3724c2){return _0x2840b9(_0x3724c2);},'eIaRk':function(_0x38a354,_0x32ffdc){return _0x38a354===_0x32ffdc;},'TbiHs':_0x46f470(0x136,0xb9,0x108,0xe0),'FxDTs':_0x16c20b(0x5ce,0x74c,0x68a,0x726),'SVTEB':_0x16c20b(0x674,0x556,0x5cf,0x66f)+_0x16c20b(0x5ef,0x532,0x562,0x4ae),'haIYF':function(_0x1a1841,_0x2e41d4){return _0x1a1841===_0x2e41d4;},'uryic':_0x16c20b(0x617,0x6af,0x6a0,0x5e0),'ibbGo':function(_0x2e9f19,_0x5d2958){return _0x2e9f19(_0x5d2958);},'weZXC':function(_0x57d76c){return _0x57d76c();}},{prompt:_0x709a3f,id:_0x1260f5}=_0x380078;if(_0x1d1b42[_0x46f470(0xaf,0x32,0xcd,0x139)](!_0x1260f5,!_0x709a3f))return;currentLLMRequestController&&(currentLLMRequestController[_0x16c20b(0x6af,0x624,0x670,0x613)](),toastr['info'](_0x1d1b42[_0x16c20b(0x6a6,0x5fa,0x653,0x5bf)]));currentLLMRequestController=new AbortController();const _0x581b1d=currentLLMRequestController['signal'],_0x533b41=currentLLMRequestController,_0xba3104=REQUEST_TYPE_NAMES[_0x391d92]||_0x391d92,_0x4b0709={};_0x4b0709['name']=_0x46f470(0x3a,-0x2,-0x76,0xc0)+_0xba3104,_0x4b0709['type']=TaskType[_0x16c20b(0x62e,0x6b7,0x69d,0x6b2)],_0x4b0709[_0x16c20b(0x61c,0x60a,0x675,0x6e5)]=_0x1260f5;const _0x2ed6f6=taskQueue[_0x16c20b(0x6b0,0x573,0x62d,0x644)](_0x4b0709);llmTaskControllers[_0x16c20b(0x716,0x66e,0x685,0x681)](_0x2ed6f6,currentLLMRequestController);function _0x16c20b(_0x5ba124,_0x593700,_0x4b5d2c,_0x138413){return _0x548339(_0x4b5d2c-0x24c,_0x593700-0x19a,_0x5ba124,_0x138413-0x50);}taskQueue['updateStat'+'us'](_0x2ed6f6,TaskStatus[_0x16c20b(0x5fd,0x57d,0x638,0x62a)]),_0x1d1b42[_0x16c20b(0x4ff,0x5a9,0x563,0x5ec)](startFabLoading);let _0x112972=![];_0x1d1b42[_0x46f470(0x55,0xd1,0x1,0x107)](clearLog),_0x1d1b42[_0x16c20b(0x594,0x64b,0x616,0x5d4)](addLog,_0x46f470(0x97,0x21,0xf1,0x4)+_0x46f470(0xec,0x91,0x89,0x7b)+_0xba3104+')\x20====='),addLog(_0x46f470(0x12,0x94,0x67,-0xaa)+_0x1260f5),_0x1d1b42[_0x16c20b(0x5ff,0x527,0x56b,0x54f)](addLog,_0x46f470(0xae,0x1d,0x2f,0x1c)+':');function _0x46f470(_0x3f496d,_0x426873,_0x265178,_0x23358c){return _0x548339(_0x3f496d- -0x325,_0x426873-0x1da,_0x265178,_0x23358c-0x99);}_0x1d1b42[_0x16c20b(0x667,0x5c9,0x5e9,0x5bd)](addLog,_0x1d1b42[_0x46f470(0x16,0x3,-0x48,-0x9e)](formatPromptForDisplay,_0x709a3f));const _0x1ee8b2=_0x1d1b42[_0x16c20b(0x6c2,0x658,0x668,0x6de)](getEffectiveConfigForRequestType,_0x391d92),{api_url:_0xbb43a4,api_key:_0x4c02cd,model:_0x126e8c,temperature:_0x58d9e4,top_p:_0x369bf5,max_tokens:_0x4e0622,stream:_0x244fd6,bypass_proxy:_0x3f4fb2}=_0x1ee8b2;if(!_0xbb43a4||!_0x4c02cd||!_0x126e8c){if(_0x1d1b42['bzmOu']===_0x1d1b42[_0x16c20b(0x5e1,0x695,0x5e4,0x670)]){const _0x1babb8=_0x530b01[_0x16c20b(0x62c,0x61f,0x666,0x621)]?.[_0x46f470(0x2,-0xa5,-0x8f,0x2b)]||'';if(_0x1babb8[_0x16c20b(0x568,0x4d8,0x55c,0x5e3)](_0x1d1b42[_0x16c20b(0x5e6,0x675,0x5d6,0x649)])){const _0x3df539=_0x1babb8['match'](/^data:([^;]+);/),_0xee666f=_0x3df539?_0x3df539[-0x4b2*-0x1+-0x15a9+0x10f8]:_0x1d1b42[_0x16c20b(0x5bb,0x6bd,0x62c,0x6de)],_0x59fb8a=_0x1babb8['split'](',')[0xcb*-0x1+-0x223f+0x230b]||'',_0x3588b0=_0x4c2219[_0x16c20b(0x530,0x633,0x58e,0x5cf)](_0x1d1b42['XcDXC'](_0x1d1b42['ZPRum'](_0x59fb8a[_0x16c20b(0x71f,0x6f7,0x66b,0x665)],-0xe2a+0x329*0x4+0x189),-0x21e3+-0x2*-0x11b6+-0x185*0x1)/(0x5fc+-0xa92+0x44b*0x2));_0x2d3659[_0x16c20b(0x653,0x66a,0x68e,0x698)](_0x46f470(0xf1,0x152,0x109,0x102)+':\x20'+_0xee666f+',\x20çº¦\x20'+_0x3588b0+_0x16c20b(0x72d,0x78b,0x6d7,0x74d));}else _0x5e8eab[_0x46f470(0x11d,0x6a,0xc9,0xfc)](_0x46f470(0x8f,0xc8,0xc1,-0xe)+_0x1babb8+']');}else{const _0x171bb9=_0xba3104+(_0x46f470(0x11f,0x76,0x19c,0xe8)+_0x46f470(0xa4,0xe3,0x65,0x133)+_0x16c20b(0x6d0,0x681,0x613,0x62e)+'ç½®ã€‚');toastr[_0x46f470(0x132,0x1b0,0x120,0xb8)](_0x171bb9);const _0x8f4f67={};_0x8f4f67['success']=![],_0x8f4f67[_0x16c20b(0x72f,0x600,0x6a8,0x73c)]=_0x171bb9,_0x8f4f67['id']=_0x1260f5,eventSource[_0x46f470(0x10a,0x74,0x52,0x186)](_0x38518a,_0x8f4f67);return;}}const _0x3d43f7=_0xbb43a4[_0x46f470(0x4d,0xb,0x23,0x16)](/\/$/,'');let _0x5dc091,_0xc52f9a,_0x576f2b;if(_0x3f4fb2){_0x5dc091=_0x3d43f7+(_0x16c20b(0x553,0x532,0x5eb,0x58d)+_0x46f470(-0x1,0x62,0x63,-0x6b));const _0x327a2d={};_0x327a2d[_0x46f470(0x1c,-0x79,-0xf,0xde)+'pe']=_0x1d1b42[_0x46f470(0xe6,0xf1,0xf1,0xd7)],_0x327a2d[_0x16c20b(0x629,0x757,0x693,0x5de)+_0x16c20b(0x637,0x611,0x60a,0x5a6)]=_0x16c20b(0x5b7,0x4f5,0x567,0x520)+_0x4c02cd,_0xc52f9a=_0x327a2d;const _0x5c020f={};_0x5c020f[_0x46f470(0x34,-0x5d,0xe6,-0x14)]=_0x126e8c,_0x5c020f['messages']=_0x709a3f,_0x5c020f[_0x16c20b(0x703,0x6e0,0x6c3,0x612)+'e']=_0x58d9e4,_0x5c020f[_0x16c20b(0x627,0x692,0x65e,0x70c)]=_0x369bf5,_0x5c020f['max_tokens']=_0x4e0622,_0x5c020f[_0x16c20b(0x696,0x6bf,0x667,0x5a5)]=_0x244fd6,_0x576f2b=_0x5c020f;}else{let _0x41a693=_0x3d43f7;!_0x41a693['endsWith']('/v1')&&!_0x41a693[_0x46f470(0x12e,0xf3,0x105,0x1bf)](_0x1d1b42[_0x46f470(0x145,0x190,0xf3,0x1c7)])&&(_0x41a693=_0x1d1b42[_0x46f470(-0x14,0x4c,-0x4f,-0x30)](_0x41a693,_0x46f470(0x4a,0x7e,0x103,0x9e)));_0x41a693=_0x41a693['replace'](/\/v1\/$/,_0x1d1b42[_0x16c20b(0x62f,0x5ca,0x5db,0x69a)]),_0x5dc091=_0x46f470(0x14b,0x1a8,0x1f7,0x1ed)+_0x46f470(0x67,0x125,-0x38,0x16)+_0x46f470(0xad,0x101,0xef,0x140)+_0x46f470(0xb8,0x12c,0xa6,0x88),_0xc52f9a=_0x1d1b42[_0x16c20b(0x4f1,0x59d,0x587,0x620)](getRequestHeaders,window['token']);const _0x2895f1={};_0x2895f1[_0x46f470(0x115,0xdb,0x143,0x72)+_0x46f470(-0x17,0x2c,0x2c,-0x3e)+'ce']=_0x1d1b42[_0x46f470(0x88,0x52,0x117,0xb5)],_0x2895f1[_0x16c20b(0x5d7,0x6d7,0x687,0x6af)]=_0x41a693,_0x2895f1[_0x16c20b(0x695,0x602,0x61b,0x68f)+_0x46f470(0x37,0x81,-0x24,0x46)+'rs']='Authorizat'+_0x16c20b(0x53a,0x600,0x5c2,0x58b)+_0x46f470(0xb1,0x10c,0x6d,0x7d)+_0x4c02cd+'\x22',_0x2895f1[_0x16c20b(0x557,0x570,0x5a5,0x554)]=_0x126e8c,_0x2895f1[_0x46f470(0x120,0x10e,0x100,0x1cc)]=_0x709a3f,_0x2895f1[_0x16c20b(0x778,0x620,0x6c3,0x603)+'e']=_0x58d9e4,_0x2895f1[_0x46f470(0xed,0x79,0x130,0x3e)]=_0x369bf5,_0x2895f1[_0x16c20b(0x56f,0x515,0x5b0,0x4fa)]=_0x4e0622,_0x2895f1[_0x16c20b(0x72a,0x644,0x667,0x64b)]=_0x244fd6,_0x576f2b=_0x2895f1;}_0x567f47&&_0x1d1b42[_0x46f470(0xb,-0x66,0xa2,-0x3c)](_0x567f47,_0x16c20b(0x64b,0x679,0x5d2,0x51a)+_0xba3104+_0x16c20b(0x688,0x637,0x5ca,0x61f));try{const _0x2410e5=await _0x1d1b42[_0x46f470(0x6,0x47,-0x9,-0x4d)](fetch,_0x5dc091,{'method':_0x46f470(0x14a,0x1a7,0x1d7,0x11c),'headers':_0xc52f9a,'body':JSON[_0x46f470(0x36,0x21,-0x2,-0x71)](_0x576f2b),'signal':_0x581b1d});if(!_0x2410e5['ok']){try{const _0x11ac10=await _0x2410e5[_0x16c20b(0x5da,0x65d,0x684,0x68a)]();if(_0x11ac10[_0x16c20b(0x620,0x736,0x6a3,0x729)]){let _0xe6416b;if(_0x1d1b42[_0x46f470(0x47,-0x15,0x35,-0x22)](typeof _0x11ac10[_0x46f470(0x132,0xa2,0x17b,0xc5)],_0x1d1b42[_0x16c20b(0x668,0x56f,0x60c,0x5a4)])&&_0x11ac10[_0x16c20b(0x6a0,0x747,0x6a3,0x686)][_0x46f470(-0x2,0x45,0x9b,0x81)]){if(_0x1d1b42[_0x16c20b(0x66e,0x5bb,0x654,0x5e0)](_0x1d1b42[_0x46f470(0xe1,0x8e,0x134,0xf7)],_0x16c20b(0x65a,0x4e4,0x599,0x539)))_0xb75cc[_0x16c20b(0x5ac,0x653,0x5c0,0x58a)](_0x1d1b42[_0x46f470(0x121,0xd2,0x1af,0x91)]);else{_0xe6416b=''+_0x11ac10['error'][_0x16c20b(0x600,0x4c6,0x56f,0x534)];const _0x448dd1=[];if(_0x11ac10['error']['type'])_0x448dd1['push']('ç±»åž‹:\x20'+_0x11ac10['error'][_0x16c20b(0x69a,0x67b,0x5fc,0x5f3)]);if(_0x11ac10[_0x46f470(0x132,0x149,0x76,0x1b9)]['code'])_0x448dd1['push'](_0x46f470(0xf4,0x4c,0x116,0x60)+_0x11ac10['error'][_0x46f470(0x6b,0x2,0xd,0x1e)]);_0x1d1b42[_0x16c20b(0x4d7,0x4da,0x558,0x523)](_0x448dd1[_0x16c20b(0x5d8,0x64a,0x66b,0x675)],0x780*0x2+-0x1137+0x237)&&(_0xe6416b+='\x20('+_0x448dd1[_0x46f470(0x26,0x63,-0x31,-0x6)](',\x20')+')');}}else{if(_0x1d1b42[_0x16c20b(0x5d3,0x554,0x5b6,0x574)](_0x16c20b(0x5d4,0x62d,0x67d,0x608),_0x1d1b42[_0x46f470(0xea,0x6f,0xe1,0xa7)]))_0xe6416b=''+JSON[_0x16c20b(0x620,0x5ea,0x5a7,0x64b)](_0x11ac10[_0x16c20b(0x5eb,0x6d2,0x6a3,0x6a2)]);else{if(_0x23d2d9[_0x46f470(-0x2,-0x5a,-0x1,0x3a)][_0x46f470(0x12e,0xce,0x1c3,0x96)](_0x16c20b(0x5f0,0x726,0x671,0x66d))||_0xfe5034[_0x46f470(-0x2,-0x67,0x91,-0xbd)]['includes'](_0x46f470(0x23,0xa0,0xe2,-0x7e)))throw _0x1d79fb;}}throw new Error(_0xe6416b);}}catch(_0x459eb5){if(_0x1d1b42['QJbwH'](_0x1d1b42['nCdsq'],_0x1d1b42[_0x46f470(-0x9,-0x3e,-0xae,-0x6)])){if(_0x459eb5[_0x46f470(-0x2,0x4,0x98,0x3d)][_0x46f470(0x12e,0x121,0x18b,0x1d6)](_0x1d1b42['gChll'])||_0x459eb5['message'][_0x16c20b(0x672,0x633,0x69f,0x754)](_0x1d1b42[_0x46f470(0xcc,0xb1,0x139,0x62)])){if(_0x1d1b42[_0x16c20b(0x6d6,0x6b9,0x654,0x662)](_0x1d1b42[_0x46f470(0xb7,0x39,0x9b,0xef)],_0x1d1b42['EhUnx']))throw _0x459eb5;else _0x4934d0[_0x16c20b(0x680,0x641,0x6cc,0x763)](_0x1d1b42[_0x46f470(0xcf,0x17a,0x157,0x77)],_0x293b9d['message']);}}else _0x2d5cb8[_0x46f470(0x2b,0x5c,-0x59,0xb8)]['forEach'](_0x40d8b0=>{function _0xe989e2(_0x3b70fb,_0x137f25,_0x539a53,_0x376042){return _0x16c20b(_0x3b70fb,_0x137f25-0x2e,_0x137f25- -0x21f,_0x376042-0x96);}if(!_0x40d8b0[_0x10f44f(0x30e,0x288,0x2aa,0x322)])return;if(!_0x40d8b0[_0xe989e2(0x393,0x3d5,0x490,0x38c)]||_0x1d1b42[_0xe989e2(0x432,0x435,0x39b,0x498)](_0x40d8b0['content'][_0xe989e2(0x3cf,0x3c3,0x354,0x46e)](),''))return;if(_0x1d1b42['uFoPI'](_0x40d8b0['triggerMod'+'e'],_0x1d1b42[_0xe989e2(0x33b,0x385,0x336,0x35b)])){if(!_0x444221||!_0x1d1b42[_0xe989e2(0x3f1,0x358,0x2cc,0x2d4)](_0xd81c1e,_0x40d8b0[_0x10f44f(0x41e,0x48b,0x38e,0x409)+'ds'],_0x202cea))return;}const _0x291f29={};function _0x10f44f(_0x1fdf6d,_0x40e0be,_0x5d0657,_0xcbf256){return _0x16c20b(_0x40e0be,_0x40e0be-0xa9,_0xcbf256- -0x280,_0xcbf256-0x11e);}_0x291f29[_0x10f44f(0x364,0x439,0x3b2,0x3da)]=_0x40d8b0[_0xe989e2(0x405,0x43b,0x382,0x45e)]||_0x1d1b42[_0x10f44f(0x3d6,0x3d8,0x382,0x36f)],_0x291f29[_0x10f44f(0x2e3,0x36b,0x35b,0x374)]=_0x40d8b0[_0xe989e2(0x3f6,0x3d5,0x349,0x3bd)],_0x47d304[_0xe989e2(0x45b,0x46f,0x3fc,0x41b)](_0x291f29);});}throw new Error('è¯·æ±‚å¤±è´¥:\x20'+_0x2410e5[_0x46f470(0x5f,-0x30,0x117,0x56)]+'\x20'+_0x2410e5[_0x46f470(0x90,0xff,0x109,0x4c)]);}let _0x3e1b1b='';if(_0x244fd6){if(_0x1d1b42[_0x16c20b(0x70d,0x711,0x654,0x5b1)](_0x1d1b42[_0x46f470(0x3d,0xcb,-0x81,0x8d)],_0x1d1b42[_0x46f470(0x3d,0xb4,0x4d,-0x8)])){const _0x5c0e16=_0x2410e5[_0x16c20b(0x6cf,0x739,0x69b,0x74e)][_0x46f470(0x11,-0xae,0xbb,0x1e)](),_0x5befec=new TextDecoder(_0x1d1b42[_0x46f470(0x21,-0x48,-0x6a,-0x3c)]);let _0x244415='';while(!![]){const {done:_0x3e8e3b,value:_0x970b94}=await _0x5c0e16[_0x16c20b(0x5b3,0x60c,0x60b,0x5e5)]();if(_0x3e8e3b)break;const _0x4c1738={};_0x4c1738['stream']=!![],_0x244415+=_0x5befec['decode'](_0x970b94,_0x4c1738);const _0x5a6fe8=_0x244415[_0x46f470(-0x8,0xb2,0x88,0x93)]('\x0a');_0x244415=_0x5a6fe8[_0x16c20b(0x651,0x680,0x6d5,0x63e)]()||'';for(const _0x2ee5ae of _0x5a6fe8){const _0x569377=_0x2ee5ae[_0x16c20b(0x582,0x63c,0x5e2,0x5a9)]();if(!_0x569377||_0x569377===_0x16c20b(0x525,0x684,0x5dd,0x524)+'E]')continue;if(_0x569377[_0x46f470(-0x15,-0xcf,0x15,-0x17)](_0x1d1b42[_0x16c20b(0x581,0x5df,0x5e8,0x53d)]))try{const _0x534341=_0x569377['slice'](0x1bf3+0x2*-0x7bf+0x3*-0x425),_0x266ede=JSON[_0x46f470(0x10b,0x106,0x18d,0x162)](_0x534341),_0xe53cbd=_0x266ede[_0x46f470(0x154,0xde,0x15a,0x140)]?.[0x2*-0x53d+-0x3*-0x9c5+-0x12d5*0x1]?.[_0x16c20b(0x5be,0x4d8,0x55f,0x501)]?.['content'];_0xe53cbd&&(_0x3e1b1b+=_0xe53cbd,_0x567f47&&(_0x1d1b42[_0x46f470(0xbe,0x3c,0xe7,0x19)]===_0x1d1b42[_0x16c20b(0x659,0x6ea,0x62f,0x644)]?_0x1d1b42[_0x46f470(0x64,0x6b,0x92,0xa8)](_0x567f47,_0x3e1b1b):_0x1d1b42['oINOb'](_0x9d5599,_0xe06a4e)));}catch(_0xba74c1){console['warn'](_0x46f470(0xa7,0x2a,0x5b,0xb5),_0xba74c1[_0x46f470(-0x2,-0x9d,-0xc4,0x9b)]);}}}if(_0x244415[_0x16c20b(0x600,0x664,0x5e2,0x5e4)]()&&_0x1d1b42[_0x16c20b(0x5ca,0x687,0x5ce,0x5dc)](_0x244415['trim'](),_0x1d1b42['tMaPa'])&&_0x244415[_0x16c20b(0x543,0x526,0x5e2,0x553)]()[_0x46f470(-0x15,-0xb7,-0x68,0xf)](_0x1d1b42[_0x16c20b(0x563,0x600,0x5e8,0x5f6)]))try{if(_0x1d1b42[_0x16c20b(0x617,0x5a0,0x5ce,0x564)](_0x1d1b42[_0x46f470(0x49,0xaf,0x12,-0x77)],_0x16c20b(0x6a0,0x72d,0x6c4,0x6ef))){_0x742529=_0x100432+(_0x16c20b(0x5b1,0x54f,0x5eb,0x66f)+_0x46f470(-0x1,0x52,-0x2c,0xa8));const _0x1288a0={};_0x1288a0[_0x16c20b(0x4cb,0x5da,0x58d,0x5a8)+'pe']=_0x46f470(-0x3,0x1b,0x26,0x21)+_0x46f470(0x75,-0xc,0xbf,0x107),_0x1288a0[_0x16c20b(0x5d2,0x72f,0x693,0x723)+_0x16c20b(0x665,0x651,0x60a,0x5a6)]=_0x46f470(-0xa,0xb7,0x55,-0x99)+_0x6fb8be,_0x19d3e7=_0x1288a0;const _0x2f3481={};_0x2f3481[_0x16c20b(0x57a,0x611,0x5a5,0x5fe)]=_0xdbe360,_0x2f3481[_0x46f470(0x120,0x6b,0xce,0x1b1)]=_0xe07dc6,_0x2f3481['temperatur'+'e']=_0x384d52,_0x2f3481[_0x46f470(0xed,0x85,0x15b,0xcf)]=_0x4abf9a,_0x2f3481[_0x16c20b(0x5fa,0x593,0x5b0,0x5ab)]=_0x5a94fe,_0x2f3481['stream']=_0x9efd0f,_0x171716=_0x2f3481;}else{const _0x433a39=_0x244415['trim']()['slice'](-0x7cf*-0x2+-0x26ae+-0x5*-0x49e),_0x50a0cf=JSON[_0x46f470(0x10b,0xc8,0x11a,0x15f)](_0x433a39),_0x54b09b=_0x50a0cf['choices']?.[-0x1df0+0x67*-0x45+0x1*0x39b3]?.[_0x16c20b(0x4c6,0x57d,0x55f,0x58d)]?.[_0x16c20b(0x68c,0x684,0x5f4,0x54b)];_0x54b09b&&(_0x3e1b1b+=_0x54b09b,_0x567f47&&_0x1d1b42[_0x46f470(0xa9,0x28,0x135,0x66)](_0x567f47,_0x3e1b1b));}}catch(_0x58a90e){_0x1d1b42[_0x46f470(0x45,0x30,0x70,0x87)](_0x1d1b42['eggfw'],_0x46f470(0xc1,0x30,0xae,0x66))?_0xe2caef[_0x16c20b(0x75f,0x65d,0x6cc,0x70a)](_0x1d1b42[_0x46f470(0x110,0x1b6,0x6d,0x159)],_0x1811d7[_0x16c20b(0x610,0x5cc,0x56f,0x4f6)]):console[_0x16c20b(0x62d,0x61d,0x6cc,0x748)](_0x1d1b42['cUMyl'],_0x58a90e[_0x16c20b(0x570,0x584,0x56f,0x5a9)]);}!_0x3e1b1b&&(_0x3e1b1b=_0x16c20b(0x60e,0x503,0x593,0x5ab),toastr[_0x16c20b(0x56a,0x665,0x5c0,0x53f)](_0xba3104+(':\x20LLM\x20è¯·æ±‚è¿”å›ž'+_0x46f470(0x4,0x49,-0x7e,-0x81)+_0x46f470(0xce,0x150,0x54,0x175)+_0x16c20b(0x5b9,0x56e,0x5bd,0x647)+_0x46f470(0x15f,0x1c1,0x162,0x1c5))));}else return!!_0x4a15fc;}else{const _0x44db2f=await _0x2410e5[_0x46f470(0x113,0x1b7,0x1b6,0x4f)]();if(_0x44db2f[_0x46f470(0x132,0x199,0x112,0x1b8)]){let _0x41c216;if(_0x1d1b42[_0x46f470(0x87,0x0,0x143,0x8)](typeof _0x44db2f['error'],_0x1d1b42[_0x16c20b(0x673,0x5a5,0x60c,0x657)])&&_0x44db2f['error']['message']){_0x41c216=''+_0x44db2f[_0x46f470(0x132,0x11d,0x16a,0x1a7)][_0x16c20b(0x545,0x56b,0x56f,0x525)];const _0xf31a9=[];if(_0x44db2f[_0x46f470(0x132,0x1b7,0x88,0x1da)]['type'])_0xf31a9['push'](_0x16c20b(0x619,0x5b6,0x5aa,0x55f)+_0x44db2f[_0x46f470(0x132,0x135,0xf7,0x171)]['type']);if(_0x44db2f[_0x46f470(0x132,0x177,0x139,0xce)][_0x46f470(0x6b,0xc2,0x49,0x6e)])_0xf31a9[_0x16c20b(0x668,0x740,0x68e,0x5e1)](_0x46f470(0xf4,0xc4,0x56,0x126)+_0x44db2f[_0x16c20b(0x650,0x765,0x6a3,0x699)][_0x16c20b(0x68e,0x520,0x5dc,0x57c)]);if(_0xf31a9['length']>-0x4a5+-0x101*-0x11+-0x6a*0x1e){if(_0x1d1b42[_0x16c20b(0x5ba,0x662,0x67e,0x6ca)](_0x1d1b42[_0x46f470(0x9,-0x9d,-0x8b,0x88)],_0x1d1b42[_0x16c20b(0x5be,0x5dd,0x57a,0x5a9)]))throw _0x50c009;else _0x41c216+='\x20('+_0xf31a9[_0x16c20b(0x512,0x624,0x597,0x543)](',\x20')+')';}}else{if(_0x1d1b42['dtOPw'](_0x1d1b42[_0x46f470(0x155,0x10e,0x208,0x1b7)],_0x1d1b42[_0x46f470(0x48,-0x10,0xf3,-0x7b)]))_0x41c216=''+JSON['stringify'](_0x44db2f[_0x16c20b(0x758,0x60f,0x6a3,0x753)]);else return _0xc3dc4c[_0x16c20b(0x5a0,0x617,0x5a7,0x5e6)](_0x3aaf46,null,-0x16c8+0xf49*-0x1+0x2613);}throw new Error(_0x41c216);}_0x3e1b1b=_0x44db2f[_0x46f470(0x154,0xff,0x1b6,0x131)]?.[-0x141*-0x1f+-0x1*0xf01+-0x17de]?.[_0x46f470(-0x2,-0xa0,-0x31,-0x85)]?.[_0x16c20b(0x675,0x55c,0x5f4,0x57f)]||'';!_0x3e1b1b&&(_0x1d1b42[_0x46f470(0x45,0x4f,0x37,0xa3)](_0x1d1b42[_0x46f470(0x5,0x97,0xb7,-0x48)],_0x1d1b42[_0x16c20b(0x511,0x593,0x576,0x62e)])?_0x1609b4+='\x20('+_0x5c8c2e[_0x16c20b(0x4dd,0x577,0x597,0x657)](',\x20')+')':(_0x3e1b1b=_0x46f470(0x22,0x26,-0x56,-0x4c),toastr[_0x16c20b(0x67d,0x523,0x5c0,0x678)](_0xba3104+(':\x20LLM\x20è¯·æ±‚è¿”å›ž'+_0x16c20b(0x5ed,0x585,0x575,0x618)+_0x46f470(0xce,0x104,0xa8,0x18f)+_0x46f470(0x4c,0x82,0x60,0xa)+_0x16c20b(0x731,0x665,0x6d0,0x740)))));if(_0x567f47){if(_0x1d1b42[_0x16c20b(0x693,0x68b,0x639,0x6f0)](_0x1d1b42[_0x46f470(0x44,-0x5d,-0x26,0x4c)],_0x46f470(0x98,0x19,0xb7,0xbc)))_0x1d1b42[_0x16c20b(0x634,0x62b,0x6b7,0x628)](_0x567f47,_0x3e1b1b);else{const _0x3c39a7=_0x2480b8[_0x326cb5][_0x46f470(0x63,0x3e,-0x4,0xc1)+_0x16c20b(0x638,0x784,0x6d1,0x72a)+'s']||{},_0x1ce881=_0x56fd1e[_0x2f02b4][_0x16c20b(0x6f7,0x5c5,0x688,0x741)+_0x46f470(0x93,0x9d,0x12f,-0x14)+_0x16c20b(0x6b6,0x754,0x6b2,0x62b)];return _0x3c39a7[_0x1ce881]||_0x3c39a7[_0xfc7fdb[_0x46f470(-0xd,-0x1e,0x2f,-0x91)](_0x3c39a7)[-0xab7+-0x4a2+0xf59]]||{};}}}_0x1d1b42['loJZa'](addLog,'\x0a-----\x20LLM'+_0x46f470(0xa,-0x2,0x16,0x41)),_0x1d1b42['LxRaC'](addLog,_0x3e1b1b),addLog(_0x46f470(0x97,0xae,0x10,-0xe)+_0x16c20b(0x55d,0x5ae,0x621,0x6b0)),taskQueue['completeTa'+'sk'](_0x2ed6f6,!![]),llmTaskControllers[_0x16c20b(0x63f,0x6ad,0x672,0x6f7)](_0x2ed6f6);const _0x1fea8d={};_0x1fea8d[_0x16c20b(0x6ae,0x766,0x6c9,0x6a5)]=!![],_0x1fea8d['result']=_0x3e1b1b,_0x1fea8d['id']=_0x1260f5,_0x1fea8d[_0x46f470(0xd,0x6f,-0x9b,-0x8f)]=![],eventSource[_0x16c20b(0x6ac,0x717,0x67b,0x624)](_0x38518a,_0x1fea8d);}catch(_0x5e924b){if(_0x1d1b42[_0x46f470(0xf3,0x15f,0x1b7,0x96)](_0x5e924b[_0x46f470(0x13,0x1d,-0xa1,0x25)],_0x1d1b42[_0x16c20b(0x5d6,0x672,0x64e,0x619)])){const _0x3bd38c=_0x1d1b42[_0x46f470(0x133,0xa1,0xc5,0x1d6)][_0x16c20b(0x560,0x4e0,0x569,0x547)]('|');let _0x25c2a4=0x1283*-0x1+0x1c58+-0x3*0x347;while(!![]){switch(_0x3bd38c[_0x25c2a4++]){case'0':const _0x13f12c={};_0x13f12c[_0x46f470(0x13,0x38,0x4a,0x5d)]=_0x1d1b42[_0x46f470(0xdd,0xef,0x7a,0x69)],_0x13f12c['message']=_0x1d1b42[_0x16c20b(0x6b0,0x637,0x648,0x624)];const _0x1662db={};_0x1662db['success']=![],_0x1662db[_0x16c20b(0x75b,0x6bc,0x6a8,0x64f)]=null,_0x1662db['id']=_0x1260f5,_0x1662db['error']=_0x13f12c,eventSource[_0x46f470(0x10a,0xf6,0x97,0x47)](_0x38518a,_0x1662db);continue;case'1':_0x112972=!![];continue;case'2':taskQueue[_0x16c20b(0x5ae,0x554,0x59b,0x562)+'us'](_0x2ed6f6,TaskStatus[_0x46f470(-0x5,-0x45,-0x97,0xa8)]);continue;case'3':return;case'4':llmTaskControllers['delete'](_0x2ed6f6);continue;}break;}}console[_0x46f470(0x132,0x184,0x163,0x105)](_0xba3104+_0x16c20b(0x6d5,0x67c,0x64d,0x6fe),_0x5e924b);const _0x52c466=_0x46f470(0x16c,0xed,0x1c1,0x141)+_0x5e924b[_0x16c20b(0x4e0,0x4e3,0x56f,0x4bb)];_0x567f47&&(_0x1d1b42['haIYF'](_0x1d1b42['uryic'],_0x46f470(0xbd,0x4,0x1e,0xe3))?_0x1d1b42[_0x16c20b(0x518,0x647,0x587,0x565)](_0x5ea30b,_0x1d1b42[_0x46f470(0x9f,-0x1e,0x133,0xd8)]):_0x1d1b42[_0x16c20b(0x653,0x59b,0x650,0x714)](_0x567f47,_0x52c466));toastr[_0x16c20b(0x74a,0x701,0x6a3,0x5f9)](_0x5e924b[_0x46f470(-0x2,-0x4e,-0x36,-0x83)]),taskQueue[_0x46f470(0x16a,0xeb,0x116,0x112)+'sk'](_0x2ed6f6,![]),llmTaskControllers[_0x46f470(0x101,0x106,0x113,0x9d)](_0x2ed6f6);const _0x4e313c={};_0x4e313c['success']=![],_0x4e313c[_0x46f470(0x137,0xef,0x13a,0x150)]=_0x52c466,_0x4e313c['id']=_0x1260f5,eventSource[_0x46f470(0x10a,0x14e,0x185,0x85)](_0x38518a,_0x4e313c);}finally{_0x46f470(0x2c,0xb3,-0x69,0x7b)!==_0x46f470(0x2c,0xd8,0x54,-0x31)?(_0x623e64[_0x16c20b(0x6dd,0x6ab,0x670,0x727)](),_0x5cb971['info'](_0x1d1b42[_0x16c20b(0x65d,0x6b7,0x653,0x654)])):(currentLLMRequestController===_0x533b41&&(currentLLMRequestController=null),(!_0x112972||_0x1d1b42[_0x46f470(0xc8,0x80,0x16f,0x78)](currentLLMRequestController,null))&&_0x1d1b42['weZXC'](stopFabLoading));}}export async function executeDefaultLLMRequest(_0x3cac04,_0x2a4468,_0x1faf0d=null){function _0x27e424(_0x26c52c,_0x3973b4,_0x5d8d83,_0x7371d1){return _0x1a3c75(_0x26c52c,_0x3973b4-0xff,_0x5d8d83-0x9b,_0x3973b4- -0x14d);}const _0x43c5c8={'cyfZI':_0x439034(0x4e8,0x592,0x51f,0x4dd),'FeEZf':function(_0x2b9845,_0x4f78d9){return _0x2b9845!==_0x4f78d9;},'jFepi':_0x439034(0x535,0x559,0x4d2,0x5a5),'PFwKg':function(_0x5279f4,_0x36b263){return _0x5279f4===_0x36b263;},'DdeuQ':function(_0x41af6b,_0x3584c0){return _0x41af6b===_0x3584c0;},'LxmKn':function(_0x32dc8d,_0x5e1713,_0x4ae9fa){return _0x32dc8d(_0x5e1713,_0x4ae9fa);},'BEbcD':'object','bbBSL':function(_0x473d5c,_0x5aa160){return _0x473d5c>_0x5aa160;},'hEhcF':function(_0x23aad9,_0x1daef3){return _0x23aad9+_0x1daef3;},'RDxPd':_0x27e424(0x64,0x1e,0xb8,-0x36),'PSaxM':function(_0x20153d,_0x3cb985){return _0x20153d!==_0x3cb985;},'svoZs':_0x27e424(-0xa3,-0x24,0x12,0x37)+'PI\x20Key,\x20æˆ–\x20'+_0x27e424(-0x7f,-0x7,-0x20,0xaa),'DUbzb':'AbortError','FuRYx':'1|4|0|3|2|'+'5','VSvjB':_0x439034(0x440,0x4f7,0x47f,0x578)+_0x439034(0x472,0x48a,0x490,0x432),'zplIC':_0x439034(0x473,0x508,0x4e1,0x4ac)+_0x27e424(0xf4,0xae,0x16,0x9b)+_0x439034(0x5ed,0x56d,0x5f1,0x580),'ympQl':_0x439034(0x46b,0x4ec,0x577,0x471)+'e\x20Error:','aefVa':function(_0x3024ce,_0x36c126){return _0x3024ce(_0x36c126);},'NPiGq':function(_0x5c296c,_0x16c0f0){return _0x5c296c===_0x16c0f0;},'KBfqu':function(_0x42c738,_0x566b81){return _0x42c738||_0x566b81;},'LbPkp':'cyyvG','IbtXW':_0x27e424(0x45,0x58,0x75,0x18)+_0x27e424(0x17,0x2e,0x6,-0x83),'xUcnv':_0x27e424(-0x2b,0xf,-0xa5,-0x6),'QLlie':function(_0x473b68){return _0x473b68();},'KjWme':function(_0x2d739a){return _0x2d739a();},'KGscz':function(_0x37ac05,_0x2ded2b){return _0x37ac05(_0x2ded2b);},'ioAkS':function(_0x570d52,_0x557714){return _0x570d52(_0x557714);},'JUTTP':function(_0x37c6a,_0x7025d){return _0x37c6a(_0x7025d);},'PWfwn':function(_0x4fdf48,_0x3c3c50){return _0x4fdf48||_0x3c3c50;},'lzqaf':function(_0x57d0b8,_0x1a8521){return _0x57d0b8!==_0x1a8521;},'vzlFR':_0x27e424(0x2a,-0x18,-0x44,-0x21),'ViNwP':function(_0x587b0b,_0x4fb26e){return _0x587b0b??_0x4fb26e;},'Lsuzk':_0x439034(0x576,0x562,0x609,0x5f6),'GtROb':_0x439034(0x604,0x54d,0x50f,0x4b5),'rXYnS':_0x27e424(0x6a,0x11f,0x143,0x15d)+'nds/chat-c'+_0x27e424(0xcf,0x81,0x7e,0x107)+_0x27e424(0x51,0x8c,0x98,0x29),'mLatn':function(_0x52243c,_0x709d5f){return _0x52243c(_0x709d5f);},'ziBNm':'custom','satvz':_0x27e424(0x19a,0x101,0x4c,0xb0),'lSnyg':_0x439034(0x5fc,0x553,0x5ae,0x4c9)+_0x439034(0x58b,0x509,0x4f4,0x53c),'qXAMs':function(_0x3fd832,_0x213432,_0x1efb19){return _0x3fd832(_0x213432,_0x1efb19);},'JZbtf':_0x439034(0x66b,0x5e3,0x65c,0x5ec),'xAHju':_0x27e424(0x9c,0x36,-0x64,0x0),'QXHau':_0x439034(0x5a7,0x558,0x5cd,0x514)+_0x439034(0x529,0x5c0,0x673,0x578)+_0x439034(0x555,0x4d8,0x500,0x492)+_0x439034(0x5c1,0x4ff,0x4ec,0x571)+'I\x20è¿žæŽ¥é—®é¢˜ã€‚','zBzur':'MQBYb','KIAZg':_0x439034(0x64c,0x591,0x55d,0x5c0),'SvYCC':function(_0x3179b9,_0x5bb859){return _0x3179b9(_0x5bb859);},'lKsXM':_0x439034(0x4fe,0x59c,0x60e,0x5fe),'SqAxG':'KigDq'},{prompt:_0x2d1f9a,id:_0x238496}=_0x3cac04;if(_0x43c5c8[_0x439034(0x596,0x54c,0x51c,0x58c)](!_0x238496,!_0x2d1f9a))return;function _0x439034(_0x3730c0,_0x2f23ee,_0x1872e5,_0x5a1ee3){return _0x548339(_0x2f23ee-0x174,_0x2f23ee-0xf8,_0x1872e5,_0x5a1ee3-0x180);}if(currentLLMRequestController){if(_0x43c5c8['LbPkp']===_0x27e424(0xe4,0x7f,0x47,0x13a))currentLLMRequestController[_0x27e424(0xc1,0xd3,0x10a,0x147)](),toastr['info'](_0x43c5c8[_0x439034(0x44e,0x4a7,0x481,0x51d)]);else{if(_0x13fac0[_0x27e424(0x34,0xcd,0x7c,0xfe)]&&_0x38695b[_0x439034(0x61b,0x592,0x52d,0x595)][_0x27e424(0xf5,0x45,0x7d,-0x78)]()!==''){const _0x25bac5={};_0x25bac5[_0x439034(0x533,0x582,0x591,0x4fc)]=_0x43c5c8[_0x27e424(0x145,0xef,0x102,0x84)],_0x25bac5[_0x439034(0x558,0x51c,0x53e,0x4a7)]=_0x70ac1d[_0x27e424(0x129,0xcd,0xa9,0x67)],_0x15d62e[_0x439034(0x4f7,0x5b6,0x5f9,0x5ea)](_0x25bac5);}if(_0x3df413[_0x439034(0x4a7,0x559,0x542,0x542)]&&_0x43c5c8[_0x27e424(0x12b,0xf9,0x73,0x167)](_0x257931['assistant'][_0x439034(0x4b4,0x50a,0x45f,0x59d)](),'')){const _0x1784f6={};_0x1784f6['role']=_0x43c5c8['jFepi'],_0x1784f6[_0x27e424(-0x14,0x57,0x42,-0x42)]=_0x561874[_0x27e424(0xd4,0x94,0x87,0x29)],_0x43dd16[_0x27e424(0xd0,0xf1,0xb6,0x5d)](_0x1784f6);}}}currentLLMRequestController=new AbortController();const _0x261d6f=currentLLMRequestController['signal'],_0x195611=currentLLMRequestController,_0x3805a3={};_0x3805a3[_0x439034(0x4ab,0x4ac,0x49c,0x538)]=_0x43c5c8[_0x27e424(0x94,0x10c,0x160,0x1b8)],_0x3805a3[_0x439034(0x4ec,0x524,0x576,0x554)]=TaskType['LLM'],_0x3805a3[_0x27e424(0x9d,0xd8,0x5e,0x71)]=_0x238496;const _0x2e475b=taskQueue[_0x439034(0x518,0x555,0x590,0x528)](_0x3805a3);llmTaskControllers[_0x439034(0x533,0x5ad,0x594,0x4f3)](_0x2e475b,currentLLMRequestController),taskQueue[_0x27e424(0x27,-0x2,-0x55,0xa5)+'us'](_0x2e475b,TaskStatus['RUNNING']),_0x43c5c8['QLlie'](startFabLoading);let _0x538e22=![];_0x43c5c8[_0x27e424(0x11b,0x105,0xb7,0x1bb)](clearLog),_0x43c5c8[_0x439034(0x637,0x606,0x599,0x636)](addLog,'=====\x20LLM\x20'+_0x439034(0x5ee,0x5bf,0x5d0,0x62d)+'=='),_0x43c5c8[_0x27e424(0xed,0x141,0xcf,0x1e1)](addLog,_0x439034(0x545,0x4ab,0x432,0x441)+_0x238496),_0x43c5c8[_0x27e424(0x1be,0x13b,0x1dd,0xdb)](addLog,'å‘é€çš„\x20Prompt'+':'),addLog(_0x43c5c8[_0x27e424(0x0,0xaf,0x47,0xc2)](formatPromptForDisplay,_0x2d1f9a));const {api_url:_0x3e9936,api_key:_0x3f01b6,model:_0x415900,temperature:_0x3f283d,top_p:_0x1bea45,max_tokens:_0x519c62,stream:_0x3a934b,bypass_proxy:_0x5b3974}=_0x2a4468;if(_0x43c5c8['PWfwn'](!_0x3e9936,!_0x3f01b6)||!_0x415900){if(_0x43c5c8[_0x27e424(0x129,0x75,-0x43,0x127)](_0x27e424(-0x84,-0x18,-0x9c,-0x67),_0x43c5c8[_0x27e424(0x164,0xfc,0x114,0xf2)])){if(!_0x3c791e['enabled'])return;if(!_0x5c7e6d['content']||_0x43c5c8['PFwKg'](_0x209af0[_0x439034(0x59b,0x51c,0x575,0x4bc)]['trim'](),''))return;if(_0x43c5c8[_0x439034(0x51a,0x50f,0x4f6,0x4a9)](_0x459981[_0x439034(0x582,0x4dc,0x422,0x4ca)+'e'],_0x439034(0x535,0x4d7,0x4d6,0x4fe))){if(!_0x54942f||!_0x43c5c8[_0x439034(0x533,0x5e9,0x606,0x5f3)](_0x3af62a,_0x31ca0b['triggerWor'+'ds'],_0x35d088))return;}const _0x4840f2={};_0x4840f2['role']=_0xfa774c[_0x439034(0x581,0x582,0x598,0x547)]||_0x43c5c8[_0x439034(0x51d,0x5b4,0x592,0x4fc)],_0x4840f2['content']=_0x179ba1[_0x27e424(0xb9,0x57,-0x46,0xf4)],_0x2fc78b[_0x27e424(0xba,0xf1,0xf4,0x187)](_0x4840f2);}else{const _0xeb1fb9=_0x439034(0x51b,0x4a1,0x3fb,0x50f)+'PI\x20Key,\x20æˆ–\x20'+'Model\x20æœªé…ç½®ã€‚';toastr[_0x27e424(0x1c6,0x106,0xf3,0x17d)](_0xeb1fb9);const _0xae23c8={};_0xae23c8[_0x439034(0x67c,0x5f1,0x5e2,0x66f)]=![],_0xae23c8[_0x27e424(0xa1,0x10b,0x1b4,0x52)]=_0xeb1fb9,_0xae23c8['id']=_0x238496,eventSource[_0x439034(0x543,0x5a3,0x54f,0x4f8)](eventNames[_0x439034(0x5eb,0x59f,0x537,0x5ab)+_0x439034(0x5be,0x519,0x472,0x596)],_0xae23c8);return;}}const _0xf5c7fe=_0x3e9936['replace'](/\/$/,'');let _0x269c75,_0x4f51e6,_0x2547e9;if(_0x5b3974){_0x269c75=_0xf5c7fe+(_0x439034(0x51e,0x513,0x4fc,0x4f6)+'letions');const _0x25435c={};_0x25435c[_0x27e424(-0xa1,-0x10,0xac,-0x6d)+'pe']=_0x27e424(0xf,-0x2f,-0xe4,-0x64)+'n/json',_0x25435c[_0x27e424(0xdd,0xf6,0xa0,0x74)+_0x439034(0x477,0x532,0x598,0x5e3)]=_0x439034(0x40f,0x48f,0x4a0,0x492)+_0x3f01b6,_0x4f51e6=_0x25435c,_0x2547e9={'model':_0x415900,'messages':_0x2d1f9a,'temperature':_0x3f283d,'top_p':_0x1bea45,'max_tokens':_0x519c62,'stream':_0x43c5c8[_0x439034(0x652,0x5d2,0x649,0x68a)](_0x3a934b,![])};}else{if(_0x27e424(0x7a,0x9d,0x8b,-0x14)===_0x43c5c8[_0x27e424(-0x7b,-0x1d,0x2b,-0x5c)]){let _0x2b1d05=_0xf5c7fe;!_0x2b1d05[_0x439034(0x52a,0x5e8,0x52b,0x615)](_0x43c5c8[_0x27e424(0x6b,0x125,0x99,0x1aa)])&&!_0x2b1d05[_0x439034(0x567,0x5c7,0x646,0x53c)](_0x43c5c8[_0x439034(0x48f,0x4b9,0x517,0x3f9)])&&(_0x2b1d05=_0x2b1d05+_0x43c5c8[_0x27e424(0x67,0x125,0x1c2,0x1e0)]);_0x2b1d05=_0x2b1d05[_0x439034(0x4e1,0x4e6,0x42d,0x501)](/\/v1\/$/,_0x43c5c8['RDxPd']),_0x269c75=_0x43c5c8[_0x439034(0x4e3,0x481,0x50b,0x3d2)],_0x4f51e6=_0x43c5c8[_0x439034(0x52c,0x58b,0x5a3,0x4ee)](getRequestHeaders,window[_0x439034(0x609,0x5b5,0x551,0x524)]);const _0x5afabc={};_0x5afabc[_0x439034(0x5e0,0x5ae,0x5cc,0x526)+_0x439034(0x44b,0x482,0x508,0x536)+'ce']=_0x43c5c8['ziBNm'],_0x5afabc[_0x439034(0x544,0x5af,0x5cf,0x5e8)]=_0x2b1d05,_0x5afabc[_0x27e424(-0x34,0x7e,0x7c,-0x30)+_0x27e424(-0xa8,0xb,0x45,0x85)+'rs']=_0x439034(0x62c,0x5bb,0x5bf,0x65d)+'ion:\x20\x22Bear'+_0x27e424(0x119,0x85,0x4a,0x76)+_0x3f01b6+'\x22',_0x5afabc[_0x27e424(-0x5c,0x8,0x77,0x16)]=_0x415900,_0x5afabc[_0x439034(0x502,0x5b9,0x551,0x60c)]=_0x2d1f9a,_0x5afabc[_0x27e424(0x125,0x126,0x19a,0x7b)+'e']=_0x3f283d,_0x5afabc[_0x439034(0x527,0x586,0x5f9,0x52c)]=_0x1bea45,_0x5afabc[_0x27e424(-0x55,0x13,0x2e,-0x14)]=_0x519c62,_0x5afabc[_0x27e424(0xf1,0xca,0x58,0x15e)]=![],_0x2547e9=_0x5afabc;}else{let _0x432256;if(typeof _0x3b5f8a[_0x439034(0x609,0x5cb,0x5e5,0x67f)]===_0x43c5c8['BEbcD']&&_0x13f56e[_0x439034(0x514,0x5cb,0x662,0x561)][_0x439034(0x51c,0x497,0x4f8,0x4e5)]){_0x432256=''+_0x421a6d['error'][_0x27e424(0x4c,-0x2e,0x24,0x4d)];const _0x5b75d4=[];if(_0xc61a2e['error'][_0x27e424(0xe0,0x5f,0x2c,0xf)])_0x5b75d4['push'](_0x27e424(0x77,0xd,0xbc,0xa5)+_0x1862e3['error'][_0x27e424(0xf2,0x5f,0x67,0x118)]);if(_0x56cd2a[_0x27e424(0x7c,0x106,0x85,0x19e)][_0x27e424(0x64,0x3f,-0x6b,0xd5)])_0x5b75d4[_0x439034(0x576,0x5b6,0x654,0x5ed)](_0x439034(0x549,0x58d,0x5df,0x60d)+_0x3a79eb['error'][_0x439034(0x465,0x504,0x510,0x569)]);_0x43c5c8['bbBSL'](_0x5b75d4[_0x27e424(0x30,0xce,0xed,0x103)],0x2d*-0x65+0x1cb8+-0xaf7)&&(_0x432256+='\x20('+_0x5b75d4[_0x439034(0x4a9,0x4bf,0x463,0x4d3)](',\x20')+')');}else _0x432256=''+_0x15af78[_0x27e424(-0x2c,0xa,0x75,-0x1d)](_0x1b2e54[_0x439034(0x64a,0x5cb,0x65a,0x60c)]);throw new _0x2f5fd7(_0x432256);}}_0x1faf0d&&(_0x43c5c8[_0x439034(0x57d,0x4d9,0x596,0x531)](_0x43c5c8[_0x439034(0x48b,0x527,0x514,0x46b)],_0x43c5c8[_0x27e424(0x9d,0x62,0xd9,0x9e)])?_0x43c5c8[_0x439034(0x575,0x58b,0x5a5,0x54d)](_0x1faf0d,_0x43c5c8['lSnyg']):_0xdb7d54=_0x43c5c8[_0x27e424(0x92,0xbf,0x68,0x32)](_0x2bb373,_0x43c5c8[_0x27e424(0x124,0x125,0x1e7,0x130)]));try{const _0x49dd8a=await _0x43c5c8[_0x439034(0x50e,0x48d,0x4a4,0x49e)](fetch,_0x269c75,{'method':_0x43c5c8[_0x439034(0x4fa,0x52b,0x578,0x4a2)],'headers':_0x4f51e6,'body':JSON[_0x27e424(-0x49,0xa,0x3b,0x9a)](_0x2547e9),'signal':_0x261d6f}),_0x4440dc=await _0x49dd8a['json']();if(_0x4440dc[_0x439034(0x686,0x5cb,0x623,0x56b)]){let _0x227d6c;if(typeof _0x4440dc[_0x27e424(0x12b,0x106,0x18f,0x133)]===_0x43c5c8[_0x27e424(0xa5,-0x13,0x80,-0xaf)]&&_0x4440dc[_0x439034(0x62b,0x5cb,0x65b,0x59e)]['message']){_0x227d6c=''+_0x4440dc[_0x27e424(0x143,0x106,0x4e,0x17c)][_0x27e424(0x93,-0x2e,0x80,-0x2a)];const _0x4cf671=[];if(_0x4440dc[_0x27e424(0x1a5,0x106,0x16f,0x18b)][_0x27e424(0xba,0x5f,0x3b,0xa4)])_0x4cf671[_0x439034(0x59a,0x5b6,0x4fa,0x525)](_0x27e424(0xc0,0xd,-0x46,0x87)+_0x4440dc[_0x439034(0x5f0,0x5cb,0x543,0x5e6)][_0x439034(0x46c,0x524,0x4ca,0x5d5)]);if(_0x4440dc[_0x27e424(0x16e,0x106,0x111,0x1b6)][_0x439034(0x514,0x504,0x54b,0x4d8)])_0x4cf671[_0x27e424(0xa1,0xf1,0x35,0x67)](_0x27e424(0x179,0xc8,0x148,0x157)+_0x4440dc[_0x439034(0x51b,0x5cb,0x549,0x66a)][_0x439034(0x5af,0x504,0x493,0x487)]);_0x43c5c8[_0x27e424(0xf7,0x72,0x6f,0x50)](_0x4cf671[_0x439034(0x606,0x593,0x4ed,0x536)],0x48b+-0x157a+0x10ef)&&(_0x227d6c+='\x20('+_0x4cf671[_0x439034(0x498,0x4bf,0x47e,0x578)](',\x20')+')');}else _0x43c5c8[_0x27e424(0x174,0x135,0x1cb,0x88)]!==_0x43c5c8[_0x439034(0x66a,0x5fa,0x655,0x612)]?_0x1b33d0[_0x27e424(-0x28,0x59,0x4f,0x119)][_0x439034(0x5a2,0x5f2,0x6a7,0x5ce)](_0xe64df9=>{function _0x3fe6f8(_0x118252,_0x5544cb,_0x8db3ad,_0x5462d1){return _0x27e424(_0x8db3ad,_0x5544cb-0x598,_0x8db3ad-0x120,_0x5462d1-0x1c0);}function _0x3918a0(_0x18f494,_0x3ad554,_0x2275d4,_0x16884b){return _0x439034(_0x18f494-0x175,_0x16884b- -0x60e,_0x18f494,_0x16884b-0x6e);}if(_0xe64df9[_0x3fe6f8(0x654,0x665,0x6fd,0x660)]&&_0x43c5c8[_0x3fe6f8(0x647,0x599,0x4f5,0x65b)](_0xe64df9[_0x3fe6f8(0x67f,0x665,0x5e6,0x5bf)][_0x3918a0(-0xf5,-0x78,-0x187,-0x104)](),'')){const _0x9f9210={};_0x9f9210[_0x3918a0(-0x25,-0x6e,-0xd5,-0x8c)]=_0x43c5c8[_0x3918a0(-0x25,-0x1c,-0xc7,-0x5a)],_0x9f9210[_0x3fe6f8(0x57e,0x5ef,0x632,0x597)]=_0xe64df9[_0x3918a0(-0x105,-0x26,-0x59,-0x7c)],_0x461f03['push'](_0x9f9210);}if(_0xe64df9['assistant']&&_0xe64df9['assistant'][_0x3918a0(-0x1a9,-0xbb,-0x16d,-0x104)]()!==''){const _0x3c9a77={};_0x3c9a77[_0x3918a0(0x12,-0x129,-0xc6,-0x8c)]=_0x43c5c8[_0x3918a0(-0x175,-0x13b,-0x72,-0x107)],_0x3c9a77[_0x3918a0(-0x134,-0xab,-0x187,-0xf2)]=_0xe64df9['assistant'],_0x45e84f['push'](_0x3c9a77);}}):_0x227d6c=''+JSON['stringify'](_0x4440dc['error']);throw new Error(_0x227d6c);}if(!_0x49dd8a['ok'])throw new Error(_0x439034(0x570,0x56c,0x555,0x5ed)+_0x49dd8a[_0x439034(0x4a9,0x4f8,0x525,0x5a0)]+'\x20'+_0x49dd8a[_0x439034(0x592,0x529,0x499,0x5a0)]);const _0x5f112b=_0x4440dc[_0x439034(0x60f,0x5ed,0x5ac,0x5d2)]?.[0x115f+-0x6d+-0x10f2*0x1]?.[_0x27e424(0x21,-0x2e,0x94,-0x5c)]?.[_0x27e424(0xf2,0x57,0x25,-0x40)]||'';!_0x5f112b&&toastr[_0x27e424(0x33,0x23,-0x5a,-0x64)](_0x43c5c8[_0x439034(0x478,0x4b0,0x4aa,0x513)]);if(_0x1faf0d){if(_0x43c5c8[_0x27e424(0x18d,0x118,0x1c6,0x8f)]===_0x43c5c8[_0x439034(0x5c7,0x587,0x5c8,0x519)]){const _0x77cf96=_0x43c5c8[_0x439034(0x50d,0x4e4,0x431,0x425)];_0x242975[_0x27e424(0xd7,0x106,0x8a,0x17b)](_0x77cf96);const _0xed7a89={};_0xed7a89[_0x27e424(0xa5,0x12c,0xa8,0x181)]=![],_0xed7a89['result']=_0x77cf96,_0xed7a89['id']=_0x5359d6,_0x583be2[_0x27e424(0x167,0xde,0x191,0xf3)](_0x23486a[_0x439034(0x5e2,0x59f,0x4e3,0x562)+_0x439034(0x4a4,0x519,0x53a,0x4be)],_0xed7a89);return;}else _0x1faf0d(_0x5f112b);}_0x43c5c8[_0x27e424(0xd3,0xc6,0x14d,0x98)](addLog,_0x439034(0x599,0x5d5,0x60c,0x60a)+_0x27e424(-0x42,-0x22,0x9c,-0xa)),_0x43c5c8[_0x27e424(0x27,-0x12,0x26,0x72)](addLog,_0x5f112b),_0x43c5c8['JUTTP'](addLog,_0x439034(0x5d0,0x530,0x4f4,0x5c2)+_0x439034(0x579,0x549,0x581,0x55c)),taskQueue[_0x439034(0x56f,0x603,0x57b,0x6b0)+'sk'](_0x2e475b,!![]),llmTaskControllers['delete'](_0x2e475b);const _0x5bf15d={};_0x5bf15d[_0x439034(0x66a,0x5f1,0x55e,0x5b6)]=!![],_0x5bf15d[_0x439034(0x5dc,0x5d0,0x5d5,0x68b)]=_0x5f112b,_0x5bf15d['id']=_0x238496,eventSource[_0x27e424(0xe7,0xde,0xa0,0x119)](eventNames[_0x439034(0x5ea,0x59f,0x5e7,0x567)+'E_RESPONSE'],_0x5bf15d);}catch(_0x7e9465){if(_0x43c5c8[_0x439034(0x51b,0x55c,0x60e,0x526)](_0x43c5c8[_0x439034(0x53d,0x5e5,0x528,0x59a)],_0x439034(0x455,0x4e9,0x505,0x530))){if(_0x127192[_0x27e424(-0xa9,-0x19,-0xb4,0x3d)]===_0x43c5c8[_0x27e424(0x54,0x4d,0x93,0xc2)]){const _0x179fba=_0x43c5c8['FuRYx'][_0x27e424(0x74,-0x34,-0x94,-0xb0)]('|');let _0xea9de9=-0x147c+0x18d7*-0x1+0x2d53;while(!![]){switch(_0x179fba[_0xea9de9++]){case'0':_0x4b4054[_0x439034(0x557,0x4c3,0x43b,0x4bb)+'us'](_0x368951,_0x244c9a['CANCELLED']);continue;case'1':_0x14b391=!![];continue;case'2':const _0x4910da={};_0x4910da[_0x439034(0x4b6,0x4ac,0x44c,0x4cd)]=_0x43c5c8[_0x27e424(-0x25,0x4d,-0x2d,-0x61)],_0x4910da['message']=_0x43c5c8[_0x439034(0x4f8,0x589,0x553,0x51c)];const _0x41805a={};_0x41805a['success']=![],_0x41805a[_0x439034(0x5bf,0x5d0,0x646,0x5a0)]=null,_0x41805a['id']=_0x4afea0,_0x41805a[_0x439034(0x55f,0x5cb,0x598,0x50b)]=_0x4910da,_0x5c47bf[_0x27e424(0xc2,0xde,0x7c,0xd8)](_0x25add2[_0x27e424(0x20,0xda,0x59,0x58)+_0x27e424(0x2d,0x54,0xd1,0xd0)],_0x41805a);continue;case'3':_0x1f253c['delete'](_0x43006f);continue;case'4':_0x1a0230['log'](_0x43c5c8[_0x439034(0x559,0x581,0x4f9,0x624)]);continue;case'5':return;}break;}}_0x45323e[_0x27e424(0x5f,0x106,0x11f,0x42)](_0x43c5c8['ympQl'],_0x54eec7);const _0x45c46b=_0x439034(0x6b5,0x605,0x5d1,0x57d)+_0x1eff25[_0x439034(0x54b,0x497,0x478,0x43b)];_0x44de8a&&_0x43c5c8['aefVa'](_0x2f465c,_0x45c46b);_0x52723c[_0x27e424(0xd5,0x106,0x9f,0x18a)](_0x3bcc0d[_0x439034(0x3fb,0x497,0x525,0x406)]),_0x392c5a[_0x439034(0x694,0x603,0x58b,0x657)+'sk'](_0x4d58be,![]),_0x2b807d[_0x27e424(0x149,0xd5,0x53,0x197)](_0x4f7334);const _0x2b440f={};_0x2b440f[_0x439034(0x578,0x5f1,0x590,0x609)]=![],_0x2b440f[_0x27e424(0x148,0x10b,0x17f,0xac)]=_0x45c46b,_0x2b440f['id']=_0xba7f25,_0x5b053f[_0x27e424(0x61,0xde,0xf9,0x94)](_0x726d07[_0x27e424(0x13a,0xda,0xb1,0x92)+_0x27e424(-0x27,0x54,0x113,-0x5c)],_0x2b440f);}else{if(_0x43c5c8[_0x27e424(0x14d,0x97,0x51,0x157)](_0x7e9465[_0x27e424(0x62,-0x19,0x8e,0x1d)],_0x43c5c8['DUbzb'])){_0x538e22=!![],console[_0x439034(0x46a,0x52e,0x46a,0x50d)](_0x43c5c8[_0x27e424(0x133,0xbc,0xc5,0xd3)]),taskQueue[_0x439034(0x43b,0x4c3,0x56c,0x444)+'us'](_0x2e475b,TaskStatus[_0x439034(0x4c7,0x494,0x4ed,0x44c)]),llmTaskControllers[_0x27e424(0x119,0xd5,0x151,0xd6)](_0x2e475b);const _0x5135f2={};_0x5135f2[_0x439034(0x45a,0x4ac,0x541,0x560)]=_0x43c5c8[_0x27e424(0x5,0x4d,-0x37,-0x74)],_0x5135f2[_0x27e424(0x72,-0x2e,-0xa,0x61)]=_0x43c5c8[_0x27e424(0x87,0xc4,0x134,0x16e)];const _0x2ccb1c={};_0x2ccb1c[_0x27e424(0x99,0x12c,0x10c,0x14c)]=![],_0x2ccb1c[_0x439034(0x5a8,0x5d0,0x54a,0x521)]=null,_0x2ccb1c['id']=_0x238496,_0x2ccb1c['error']=_0x5135f2,eventSource[_0x27e424(0x96,0xde,0x74,0x8a)](eventNames[_0x27e424(0x85,0xda,0x191,0x11a)+_0x27e424(0xe9,0x54,0xc8,0x3c)],_0x2ccb1c);return;}console['error'](_0x43c5c8[_0x27e424(0x3e,-0x42,-0xf7,-0x3a)],_0x7e9465);const _0x200361=_0x27e424(0xad,0x140,0xdb,0xa6)+_0x7e9465['message'];_0x1faf0d&&_0x43c5c8['aefVa'](_0x1faf0d,_0x200361);toastr['error'](_0x7e9465[_0x439034(0x4e8,0x497,0x449,0x4ab)]),taskQueue[_0x439034(0x5e2,0x603,0x55e,0x571)+'sk'](_0x2e475b,![]),llmTaskControllers[_0x439034(0x52c,0x59a,0x64e,0x50b)](_0x2e475b);const _0x517db7={};_0x517db7['success']=![],_0x517db7['result']=_0x200361,_0x517db7['id']=_0x238496,eventSource[_0x27e424(0x15f,0xde,0x89,0xc6)](eventNames[_0x439034(0x57b,0x59f,0x5b6,0x524)+_0x27e424(0x1a,0x54,-0x3,0x28)],_0x517db7);}}finally{if(_0x439034(0x686,0x5d3,0x517,0x697)===_0x43c5c8[_0x439034(0x5de,0x569,0x583,0x532)])_0x43c5c8['DdeuQ'](currentLLMRequestController,_0x195611)&&(currentLLMRequestController=null),(!_0x538e22||currentLLMRequestController===null)&&_0x43c5c8[_0x439034(0x566,0x5ca,0x53a,0x676)](stopFabLoading);else{let _0x29d2c9;if(_0x43c5c8['NPiGq'](typeof _0x5249e4[_0x27e424(0x179,0x106,0x161,0x142)],_0x43c5c8[_0x27e424(-0x1c,-0x13,-0xbd,-0x18)])&&_0x3c48ce['error']['message']){_0x29d2c9=''+_0x39b863[_0x27e424(0x16a,0x106,0xa5,0xc6)][_0x27e424(-0xb,-0x2e,0x56,0x1a)];const _0x1be654=[];if(_0x49053d[_0x27e424(0x168,0x106,0xbb,0x1b9)][_0x439034(0x5b3,0x524,0x4e9,0x5cf)])_0x1be654[_0x439034(0x674,0x5b6,0x512,0x519)](_0x27e424(-0x1a,0xd,-0x9,-0x48)+_0x2b4c71['error'][_0x27e424(-0x7,0x5f,0x37,0x40)]);if(_0x186c65[_0x439034(0x536,0x5cb,0x65e,0x686)][_0x27e424(0xc9,0x3f,0x10,0xbb)])_0x1be654['push'](_0x27e424(0xb4,0xc8,0x72,0x25)+_0x170fea[_0x27e424(0xe7,0x106,0x15f,0x79)][_0x439034(0x497,0x504,0x53a,0x498)]);_0x43c5c8[_0x439034(0x516,0x537,0x4f2,0x4c5)](_0x1be654[_0x439034(0x511,0x593,0x5f4,0x655)],-0x10f*0x7+-0x502+-0xbb*-0x11)&&(_0x29d2c9+='\x20('+_0x1be654[_0x27e424(-0xa1,-0x6,-0x6,-0xc6)](',\x20')+')');}else _0x29d2c9=''+_0x37fee5[_0x27e424(-0xa6,0xa,0x2b,0x70)](_0xe7b08e[_0x439034(0x53d,0x5cb,0x678,0x514)]);throw new _0xdbe40f(_0x29d2c9);}}}export function createGetPromptHandler(_0x205c62,_0x4e58fd){function _0x15dd81(_0x42bbe3,_0x20cc48,_0xe53e40,_0x586005){return _0x1a3c75(_0x42bbe3,_0x20cc48-0x148,_0xe53e40-0x99,_0x20cc48- -0x12f);}const _0x301895={};function _0xbf8f75(_0x4f71c1,_0x32f499,_0x526f7e,_0x52df3c){return _0x548339(_0x4f71c1- -0x4f2,_0x32f499-0xcb,_0x52df3c,_0x52df3c-0xca);}_0x301895[_0x15dd81(0x29,0x8e,0x142,0xa4)]=function(_0x1a31ae,_0x5dff1d){return _0x1a31ae===_0x5dff1d;},_0x301895['bdEPR']=_0x15dd81(0x143,0x98,0xb2,0x15);const _0x43fe16=_0x301895;return function(_0x485179){function _0x17cca1(_0x3a923e,_0x56ed4b,_0x44b0a0,_0x2efab0){return _0xbf8f75(_0x56ed4b-0xdf,_0x56ed4b-0x1ec,_0x44b0a0-0x94,_0x44b0a0);}function _0xa55261(_0x500180,_0x4650f6,_0x887fae,_0x4b4062){return _0x15dd81(_0x4b4062,_0x500180- -0x5b,_0x887fae-0x64,_0x4b4062-0xa8);}if(_0x43fe16[_0x17cca1(0x17,-0x52,0x41,0x21)](_0x43fe16['bdEPR'],_0x43fe16[_0xa55261(0xff,0x17e,0x143,0xe9)])){const {id:_0x50683e}=_0x485179;if(!_0x50683e)return;const _0x32e125=REQUEST_TYPE_NAMES[_0x205c62]||_0x205c62;console[_0xa55261(0x2c,-0x87,0x5c,-0x87)](_0xa55261(0x68,0x38,0xda,0x102)+_0xa55261(0x9,-0xb0,-0x59,-0x98)+_0x32e125+(_0xa55261(-0x3b,-0xb4,-0xe5,0x7)+_0xa55261(-0x39,-0xa1,-0xac,0x3c))+_0x50683e+')');const _0x1970a7=buildPromptForRequestType(_0x205c62),_0x36b80c={};_0x36b80c['prompt']=_0x1970a7,_0x36b80c['id']=_0x50683e,eventSource[_0x17cca1(0xbe,0x1c,0x96,0xd9)](_0x4e58fd,_0x36b80c);}else return _0x8b7e3c;};}export function createExecuteHandler(_0x2f5278,_0x49c6c9,_0x5d049e=null){const _0x3854fa={'urMdH':function(_0x1c0faf){return _0x1c0faf();},'lZqkv':function(_0x4ab01e,_0x5d1eff,_0x7d318,_0x5f23fa,_0x4b8997){return _0x4ab01e(_0x5d1eff,_0x7d318,_0x5f23fa,_0x4b8997);}};return async function(_0x5dbddd){function _0x3aa951(_0x4325b9,_0x34152f,_0x283949,_0x44976e){return _0x6c2f(_0x34152f- -0xb2,_0x4325b9);}const _0x475a22=_0x5d049e?_0x3854fa[_0x4e5b4a(0x384,0x2d7,0x41a,0x3bf)](_0x5d049e):null;function _0x4e5b4a(_0x3b1074,_0x24fae3,_0x25bcc1,_0x57340c){return _0x6c2f(_0x3b1074-0xcf,_0x25bcc1);}await _0x3854fa[_0x3aa951(0x198,0xfd,0xb9,0x95)](executeTypedLLMRequest,_0x5dbddd,_0x2f5278,_0x49c6c9,_0x475a22);};}
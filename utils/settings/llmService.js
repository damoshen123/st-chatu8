(function(_0x5bb261,_0x3a01f5){function _0x35b4e5(_0x121f26,_0x18a2e0,_0x3c3708,_0x39f8b7){return _0x1db8(_0x3c3708- -0x232,_0x121f26);}const _0x3444f6=_0x5bb261();function _0x15531b(_0x376a7e,_0xed932d,_0x39771e,_0x382963){return _0x1db8(_0x376a7e- -0xf7,_0x39771e);}while(!![]){try{const _0x5c882e=-parseInt(_0x35b4e5(0x59,-0x20,0x4e,0x40))/(0x1cf4+0x3be*-0x9+0x4bb)*(parseInt(_0x15531b(0xf7,0x141,0x113,0x127))/(0x472+-0x2522+0x20b2))+-parseInt(_0x15531b(0x107,0x129,0xeb,0x184))/(0x40d*0x3+-0x12cb*0x2+0x2*0xcb9)*(parseInt(_0x15531b(0x15a,0x1cd,0x136,0xfc))/(-0xf*0x10f+0x2*-0x10a2+0x3129))+parseInt(_0x35b4e5(0x32,-0x2e,0x36,-0x4d))/(-0x732+0x1*-0x203f+0x2*0x13bb)*(parseInt(_0x35b4e5(-0x17,-0x10e,-0x6f,0x26))/(-0x7*-0x175+0x9ea+0x1417*-0x1))+parseInt(_0x35b4e5(0x13,-0x42,-0x3f,-0xba))/(-0x133*-0xa+-0xbf1*-0x1+-0xbf4*0x2)+parseInt(_0x35b4e5(-0x8d,-0x137,-0x9f,-0xff))/(-0x1a27+-0x2f*-0xab+-0x536)+-parseInt(_0x15531b(0x7a,0xee,0x5e,0x4a))/(-0x885*-0x1+-0x863*0x4+0x1*0x1910)+parseInt(_0x15531b(0xa5,0x3e,0x107,0xd3))/(0x32*-0x73+0x1c68+0x38*-0x1b);if(_0x5c882e===_0x3a01f5)break;else _0x3444f6['push'](_0x3444f6['shift']());}catch(_0x31a964){_0x3444f6['push'](_0x3444f6['shift']());}}}(_0x59c4,-0x1cf4e*0x3+0xa3a8+0x88b48));const _0x21a13d=(function(){function _0x265cc0(_0x205a54,_0xe95b6e,_0x35f761,_0x37839c){return _0x1db8(_0x35f761- -0xe3,_0xe95b6e);}const _0x5eed1d={'iSrjJ':function(_0x39dec4,_0x1bb428){return _0x39dec4!==_0x1bb428;},'qljFh':_0x265cc0(0x144,0x111,0x100,0x6a),'HotIO':function(_0x21e735,_0x535d3f){return _0x21e735(_0x535d3f);}};let _0x3792c0=!![];return function(_0x42d1e2,_0x374320){const _0x3b70a1={'KZrWc':function(_0x4d9c37,_0x2b03db){function _0x1d3537(_0x575a77,_0x59144e,_0x33d5ad,_0x586dbc){return _0x1db8(_0x575a77-0x1ed,_0x586dbc);}return _0x5eed1d[_0x1d3537(0x42d,0x48b,0x387,0x4c7)](_0x4d9c37,_0x2b03db);}},_0x2aea20=_0x3792c0?function(){function _0x4ae41f(_0x14f5b0,_0x4b19a6,_0x16ee43,_0x42669d){return _0x1db8(_0x16ee43-0x2b5,_0x14f5b0);}function _0x249b3b(_0x2a406a,_0x3c8f62,_0x1ab6bc,_0x3cba31){return _0x1db8(_0x3cba31- -0x244,_0x2a406a);}if(_0x5eed1d[_0x4ae41f(0x44e,0x3e8,0x489,0x462)](_0x5eed1d[_0x4ae41f(0x4fe,0x5ba,0x517,0x541)],_0x5eed1d[_0x249b3b(0x11,0x2f,0xc6,0x1e)]))_0x4e52dd+=_0x50a6c7,_0x2226bf&&_0x3b70a1[_0x249b3b(-0xbc,-0x96,-0xa3,-0x10f)](_0x151906,_0x594fb0);else{if(_0x374320){const _0x43454f=_0x374320['apply'](_0x42d1e2,arguments);return _0x374320=null,_0x43454f;}}}:function(){};return _0x3792c0=![],_0x2aea20;};}()),_0x3343d9=_0x21a13d(this,function(){function _0x477643(_0x1fb589,_0x248799,_0x59fd9a,_0x4e68be){return _0x1db8(_0x248799- -0x38b,_0x1fb589);}function _0xd02f5b(_0x6518d9,_0x32ab79,_0x3d04c0,_0x4f815c){return _0x1db8(_0x6518d9- -0x15b,_0x32ab79);}const _0x1d3de3={};_0x1d3de3[_0xd02f5b(0x23,-0x2d,0xc8,-0x10)]=_0xd02f5b(0x59,0xac,0x43,0xaa)+'+$';const _0x2c31d5=_0x1d3de3;return _0x3343d9[_0xd02f5b(0xc3,0x2b,0x145,0x30)]()[_0xd02f5b(0x1d,0x5e,0x56,-0x20)](_0x2c31d5[_0xd02f5b(0x23,0x2e,-0x6,0x29)])[_0x477643(-0x1b2,-0x16d,-0xd1,-0x20c)]()['constructo'+'r'](_0x3343d9)['search'](_0x2c31d5[_0x477643(-0x272,-0x20d,-0x1cc,-0x1d2)]);});_0x3343d9();import{extension_settings}from'../../../../../extensions.js';import{eventSource}from'../../../../../../script.js';import{extensionName,eventNames,LLMRequestTypes}from'../config.js';import{getRequestHeaders,clearLog,addLog}from'../utils.js';import{startFabLoading,stopFabLoading}from'./fab.js';import{checkTriggerWords,mergeAdjacentMessages}from'../promptProcessor.js';import{processRollPlaceholders}from'./rollProcessor.js';function _0x21c9cb(_0x4c3d8a,_0x339ff8,_0x4e83ba,_0x2f90a8){return _0x1db8(_0x2f90a8-0x1d4,_0x339ff8);}function _0x1db8(_0x466a03,_0x43f2c5){const _0x47f2b8=_0x59c4();return _0x1db8=function(_0x4ac89c,_0x19e1de){_0x4ac89c=_0x4ac89c-(0x23ad+-0x7b4*0x1+-0xf*0x1c9);let _0x563147=_0x47f2b8[_0x4ac89c];if(_0x1db8['SUdMne']===undefined){var _0x1eea42=function(_0x49e8a6){const _0x56d3c3='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x363bcf='',_0x9e37ad='',_0x365992=_0x363bcf+_0x1eea42;for(let _0x4bb8c5=-0xf17*-0x2+-0x21ab+0x37d,_0x5d8aff,_0x25ad9f,_0x4931ad=-0x361+-0xc*-0x1e7+0x1*-0x1373;_0x25ad9f=_0x49e8a6['charAt'](_0x4931ad++);~_0x25ad9f&&(_0x5d8aff=_0x4bb8c5%(0x2*0xb48+0x11d6+-0x2862)?_0x5d8aff*(0x8bd*0x1+0xf45+-0x17c2)+_0x25ad9f:_0x25ad9f,_0x4bb8c5++%(-0x1d28+0x2542+-0x816))?_0x363bcf+=_0x365992['charCodeAt'](_0x4931ad+(-0x4*0x7a+-0x8*-0x48f+-0x2286))-(-0x9fd*-0x3+-0x4*0x38d+0x1*-0xfb9)!==-0x1688+-0x15f1+0x2c79?String['fromCharCode'](-0x19*-0x85+-0x216e+0x1570&_0x5d8aff>>(-(-0x1*-0x2151+0x1*-0x1c87+0x3*-0x198)*_0x4bb8c5&-0xe2b+0x11e3+-0x1d9*0x2)):_0x4bb8c5:-0x25ac+0xfa7*0x1+0x3*0x757){_0x25ad9f=_0x56d3c3['indexOf'](_0x25ad9f);}for(let _0x27a1e1=0x1f47+-0x1*0x2126+0x1df*0x1,_0x499f10=_0x363bcf['length'];_0x27a1e1<_0x499f10;_0x27a1e1++){_0x9e37ad+='%'+('00'+_0x363bcf['charCodeAt'](_0x27a1e1)['toString'](-0xb*0x2da+-0x1554+-0x2*-0x1a61))['slice'](-(-0x22f*0xf+-0x152d+-0x35f0*-0x1));}return decodeURIComponent(_0x9e37ad);};_0x1db8['XWtCUg']=_0x1eea42,_0x466a03=arguments,_0x1db8['SUdMne']=!![];}const _0x7129b0=_0x47f2b8[0x20f2+0x149*0x6+0x8*-0x515],_0x19ad04=_0x4ac89c+_0x7129b0,_0x43483e=_0x466a03[_0x19ad04];if(!_0x43483e){const _0x7af86=function(_0x2dc771){this['Pmtonz']=_0x2dc771,this['fjaDSq']=[-0xdbf+-0xbab+0x196b,-0xc69+-0x25*0x3d+0x153a,-0x3e1*-0x9+-0x3b1+0x3e7*-0x8],this['yxERqV']=function(){return'newState';},this['aBDBDu']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['zyfjvS']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x7af86['prototype']['RTJaej']=function(){const _0x5db097=new RegExp(this['aBDBDu']+this['zyfjvS']),_0x4608a6=_0x5db097['test'](this['yxERqV']['toString']())?--this['fjaDSq'][-0x1d09*0x1+0x1682+0x13*0x58]:--this['fjaDSq'][-0xef*-0x27+-0xb15*-0x3+-0x45a8*0x1];return this['EXIdvR'](_0x4608a6);},_0x7af86['prototype']['EXIdvR']=function(_0x88b2f9){if(!Boolean(~_0x88b2f9))return _0x88b2f9;return this['yAkbkD'](this['Pmtonz']);},_0x7af86['prototype']['yAkbkD']=function(_0xead521){for(let _0x260d45=-0x7ce+0x1b72+-0x13a4,_0x5c86bc=this['fjaDSq']['length'];_0x260d45<_0x5c86bc;_0x260d45++){this['fjaDSq']['push'](Math['round'](Math['random']())),_0x5c86bc=this['fjaDSq']['length'];}return _0xead521(this['fjaDSq'][0x6b*0x1+0x6*-0x2+0x13*-0x5]);},new _0x7af86(_0x1db8)['RTJaej'](),_0x563147=_0x1db8['XWtCUg'](_0x563147),_0x466a03[_0x19ad04]=_0x563147;}else _0x563147=_0x43483e;return _0x563147;},_0x1db8(_0x466a03,_0x43f2c5);}let currentLLMRequestController=null;export function getLLMRequestController(){return currentLLMRequestController;}export function setLLMRequestController(_0x2e6f58){currentLLMRequestController=_0x2e6f58;}export function isLLMRequestActive(){return!!currentLLMRequestController;}export function abortLLMRequest(){function _0x14f948(_0x4243a8,_0x1e3a0c,_0x3439ac,_0x3bb6a9){return _0x1db8(_0x3bb6a9-0x3af,_0x3439ac);}const _0x192e13={};_0x192e13[_0x14f948(0x536,0x4c7,0x557,0x4f4)]=function(_0x31a998,_0x11943c){return _0x31a998!==_0x11943c;},_0x192e13[_0x21a103(0xeb,0x7d,0x193,0x191)]='GViAT',_0x192e13['MmAmy']=_0x14f948(0x478,0x4b6,0x53b,0x4e2);function _0x21a103(_0x47e48b,_0x2f66d9,_0x4224b1,_0x48d675){return _0x1db8(_0x47e48b- -0xfe,_0x48d675);}_0x192e13[_0x21a103(0x101,0x119,0x9d,0x18a)]='LLM\x20è¯·æ±‚å·²ä¸­æ­¢ã€‚';const _0xbe2d73=_0x192e13;if(currentLLMRequestController){if(_0xbe2d73[_0x21a103(0x47,0x2e,0xdb,0xd2)](_0xbe2d73[_0x14f948(0x5cf,0x506,0x53e,0x598)],_0xbe2d73[_0x21a103(0x51,0x7d,0x66,0x93)]))currentLLMRequestController[_0x21a103(0xec,0xbe,0x50,0x81)](),toastr['info'](_0xbe2d73[_0x14f948(0x5dc,0x578,0x576,0x5ae)]);else return!!_0x3b62d1[_0x5d610b][_0x14f948(0x586,0x62d,0x63e,0x5c2)+'e'];}}export function isLLMTestMode(){function _0x30172e(_0x47835d,_0x4236fa,_0x2d469e,_0x4e5997){return _0x1db8(_0x4236fa-0x101,_0x2d469e);}return!!extension_settings[extensionName][_0x30172e(0x29a,0x314,0x321,0x397)+'e'];}export function formatPromptForDisplay(_0xc671db){function _0x435d68(_0x18827a,_0x41138a,_0x5844de,_0x43bed2){return _0x1db8(_0x43bed2- -0x3e2,_0x18827a);}function _0x56e57d(_0x23bd56,_0x31e18b,_0x2de078,_0x3ef654){return _0x1db8(_0x23bd56- -0x264,_0x2de078);}const _0x4c195e={'zDeHc':'æµ‹è¯•æ¨¡å¼æç¤º','ePJAi':'ä»£ç :','UoWhb':function(_0x169fa9,_0x27480e){return _0x169fa9===_0x27480e;},'gnqcq':function(_0x7aebe7,_0x4344c6){return _0x7aebe7>_0x4344c6;},'gFsap':function(_0x1526a3,_0x42f8ee){return _0x1526a3===_0x42f8ee;},'TtoMs':_0x435d68(-0x19f,-0x19e,-0x13a,-0x195),'OoLdH':function(_0x37a898,_0x549a91){return _0x37a898!==_0x549a91;},'ZgWbU':_0x435d68(-0x2c3,-0x24c,-0x24d,-0x263),'OLavk':_0x435d68(-0x28d,-0x19b,-0x1f7,-0x204),'nHEnM':_0x435d68(-0x128,-0x1ee,-0x1c8,-0x1bf),'NUHbj':_0x56e57d(-0x1b,-0x8e,-0x80,-0x61),'myyrd':function(_0x398f98,_0x1f123){return _0x398f98/_0x1f123;},'yLgZX':function(_0x352d29,_0x51e12d){return _0x352d29*_0x51e12d;},'nEDJF':function(_0x3c24d1,_0xb21d1){return _0x3c24d1(_0xb21d1);},'wjixT':_0x435d68(-0x1dc,-0x24d,-0x25e,-0x243),'nBkys':function(_0x134c90,_0x2d7615){return _0x134c90/_0x2d7615;},'XHAhW':function(_0x5f173f,_0x308b63){return _0x5f173f*_0x308b63;},'qQqug':function(_0x2666f7,_0x583161){return _0x2666f7*_0x583161;},'ZLASQ':_0x435d68(-0x2fb,-0x282,-0x2af,-0x275),'VeOIe':function(_0x7071c,_0x16908a){return _0x7071c===_0x16908a;},'yTMDs':_0x435d68(-0x1c4,-0x26f,-0x20d,-0x1f7),'cTNyT':_0x435d68(-0x13a,-0x1e5,-0x17f,-0x186),'uCmUH':function(_0x446a89,_0x46fa28){return _0x446a89!==_0x46fa28;},'SDNFQ':_0x435d68(-0x1cd,-0x100,-0x13c,-0x182),'phStz':function(_0x222697,_0x43d5bb){return _0x222697===_0x43d5bb;},'qVVJO':_0x435d68(-0x203,-0x24c,-0x23d,-0x270),'ZNDdu':function(_0x3ec78e,_0x45437a){return _0x3ec78e!==_0x45437a;},'edabp':_0x435d68(-0x1f7,-0x196,-0x1d3,-0x1c1),'BUWts':function(_0x20a446,_0x4e9191){return _0x20a446(_0x4e9191);}};if(typeof _0xc671db===_0x4c195e['ZLASQ']){if(_0x4c195e['VeOIe'](_0x4c195e['yTMDs'],_0x4c195e['cTNyT'])){const _0xfe94b={};_0xfe94b[_0x435d68(-0x23c,-0x1dc,-0x24a,-0x241)]=0x1388,_0x387ef8[_0x56e57d(-0x11d,-0x130,-0x105,-0x1a7)](_0x435d68(-0x13b,-0x10e,-0x10c,-0x172)+_0x3f74c5+('\x20è¯·æ±‚å·²å®Œæˆï¼ŒåŽç»­æ“'+_0x435d68(-0x28b,-0x225,-0x27c,-0x2a1)),_0x4c195e[_0x56e57d(-0x3b,-0x3c,-0xb3,0x16)],_0xfe94b);}else return _0xc671db;}if(Array[_0x435d68(-0x18b,-0x17a,-0x209,-0x212)](_0xc671db)){if(_0x4c195e[_0x56e57d(-0x8f,-0xe7,-0xfb,-0x8d)]('UkiWp',_0x4c195e['SDNFQ'])){const _0x216ad8=[];return _0xc671db['forEach']((_0xd89c93,_0x518a2d)=>{const _0x204fa1=_0xd89c93[_0x232069(-0x170,-0x1dd,-0x17c,-0x202)]||_0x4c195e[_0x538220(0x35b,0x3c2,0x394,0x35c)],_0x54c2df=_0x4c195e[_0x232069(-0x57,-0xfa,-0x13c,-0x16e)](getRoleLabel,_0x204fa1);_0x216ad8[_0x538220(0x2b6,0x286,0x1fe,0x27d)](''+'â•'[_0x538220(0x2e2,0x37b,0x331,0x34e)](-0x156d+0xe7c+0x723));function _0x538220(_0x130698,_0xc37b25,_0x45afdc,_0x45c869){return _0x435d68(_0x45afdc,_0xc37b25-0x15d,_0x45afdc-0xbf,_0x45c869-0x4f8);}_0x216ad8[_0x538220(0x1df,0x236,0x323,0x27d)]('ã€'+_0x54c2df+'ã€‘'),_0x216ad8['push'](''+'â”€'[_0x538220(0x2c0,0x39c,0x317,0x34e)](-0xe1d+-0x860*0x2+-0x1*-0x1f0f));const _0xa76002=_0xd89c93[_0x538220(0x2d5,0x271,0x283,0x2e7)];function _0x232069(_0x39c0ca,_0x1feb0f,_0x71c440,_0x2788cc){return _0x56e57d(_0x1feb0f- -0xf5,_0x1feb0f-0x94,_0x71c440,_0x2788cc-0xf7);}if(_0x4c195e[_0x538220(0x1f8,0x306,0x239,0x279)](typeof _0xa76002,_0x232069(-0x222,-0x1ec,-0x1fd,-0x1f8)))_0x216ad8[_0x232069(-0x14c,-0x1f2,-0x215,-0x1b4)](_0xa76002);else{if(Array[_0x538220(0x2c3,0x318,0x2b7,0x2e6)](_0xa76002)){if(_0x4c195e['OoLdH'](_0x4c195e[_0x538220(0x30a,0x2e0,0x216,0x28c)],_0x4c195e[_0x538220(0x2a1,0x2a4,0x299,0x28c)])){if(_0x3bb4e4['message']['includes'](_0x538220(0x33b,0x3e6,0x383,0x370))||_0x16440e[_0x232069(-0x126,-0x134,-0xb8,-0x1a7)][_0x538220(0x272,0x28c,0x283,0x2d5)](_0x4c195e[_0x232069(-0x11a,-0x187,-0x120,-0x188)]))throw _0xbcef55;}else _0xa76002[_0x232069(-0x1da,-0x1c7,-0x1da,-0x240)](_0x554a7a=>{function _0x33bfee(_0xe4b1bf,_0x4ab29f,_0x535ca0,_0x10ab71){return _0x232069(_0xe4b1bf-0x1b1,_0xe4b1bf- -0x3,_0x10ab71,_0x10ab71-0xc8);}const _0x54103f={'cGcRz':function(_0x13e06b,_0x924e72){function _0x41652d(_0x52768d,_0x3d73c9,_0x401924,_0x5baeea){return _0x1db8(_0x401924-0xb9,_0x5baeea);}return _0x4c195e[_0x41652d(0x23d,0x238,0x21c,0x2c4)](_0x13e06b,_0x924e72);},'YhtWr':function(_0x1828c8,_0x5c728e){function _0x9b7e7d(_0x54e075,_0x242987,_0x4cd4ad,_0x48e2d3){return _0x1db8(_0x242987-0x2d,_0x4cd4ad);}return _0x4c195e[_0x9b7e7d(0x22f,0x195,0x21f,0x228)](_0x1828c8,_0x5c728e);}};function _0xaa400d(_0x47621d,_0x235f35,_0x438c3b,_0x284a40){return _0x232069(_0x47621d-0xa3,_0x47621d-0x184,_0x284a40,_0x284a40-0x109);}if(_0x4c195e[_0x33bfee(-0x164,-0x204,-0x1fb,-0x117)](_0x554a7a[_0x33bfee(-0x143,-0xef,-0xf0,-0x155)],_0x4c195e[_0x33bfee(-0x1a9,-0x1cb,-0x15c,-0x15f)])){if(_0x4c195e[_0x33bfee(-0xf2,-0x90,-0xfb,-0xaf)](_0x4c195e[_0x33bfee(-0x126,-0x137,-0x16b,-0xbf)],_0x4c195e[_0xaa400d(0x61,0xb5,0xef,0x4c)])){let _0x502867;if(_0x54103f['cGcRz'](typeof _0xfdcc1[_0xaa400d(-0x1e,-0xc,-0x56,-0x9f)],_0xaa400d(-0x63,-0x68,0x12,-0x9d))&&_0xae4169[_0x33bfee(-0x1a5,-0x223,-0x1f5,-0x122)][_0xaa400d(0x50,0x4f,0x84,-0x36)]){_0x502867=''+_0x263432[_0x33bfee(-0x1a5,-0x123,-0x1e9,-0x1ac)][_0x33bfee(-0x137,-0xd0,-0x1cc,-0x181)];const _0x48c248=[];if(_0x42e80c[_0x33bfee(-0x1a5,-0x151,-0x111,-0x185)][_0x33bfee(-0x143,-0xe2,-0x183,-0x135)])_0x48c248[_0x33bfee(-0x1f5,-0x1e6,-0x160,-0x296)](_0xaa400d(-0x2e,-0x9,-0x3d,-0x26)+_0x137865[_0x33bfee(-0x1a5,-0x156,-0x223,-0x1b9)][_0xaa400d(0x44,0x18,0xd2,0x5f)]);if(_0x408275['error'][_0x33bfee(-0x20a,-0x26f,-0x1f5,-0x1ae)])_0x48c248['push'](_0xaa400d(0x34,0xb6,-0x16,0x7)+_0xb92865[_0xaa400d(-0x1e,-0x44,-0x94,-0x7)][_0xaa400d(-0x83,-0xd7,-0xa1,-0x32)]);_0x54103f[_0x33bfee(-0x225,-0x1b2,-0x210,-0x217)](_0x48c248[_0xaa400d(-0x96,-0x97,-0x6b,-0xb0)],0x6*0x4b2+-0x83*0x17+-0x1067)&&(_0x502867+='\x20('+_0x48c248[_0xaa400d(0x2,-0x42,0x7f,-0x2a)](',\x20')+')');}else _0x502867=''+_0x3b51c0[_0x33bfee(-0x19a,-0x120,-0x16a,-0x222)](_0x13931f[_0x33bfee(-0x1a5,-0x165,-0x152,-0x119)]);throw new _0x40697a(_0x502867);}else _0x216ad8[_0x33bfee(-0x1f5,-0x263,-0x247,-0x1fa)](_0x554a7a[_0x33bfee(-0x10f,-0x163,-0xf9,-0x138)]||'');}else{if(_0x4c195e[_0x33bfee(-0x164,-0x154,-0x13e,-0xce)](_0x554a7a[_0xaa400d(0x44,0x2f,0xad,0xa2)],_0x4c195e[_0xaa400d(0x11,-0x97,0xb4,-0x79)])){const _0x5280ec=_0x554a7a['image_url']?.[_0xaa400d(0x76,0xba,0x2d,0x54)]||'';if(_0x5280ec[_0x33bfee(-0x141,-0x1df,-0x155,-0x119)](_0x4c195e[_0xaa400d(-0x7f,-0x8,-0xa5,-0x74)])){const _0x426a67=_0x5280ec['match'](/^data:([^;]+);/),_0x4f733a=_0x426a67?_0x426a67[-0x1e67+-0x2040+-0x322*-0x14]:_0x4c195e['NUHbj'],_0x2ee2d4=_0x5280ec[_0xaa400d(-0x9a,-0x48,-0x21,-0x36)](',')[0x1bba+0x20b7+0x1*-0x3c70]||'',_0x27771f=Math[_0x33bfee(-0x196,-0x12e,-0x19e,-0x1af)](_0x4c195e['myyrd'](_0x4c195e[_0xaa400d(0x27,-0x36,0x47,0xc4)](_0x2ee2d4[_0x33bfee(-0x21d,-0x2b7,-0x2c3,-0x1ba)],-0xc*-0x17+0x331+0x1*-0x442),0x163*0x12+-0x1434+-0x4be)/(0xcdb*-0x1+-0x989+0x1a64));_0x216ad8[_0x33bfee(-0x1f5,-0x218,-0x164,-0x24f)](_0x33bfee(-0x177,-0xfd,-0x12a,-0x139)+':\x20'+_0x4f733a+_0xaa400d(0x1,0x82,0x2f,-0x70)+_0x27771f+_0xaa400d(-0xc,-0x93,-0x9f,-0x3f));}else _0x216ad8[_0xaa400d(-0x6e,-0x3c,-0x3,-0x94)]('ðŸ“·\x20[å›¾ç‰‡é“¾æŽ¥:\x20'+_0x5280ec+']');}}});}}_0x216ad8[_0x232069(-0x221,-0x1f2,-0x1a1,-0x235)]('');}),_0x216ad8[_0x435d68(-0x20b,-0x2b1,-0x236,-0x20b)]('\x0a');}else{const _0x5f28bc=_0xdc445d['image_url']?.[_0x435d68(-0x23e,-0x239,-0x22f,-0x197)]||'';if(_0x5f28bc['startsWith'](_0x435d68(-0x248,-0x203,-0x165,-0x1bf))){const _0x207fd1=_0x5f28bc[_0x56e57d(-0x3,-0x91,0x7d,-0x7b)](/^data:([^;]+);/),_0xb950f4=_0x207fd1?_0x207fd1[0x35*0x56+-0x297*0x7+0xe*0x6]:_0x4c195e[_0x435d68(-0x11e,-0x15c,-0x12d,-0x19c)],_0x39dfe7=_0x5f28bc[_0x435d68(-0x2fa,-0x24d,-0x2a1,-0x2a7)](',')[-0x1*0x26e+-0x1db8+-0x2027*-0x1]||'',_0x3cc340=_0x15d764[_0x56e57d(-0x9e,-0x12c,-0x9a,-0x9a)](_0x4c195e[_0x435d68(-0x2e0,-0x326,-0x275,-0x282)](_0x4c195e[_0x56e57d(-0xae,-0xfd,-0x1c,-0x68)](_0x4c195e[_0x56e57d(-0xe3,-0x138,-0x8a,-0x8a)](_0x39dfe7['length'],0x1164+0x2325+0x5d6*-0x9),0x1f*-0x114+0x2293+-0x61*0x3),0x1d*-0x11+0x2187*0x1+-0x1b9a));_0x530934[_0x435d68(-0x2a7,-0x25f,-0x235,-0x27b)](_0x435d68(-0x1c9,-0x193,-0x26d,-0x1fd)+':\x20'+_0xb950f4+_0x56e57d(-0x8e,-0xaa,-0xf2,-0x31)+_0x3cc340+_0x435d68(-0x234,-0x277,-0x182,-0x219));}else _0xcd1ac5[_0x435d68(-0x30e,-0x1df,-0x308,-0x27b)](_0x56e57d(0x14,-0x52,0xb9,0x1f)+_0x5f28bc+']');}}if(_0x4c195e[_0x435d68(-0x296,-0x20c,-0x1ca,-0x26b)](typeof _0xc671db,_0x4c195e[_0x435d68(-0x239,-0x1c0,-0x246,-0x25d)])&&_0x4c195e[_0x435d68(-0x1be,-0x141,-0x1f6,-0x178)](_0xc671db,null)){if(_0x4c195e[_0x56e57d(-0xf0,-0x12e,-0x77,-0x144)](_0x4c195e[_0x435d68(-0x25e,-0x1fb,-0x27c,-0x1f1)],_0x4c195e[_0x435d68(-0x1d9,-0x267,-0x221,-0x1f1)])){const _0x343b2b=_0x428dae[_0x56e57d(-0x3,-0x87,0x43,0x8d)](/^data:([^;]+);/),_0x2854bf=_0x343b2b?_0x343b2b[0x1421+-0x1bf4+-0x3ea*-0x2]:_0x4c195e[_0x435d68(-0x23d,-0x219,-0x1fb,-0x19c)],_0x138193=_0x1ee9ac['split'](',')[-0x6d2*0x1+0x1*0xe24+-0x751*0x1]||'',_0x29414a=_0x217310[_0x56e57d(-0x9e,-0x54,-0xc4,-0xb2)](_0x4c195e[_0x435d68(-0x1dc,-0x218,-0x324,-0x282)](_0x4c195e['nBkys'](_0x4c195e['qQqug'](_0x138193['length'],0xee3+0x217a+-0x305a),-0xb*0x45+0x1ff2+-0x1cf7),-0x20fa+-0x110e+-0x16c*-0x26));_0x26692[_0x56e57d(-0xfd,-0x107,-0x19e,-0xbf)]('ðŸ“·\x20[ç”¨æˆ·ä¸Šä¼ çš„å›¾ç‰‡'+':\x20'+_0x2854bf+_0x56e57d(-0x8e,-0x21,-0x7c,-0x9c)+_0x29414a+_0x56e57d(-0x9b,-0x68,-0x112,-0x96));}else return JSON[_0x56e57d(-0xa2,-0x74,-0xc8,-0x138)](_0xc671db,null,0x3a*-0x1d+0x1d92+0x2*-0xb7f);}return _0x4c195e['BUWts'](String,_0xc671db);}export function getRoleLabel(_0x3d3730){function _0x30b6a9(_0x52a805,_0x2292da,_0x25077f,_0x2f1054){return _0x1db8(_0x2f1054- -0x87,_0x52a805);}const _0x4ad4c0={};_0x4ad4c0[_0x58f650(0x3bb,0x3ae,0x315,0x35f)]=_0x30b6a9(0x237,0x241,0x205,0x1de),_0x4ad4c0[_0x58f650(0x3df,0x40d,0x39e,0x372)]=_0x30b6a9(0x116,0x1f3,0x178,0x1aa),_0x4ad4c0['GuXJI']='å‡½æ•°è°ƒç”¨';const _0x24eed4=_0x4ad4c0;function _0x58f650(_0x2dab7b,_0x39fe7a,_0x982f47,_0x1d3083){return _0x1db8(_0x39fe7a-0x217,_0x1d3083);}const _0x4ea1c4={};_0x4ea1c4[_0x58f650(0x4b4,0x461,0x3c8,0x4b4)]=_0x24eed4[_0x30b6a9(0xaf,0x79,0x149,0x110)],_0x4ea1c4[_0x30b6a9(0x22c,0x221,0x253,0x1f6)]='ç”¨æˆ·',_0x4ea1c4['assistant']=_0x24eed4[_0x58f650(0x3e2,0x40d,0x431,0x36d)],_0x4ea1c4[_0x58f650(0x3e7,0x379,0x3e5,0x37a)]=_0x24eed4[_0x30b6a9(0x209,0xd5,0x104,0x179)],_0x4ea1c4['tool']='å·¥å…·';const _0x21bf50=_0x4ea1c4;return _0x21bf50[_0x3d3730]||_0x3d3730;}export function getCurrentLLMProfile(){const _0x17e54c=extension_settings[extensionName][_0x4c161b(0x3a3,0x32b,0x3b6,0x2c0)+'es']||{};function _0x4c161b(_0x42e7d8,_0x278995,_0x347a32,_0x3817ca){return _0x1db8(_0x278995-0x185,_0x347a32);}const _0x59b1a7=extension_settings[extensionName]['current_ll'+'m_profile'];return _0x17e54c[_0x59b1a7]||_0x17e54c[Object['keys'](_0x17e54c)[0x250*-0x4+-0x16*0x175+0x1*0x294e]]||{};}export function getCurrentTestContext(){const _0x36a9df=extension_settings[extensionName][_0x7a2a95(0x95,0x125,0xc6,0x92)+'xt_profile'+'s']||{},_0x45602e=extension_settings[extensionName][_0x7a2a95(0xc,-0x5,0xdf,0x60)+'st_context'+_0x3d84dc(0x4cd,0x544,0x4b5,0x41e)];function _0x7a2a95(_0x1b43a1,_0x13f367,_0x26c6f7,_0x197443){return _0x1db8(_0x197443- -0x1a5,_0x26c6f7);}function _0x3d84dc(_0x241139,_0x5671ea,_0x3a75f9,_0x245179){return _0x1db8(_0x3a75f9-0x2b2,_0x5671ea);}return _0x36a9df[_0x45602e]||_0x36a9df[Object[_0x3d84dc(0x458,0x393,0x3ff,0x35a)](_0x36a9df)[-0x1*-0x890+-0x1225*-0x1+-0x1ab5]]||{};}export function getEffectiveConfigForRequestType(_0x164e18){const _0xbdb024=extension_settings[extensionName][_0x5a2391(0x1a1,0x277,0x1e3,0x1f2)+'t_type_con'+_0x5a2391(0x27d,0x1ad,0x2ba,0x217)]||{},_0x43b949={};_0x43b949[_0x207d48(0x56,0x11a,0xac,0x87)+'e']='é»˜è®¤',_0x43b949[_0x207d48(0x127,0x9e,0xa0,0x13c)+'ofile']='é»˜è®¤';const _0x543443=_0xbdb024[_0x164e18]||_0x43b949,_0x1a2b07=extension_settings[extensionName][_0x5a2391(0xe5,0x1bd,0x1ba,0x18b)+'es']||{};function _0x207d48(_0x3e2d5d,_0x4dcfee,_0x592ec5,_0x5b8e30){return _0x1db8(_0x592ec5- -0xee,_0x4dcfee);}const _0x4d52b8=extension_settings[extensionName]['test_conte'+_0x5a2391(0x18d,0x1fd,0x21b,0x201)+'s']||{},_0x471099=_0x543443[_0x207d48(0x5d,0x3a,0xac,0x133)+'e']||'é»˜è®¤',_0x12fae9=_0x1a2b07[_0x471099]||_0x1a2b07[Object[_0x207d48(0x66,0x95,0x5f,0xd9)](_0x1a2b07)[-0x14e*0xd+0xcc9+0x42d]]||{},_0x35bd77=_0x543443[_0x5a2391(0x1b6,0x1e5,0x114,0x173)+_0x5a2391(0x276,0x1ec,0x1c5,0x20c)]||'é»˜è®¤',_0x2e4aa5=_0x4d52b8[_0x35bd77]||_0x4d52b8[Object['keys'](_0x4d52b8)[0x15f9+0x3*-0x30+-0x1569]]||{},_0x582363={};_0x582363['api_url']=_0x12fae9[_0x5a2391(0x249,0x211,0x1bd,0x25e)]||'',_0x582363['api_key']=_0x12fae9[_0x207d48(0x86,0x40,0xc3,0x151)]||'',_0x582363[_0x207d48(-0x3b,0xe3,0x4f,0xe3)]=_0x12fae9[_0x207d48(0xa5,0x69,0x4f,0xd8)]||'';function _0x5a2391(_0x3a73e7,_0x2fa962,_0xa6984d,_0x13f096){return _0x1db8(_0x13f096- -0x1b,_0x3a73e7);}return _0x582363[_0x5a2391(0x1eb,0x15f,0x1dc,0x1b4)+'e']=_0x12fae9[_0x5a2391(0x1a0,0x22e,0x1e1,0x1b4)+'e']??-0xbcd+0x266*-0x6+0x1a31+0.7,_0x582363[_0x5a2391(0x244,0x1e6,0x185,0x1a1)]=_0x12fae9['top_p']??-0x4*-0x368+-0x1274+0x4d5,_0x582363['max_tokens']=_0x12fae9[_0x207d48(0x76,0x48,0xa6,0x137)]??0xce0+-0x30c+0x4*-0x1f5,_0x582363[_0x207d48(0xdf,0xae,0x71,0x39)]=_0x12fae9[_0x207d48(0x5e,0xa3,0x71,0xd4)]??![],_0x582363[_0x207d48(0x184,0x149,0x102,0x9f)]=_0x2e4aa5,_0x582363;}export function buildPromptForRequestType(_0x53d1d5,_0x56fa74=''){const _0x35e4b2={'zrHnl':function(_0x5ceea3,_0x6f9b4){return _0x5ceea3(_0x6f9b4);},'fJAdW':function(_0x82f9aa,_0x5c2a1e){return _0x82f9aa===_0x5c2a1e;},'HnDsf':'user','ZffsZ':_0x2d97e3(0x4e5,0x45e,0x479,0x479),'OOXBr':function(_0x6c2ed5,_0xe839d4){return _0x6c2ed5===_0xe839d4;},'cptZq':_0x2b94fe(-0x181,-0x118,-0x211,-0x198),'yYmyt':function(_0x2dd66f,_0x2b9f5b,_0x4970a8){return _0x2dd66f(_0x2b9f5b,_0x4970a8);},'TWLLf':_0x2b94fe(-0x1ff,-0x28a,-0x221,-0x26d),'rHEJP':_0x2b94fe(-0xfb,-0x17b,-0x194,-0xbb),'hNFFV':_0x2b94fe(-0x1be,-0x124,-0x190,-0x209)+'å¤ã€‚','zkbaj':function(_0x3d6bab,_0x1a7b45){return _0x3d6bab!==_0x1a7b45;},'rDsij':_0x2d97e3(0x4e0,0x48a,0x4f3,0x4c1),'MKNaK':function(_0x5a68a0,_0x5369fe){return _0x5a68a0!==_0x5369fe;},'ledGp':'ktVXq','hVgst':function(_0x560112,_0x3e9b30){return _0x560112!==_0x3e9b30;},'qLQrf':_0x2b94fe(-0xe8,-0x71,-0x97,-0x143),'IwTdK':_0x2b94fe(-0x14a,-0x1af,-0x19f,-0xf6),'XQXeO':_0x2d97e3(0x4a6,0x491,0x520,0x47d),'Agnwy':'uZaDR'},_0x188d8c=extension_settings[extensionName][_0x2b94fe(-0x14c,-0x1df,-0xa4,-0xe4)+'t_type_con'+'figs']||{},_0x2a78dc={};_0x2a78dc[_0x2b94fe(-0x1cb,-0x25f,-0x146,-0x1d0)+'ofile']='é»˜è®¤';const _0x5f22ab=_0x188d8c[_0x53d1d5]||_0x2a78dc;function _0x2b94fe(_0x303c57,_0x2fbf23,_0x24b26d,_0x509b85){return _0x1db8(_0x303c57- -0x359,_0x509b85);}const _0x2b2e1c=_0x5f22ab[_0x2b94fe(-0x1cb,-0x222,-0x174,-0x24b)+_0x2b94fe(-0x132,-0xfc,-0xed,-0x143)]||'é»˜è®¤';function _0x2d97e3(_0x181be9,_0x5bb568,_0x3786ef,_0x4b5948){return _0x1db8(_0x181be9-0x35d,_0x3786ef);}const _0x2ec61f=extension_settings[extensionName]['test_conte'+_0x2d97e3(0x579,0x58b,0x5e1,0x592)+'s']||{},_0x1d7a92=_0x2ec61f[_0x2b2e1c]||_0x2ec61f[Object[_0x2b94fe(-0x20c,-0x283,-0x262,-0x1ec)](_0x2ec61f)[-0xfd5+0x2*0xa6d+-0x5*0x101]]||{},_0x210d74=[];if(_0x1d7a92[_0x2b94fe(-0x125,-0x1c3,-0xae,-0x14f)]&&Array[_0x2b94fe(-0x189,-0x1ca,-0x1ce,-0x211)](_0x1d7a92[_0x2b94fe(-0x125,-0x19a,-0xc9,-0x82)])){if(_0x35e4b2[_0x2b94fe(-0x1aa,-0x154,-0x212,-0x23b)]!==_0x35e4b2[_0x2b94fe(-0x153,-0x10d,-0x109,-0xc4)])_0x1d7a92['entries'][_0x2d97e3(0x4ef,0x47c,0x44e,0x506)](_0x9452a0=>{const _0x5afa6a={'acekw':function(_0x26e587,_0x3f75a4){return _0x35e4b2['zrHnl'](_0x26e587,_0x3f75a4);},'HcCLQ':function(_0x2b75dc,_0x5c8469){return _0x35e4b2['fJAdW'](_0x2b75dc,_0x5c8469);},'LvBHJ':function(_0x5c7d2c,_0x289d9a){function _0x3df6c3(_0x19592b,_0x3919bc,_0x1de4c6,_0x14bc5f){return _0x1db8(_0x3919bc-0x2ed,_0x14bc5f);}return _0x35e4b2[_0x3df6c3(0x610,0x569,0x5b7,0x54b)](_0x5c7d2c,_0x289d9a);},'WfDVd':'trigger','amHPK':function(_0x3e3dcc,_0x503a2e,_0x28bafc){return _0x3e3dcc(_0x503a2e,_0x28bafc);},'MNGlX':_0x35e4b2[_0x5bd0c0(0x4d8,0x491,0x4bc,0x568)]};function _0x5bd0c0(_0x28a9d1,_0x3e73cd,_0x357259,_0x498cf4){return _0x2d97e3(_0x28a9d1-0x12,_0x3e73cd-0x194,_0x357259,_0x498cf4-0x1b7);}function _0x508c2c(_0x32d3c0,_0xb8a874,_0x5aef68,_0x47bd6a){return _0x2b94fe(_0x47bd6a-0x635,_0xb8a874-0x1e9,_0x5aef68-0x22,_0xb8a874);}if(_0x35e4b2[_0x5bd0c0(0x5eb,0x562,0x618,0x5ba)](_0x35e4b2[_0x508c2c(0x4e8,0x5c8,0x4f8,0x537)],_0x5bd0c0(0x55e,0x574,0x5ed,0x5f8)))return function(_0x615c1d){const {id:_0x5b1d23}=_0x615c1d;if(!_0x5b1d23)return;function _0x123284(_0x406918,_0xf6832e,_0x17fef5,_0x54e6a1){return _0x5bd0c0(_0x406918- -0x37f,_0xf6832e-0x160,_0x17fef5,_0x54e6a1-0x50);}function _0x1db638(_0x2b318c,_0x2f5019,_0x319b9a,_0x2fbd13){return _0x5bd0c0(_0x319b9a- -0x3eb,_0x2f5019-0x81,_0x2b318c,_0x2fbd13-0x133);}const _0x408d76=_0x4d01d2[_0x4dc4b1]||_0x547201;_0x269d50[_0x123284(0x15b,0x1a6,0xf1,0x12f)]('st-chatu8:'+_0x123284(0x190,0x14c,0x1ee,0x149)+_0x408d76+(_0x1db638(0xe9,0x138,0x113,0xad)+_0x123284(0x223,0x2a4,0x2a8,0x1a2))+_0x5b1d23+')');const _0x44cc57=_0x5afa6a[_0x123284(0x155,0xc7,0xe0,0x155)](_0x2c7067,_0x447ee0),_0x571e4e={};_0x571e4e['prompt']=_0x44cc57,_0x571e4e['id']=_0x5b1d23,_0x9d8979[_0x123284(0x12a,0x19f,0x167,0x193)](_0x270fbc,_0x571e4e);};else{if(!_0x9452a0['enabled'])return;if(!_0x9452a0[_0x5bd0c0(0x540,0x573,0x4a2,0x559)]||_0x35e4b2[_0x508c2c(0x418,0x415,0x3d2,0x427)](_0x9452a0[_0x5bd0c0(0x540,0x541,0x538,0x4cf)][_0x508c2c(0x3c1,0x447,0x49c,0x41e)](),''))return;if(_0x9452a0[_0x508c2c(0x402,0x4b0,0x440,0x468)+'e']===_0x5bd0c0(0x4f8,0x464,0x560,0x57d)){if(_0x35e4b2[_0x508c2c(0x595,0x600,0x50f,0x558)](_0x35e4b2['cptZq'],_0x35e4b2[_0x5bd0c0(0x5c7,0x571,0x614,0x639)])){if(!_0x56fa74||!_0x35e4b2['yYmyt'](checkTriggerWords,_0x9452a0[_0x5bd0c0(0x5c2,0x605,0x64e,0x5f6)+'ds'],_0x56fa74)){if(_0x35e4b2[_0x508c2c(0x4a1,0x381,0x3e4,0x427)](_0x35e4b2[_0x5bd0c0(0x5d6,0x574,0x5fc,0x5d5)],_0x35e4b2['rHEJP'])){if(!_0x4bf875[_0x508c2c(0x4e7,0x562,0x5df,0x54e)])return;if(!_0x392015['content']||_0x5afa6a[_0x5bd0c0(0x5cc,0x56d,0x5d6,0x5ec)](_0x5e8c16[_0x508c2c(0x440,0x50e,0x510,0x4ad)]['trim'](),''))return;if(_0x5afa6a[_0x508c2c(0x532,0x4d1,0x577,0x4d7)](_0x94122b[_0x5bd0c0(0x4fb,0x495,0x4e7,0x491)+'e'],_0x5afa6a[_0x508c2c(0x4ff,0x50d,0x4f3,0x471)])){if(!_0x365ad1||!_0x5afa6a[_0x508c2c(0x46e,0x4de,0x4f5,0x46c)](_0x167e5e,_0x31cae5[_0x5bd0c0(0x5c2,0x51c,0x51d,0x5a1)+'ds'],_0x50a7e9))return;}const _0x5e1b3d={};_0x5e1b3d[_0x5bd0c0(0x4eb,0x45b,0x4ec,0x48b)]=_0x98544[_0x5bd0c0(0x4eb,0x51d,0x56b,0x511)]||_0x5afa6a[_0x508c2c(0x455,0x4cb,0x50f,0x4ed)],_0x5e1b3d[_0x5bd0c0(0x540,0x52e,0x55b,0x4b2)]=_0x1d35ae[_0x508c2c(0x4d5,0x52c,0x514,0x4ad)],_0x1afd10[_0x5bd0c0(0x4d6,0x4db,0x462,0x49d)](_0x5e1b3d);}else return;}}else _0x19f90d=_0x397bdb;}const _0x338098={};_0x338098[_0x5bd0c0(0x4eb,0x4ad,0x476,0x57c)]=_0x9452a0[_0x5bd0c0(0x4eb,0x529,0x4b5,0x554)]||_0x35e4b2[_0x508c2c(0x47e,0x48b,0x3ab,0x445)],_0x338098['content']=_0x9452a0[_0x508c2c(0x53c,0x50d,0x521,0x4ad)],_0x210d74[_0x508c2c(0x482,0x4e1,0x4de,0x443)](_0x338098);}});else return;}else{if(_0x1d7a92[_0x2d97e3(0x512,0x4e2,0x545,0x498)]&&Array[_0x2d97e3(0x52d,0x596,0x542,0x56c)](_0x1d7a92[_0x2d97e3(0x512,0x4ee,0x4dd,0x542)])){if(_0x35e4b2[_0x2b94fe(-0x1d5,-0x27c,-0x1e6,-0x17c)]!==_0x35e4b2[_0x2d97e3(0x4e1,0x55c,0x48e,0x487)])return _0x5a8aeb[_0x2b94fe(-0x197,-0x121,-0x170,-0x165)](_0xe3b9b8,null,0x7bb+0x1a3*-0x16+0x1c49);else _0x1d7a92[_0x2d97e3(0x512,0x4cc,0x5b1,0x551)][_0x2d97e3(0x4ef,0x4e4,0x4e5,0x4a7)](_0x3fad89=>{function _0x35c8b0(_0x5d3586,_0x1cfc5d,_0x41ac6e,_0x2377a5){return _0x2d97e3(_0x2377a5- -0xa7,_0x1cfc5d-0x59,_0x1cfc5d,_0x2377a5-0x163);}const _0x2d00f5={};_0x2d00f5[_0x4e85fb(0x33b,0x33f,0x3b1,0x352)]=_0x35e4b2['hNFFV'];function _0x4e85fb(_0x24f3b0,_0x1f9c20,_0x3ff622,_0x3cfeb0){return _0x2d97e3(_0x3ff622- -0x1e1,_0x1f9c20-0x8b,_0x24f3b0,_0x3cfeb0-0x7d);}const _0x2915d4=_0x2d00f5;if(_0x35e4b2['zkbaj'](_0x35e4b2[_0x4e85fb(0x31c,0x34b,0x38a,0x34b)],_0x35c8b0(0x43d,0x434,0x46d,0x4cb))){if(_0x3fad89[_0x35c8b0(0x51f,0x4cc,0x4b9,0x533)]&&_0x35e4b2[_0x35c8b0(0x4fc,0x55e,0x500,0x4dc)](_0x3fad89[_0x35c8b0(0x53d,0x59b,0x541,0x533)][_0x35c8b0(0x351,0x3be,0x377,0x3f8)](),'')){if(_0x35e4b2[_0x35c8b0(0x410,0x43d,0x3e5,0x443)]!==_0x35e4b2[_0x35c8b0(0x3ab,0x3e6,0x473,0x443)])_0x2c41da[_0x35c8b0(0x576,0x595,0x4e3,0x4f0)](_0x2915d4['wxjPH']);else{const _0x131c23={};_0x131c23[_0x35c8b0(0x3ca,0x4b0,0x41b,0x432)]=_0x35c8b0(0x5db,0x57a,0x5ca,0x533),_0x131c23[_0x35c8b0(0x51f,0x433,0x4ae,0x487)]=_0x3fad89[_0x35c8b0(0x4ed,0x576,0x4e5,0x533)],_0x210d74[_0x35c8b0(0x41f,0x443,0x493,0x41d)](_0x131c23);}}if(_0x3fad89[_0x4e85fb(0x41c,0x3f8,0x3ed,0x3ed)]&&_0x35e4b2[_0x4e85fb(0x412,0x3e6,0x3c8,0x3ca)](_0x3fad89[_0x35c8b0(0x50e,0x57b,0x4e9,0x527)][_0x35c8b0(0x395,0x434,0x412,0x3f8)](),'')){const _0x264a34={};_0x264a34[_0x4e85fb(0x33c,0x2cd,0x2f8,0x2e8)]=_0x35e4b2[_0x4e85fb(0x29c,0x320,0x320,0x287)],_0x264a34[_0x4e85fb(0x32f,0x2be,0x34d,0x340)]=_0x3fad89[_0x35c8b0(0x521,0x5c2,0x58b,0x527)],_0x210d74['push'](_0x264a34);}}else _0x35e4b2['zrHnl'](_0x2cfb4c,_0x36a121);});}}const _0x275cfd=_0x35e4b2[_0x2d97e3(0x587,0x4f6,0x594,0x52c)](mergeAdjacentMessages,_0x210d74),_0x28b542=processRollPlaceholders(_0x275cfd);return _0x28b542;}const _0x50e912={};_0x50e912['image_gen']='æ­£æ–‡å›¾ç‰‡ç”Ÿæˆ';function _0x59c4(){const _0x125488=['EhrFChjVzMLSzq','yxbWBhK','Dg9tDhjPBMC','qwjVCNrfCNjVCG','z2XJz3G','DLnOBMi','A0nTALi','zgf0ytO','rwPjtNm','BwvZC2fNzq','tuToyuS','B2zPBgu','z2fbwu4','EKrLsgm','ENjiBMW','vgfN5l+U5Ps5','BLDpC0e','BKDMsKe','qLLNzNC','CNnlEKi','y3HmAgW','quNLIQNMIyS','zMLNCW','rdOG','zw50CMLLCW','D3HQueG','wMDxyLu','DgvZDf9JB250zq','CMvWzwf0','C29nqu8','D2fYBMLUzW','DNvtuxu','y2HHCL9TB2rPzG','zNLSAgm','B0THzgi','ELjhqvy','sg90su8','t0LSDNK','6k+35RgcieLeoIa','q2nAsve','ue9tva','zxrPB25FC291CG','tLviyMO','zsbfCNjVCJO','Aw9UoIaIqMvHCG','Dw5RBM93BG','C3LZDgvT','DxjS','AfzNC3q','Dgv4Da','5OIwie1VzgvSioACQUMfJq','DgfNx21VzgLMEq','y3vYCMvUDf9SBa','ntm1otCYsNjPr0zi','CMvHza','DhjPz2DLCLDVCG','s0HlDg8','CgfYC2u','q1H2AvC','ksa9pt09pq','y3b0wNe','y2HHCL9KAxnWBa','57g75z6loG','wMzMC1O','se1jEfu','sgndtfe','zfvet3i','BKvesKy','EMvOsMO','Bwf0y2G','CwXQrMG','CKDwv0C','uMvXDwvZDcbHyG','57o757UF5O+q56s66k+n','zgvJB2rL','vfDmtgy','odeZmZvXCLb6wxG','oIbmte0G5PYQ5Ps25yIW5PYj','t29mzeG','ywjVCNrLzc4','svffu2G','DxrMltG','qM1ZtgW','uw1yv0C','44cq5Rwl6k+v5QIH5BYp44cr','yxnZAxn0yw50','zw5HyMXLza','zLbkzgy','BLnvt08','t3LZC2u','B3j0zwq','vMvREfq','8j+tTYbB5zU+54Mh6zo+5O6LoIa','yxbPx3vYBa','u0H3y2G','teXniev4zwn1Da','zKPbzfC','DxnLCG','uMLrDLq','we51zwK','mta0nZzhEMvqzeW','B2TgDNG','B0PmyuG','Cw1cyxe','qwrhCLu','s1PYv2m','C3rHDhvZvgv4Da','wwH0v3i','ChjMqum','CMvZDwX0','zw1PDa','C3bSAxq','uMXJDxq','Bw9KzwW','B2XZCeu','BgvUz3rO','vxPvqMS','5l2C5BEY6lEZ6l+h44cc','DhjPBq','ihjLCxvLC3qGyq','5Rwb5BYp6kEJ5P6q6k2M5zgkoG','BML5zgq','6k+35Rgc5A6m5OIqid09pt09','Aw5MBW','teXnx0vyrunvva','vfbewfK','tw9KzwWG5PYQ6ywn572U44cc','t09yqNi','5Q2J5zYO5Ase55cg5Asw6yoO6k+35Rgc77Ym6k+3','A2v5CW','ENvzu1y','tw1bBxK','5Pwi5zUE5Asn44cc','y2HHDf9JB21WBa','y29Kzq','uuLXzxa','5Rwl6k+v5QIH5BYp5O+q56s6','y3vZDg9Tx3vYBa','BKHfBK0','t1LPzNe','y3vZDg9Tx2LUyW','ioIVT+AXGUw3SUwUJoAiKo+8JowqJUE7REAtJq','tgvqv1i','6k+35Rgc6zsz6k+VoIa','zwThCNe','6k+35Rgc5AsX6lsLoIa','pt09pt0GteXnia','C3rYzwfT','BxL5CMq','Evf5DNu','zNvUy3rPB24','vw9xAgi','DM1KuMC','ywnLA3C','y2HHCL9KzxnPzW','ChvZAa','z25Xy3e','sg5eC2y','5lUJ56cboG','Bg9N','C3qTy2HHDhu4oG','C3rYAw5N','ANnVBG','qvbjifvstcWGqq','yM9YDgvKlG','mZC4nty1mLzbthnQCG','B2jQzwn0','u1HmCei','wK5ezhu','sKPOqKW','D2PPEfq','CgHtDhO','C2vHCMnO','BhvKzv9OzwfKzq','z2v0uMvHzgvY','sermBNu','CM9Szq','tK9JBve','zgrAyK8','qMfrAMW','u2HTB3e','weHbAfC','rer0Eha','BMDUAwe','qwDUD3K','CvzwsK8','DwPICu8','zgf0ytOG','qvrdA28','DhjPz2DLCG','zeztDM0','ioIVT+AXGIaOsuq6ia','DhjPz2DLCK1Vza','BgvKr3a','y29UDgv4Df9WCG','5O+q56s66k+n6i635y+w6k+35RgcicHj','yw1iueS','EhP6vem','zM9YrwfJAa','mJyXmJC1mKrXs3LLqG','Bwf4x3rVA2vUCW','v2zevMq','l2DLBMvYyxrL','BxvesKG','rfLLDwu','BMfTzq','yxbPx3bYB2zPBa','teXnioACQUAuTUwiSoACIEAvIowBNG','ntCYotyYmgjqv2jYra','cI0Tls0TieXmtq','C2XPy2u','BxvUy2O','ioAuTUwiSa','DgLTzu91Da','BMrZl2nOyxqTyW','5PYQ5Ps25yIW5PYj5Pwi5zUE5Asn44cc','CuXrCMy','Dg9Rzw4','BgXTx3bYB2zPBa','57g75z6loIa','u3zIAuq','C2Hku2K','6BUy6k6K6k+35Rgc5BYa5AElid09pq','tMvtyM0','ioIVT+AXGU+8JoIVT+EOJEwaMs4UlG','ioAuTUwiSca','y0DusvC','sxDuzeS','zhLjswK','yxbPx2TLEq','5Q2J5zYO5Ase55cgia','vhrVtxm','kcGOlISPkYKRkq','AgLZDg9YEq','BKjRExm','zxjYB3i','u1fIvLu','z0jhwKq','Dufps1G','ruTerKW','Dg9Wx3a','Cg9W','6k+35RgcicHjrdOG','Aw5JBhvKzxm','zMjxDKG','z1rcy0K','C3rYAw5NAwz5','nJzIEfbNAMq','EufTBM0','CxjkDMO','CM91BMq','BLPlyM4','iowBNUwKJsaTls0Tlq','s0jD','BKvHuuW','rgLVy2G','DezvAu0','CMvWBgfJzq','B1vIvvG','DgvTCgvYyxr1CG','AxnbCNjHEq','y29UDgvUDa','zvbkqwK','Bv9WCM9MAwXL','AvnYAKO','DunTvuG','lcdNUQyG','AM9PBG','wKrssMu','CwHxwwC','l2fWAs9IywnRzq','D2fYBG','zKf6r0i','y2HVAwnLCW','Aw1Hz2vFDxjS','ioAuTUwiScbmte0G5OMN6kgm','zgf0ytOGw0rptG','q2TSrw4','qxvhCwu','A0H4wwm','zgvSDge','8j+tTYbB55sO5OI35lIk5lYG55Qe5zU+54Mh','t0XHDMS','5AEl5PAW6k+35Rgc44cc','C2LNBMfS','uu9zzKC','ywjVCNq','BwfxBM0','6kEs6iMYl+ACJEIJHEIUVUIUOq','y3P0weK','otjfuKXcsee','DKj3CfG','y29UDgv4Da','zwrHyNa','BKjjvxK','mJm2nJi3m2TKs1rOwq','C3rHDhvZ','tMHdEvi','vhfdC24','C0zVseK','z0zZyxa','5y+r6ycb55QeifbYB21WDa','uwLuugK','thzcseO','EuXNwLG','B21WBgv0Aw9UCW','nLztBvf1sa','q2jmv20','r3vysKK','C3vJy2vZCW','sxPpD2e','x3bYB2zPBgu','ChjVBxb0','y3vYCMvUDf90zq','wffyzu8','teXn6k+35Rgc5BEY5lIT5PAT77Ym5BYa','sM9qEwm','5lUJ56cboIa','vhLhz2y','q3fswxG','v094Cfe','BgXTx3jLCxvLCW','CKrZAwO','z05czuC','y1zHtKO','tu5hBfG','y3vZDg9T','BgXTvgvZDe1Vza','rv9srvnqt05trq','yvHksKG','qxv0Ag9YAxPHDa','qKP4DNG','BwvZC2fNzxm','DhLWzq','DuDTEKy','C3rHCNrZv2L0Aa'];_0x59c4=function(){return _0x125488;};return _0x59c4();}function _0x5e4346(_0x444796,_0xc081ac,_0x20561c,_0x49cf24){return _0x1db8(_0x20561c- -0x7a,_0xc081ac);}_0x50e912[_0x5e4346(0xbe,0x164,0xec,0xc7)+'n']=_0x5e4346(0x1f5,0x11d,0x172,0x189),_0x50e912[_0x21c9cb(0x474,0x47f,0x471,0x42d)+'ay']='è§’è‰²/æœè£…å±•ç¤º',_0x50e912[_0x5e4346(0x1b0,0x256,0x1c2,0x215)+'y']='è§’è‰²/æœè£…ä¿®æ”¹',_0x50e912['translatio'+'n']='ç¿»è¯‘',_0x50e912[_0x5e4346(0x15d,0x177,0x1d5,0x1e8)]=_0x21c9cb(0x465,0x3df,0x357,0x3ff);const REQUEST_TYPE_NAMES=_0x50e912;export async function executeTypedLLMRequest(_0x2ffd78,_0x4fee85,_0x42fefe,_0xa813ab=null){const _0x37e0ee={'nSUOO':_0x5afc68(0x286,0x1f3,0x2ae,0x2d6),'kCmjR':'AbortError','gTBcI':_0x6e55b2(0x108,0x1da,0x18f,0x1a5)+'orted','uAOKX':function(_0x16df5d,_0x2df6c1){return _0x16df5d||_0x2df6c1;},'IzOwa':function(_0x786daa,_0x181c0e){return _0x786daa!==_0x181c0e;},'cGTIW':'olspE','MsJsE':'LLMè¯·æ±‚å·²ä¸­æ–­ï¼Œå¼€'+'å§‹æ–°è¯·æ±‚ã€‚','IQESh':function(_0x2a1b74){return _0x2a1b74();},'BEZOl':function(_0x5a87cb,_0x333d4a){return _0x5a87cb(_0x333d4a);},'Rlcut':function(_0x15d562,_0x20cc07){return _0x15d562(_0x20cc07);},'JJhBL':function(_0x1a233d,_0x457697){return _0x1a233d(_0x457697);},'oUbUX':_0x5afc68(0x1ef,0x148,0x264,0x28f)+'nds/chat-c'+_0x6e55b2(0x193,0x10c,0x128,0x10f)+_0x6e55b2(0x5a,0x9c,0xc1,0x1e),'qrJvj':_0x5afc68(0x227,0x210,0x180,0x258),'JoPyc':function(_0x3c0975,_0x209858,_0x481b82){return _0x3c0975(_0x209858,_0x481b82);},'QIqep':_0x5afc68(0x259,0x1cc,0x223,0x2f9),'mxlBm':function(_0xf29ed4,_0x561c92){return _0xf29ed4(_0x561c92);},'nZKbn':_0x5afc68(0x187,0x146,0x149,0x1f7),'AuGqe':_0x6e55b2(0x17e,0xe5,0x185,0x120),'wkiYB':_0x6e55b2(0xf8,0x138,0x95,0x97),'nEaQL':_0x5afc68(0x294,0x2a9,0x27f,0x2a8),'yQyvu':_0x6e55b2(0x205,0x17c,0x198,0x13a),'rsKzB':_0x5afc68(0x1f5,0x207,0x241,0x22a)+'E]','DYeue':_0x5afc68(0x19c,0x170,0xfd,0x1e1),'OIlvy':function(_0x3e28b0,_0x25dbc3){return _0x3e28b0===_0x25dbc3;},'NeSbm':_0x5afc68(0x1cd,0x202,0x1ca,0x12c),'nBIUy':_0x6e55b2(0x192,0x85,0x122,0x86),'QiTPi':_0x6e55b2(0x80,0x43,0x9e,0x8b),'UTjNV':function(_0x74effd,_0xb06d3c){return _0x74effd(_0xb06d3c);},'OYifq':_0x6e55b2(0x8e,0x10f,0x6f,0x58),'SHwch':function(_0x5d0460,_0x591f00){return _0x5d0460!==_0x591f00;},'YyvHJ':_0x6e55b2(0x18f,0x1a1,0x107,0x162),'quTIt':_0x6e55b2(0x13d,0x130,0x118,0x1a4),'gaAYN':function(_0x50f19b,_0x4d5bc8){return _0x50f19b===_0x4d5bc8;},'zuYSV':function(_0x367d08,_0x59977d){return _0x367d08===_0x59977d;},'TyGgf':_0x5afc68(0x1e0,0x261,0x150,0x258),'dFSvm':_0x6e55b2(0x14f,0xf5,0xce,0xa0),'CqRYx':function(_0x463940,_0x4df2b5){return _0x463940!==_0x4df2b5;},'NhCyR':_0x6e55b2(0x131,0x146,0x1ac,0x1ca),'QmXWG':'enUjR','qhWYg':function(_0x2049ed,_0x122372){return _0x2049ed===_0x122372;},'vuSQu':function(_0x45262c,_0x16772f){return _0x45262c===_0x16772f;},'glcgx':_0x5afc68(0x241,0x2bf,0x253,0x1c7),'ZjPJC':_0x6e55b2(-0x4,0xa8,0x63,0x69),'dyIIi':_0x6e55b2(0xec,0xc5,0x7f,-0x11),'zRGAV':function(_0x2a904f,_0x24e7b9){return _0x2a904f===_0x24e7b9;}},{prompt:_0x3eb450,id:_0x3db02c}=_0x2ffd78;if(_0x37e0ee[_0x5afc68(0x1cf,0x15e,0x24f,0x1e3)](!_0x3db02c,!_0x3eb450))return;if(currentLLMRequestController){if(_0x37e0ee[_0x6e55b2(0xc6,0x8b,0x12d,0xa1)](_0x5afc68(0x153,0x1cc,0x15f,0x10d),_0x37e0ee[_0x5afc68(0x1c3,0x166,0x222,0x1f8)])){const _0x5a9b4e=_0x308aea?function(){function _0x411400(_0x2cef03,_0x1b692b,_0x2dce14,_0x3f618f){return _0x5afc68(_0x1b692b- -0x1b9,_0x3f618f,_0x2dce14-0x95,_0x3f618f-0x1a2);}if(_0x23016b){const _0x517278=_0x502545[_0x411400(0x19,0x79,0x92,0x2b)](_0x123d47,arguments);return _0x1e7005=null,_0x517278;}}:function(){};return _0x2d7c1f=![],_0x5a9b4e;}else currentLLMRequestController[_0x5afc68(0x1ff,0x1d0,0x1aa,0x22a)](),toastr[_0x5afc68(0x15c,0x162,0x165,0x106)](_0x37e0ee['MsJsE']);}currentLLMRequestController=new AbortController();const _0x7e25af=currentLLMRequestController[_0x5afc68(0x1fd,0x1f4,0x225,0x22c)];_0x37e0ee[_0x5afc68(0x281,0x23a,0x321,0x222)](startFabLoading);const _0x1257e1=REQUEST_TYPE_NAMES[_0x4fee85]||_0x4fee85;console[_0x5afc68(0x180,0xd8,0x129,0x212)]('st-chatu8:'+_0x6e55b2(0x79,0x124,0xd8,0x127)+_0x1257e1+_0x6e55b2(0x22,0x11f,0xb6,0x109)+_0x3db02c+')',_0x3eb450),_0x37e0ee['IQESh'](clearLog),addLog(_0x6e55b2(0x5,0xa3,0x89,0x7b)+'è¯·æ±‚å¼€å§‹\x20('+_0x1257e1+_0x5afc68(0x26c,0x2ec,0x2e4,0x1f1)),addLog(_0x6e55b2(0x1c0,0xe6,0x16d,0x165)+_0x3db02c),addLog(_0x5afc68(0x20e,0x1a0,0x16f,0x28d)+':'),_0x37e0ee['BEZOl'](addLog,_0x37e0ee[_0x5afc68(0x151,0x18c,0x1cc,0x14d)](formatPromptForDisplay,_0x3eb450));const _0x55156c=_0x37e0ee[_0x5afc68(0x18a,0x1a6,0x13b,0x17f)](getEffectiveConfigForRequestType,_0x4fee85);function _0x5afc68(_0x20835c,_0x3d94c8,_0x946579,_0x2f3e00){return _0x5e4346(_0x20835c-0xc9,_0x3d94c8,_0x20835c-0x8f,_0x2f3e00-0x15e);}const {api_url:_0x49391a,api_key:_0x468130,model:_0xdcee60,temperature:_0x1e6a43,top_p:_0x52d13b,max_tokens:_0x287f59,stream:_0x238281}=_0x55156c;function _0x6e55b2(_0x45a708,_0x3d43cf,_0x20b224,_0x1149d5){return _0x5e4346(_0x45a708-0x3b,_0x3d43cf,_0x20b224- -0x5b,_0x1149d5-0x1d0);}if(_0x37e0ee[_0x5afc68(0x1cf,0x1a2,0x200,0x21b)](!_0x49391a,!_0x468130)||!_0xdcee60){const _0x425f83=_0x1257e1+(':\x20API\x20URL,'+'\x20API\x20Key,\x20'+_0x5afc68(0x263,0x20d,0x224,0x232)+'ç½®ã€‚');toastr[_0x5afc68(0x1cc,0x20b,0x205,0x1a0)](_0x425f83);const _0x199ee4={};_0x199ee4[_0x6e55b2(0xa9,0x1c1,0x12c,0xb3)]=![],_0x199ee4[_0x6e55b2(0xc3,-0x29,0x64,0xb0)]=_0x425f83,_0x199ee4['id']=_0x3db02c,eventSource[_0x5afc68(0x14f,0xae,0xee,0x1ca)](_0x42fefe,_0x199ee4);return;}const _0x4fa17d=_0x37e0ee[_0x5afc68(0x1e3,0x17a,0x154,0x1f9)],_0x19c150=_0x49391a[_0x5afc68(0x1e2,0x16c,0x21b,0x161)](/\/$/,'');_0xa813ab&&_0xa813ab(_0x5afc68(0x1c7,0x1e0,0x17f,0x1da)+_0x1257e1+_0x6e55b2(0x136,0xb6,0xd7,0x7b));try{const _0x3cc502={};_0x3cc502[_0x6e55b2(0x116,0x5b,0x7c,0x27)+_0x6e55b2(0x1b3,0x1cb,0x170,0x12e)+'ce']=_0x37e0ee[_0x5afc68(0x1da,0x23a,0x1cf,0x227)],_0x3cc502['custom_url']=_0x19c150,_0x3cc502['custom_inc'+_0x5afc68(0x18e,0x1dc,0x20b,0x16e)+'rs']=_0x6e55b2(0xcc,0x1c0,0x141,0xd3)+_0x6e55b2(0x1cc,0x208,0x173,0x1c0)+'er\x20'+_0x468130+'\x22',_0x3cc502[_0x6e55b2(0xaa,0x6c,0x68,0x25)]=_0xdcee60,_0x3cc502['messages']=_0x3eb450,_0x3cc502[_0x6e55b2(0x19b,0x8e,0xfa,0x14c)+'e']=_0x1e6a43,_0x3cc502[_0x5afc68(0x1d1,0x1fd,0x1dd,0x24c)]=_0x52d13b,_0x3cc502[_0x6e55b2(0x148,0x119,0xbf,0x6d)]=_0x287f59,_0x3cc502[_0x5afc68(0x174,0x18f,0xda,0x16a)]=_0x238281;const _0x9ca4be=_0x3cc502,_0x1de37d=await _0x37e0ee[_0x5afc68(0x21d,0x2a7,0x1ee,0x209)](fetch,_0x4fa17d,{'method':_0x37e0ee[_0x5afc68(0x168,0x1ca,0x154,0x13d)],'headers':_0x37e0ee['mxlBm'](getRequestHeaders,window['token']),'body':JSON[_0x6e55b2(0x107,0xe2,0xed,0x11f)](_0x9ca4be),'signal':_0x7e25af});if(!_0x1de37d['ok']){try{const _0x595332=await _0x1de37d[_0x6e55b2(0x140,0x27,0x99,0xc8)]();if(_0x595332[_0x5afc68(0x1cc,0x222,0x1ad,0x150)]){let _0xe602c9;if(typeof _0x595332[_0x5afc68(0x1cc,0x1d1,0x20f,0x12d)]===_0x37e0ee[_0x5afc68(0x1dc,0x216,0x1bd,0x247)]&&_0x595332[_0x6e55b2(0x14e,0x14a,0xe2,0x4e)]['message']){_0xe602c9=''+_0x595332[_0x5afc68(0x1cc,0x18c,0x1b7,0x1c1)][_0x6e55b2(0x1c8,0x137,0x150,0x1b7)];const _0x5f0de6=[];if(_0x595332[_0x6e55b2(0x89,0x16e,0xe2,0xb1)][_0x5afc68(0x22e,0x1ec,0x23b,0x2a1)])_0x5f0de6[_0x5afc68(0x17c,0x124,0xf3,0x141)](_0x6e55b2(0x2b,0xe7,0xd2,0x97)+_0x595332[_0x6e55b2(0xd9,0x106,0xe2,0xca)][_0x6e55b2(0x1dc,0x129,0x144,0x152)]);if(_0x595332[_0x6e55b2(0x148,0xdc,0xe2,0x182)]['code'])_0x5f0de6['push'](_0x5afc68(0x21e,0x18c,0x1ae,0x1e4)+_0x595332[_0x5afc68(0x1cc,0x151,0x1c8,0x141)][_0x5afc68(0x167,0xf0,0x196,0x1fd)]);_0x5f0de6[_0x6e55b2(0xce,0xd8,0x6a,0x4f)]>-0xa*-0x3a9+0x26b6+-0x28*0x1e2&&(_0xe602c9+='\x20('+_0x5f0de6['join'](',\x20')+')');}else _0xe602c9=''+JSON[_0x5afc68(0x1d7,0x161,0x195,0x22f)](_0x595332[_0x6e55b2(0x48,0x64,0xe2,0x61)]);throw new Error(_0xe602c9);}}catch(_0x2349de){if(_0x2349de[_0x6e55b2(0x149,0x15b,0x150,0xdf)]['includes'](_0x37e0ee[_0x6e55b2(0x15c,0x155,0x10d,0x1af)])||_0x2349de[_0x5afc68(0x23a,0x2dd,0x231,0x262)][_0x6e55b2(0x72,0x174,0xea,0x151)](_0x37e0ee['wkiYB'])){if(_0x37e0ee[_0x5afc68(0x1df,0x266,0x227,0x175)]!==_0x6e55b2(0x18f,0x21f,0x1aa,0x1c1)){const _0x196888=_0x5c20a7[_0x5844a2]['llm_profil'+'es']||{},_0xc8059c=_0x32413e[_0x13e4be][_0x5afc68(0x265,0x2e5,0x236,0x2a8)+_0x6e55b2(0x9e,0x170,0xfe,0x91)];return _0x196888[_0xc8059c]||_0x196888[_0x4b64b9[_0x6e55b2(0x113,0x5,0x78,0x3d)](_0x196888)[0xe66*-0x1+0x1242+-0x3dc]]||{};}else throw _0x2349de;}}throw new Error(_0x5afc68(0x172,0x146,0x1ed,0x203)+_0x1de37d[_0x5afc68(0x209,0x1e8,0x1e3,0x248)]+'\x20'+_0x1de37d[_0x6e55b2(0xd1,-0x7,0x61,-0x18)]);}let _0x5b3bb4='';if(_0x238281){const _0x419b46=_0x1de37d['body'][_0x6e55b2(0x13e,0xf,0xa5,0xd9)](),_0x359988=new TextDecoder(_0x37e0ee[_0x5afc68(0x176,0x101,0x116,0x109)]);let _0x41ea6b='';while(!![]){const {done:_0x38ccdc,value:_0x487d35}=await _0x419b46[_0x6e55b2(0x199,0x17d,0x17d,0x1a5)]();if(_0x38ccdc)break;const _0x565754={};_0x565754[_0x6e55b2(0x90,0x7a,0x8a,0x3b)]=!![],_0x41ea6b+=_0x359988[_0x6e55b2(0x1de,0x1a1,0x191,0x201)](_0x487d35,_0x565754);const _0x5c3d09=_0x41ea6b['split']('\x0a');_0x41ea6b=_0x5c3d09[_0x6e55b2(0xf8,0x4e,0xe8,0x12a)]()||'';for(const _0x5187b3 of _0x5c3d09){const _0x540fb9=_0x5187b3[_0x5afc68(0x157,0x174,0x116,0x14b)]();if(!_0x540fb9||_0x540fb9===_0x37e0ee[_0x6e55b2(0x152,0x135,0x15a,0xe1)])continue;if(_0x540fb9['startsWith'](_0x37e0ee[_0x6e55b2(0x14a,0xed,0xc3,0x12e)]))try{const _0x352505=_0x540fb9[_0x6e55b2(0x125,0x61,0xc9,0x166)](-0x2c0*-0x3+0x76f+0x13*-0xd3),_0x3838c9=JSON['parse'](_0x352505),_0x1a7533=_0x3838c9[_0x6e55b2(0x10d,0x17f,0x108,0x1af)]?.[0x1b87+-0x2321+0x79a]?.[_0x6e55b2(0xb3,0xee,0x10f,0xeb)]?.[_0x6e55b2(0xcd,0xa8,0xfc,0xce)];if(_0x1a7533){if(_0x37e0ee[_0x5afc68(0x256,0x25a,0x27f,0x2b1)](_0x37e0ee[_0x6e55b2(0xde,0x36,0xd6,0x12b)],_0x37e0ee[_0x5afc68(0x1c0,0x241,0x232,0x118)]))_0x5b3bb4+=_0x1a7533,_0xa813ab&&(_0x37e0ee[_0x6e55b2(0x1e6,0x17b,0x16c,0xf5)](_0x37e0ee[_0x5afc68(0x207,0x1ff,0x22f,0x1c8)],_0x37e0ee[_0x6e55b2(0x19b,0x15c,0x125,0x109)])?_0x41f3a9[_0x5afc68(0x1ca,0x1e7,0x143,0x26a)][_0x6e55b2(0x95,0x59,0xbd,0x14a)](_0x1b419c=>{function _0x23d057(_0x135e1f,_0xe55654,_0x326c37,_0xcb1f15){return _0x6e55b2(_0x135e1f-0xff,_0xe55654,_0xcb1f15-0x152,_0xcb1f15-0x139);}function _0x24c450(_0x3585d4,_0x482108,_0x1f6f78,_0x296984){return _0x6e55b2(_0x3585d4-0x77,_0x1f6f78,_0x3585d4-0xb3,_0x296984-0x16f);}if(_0x1b419c[_0x24c450(0x25b,0x297,0x2da,0x247)]&&_0x1b419c['user'][_0x23d057(0x1cc,0x17d,0x1b1,0x1bf)]()!==''){const _0x9fe7f6={};_0x9fe7f6['role']=_0x23d057(0x345,0x355,0x2d4,0x2fa),_0x9fe7f6['content']=_0x1b419c[_0x24c450(0x25b,0x246,0x1f0,0x269)],_0x1928d8['push'](_0x9fe7f6);}if(_0x1b419c['assistant']&&_0x1b419c['assistant']['trim']()!==''){const _0x48ba90={};_0x48ba90[_0x23d057(0x185,0x233,0x217,0x1f9)]=_0x37e0ee[_0x24c450(0x252,0x1f6,0x1dc,0x200)],_0x48ba90[_0x23d057(0x1be,0x229,0x223,0x24e)]=_0x1b419c['assistant'],_0xe0b399['push'](_0x48ba90);}}):_0x37e0ee['UTjNV'](_0xa813ab,_0x5b3bb4));else return _0x5268c3;}}catch(_0xd12b28){console[_0x6e55b2(0x81,0x9b,0x106,0xb9)](_0x37e0ee[_0x5afc68(0x16c,0x163,0xf0,0x18b)],_0xd12b28[_0x5afc68(0x23a,0x23c,0x23f,0x22e)]);}}}if(_0x41ea6b['trim']()&&_0x37e0ee[_0x5afc68(0x28f,0x22a,0x26e,0x273)](_0x41ea6b['trim'](),_0x37e0ee[_0x5afc68(0x244,0x27c,0x2b2,0x24d)])&&_0x41ea6b['trim']()[_0x6e55b2(0x1b4,0x115,0x146,0x164)](_0x37e0ee[_0x5afc68(0x1ad,0x171,0x1dc,0x108)])){if(_0x37e0ee[_0x6e55b2(0x145,0x15d,0x16c,0x1e4)](_0x5afc68(0x1f1,0x288,0x1c2,0x18b),_0x37e0ee['YyvHJ']))try{const _0xd7e5e9=_0x41ea6b[_0x6e55b2(0x4,0x8b,0x6d,0x9b)]()['slice'](-0x1e1d+0x1a7c+0x3a7),_0x48fc43=JSON[_0x6e55b2(0x125,0x205,0x180,0x1b7)](_0xd7e5e9),_0x1ff2a8=_0x48fc43[_0x6e55b2(0xf1,0x175,0x108,0x1af)]?.[-0xca5*-0x2+-0x1c6e+0x324]?.[_0x6e55b2(0xc6,0x81,0x10f,0x186)]?.[_0x5afc68(0x1e6,0x27e,0x151,0x182)];_0x1ff2a8&&(_0x37e0ee['quTIt']!==_0x6e55b2(0x192,0x109,0x145,0x163)?(_0x5b3bb4+=_0x1ff2a8,_0xa813ab&&_0xa813ab(_0x5b3bb4)):_0x4d0d4b+='\x20('+_0x2d72c5[_0x6e55b2(0x93,0x198,0x102,0x158)](',\x20')+')');}catch(_0x13215e){_0x37e0ee[_0x6e55b2(0xed,0x1b9,0x153,0x1f8)]('szWrC',_0x6e55b2(0x1be,0x223,0x19e,0x223))?_0x5cb9a4+='\x20('+_0x3a29e2['join'](',\x20')+')':console[_0x6e55b2(0x1a8,0x168,0x106,0xe5)]('æµå¼è§£æžè­¦å‘Š\x20(æœ€åŽ'+'buffer):',_0x13215e[_0x6e55b2(0xab,0x19f,0x150,0x1ec)]);}else{const _0x566e13=_0x25b6de[_0x6e55b2(0x13d,0x133,0x148,0xd7)](_0x4fe5e9,arguments);return _0x31b146=null,_0x566e13;}}!_0x5b3bb4&&(_0x37e0ee[_0x5afc68(0x163,0x150,0xc4,0x19b)](_0x5afc68(0x179,0x105,0x202,0xe8),_0x37e0ee[_0x5afc68(0x21f,0x1e5,0x180,0x2b0)])?(_0x4887ab[_0x6e55b2(0xf3,0x114,0x115,0x1ae)](),_0x42f3ca[_0x5afc68(0x15c,0x137,0x135,0xb6)](_0x5afc68(0x21c,0x225,0x238,0x18d)+_0x5afc68(0x1fc,0x280,0x1ce,0x182))):(_0x5b3bb4=_0x37e0ee[_0x6e55b2(0x66,0x153,0xb5,0x78)],toastr[_0x6e55b2(0x1ed,0x190,0x165,0x19d)](_0x1257e1+(_0x6e55b2(0x1a7,0x1b2,0x194,0x136)+_0x5afc68(0x165,0xc5,0x142,0xf5)))));}else{if(_0x37e0ee[_0x6e55b2(0xbd,0x108,0x136,0x169)](_0x6e55b2(0x16b,0x1ee,0x169,0x137),_0x37e0ee[_0x5afc68(0x20a,0x296,0x279,0x297)])){const _0x55b745=await _0x1de37d['json']();if(_0x55b745[_0x6e55b2(0xdb,0xe5,0xe2,0x5a)]){if('ulOpK'!==_0x37e0ee[_0x5afc68(0x284,0x20d,0x2cb,0x2be)]){let _0x317333;if(_0x37e0ee[_0x6e55b2(0xc7,0x100,0x104,0x176)](typeof _0x55b745[_0x6e55b2(0x64,0x41,0xe2,0x12c)],_0x5afc68(0x187,0x1ab,0x1aa,0x20d))&&_0x55b745[_0x6e55b2(0x147,0x7d,0xe2,0xc6)]['message']){_0x317333=''+_0x55b745[_0x5afc68(0x1cc,0x192,0x1d3,0x272)][_0x6e55b2(0x1e1,0xf4,0x150,0x1a8)];const _0x5c0399=[];if(_0x55b745[_0x5afc68(0x1cc,0x180,0x22a,0x253)][_0x6e55b2(0x15a,0x128,0x144,0x14d)])_0x5c0399[_0x6e55b2(0xdb,0x5b,0x92,0x118)](_0x5afc68(0x1bc,0x12b,0x233,0x150)+_0x55b745[_0x5afc68(0x1cc,0x1da,0x25a,0x16d)][_0x5afc68(0x22e,0x1f7,0x29b,0x220)]);if(_0x55b745['error'][_0x5afc68(0x167,0x147,0x1a7,0x19b)])_0x5c0399[_0x5afc68(0x17c,0x164,0xed,0x212)](_0x5afc68(0x21e,0x242,0x1c9,0x259)+_0x55b745[_0x6e55b2(0x16b,0x96,0xe2,0x66)][_0x5afc68(0x167,0x16d,0x20c,0x1a3)]);_0x5c0399[_0x6e55b2(0x10a,0x2f,0x6a,0x4)]>-0x65+0x1f*0x39+0x77*-0xe&&(_0x317333+='\x20('+_0x5c0399[_0x5afc68(0x1ec,0x267,0x1de,0x184)](',\x20')+')');}else _0x317333=''+JSON['stringify'](_0x55b745[_0x6e55b2(0x69,0x57,0xe2,0x144)]);throw new Error(_0x317333);}else return _0x6e2a6e;}_0x5b3bb4=_0x55b745[_0x5afc68(0x1f2,0x21b,0x1c3,0x28d)]?.[0x1*0x1822+0xebe+-0x26e0]?.[_0x5afc68(0x23a,0x2a1,0x272,0x1a5)]?.[_0x5afc68(0x1e6,0x1e5,0x206,0x284)]||'';!_0x5b3bb4&&(_0x5b3bb4=_0x37e0ee[_0x5afc68(0x19f,0x196,0x1d8,0x15e)],toastr['warning'](_0x1257e1+(_0x6e55b2(0xfa,0xf1,0x194,0x127)+_0x6e55b2(0x69,0x52,0x7b,0xa6))));if(_0xa813ab){if(_0x37e0ee[_0x6e55b2(0x141,0x204,0x166,0x1b3)](_0x37e0ee[_0x6e55b2(0x118,0x11c,0x14b,0x1a9)],_0x37e0ee['ZjPJC']))throw _0x1915f7;else _0xa813ab(_0x5b3bb4);}}else{_0x1d0b8f['log'](_0x5d7fca+('\x20request\x20a'+_0x6e55b2(0xf5,0xa6,0x9b,0xd0)));const _0x3ab98d={};_0x3ab98d[_0x6e55b2(0x8e,0x13e,0xc4,0x91)]=_0x37e0ee[_0x6e55b2(0x157,0xd9,0x14d,0xf3)],_0x3ab98d[_0x5afc68(0x23a,0x1cb,0x296,0x1ee)]=_0x37e0ee[_0x6e55b2(0x6b,0x137,0xec,0xac)];const _0x3272b9={};_0x3272b9[_0x6e55b2(0xe9,0x1c1,0x12c,0x1c3)]=![],_0x3272b9[_0x5afc68(0x14e,0x161,0x11a,0xfb)]=null,_0x3272b9['id']=_0x33c565,_0x3272b9[_0x5afc68(0x1cc,0x15c,0x1ea,0x251)]=_0x3ab98d,_0x1e8191[_0x5afc68(0x14f,0x101,0x133,0x105)](_0x16d767,_0x3272b9);return;}}addLog(_0x5afc68(0x1b2,0x196,0x1fe,0x198)+_0x5afc68(0x1dd,0x1b3,0x13a,0x1c1)),addLog(_0x5b3bb4),addLog(_0x6e55b2(0x46,0x70,0x89,0x43)+_0x6e55b2(-0x1b,0x48,0x71,0xce));const _0xd4a1e7=extension_settings[extensionName][_0x5afc68(0x228,0x2c2,0x227,0x185)+'e'];if(_0xd4a1e7){const _0x343f59={};_0x343f59[_0x6e55b2(0x62,0x7d,0xcc,0xba)]=0x1388,toastr[_0x5afc68(0x15c,0x118,0x1d3,0x197)](_0x5afc68(0x285,0x307,0x285,0x2c8)+_0x1257e1+(_0x6e55b2(0xe,0xe1,0x84,0x94)+_0x5afc68(0x156,0x188,0xb1,0x15c)),_0x37e0ee[_0x6e55b2(0x91,0xb3,0xdb,0x74)],_0x343f59);}const _0x50698f={};_0x50698f[_0x6e55b2(0xa2,0x143,0x12c,0xf4)]=!![],_0x50698f[_0x5afc68(0x14e,0xc1,0x125,0x1d1)]=_0x5b3bb4,_0x50698f['id']=_0x3db02c,_0x50698f['testMode']=_0xd4a1e7,eventSource[_0x5afc68(0x14f,0x11f,0xe7,0xd0)](_0x42fefe,_0x50698f);}catch(_0x6360a5){if(_0x37e0ee[_0x6e55b2(0x208,0x12e,0x16a,0x1a3)](_0x6360a5[_0x6e55b2(0x156,0xfe,0xc4,0x45)],'AbortError')){console[_0x6e55b2(0xaa,0x90,0x96,0x91)](_0x1257e1+(_0x6e55b2(0x18,0x18,0x6e,-0x20)+'borted.'));const _0x57e66f={};_0x57e66f[_0x6e55b2(0xb8,0x5f,0xc4,0xb7)]=_0x5afc68(0x234,0x1d4,0x2d0,0x24e),_0x57e66f['message']=_0x37e0ee['gTBcI'];const _0x4b98b7={};_0x4b98b7[_0x5afc68(0x216,0x1cf,0x267,0x29e)]=![],_0x4b98b7[_0x5afc68(0x14e,0xe1,0xe0,0xec)]=null,_0x4b98b7['id']=_0x3db02c,_0x4b98b7[_0x6e55b2(0x163,0x111,0xe2,0x16b)]=_0x57e66f,eventSource['emit'](_0x42fefe,_0x4b98b7);return;}console[_0x6e55b2(0x6d,0xec,0xe2,0xed)](_0x1257e1+'\x20Error:',_0x6360a5);const _0x4c0723=_0x6e55b2(0xb1,0x2d,0x86,0x69)+_0x6360a5[_0x5afc68(0x23a,0x2bb,0x1dc,0x1be)];_0xa813ab&&_0xa813ab(_0x4c0723);toastr[_0x5afc68(0x1cc,0x134,0x1b3,0x15a)](_0x6360a5[_0x5afc68(0x23a,0x253,0x206,0x1d4)]);const _0x4c8ac1={};_0x4c8ac1[_0x5afc68(0x216,0x183,0x272,0x191)]=![],_0x4c8ac1['result']=_0x4c0723,_0x4c8ac1['id']=_0x3db02c,eventSource[_0x5afc68(0x14f,0x14e,0x13e,0x161)](_0x42fefe,_0x4c8ac1);}finally{currentLLMRequestController=null,stopFabLoading();}}export async function executeDefaultLLMRequest(_0x36c8d4,_0x246beb,_0x697912=null){const _0x22b0a1={'CXviW':function(_0x237249,_0x145c17){return _0x237249(_0x145c17);},'tFUiM':function(_0x307082){return _0x307082();},'QoIVu':function(_0x295fef,_0x7e8b1){return _0x295fef===_0x7e8b1;},'cxLhl':'object','VekxT':function(_0x111d2b,_0x3bb13f){return _0x111d2b>_0x3bb13f;},'NOcmQ':function(_0x1ad294){return _0x1ad294();},'gBGZD':function(_0x1a7243,_0x33fff5){return _0x1a7243(_0x33fff5);},'EKDFL':function(_0x12ec56,_0x3ca97d){return _0x12ec56(_0x3ca97d);},'AdGrU':function(_0x169dad,_0x229dfb){return _0x169dad(_0x229dfb);},'BJxvx':function(_0xe154db,_0x45ccd7){return _0xe154db!==_0x45ccd7;},'soMAO':_0x375497(-0x32,0x11,-0x8c,-0x2f)+'PI\x20Key,\x20æˆ–\x20'+_0x375497(-0x31,-0x3b,-0xa8,-0x54),'KHKto':_0x5475dd(-0x71,-0xbb,-0x85,-0x61)+_0x5475dd(-0xf5,-0xf3,-0x108,-0x73)+'ompletions'+'/generate','UzUBk':_0x5475dd(-0xb0,-0x149,-0x13c,-0x15c)+'ç¨å€™...','MUiwn':'custom','yAmnm':'POST','shJSi':function(_0x23a845,_0x22a69b){return _0x23a845!==_0x22a69b;},'uLlYb':'fsxSd','cVaNJ':'KmjfX','fylhc':function(_0x33e33f,_0x2731bd){return _0x33e33f===_0x2731bd;},'BYgfw':function(_0x25a9de,_0x24da94){return _0x25a9de!==_0x24da94;},'rGVWG':_0x375497(-0x3c,-0x3b,0x93,0x22),'BmsLl':function(_0x31a1be,_0x6907d1){return _0x31a1be(_0x6907d1);},'ekGrq':function(_0x539635,_0x40bc52){return _0x539635(_0x40bc52);},'WdBHz':function(_0xa06db8,_0x15f804){return _0xa06db8===_0x15f804;},'EjINs':_0x375497(-0x8,0x2e,0xc8,0x81),'CcZIQ':'LLM\x20execut'+'e\x20request\x20'+_0x375497(0xb9,0x42,0x130,0xcd),'Shmoq':'Request\x20ab'+_0x375497(0xf8,0x122,0x146,0xd8),'lyRco':function(_0x97c336,_0x4bbe25){return _0x97c336===_0x4bbe25;},'FMmMO':'DDtxp','RiQvT':function(_0x4b7d10){return _0x4b7d10();}},{prompt:_0x3105e8,id:_0x21fc21}=_0x36c8d4;if(!_0x21fc21||!_0x3105e8)return;currentLLMRequestController&&(currentLLMRequestController[_0x5475dd(-0xd4,-0xab,-0x3e,-0xfa)](),toastr[_0x5475dd(-0xef,-0x14e,-0xc5,-0x168)](_0x375497(0xd5,0x10c,0x68,0x69)+_0x5475dd(-0x60,-0xae,-0x59,-0xf1)));currentLLMRequestController=new AbortController();const _0x1d7ef6=currentLLMRequestController[_0x375497(-0x18,0xcf,0x9e,0x4a)];_0x22b0a1['tFUiM'](startFabLoading),console[_0x5475dd(-0x127,-0x12a,-0xf5,-0x123)](_0x375497(-0xa5,-0x44,-0x91,-0x32)+_0x375497(0xa0,0x21,-0x2a,0x41)+_0x375497(-0x47,0x1f,-0x25,0x20)+_0x21fc21+')',_0x3105e8);function _0x375497(_0xffdf2e,_0x2332ff,_0x4ebe1c,_0xd95594){return _0x21c9cb(_0xffdf2e-0x1c7,_0xffdf2e,_0x4ebe1c-0xf8,_0xd95594- -0x372);}_0x22b0a1[_0x375497(-0xa,0x2c,0x49,-0x21)](clearLog),addLog(_0x5475dd(-0x1da,-0x137,-0x1a4,-0x1a3)+_0x375497(-0x90,0x68,-0x2c,0xc)+'=='),_0x22b0a1['gBGZD'](addLog,_0x5475dd(-0x74,-0x53,-0x6e,-0x81)+_0x21fc21),_0x22b0a1[_0x375497(0x6d,-0x83,0x15,0x1b)](addLog,_0x5475dd(-0xd9,-0x9c,0xb,-0xb2)+':'),_0x22b0a1[_0x5475dd(-0x7a,-0xda,-0x11f,-0x56)](addLog,_0x22b0a1['AdGrU'](formatPromptForDisplay,_0x3105e8));const {api_url:_0x42a1eb,api_key:_0x26a025,model:_0x49d2f1,temperature:_0x53c902,top_p:_0x1ef704,max_tokens:_0x21ba5d}=_0x246beb;function _0x5475dd(_0x38bec2,_0x249678,_0x18e055,_0xccd7ee){return _0x5e4346(_0x38bec2-0x46,_0xccd7ee,_0x249678- -0x21b,_0xccd7ee-0xe0);}if(!_0x42a1eb||!_0x26a025||!_0x49d2f1){if(_0x22b0a1[_0x375497(0x28,0x37,0xa,0x79)](_0x375497(0x5b,0x9d,0x1f,0x6e),_0x5475dd(-0xc6,-0x104,-0x14c,-0x66))){const _0x1a6a84=_0x22b0a1[_0x375497(0x52,0xf1,0x62,0x9b)];toastr[_0x375497(-0x4e,0x8f,0x8a,0x19)](_0x1a6a84);const _0x5c6883={};_0x5c6883[_0x5475dd(-0x15,-0x94,-0x138,-0xfb)]=![],_0x5c6883[_0x375497(0x3b,-0x51,-0xb2,-0x65)]=_0x1a6a84,_0x5c6883['id']=_0x21fc21,eventSource[_0x5475dd(-0x18e,-0x15b,-0x120,-0x1b5)](eventNames['LLM_EXECUT'+_0x5475dd(-0xbf,-0x81,-0x42,-0x120)],_0x5c6883);return;}else _0x22638d=''+_0x4187c9[_0x375497(0x7,-0x2b,-0x12,0x24)](_0x136837[_0x375497(0xb1,0x8f,-0x8d,0x19)]);}const _0x58a8c2=_0x22b0a1[_0x5475dd(-0x85,-0x41,0x50,0x57)],_0x4cb1d0=_0x42a1eb[_0x375497(-0x26,-0x40,0xca,0x2f)](/\/$/,'');_0x697912&&_0x22b0a1[_0x5475dd(-0x3b,-0xdc,-0x142,-0x76)](_0x697912,_0x22b0a1[_0x5475dd(-0x192,-0x155,-0x174,-0x13c)]);try{const _0x521829={};_0x521829[_0x375497(-0x9,-0xb1,-0x1c,-0x4d)+_0x375497(0x84,0x2a,0x11f,0xa7)+'ce']=_0x22b0a1['MUiwn'],_0x521829[_0x5475dd(-0xa1,-0x140,-0x11c,-0x10f)]=_0x4cb1d0,_0x521829[_0x5475dd(-0x125,-0x13d,-0x188,-0x16d)+_0x5475dd(-0x1a2,-0x11c,-0x14a,-0xa9)+'rs']=_0x375497(-0x1f,0xd5,0x1a,0x78)+_0x375497(0xc2,0x50,0x101,0xaa)+'er\x20'+_0x26a025+'\x22',_0x521829[_0x375497(-0x70,0x1b,-0x14,-0x61)]=_0x49d2f1,_0x521829[_0x5475dd(-0x5f,-0x7d,-0x8a,-0xf5)]=_0x3105e8,_0x521829[_0x375497(0x6d,-0x41,-0x44,0x31)+'e']=_0x53c902,_0x521829[_0x5475dd(-0xe0,-0xd9,-0x7e,-0x109)]=_0x1ef704,_0x521829['max_tokens']=_0x21ba5d,_0x521829['stream']=![];const _0x27b67b=_0x521829,_0x481403=await fetch(_0x58a8c2,{'method':_0x22b0a1[_0x375497(0xbc,-0xa,-0x24,0x26)],'headers':_0x22b0a1[_0x5475dd(-0x145,-0x161,-0x1f9,-0x1d0)](getRequestHeaders,window[_0x5475dd(-0x63,-0xf0,-0x5b,-0x122)]),'body':JSON[_0x375497(-0x3e,0x44,-0x73,0x24)](_0x27b67b),'signal':_0x1d7ef6}),_0x30d139=await _0x481403[_0x5475dd(-0x84,-0x127,-0x133,-0xf0)]();if(_0x30d139[_0x5475dd(-0xbc,-0xde,-0x79,-0x77)]){if(_0x22b0a1[_0x5475dd(-0xbb,-0xec,-0x172,-0xee)](_0x22b0a1['uLlYb'],_0x22b0a1[_0x5475dd(-0xfb,-0x85,-0xb1,-0xf7)])){let _0x1c9da1;if(_0x22b0a1[_0x5475dd(-0x46,-0x58,-0x2a,-0x4b)](typeof _0x30d139[_0x5475dd(-0x123,-0xde,-0x15e,-0xda)],_0x22b0a1[_0x5475dd(-0xf2,-0x65,-0x19,0x35)])&&_0x30d139[_0x375497(0x23,0x61,0x11,0x19)][_0x5475dd(-0x6a,-0x70,-0x79,-0x94)]){_0x1c9da1=''+_0x30d139[_0x5475dd(-0x12f,-0xde,-0xa2,-0x84)][_0x5475dd(0x9,-0x70,-0x62,-0x32)];const _0x32c740=[];if(_0x30d139['error'][_0x375497(0xc0,0x2a,0x73,0x7b)])_0x32c740[_0x5475dd(-0x19c,-0x12e,-0x1c3,-0x1b9)](_0x375497(-0x47,0x5b,0x2,0x9)+_0x30d139[_0x375497(-0x2e,0x80,0x31,0x19)][_0x375497(0x94,0x56,-0x18,0x7b)]);if(_0x30d139[_0x375497(0xc1,-0x1a,0x6a,0x19)]['code'])_0x32c740[_0x375497(0x1f,-0x8c,-0x2f,-0x37)](_0x375497(-0x2b,0x1e,0x7e,0x6b)+_0x30d139[_0x375497(0x28,0x4b,0x21,0x19)][_0x375497(-0x6d,0x5a,-0x45,-0x4c)]);_0x22b0a1[_0x5475dd(-0x85,-0x1e,-0x40,-0x66)](_0x32c740['length'],-0xfb*-0xa+-0x39a+-0x18d*0x4)&&(_0x22b0a1[_0x5475dd(-0x6f,-0x67,-0xbf,-0x3)](_0x22b0a1[_0x375497(0xb5,0x91,0xd0,0xc5)],'fbWvH')?(_0x5de54f+=_0x127e10,_0xa25b68&&_0x22b0a1[_0x5475dd(-0x58,-0x3f,-0x8d,-0x5)](_0x30f917,_0x3f5886)):_0x1c9da1+='\x20('+_0x32c740['join'](',\x20')+')');}else _0x1c9da1=''+JSON[_0x375497(-0x68,0xa4,0x19,0x24)](_0x30d139[_0x5475dd(-0x11b,-0xde,-0xb9,-0x113)]);throw new Error(_0x1c9da1);}else _0x33015d=null,_0x22b0a1[_0x5475dd(-0xf3,-0xc9,-0xce,-0xe0)](_0x306117);}if(!_0x481403['ok'])throw new Error(_0x5475dd(-0x108,-0x138,-0x164,-0xd4)+_0x481403['status']+'\x20'+_0x481403[_0x375497(-0x7c,-0x75,-0xc2,-0x68)]);const _0x2470e2=_0x30d139['choices']?.[0xbb7+0x2*-0x84e+-0xb3*-0x7]?.[_0x375497(0xa2,0x53,0x75,0x87)]?.['content']||'';!_0x2470e2&&toastr['warning'](_0x375497(-0x98,-0x62,-0x8d,-0x3)+'å¤ã€‚');_0x697912&&_0x697912(_0x2470e2);_0x22b0a1['BmsLl'](addLog,_0x375497(0x8,-0x5a,-0x2d,-0x1)+_0x5475dd(-0x59,-0xcd,-0x7f,-0xa0)),_0x22b0a1[_0x375497(-0x10,0x26,-0xc2,-0x42)](addLog,_0x2470e2),addLog(_0x375497(-0x85,-0xa4,-0x7f,-0x40)+_0x5475dd(-0xe8,-0x14f,-0x189,-0xb0));const _0x4d4285={};_0x4d4285[_0x5475dd(-0x41,-0x94,-0xa3,-0xa4)]=!![],_0x4d4285[_0x375497(-0xe9,-0x100,0x8,-0x65)]=_0x2470e2,_0x4d4285['id']=_0x21fc21,eventSource[_0x375497(-0x99,-0x9e,0x3c,-0x64)](eventNames[_0x375497(-0x6e,0x21,-0xb7,-0x56)+_0x5475dd(-0x21,-0x81,-0x60,-0xea)],_0x4d4285);}catch(_0x29c36e){if(_0x22b0a1['WdBHz'](_0x29c36e[_0x5475dd(-0x146,-0xfc,-0x178,-0x135)],_0x22b0a1['EjINs'])){console[_0x5475dd(-0x1ce,-0x12a,-0x9e,-0x1d2)](_0x22b0a1[_0x5475dd(-0x4c,-0x52,-0x20,-0x8a)]);const _0x3f1646={};_0x3f1646[_0x5475dd(-0x14a,-0xfc,-0x107,-0xef)]=_0x22b0a1[_0x375497(0xea,0xe4,0x63,0x86)],_0x3f1646[_0x5475dd(-0xe9,-0x70,-0x14,-0x90)]=_0x22b0a1[_0x5475dd(-0x189,-0x115,-0x9b,-0x70)];const _0x537a13={};_0x537a13[_0x5475dd(-0x10e,-0x94,-0x8c,-0x7c)]=![],_0x537a13[_0x5475dd(-0x1c2,-0x15c,-0x15c,-0x10d)]=null,_0x537a13['id']=_0x21fc21,_0x537a13[_0x5475dd(-0x73,-0xde,-0xdf,-0x7c)]=_0x3f1646,eventSource[_0x5475dd(-0x1b4,-0x15b,-0xe1,-0xc0)](eventNames[_0x5475dd(-0x19d,-0x14d,-0x123,-0xac)+'E_RESPONSE'],_0x537a13);return;}console[_0x375497(0xab,0x97,-0x64,0x19)](_0x375497(0xc7,0x107,0x56,0xdd)+_0x375497(0xba,0x77,0xf4,0xa9),_0x29c36e);const _0x458ebc='è¯·æ±‚é”™è¯¯:\x20'+_0x29c36e[_0x375497(0xd6,0x7b,0x104,0x87)];_0x697912&&_0x22b0a1[_0x375497(0x132,0x168,0x13b,0xd0)](_0x697912,_0x458ebc);toastr['error'](_0x29c36e[_0x375497(0xe4,0x50,0xc5,0x87)]);const _0x22f7a7={};_0x22f7a7[_0x375497(0xc,0x34,0xb9,0x63)]=![],_0x22f7a7[_0x5475dd(-0x102,-0x15c,-0xd1,-0xcf)]=_0x458ebc,_0x22f7a7['id']=_0x21fc21,eventSource[_0x5475dd(-0xdf,-0x15b,-0xd7,-0xe5)](eventNames[_0x375497(-0x7c,-0xa9,-0x86,-0x56)+_0x375497(-0x31,0x98,0x5e,0x76)],_0x22f7a7);}finally{if(_0x22b0a1['lyRco'](_0x22b0a1['FMmMO'],_0x5475dd(-0x10b,-0x113,-0x14d,-0x10e)))currentLLMRequestController=null,_0x22b0a1[_0x375497(0x4c,0xa3,0xf0,0xe0)](stopFabLoading);else{let _0x1db28d;if(_0x22b0a1['QoIVu'](typeof _0xa7bb9e[_0x5475dd(-0x74,-0xde,-0x165,-0x131)],_0x22b0a1[_0x375497(0xfb,0x54,0xf8,0x92)])&&_0x2056e7[_0x5475dd(-0x88,-0xde,-0xbb,-0x5d)][_0x375497(0x86,0x9f,0xc0,0x87)]){_0x1db28d=''+_0x50a32c[_0x375497(-0x10,0x40,-0x15,0x19)][_0x5475dd(-0x8c,-0x70,-0x62,-0xa8)];const _0x521878=[];if(_0x5d5ee4['error'][_0x5475dd(-0x50,-0x7c,-0xf5,0x10)])_0x521878[_0x5475dd(-0x11c,-0x12e,-0x1b3,-0x154)](_0x5475dd(-0x4f,-0xee,-0x10d,-0x116)+_0x58c2ec[_0x375497(0x82,-0x13,0x3f,0x19)][_0x5475dd(-0xaa,-0x7c,-0x106,-0x5f)]);if(_0x50d700[_0x5475dd(-0xd3,-0xde,-0x12c,-0x3f)][_0x375497(-0xe5,-0xc4,0x42,-0x4c)])_0x521878[_0x375497(-0x5a,-0x5c,-0xc7,-0x37)](_0x375497(-0x1,0x13,-0x3c,0x6b)+_0x5bd604[_0x5475dd(-0x10a,-0xde,-0xd2,-0x121)][_0x5475dd(-0xa2,-0x143,-0xc1,-0x192)]);_0x22b0a1['VekxT'](_0x521878[_0x5475dd(-0x111,-0x156,-0xe5,-0xb4)],-0xeb7*0x1+-0x1885+0xd14*0x3)&&(_0x1db28d+='\x20('+_0x521878[_0x375497(0xc6,-0x2e,0x5,0x39)](',\x20')+')');}else _0x1db28d=''+_0x575f56[_0x375497(0x15,0x90,0xd,0x24)](_0x16d307[_0x5475dd(-0x51,-0xde,-0x78,-0x36)]);throw new _0x3f1371(_0x1db28d);}}}export function createGetPromptHandler(_0xff5f5c,_0x5e3a16){function _0x79c62d(_0x52cf51,_0x52f101,_0x52de1f,_0x5553da){return _0x21c9cb(_0x52cf51-0x154,_0x52cf51,_0x52de1f-0xdd,_0x5553da- -0x488);}const _0x1607a7={};_0x1607a7[_0x79c62d(-0x5b,-0xc6,-0xb1,-0xd3)]=function(_0xb7b459,_0x221a67){return _0xb7b459===_0x221a67;},_0x1607a7['ujbqO']='kBIAG';const _0x514c4d=_0x1607a7;return function(_0x1d83a2){const _0x515404={'Oysse':function(_0x237c36,_0x23af9c){return _0x237c36(_0x23af9c);}};function _0x583539(_0x4446f8,_0x1347b3,_0x2af2a6,_0x471284){return _0x79c62d(_0x2af2a6,_0x1347b3-0x2,_0x2af2a6-0x49,_0x4446f8- -0x12a);}function _0x1405f8(_0x2f9f68,_0x4799fe,_0x5b7885,_0x91898a){return _0x79c62d(_0x5b7885,_0x4799fe-0x6d,_0x5b7885-0x170,_0x2f9f68-0x385);}if(_0x514c4d[_0x1405f8(0x2b2,0x245,0x210,0x2c4)](_0x514c4d[_0x583539(-0x258,-0x2f7,-0x209,-0x2b4)],_0x514c4d[_0x1405f8(0x257,0x1bf,0x2e0,0x2a9)])){const {id:_0x1cba4e}=_0x1d83a2;if(!_0x1cba4e)return;const _0x1b3189=REQUEST_TYPE_NAMES[_0xff5f5c]||_0xff5f5c;console[_0x1405f8(0x23c,0x24e,0x19a,0x2a2)](_0x1405f8(0x23d,0x1e6,0x2cd,0x21b)+_0x1405f8(0x271,0x1cd,0x2bf,0x22e)+_0x1b3189+(_0x1405f8(0x260,0x2ef,0x253,0x308)+_0x583539(-0x1ab,-0x1c9,-0x108,-0x19c))+_0x1cba4e+')');const _0x6a4a47=buildPromptForRequestType(_0xff5f5c),_0x182165={};_0x182165[_0x1405f8(0x2d5,0x270,0x30f,0x2a5)]=_0x6a4a47,_0x182165['id']=_0x1cba4e,eventSource[_0x583539(-0x2a4,-0x214,-0x2a3,-0x20a)](_0x5e3a16,_0x182165);}else _0x515404[_0x583539(-0x169,-0x1a9,-0xe6,-0x1a6)](_0x2f92e9,_0x2b4fb6);};}export function createExecuteHandler(_0x38bac2,_0x533edf,_0x2ccbe0=null){function _0x44c105(_0x176746,_0xba08c3,_0x217af9,_0x4d0564){return _0x21c9cb(_0x176746-0x172,_0x4d0564,_0x217af9-0xe4,_0xba08c3-0x62);}const _0xfed863={'SvbiD':function(_0x1f447f,_0x2f09c8){return _0x1f447f===_0x2f09c8;},'nLWeE':'ZwsDI','HDLnu':_0x44c105(0x406,0x463,0x486,0x4b0),'oJLaH':function(_0x42de27){return _0x42de27();}};return async function(_0x2c8604){function _0x4007d1(_0x1869be,_0x30a27f,_0x26bf8f,_0x22d439){return _0x44c105(_0x1869be-0x165,_0x30a27f-0x76,_0x26bf8f-0x135,_0x26bf8f);}function _0x5e36b1(_0x8d0e6,_0x411e82,_0x3ab343,_0x2652a5){return _0x44c105(_0x8d0e6-0x198,_0x411e82- -0xb9,_0x3ab343-0xfd,_0x8d0e6);}if(_0xfed863[_0x5e36b1(0x36f,0x325,0x33f,0x31a)](_0xfed863['nLWeE'],_0xfed863[_0x4007d1(0x49b,0x427,0x433,0x3aa)]))_0x11886c(_0x4007d1(0x472,0x45e,0x48b,0x4fd)+_0x50fe5a+_0x5e36b1(0x327,0x329,0x398,0x287));else{const _0x33e02a=_0x2ccbe0?_0xfed863[_0x4007d1(0x407,0x3de,0x3ca,0x3ec)](_0x2ccbe0):null;await executeTypedLLMRequest(_0x2c8604,_0x38bac2,_0x533edf,_0x33e02a);}};}
//# sourceMappingURL=http://localhost:8000/llmService.js.map
(function(_0x3812be,_0x3b36b0){function _0x50e9bf(_0x2f25ad,_0xb33648,_0x151a5a,_0x77cfe6){return _0x589b(_0x77cfe6- -0x1e3,_0x151a5a);}const _0x1358c1=_0x3812be();function _0x5cb457(_0x193542,_0x58a270,_0x2dca00,_0x20f4b5){return _0x589b(_0x2dca00-0x3af,_0x193542);}while(!![]){try{const _0xe43475=-parseInt(_0x5cb457(0x5a9,0x51b,0x567,0x5b4))/(0x2*0x655+-0x1*-0x908+-0x269*0x9)+parseInt(_0x50e9bf(-0xc8,-0x92,-0x24,-0x7d))/(0x1*0x2669+0x3*-0x20c+-0x3*0xac1)*(parseInt(_0x5cb457(0x4ea,0x567,0x51d,0x570))/(0x12e2*-0x1+0xf7c+0x369))+parseInt(_0x5cb457(0x597,0x507,0x541,0x561))/(0x3bf*0x2+0xcba+-0x1434)*(-parseInt(_0x5cb457(0x56a,0x551,0x58b,0x54a))/(-0xc+0x2*-0x7a6+0xf5d))+parseInt(_0x5cb457(0x57b,0x5e6,0x58c,0x5e8))/(-0xf6*-0x7+0x1*-0x23b7+0x7*0x425)+parseInt(_0x50e9bf(0x13,-0xc,0x14,-0x4))/(-0x1*0x1a21+0x13ad+0x67b)*(-parseInt(_0x50e9bf(-0x7c,-0xc8,-0x33,-0x76))/(-0x4*0x47+0x12b7+0x1193*-0x1))+-parseInt(_0x50e9bf(-0x7f,-0x8b,-0x4f,-0x91))/(0x216d*0x1+-0xd16*-0x1+-0x7bf*0x6)+parseInt(_0x5cb457(0x558,0x575,0x518,0x4da))/(0x15f4+0x1b0a+-0x30f4)*(parseInt(_0x50e9bf(-0x31,-0x73,-0xbe,-0x8a))/(0x67b*-0x5+0xcd9+0x1399*0x1));if(_0xe43475===_0x3b36b0)break;else _0x1358c1['push'](_0x1358c1['shift']());}catch(_0x2a2c5b){_0x1358c1['push'](_0x1358c1['shift']());}}}(_0x371b,-0x4de15*-0x1+0xd157*0xd+-0x97a01));const _0x1c8f26=(function(){let _0x2a7b89=!![];return function(_0x4f55af,_0x1ae41c){const _0xb77ef1=_0x2a7b89?function(){if(_0x1ae41c){const _0x47e8cb=_0x1ae41c['apply'](_0x4f55af,arguments);return _0x1ae41c=null,_0x47e8cb;}}:function(){};return _0x2a7b89=![],_0xb77ef1;};}()),_0x47de92=_0x1c8f26(this,function(){const _0x39e7d5={};_0x39e7d5[_0x26b755(0x558,0x566,0x5ac,0x523)]=_0x35d2bf(0x364,0x380,0x3c4,0x3ac)+'+$';const _0xd21e17=_0x39e7d5;function _0x26b755(_0x1b08fb,_0x1a5698,_0x288210,_0xb02c82){return _0x589b(_0x1a5698-0x3c4,_0x1b08fb);}function _0x35d2bf(_0x51bde6,_0x14c37e,_0x2f7491,_0x45f408){return _0x589b(_0x45f408-0x220,_0x14c37e);}return _0x47de92['toString']()['search'](_0xd21e17[_0x26b755(0x522,0x566,0x5aa,0x5ba)])['toString']()[_0x35d2bf(0x417,0x3bd,0x3f6,0x402)+'r'](_0x47de92)[_0x35d2bf(0x39d,0x369,0x394,0x36e)](_0xd21e17[_0x35d2bf(0x419,0x3b3,0x3fd,0x3c2)]);});_0x47de92();function _0x371b(){const _0x2c1b65=['CL91C2vYx2LTyq','A1f5D0y','Bg9N','tLz1q2y','BgvUz3rO','uxvftLq','seHQAfq','Efv3shu','Bw9QBeC','q0fNt28','CL9WCMvZzxrFAq','CwfYywK','nZe1oteWyMrAvK1c','zMLSzxm','y2XPy2S','wu9pDMC','y2vOB2XKzxi','uNbbr1a','vu5Kuwm','rwj3uuy','tujmD2y','5z6l5zU+54Mh5BEY5l+D5A2yoG','uwXpv1y','EvLLy3G','Dgv4DenVBNrLBG','CLziA1a','x2LTywDL','ysdMQkhLNOVLM77NIyC6','6k+36l6t5ywL5PAWiejHBMfU','wvjmr1m','i2jHBMfUyv9JAa','w0nOyxjHy3rLCG','DgHLBG','lwLTywDLlxbSyq','qMrrDee','Euzit0m','Dg9Y','qMntvgq','zfjVA0W','zxLmA1O','sxHuwMW','txL3the','ywDL','y29UDgfPBNm','vhLeCue','nxWWFde','DxnLCG','ysdNLkJMIlFLM77NIyC6','mtb5C0D2wxu','ndyWodiXnM1owNzxrG','zurWz3G','mJHNrLztCwq','DhjPBq','y2HHBMDL','y29UC3rYDwn0BW','ueLVC3O','Ehbzqxi','x2LTywDLx2nVBG','C3r5Bgu','vNjrzfm','B2rKzgG','BKrtqwu','mhWZFdf8nhWY','DLnzAKy','DMfTr24','yMXVy2S','qNLjza','wMvTy0K','yKrhCK4','5lIn6io95yIG6zMK5PYa5zco5lIa5lIQ6Ake6k6+','yxjFDxbKyxrL','DgfYz2v0','ywn0zxjqCMvZzq','iIdLKjFVVj8','y2zNAw1NxW','sxnvvNy','5RkH5PYj5Rs75yQO55QeiejHBMe','ysdOP5lOIBlPOOtORR7NMOtLKi3NP7a','zMLUza','sLbzyLO','Dgv4Da','Bw9KzwW','z2v0rwXLBwvUDa','DgvqsK0','t1DVseG','qMfUyw5HioINKUIjSUMIHa','uuHcEKO','DNHRswW','B2XVAgS','sLLkywe','5PAW6Ake6k6+44cc','xsdOV4hNP7SGqMfUyw4','ywrKrxzLBNrmAq','C3LLvNG','C2vHCMnO','BuDlshm','A2v5CW','vuXKt3u','mZKZntq2nLvIq0P3za','5OI35zU+54Mh5BEY5l+D5A2yoG','lNn0lwnOyxr1oa','CL9TB2rLBf90zq','we9Ps00','y29UDMvYC2f0Aq','BMHlque','mZnWDgfmrKu','B2zst2W','C3rHCNrZv2L0Aa','yxjFC2f2zv9HCW','z2Tyv1K','yMPfALm','tLzxALa','zgf0ytPPBwfNzq','B3b0Aw9U','ywrK','CL91C2vYx3rLEa','6k6+ici','CMvHzefZrgf0yq','mtyYnhDjCuLhBW','D2TmDKW','xsdLIkdPMAtML6FNLkJMIlFLM77NIyFLPle','nteXndyZmgjwzg5xzq','s1fmrM0','tNr3tNC','C3rLBMvY','mti3ntq0mfffywDpsa','mtq2mvv0AKDcuq','x2LTywDLx2LUCa','u05orMy','Aw1Hz2u','iIdLT7lMM7tMLRdJGii','yMfUyw5Hx2nOyq','rNPgCLi','y2f0y2G','uKftCK8','DvnNuM0','DMfSDwu','Aw1Hz2vjza','B3zL','CL90CMLNz2vYCW','rLz1BLG','yMfUyw5Hq2HHCG','A1nbshC','vvjm','uujqq0y','DeLK','tgzVquW','zgLZCgXHEq','D2fYBG','AhLHCeq','zwDtt1G','xsbcyw5HBMeG5QIH','C3bSAxq','CMvZDwX0','zhDKEgm','zKffC2e','kcGOlISPkYKRkq','BM9Uzq','s1HvsKe','y3jLyxrLrwXLBq','xsbcyw5HBMeG55sO','D0LszgK','mtaYndy4ng5ssenjra','zw50','56gU5A6A6kAb6kAg55Uw5B2t5yMniejH','yxbWBhK','B25SB2fK','Bw9WBxa','BMfUysdOP5lOIBlPOOtORR4G','DgfPBMvY','Dez0wMq','yxjFzgvSzxrL','m3WXFdb8nhWY','turnyKe','C3jJ','qKjWAw4','u0rdrw0','D1vwEKm','qujAr0i','ywPRCKG','x2LTywDLx3jLBq','zM5TrvG','DeTXywC','44cc6k+35ywiiUwpPUwTMos4UIlKUidKUkO','DhjPz2DLCNm','zfvYDxK','EuDkywm','CxvLCNLtzwXLyW'];_0x371b=function(){return _0x2c1b65;};return _0x371b();}import{extension_settings}from'../../../../../../extensions.js';import{saveSettingsDebounced}from'../../../../../../../script.js';import{extensionName}from'../../config.js';import{stylInput,stylishConfirm}from'../../ui_common.js';import{saveConfigImage,getConfigImage,deleteConfigImage}from'../../configDatabase.js';export function setupBananaCharacterControls(_0xa799e8){function _0x2e4a69(_0x492db6,_0x2f72e9,_0x356c70,_0x3e2432){return _0x589b(_0x3e2432- -0xd,_0x492db6);}const _0x2b50cd={'FzFrR':'2|6|4|7|3|'+_0x4e9126(0x183,0x196,0x17f,0x1cc),'vamGn':function(_0x30e358,_0x558bfe){return _0x30e358(_0x558bfe);},'snDwu':_0x4e9126(0x184,0x1ba,0x20d,0x1a0),'vSYjF':function(_0x57efe8){return _0x57efe8();},'ALQWi':'#banana_ch'+_0x4e9126(0x144,0x158,0x122,0x123),'BBpin':_0x4e9126(0x1ab,0x177,0x1bc,0x187),'GFPYi':_0x2e4a69(0x19d,0x210,0x1a9,0x1bd)+'ar_preset_'+'id','bjEjS':_0x4e9126(0x179,0x19e,0x1ec,0x197),'kQywF':_0x4e9126(0x1be,0x187,0x1b2,0x1c0)+_0x4e9126(0x144,0x119,0xbc,0xdc)};function _0x4e9126(_0x3ea00a,_0x2e5fa6,_0x352056,_0xeb9837){return _0x589b(_0x2e5fa6- -0x43,_0x3ea00a);}const _0x5c1f24=_0x2b50cd[_0x2e4a69(0x18a,0x125,0x15c,0x167)][_0x4e9126(0x150,0x145,0x168,0x151)]('|');let _0x3f5663=0x6*-0x221+0xe2a+-0x164*0x1;while(!![]){switch(_0x5c1f24[_0x3f5663++]){case'0':_0x2b50cd[_0x2e4a69(0x239,0x1df,0x1cf,0x1df)](setupBananaImageUpload,_0x2b50cd['snDwu']);continue;case'1':_0x2b50cd[_0x4e9126(0x178,0x1a8,0x1db,0x157)](loadBananaCharacterPreset);continue;case'2':loadBananaCharacterPresetList();continue;case'3':_0xa799e8[_0x2e4a69(0x227,0x1c0,0x1f0,0x1ed)](_0x2b50cd['ALQWi'])['on'](_0x2b50cd[_0x2e4a69(0x1c3,0x1b4,0x1df,0x192)],deleteBananaCharacterPreset);continue;case'4':_0xa799e8[_0x2e4a69(0x210,0x1cd,0x23f,0x1ed)]('#banana_ch'+_0x4e9126(0x173,0x1af,0x1a1,0x19b))['on'](_0x2b50cd[_0x2e4a69(0x195,0x154,0x19b,0x192)],updateBananaCharacterPreset);continue;case'5':_0x2b50cd[_0x4e9126(0x200,0x1a9,0x17a,0x1ff)](setupBananaImageUpload,_0x2e4a69(0x209,0x21c,0x220,0x1cd));continue;case'6':_0xa799e8[_0x4e9126(0x195,0x1b7,0x1d4,0x1d6)](_0x2b50cd['GFPYi'])['on'](_0x2b50cd[_0x4e9126(0xde,0x11b,0x15f,0x174)],loadBananaCharacterPreset);continue;case'7':_0xa799e8[_0x2e4a69(0x24b,0x1df,0x1af,0x1ed)](_0x2b50cd[_0x4e9126(0x156,0x16a,0x1a9,0x177)])['on'](_0x2b50cd['BBpin'],saveBananaCharacterPresetAs);continue;}break;}}export function loadBananaCharacterPresetList(){const _0x2da20c={};_0x2da20c[_0x5dc9ae(0x46b,0x470,0x43c,0x445)]=_0x46d6b1(-0x5b,-0x72,-0x4b,-0x18)+_0x5dc9ae(0x4fe,0x50b,0x4f7,0x4b7)+'d',_0x2da20c['wUVzC']=_0x46d6b1(-0x79,-0x40,-0x5d,-0x37);const _0x2f63b3=_0x2da20c,_0x2d8195=extension_settings[extensionName];function _0x5dc9ae(_0x5e478c,_0x2bf688,_0x4a43fd,_0x597f62){return _0x589b(_0x597f62-0x301,_0x2bf688);}const _0xe25ffa=document[_0x5dc9ae(0x4e2,0x4c3,0x55d,0x4ff)+_0x5dc9ae(0x519,0x4d6,0x4ad,0x4ef)](_0x2f63b3[_0x5dc9ae(0x447,0x49c,0x460,0x445)]);function _0x46d6b1(_0x56f736,_0xee56ac,_0x38b56a,_0x14a1f8){return _0x589b(_0x38b56a- -0x1be,_0x56f736);}if(!_0xe25ffa)return;_0xe25ffa['innerHTML']='';for(const _0x413a5a in _0x2d8195[_0x46d6b1(-0x9c,-0x31,-0x41,-0x5b)+_0x5dc9ae(0x53a,0x4fb,0x4b3,0x4f5)+'ts']){const _0x104b95=document[_0x5dc9ae(0x4dd,0x4cd,0x4d2,0x490)+'ent'](_0x2f63b3[_0x5dc9ae(0x4a8,0x479,0x4be,0x4a2)]);_0x104b95[_0x5dc9ae(0x48c,0x48c,0x4b9,0x479)]=_0x413a5a,_0x104b95['textConten'+'t']=_0x413a5a,_0xe25ffa['add'](_0x104b95);}_0xe25ffa[_0x5dc9ae(0x434,0x48c,0x43f,0x479)]=_0x2d8195['bananaChar'+_0x46d6b1(0x8c,0x37,0x36,0x32)+_0x5dc9ae(0x4c7,0x47f,0x49a,0x482)];}export async function loadBananaCharacterPreset(){const _0x3bafad={'FVunX':'option','RpAGP':_0x4433ea(-0x1a7,-0x201,-0x1ee,-0x1bc)+_0x18e790(0x40b,0x3cf,0x3fc,0x414)+'d','nDSAe':'data:image','IsUVv':function(_0x278784,_0x5e5c79){return _0x278784(_0x5e5c79);},'DvpMx':_0x18e790(0x420,0x3d2,0x406,0x476)+_0x4433ea(-0x200,-0x229,-0x203,-0x219)+_0x4433ea(-0x17b,-0x199,-0x1ce,-0x16a),'mopmp':function(_0x43edab,_0x4fac06){return _0x43edab!==_0x4fac06;},'uSgRm':_0x4433ea(-0x18c,-0x179,-0x18d,-0x146),'RASrO':function(_0x35c88b,_0x4cee68){return _0x35c88b(_0x4cee68);},'KQLFm':_0x18e790(0x420,0x44c,0x42a,0x44a)+_0x4433ea(-0x202,-0x229,-0x204,-0x272)+_0x18e790(0x41c,0x448,0x3d2,0x409),'bDGrN':function(_0x41fe5a){return _0x41fe5a();},'OpvRf':_0x18e790(0x3c8,0x3db,0x3e5,0x3c7)+_0x4433ea(-0x1d9,-0x1f9,-0x1dc,-0x1a1),'wkLvL':'banana_cha'+_0x4433ea(-0x254,-0x211,-0x1cf,-0x1f9)+'t','yFHOC':'cfgimg_','QlOWV':function(_0x402ebe,_0x1069f0){return _0x402ebe(_0x1069f0);},'SNNFf':function(_0x2c95fb,_0x859130){return _0x2c95fb!==_0x859130;},'UNdQc':'TTofo','ofROl':'XQtrQ','fnmEX':function(_0xe7161b,_0x13afb4){return _0xe7161b(_0x13afb4);},'fAEsa':function(_0x57a13d,_0x210a47,_0x435b89){return _0x57a13d(_0x210a47,_0x435b89);},'vxkIl':_0x4433ea(-0x1b2,-0x177,-0x175,-0x15f)},_0x4ac0b5=extension_settings[extensionName],_0x2906ef=document[_0x18e790(0x453,0x46e,0x42c,0x4ad)+_0x4433ea(-0x1bb,-0x186,-0x16c,-0x1b8)](_0x3bafad[_0x18e790(0x412,0x400,0x3f3,0x42f)]);if(!_0x2906ef)return;const _0x4786e6=_0x2906ef[_0x4433ea(-0x1de,-0x1fc,-0x1fe,-0x1bc)];_0x4ac0b5[_0x4433ea(-0x19a,-0x1f7,-0x1f1,-0x1d1)+_0x4433ea(-0x193,-0x180,-0x127,-0x148)+_0x4433ea(-0x20b,-0x1f3,-0x1b9,-0x21e)]=_0x4786e6;const _0x3559c9=_0x4ac0b5[_0x18e790(0x3d2,0x376,0x3c5,0x3b0)+'acterPrese'+'ts'][_0x4786e6];if(!_0x3559c9)return;let _0x3be487=![];const _0x265cf5={};_0x265cf5[_0x18e790(0x451,0x465,0x45f,0x49a)]='';const _0xc78555={};_0xc78555[_0x18e790(0x451,0x43e,0x403,0x4ab)]='';const _0x295690={};_0x295690[_0x4433ea(-0x19f,-0x19a,-0x18f,-0x1e2)]=_0x265cf5,_0x295690[_0x4433ea(-0x130,-0x177,-0x158,-0x169)]=_0xc78555;const _0x492079=_0x3559c9[_0x4433ea(-0x1d9,-0x21d,-0x236,-0x1ce)+'on']||_0x295690;if(_0x492079[_0x18e790(0x42f,0x405,0x452,0x3d5)]?.[_0x18e790(0x3c6,0x3d5,0x415,0x3e9)]&&_0x492079['user'][_0x4433ea(-0x1fe,-0x203,-0x1ff,-0x20b)]['startsWith'](_0x3bafad['nDSAe'])){const _0x3a5986=await _0x3bafad[_0x4433ea(-0x1d6,-0x17d,-0x1b4,-0x1c0)](saveConfigImage,_0x492079[_0x18e790(0x42f,0x3d8,0x46f,0x3f9)][_0x18e790(0x3c6,0x415,0x418,0x381)]);_0x492079[_0x4433ea(-0x197,-0x19a,-0x171,-0x1be)]['imageId']=_0x3a5986,delete _0x492079[_0x18e790(0x42f,0x476,0x42e,0x466)][_0x4433ea(-0x23a,-0x203,-0x1f6,-0x244)],_0x3be487=!![],console[_0x4433ea(-0x1cb,-0x1c6,-0x16b,-0x1d5)](_0x3bafad['DvpMx'],_0x3a5986);}function _0x4433ea(_0x4d743c,_0x56450e,_0x227688,_0x9cf660){return _0x589b(_0x56450e- -0x374,_0x4d743c);}function _0x18e790(_0x1b4291,_0x47f03d,_0x121705,_0x42eb17){return _0x589b(_0x1b4291-0x255,_0x47f03d);}if(_0x492079[_0x18e790(0x452,0x488,0x4a1,0x42a)]?.[_0x4433ea(-0x1e9,-0x203,-0x24f,-0x1c1)]&&_0x492079[_0x18e790(0x452,0x3fd,0x40a,0x42c)][_0x18e790(0x3c6,0x3e9,0x3b8,0x39d)][_0x18e790(0x3b0,0x373,0x3b8,0x3a2)](_0x3bafad[_0x4433ea(-0x1c4,-0x18b,-0x1b9,-0x158)])){if(_0x3bafad[_0x4433ea(-0x1fa,-0x1dd,-0x1c0,-0x185)](_0x3bafad[_0x18e790(0x3cc,0x37f,0x3e5,0x422)],_0x3bafad[_0x4433ea(-0x232,-0x1fd,-0x1e3,-0x1ce)])){const _0x1dd18f=_0x34abb0['createElem'+_0x18e790(0x3e8,0x3f6,0x42b,0x3bc)](_0x3bafad[_0x18e790(0x3d1,0x406,0x3b8,0x41f)]);_0x1dd18f[_0x4433ea(-0x232,-0x1fc,-0x1b3,-0x1f7)]=_0x5380c9,_0x1dd18f[_0x4433ea(-0x1a3,-0x1b0,-0x198,-0x163)+'t']=_0x5caf34,_0x1e767b[_0x18e790(0x3b7,0x3cd,0x3a3,0x3bb)](_0x1dd18f);}else{const _0x2a71c8=await _0x3bafad[_0x18e790(0x3cb,0x40f,0x3a5,0x403)](saveConfigImage,_0x492079['model'][_0x4433ea(-0x220,-0x203,-0x1de,-0x1dc)]);_0x492079[_0x18e790(0x452,0x4ac,0x41b,0x453)][_0x18e790(0x3ce,0x415,0x3f4,0x3c6)]=_0x2a71c8,delete _0x492079[_0x18e790(0x452,0x437,0x490,0x460)][_0x18e790(0x3c6,0x3cf,0x3d2,0x368)],_0x3be487=!![],console[_0x4433ea(-0x21c,-0x1c6,-0x1dc,-0x197)](_0x3bafad[_0x18e790(0x3bf,0x3a4,0x379,0x386)],_0x2a71c8);}}_0x3be487&&_0x3bafad[_0x4433ea(-0x135,-0x184,-0x1c6,-0x18e)](saveSettingsDebounced);document[_0x18e790(0x453,0x418,0x498,0x433)+_0x4433ea(-0x131,-0x186,-0x130,-0x130)](_0x3bafad['OpvRf'])[_0x4433ea(-0x19e,-0x1fc,-0x228,-0x255)]=_0x3559c9[_0x18e790(0x3fd,0x43f,0x40c,0x42b)]||'',document[_0x4433ea(-0x17d,-0x176,-0x160,-0x19f)+'ById'](_0x3bafad[_0x4433ea(-0x1fa,-0x20d,-0x201,-0x235)])[_0x4433ea(-0x1f1,-0x1fc,-0x23f,-0x257)]=_0x492079[_0x4433ea(-0x1a8,-0x19a,-0x1a5,-0x1a4)]?.[_0x18e790(0x451,0x427,0x407,0x462)]||'',document[_0x4433ea(-0x148,-0x176,-0x1c0,-0x146)+'ById']('banana_cha'+_0x4433ea(-0x264,-0x21f,-0x273,-0x229)+'xt')['value']=_0x492079[_0x4433ea(-0x1bb,-0x177,-0x1be,-0x13d)]?.[_0x18e790(0x451,0x44a,0x450,0x424)]||'';let _0x5c6cd7='',_0x26cc0c='';_0x492079['user']?.[_0x18e790(0x3ce,0x3f8,0x40d,0x398)]&&_0x492079[_0x4433ea(-0x1ef,-0x19a,-0x1d4,-0x1f2)][_0x18e790(0x3ce,0x3aa,0x3e2,0x3f6)][_0x4433ea(-0x210,-0x219,-0x24b,-0x254)](_0x3bafad[_0x4433ea(-0x15b,-0x1a5,-0x152,-0x1fc)])&&(_0x5c6cd7=await _0x3bafad[_0x4433ea(-0x1a4,-0x1b2,-0x166,-0x1a0)](getConfigImage,_0x492079[_0x4433ea(-0x196,-0x19a,-0x1f2,-0x1e5)]['imageId'])||''),_0x492079[_0x18e790(0x452,0x447,0x491,0x48d)]?.[_0x4433ea(-0x1ad,-0x1fb,-0x1b4,-0x23a)]&&_0x492079[_0x18e790(0x452,0x42a,0x414,0x424)][_0x18e790(0x3ce,0x39b,0x3db,0x419)][_0x18e790(0x3b0,0x3de,0x405,0x3de)](_0x3bafad[_0x4433ea(-0x1f1,-0x1a5,-0x1a2,-0x18a)])&&(_0x3bafad[_0x4433ea(-0x254,-0x204,-0x239,-0x22c)](_0x3bafad[_0x18e790(0x413,0x3c3,0x40d,0x465)],_0x3bafad[_0x4433ea(-0x203,-0x21a,-0x21d,-0x241)])?_0x26cc0c=await _0x3bafad[_0x18e790(0x3fa,0x43d,0x3dc,0x440)](getConfigImage,_0x492079[_0x18e790(0x452,0x438,0x43c,0x487)]['imageId'])||'':_0x181a5a['click']()),_0x3bafad[_0x18e790(0x3e0,0x3ca,0x40a,0x40b)](updateBananaImageUI,'user',_0x5c6cd7),updateBananaImageUI(_0x3bafad[_0x4433ea(-0x224,-0x22d,-0x268,-0x1fe)],_0x26cc0c),_0x3bafad[_0x4433ea(-0x153,-0x184,-0x127,-0x15b)](saveSettingsDebounced);}function updateBananaCharacterPreset(){const _0x251259={'PIosz':function(_0x3293d8,_0x159277){return _0x3293d8(_0x159277);},'BcSTd':function(_0x43325e,_0x3179db){return _0x43325e(_0x3179db);},'QHBzJ':function(_0x3eb003,_0x3f81d4){return _0x3eb003(_0x3f81d4);},'RNAOr':'没有活动的\x20Bana'+'na\x20角色预设可保存'+'。请先\x22另存为\x22一个'+_0xd1f97(-0x12d,-0xdb,-0x81,-0x9a),'NVuCf':function(_0x373222,_0x9ba572){return _0x373222(_0x9ba572);}},_0x2c3f07=extension_settings[extensionName],_0x549079=_0x2c3f07[_0x3ab62(0x487,0x46c,0x475,0x4c4)+'acterPrese'+_0xd1f97(-0x100,-0xa4,-0x48,-0x69)];if(!_0x549079||!_0x2c3f07[_0xd1f97(-0x75,-0xa8,-0x71,-0x52)+'acterPrese'+'ts'][_0x549079]){_0x251259[_0xd1f97(-0x127,-0xdf,-0xf2,-0xf8)](alert,_0x251259['RNAOr']);return;}function _0xd1f97(_0x5cdcd6,_0x88d6b4,_0x341499,_0x316511){return _0x589b(_0x88d6b4- -0x225,_0x341499);}function _0x3ab62(_0x32766a,_0x14d4f3,_0x2a7b81,_0x24b54f){return _0x589b(_0x24b54f-0x347,_0x2a7b81);}_0x251259[_0xd1f97(-0xa8,-0x76,-0x61,-0x85)](stylishConfirm,_0xd1f97(-0xb3,-0x91,-0xc2,-0x70)+_0x3ab62(0x514,0x482,0x490,0x4df)+'\x22'+_0x549079+'\x22\x20吗？')['then'](_0x34d08e=>{function _0x5a755b(_0x3e4ac4,_0x5dcf11,_0xc5afb9,_0x2db96e){return _0xd1f97(_0x3e4ac4-0x127,_0x3e4ac4-0x59b,_0x2db96e,_0x2db96e-0x1ae);}function _0xbba228(_0x24e28d,_0x1453b2,_0x184270,_0x464464){return _0xd1f97(_0x24e28d-0x3c,_0x1453b2- -0x109,_0x184270,_0x464464-0x23);}_0x34d08e&&(_0x251259[_0xbba228(-0x19c,-0x14b,-0x12b,-0x13d)](saveCurrentBananaCharacterData,_0x549079),_0x251259[_0x5a755b(0x547,0x553,0x552,0x52a)](alert,_0x5a755b(0x4bb,0x48a,0x466,0x4dc)+_0xbba228(-0x1b8,-0x1ca,-0x214,-0x212)+_0x549079+_0xbba228(-0x1de,-0x1bc,-0x1c8,-0x1fa)));});}function saveBananaCharacterPresetAs(){const _0x3fdb91={'egSOX':function(_0xcc3284,_0x47ab27){return _0xcc3284(_0x47ab27);},'qarai':function(_0x498a9e){return _0x498a9e();}};function _0x5e458d(_0x155242,_0x52d94a,_0x3fac92,_0x1727fc){return _0x589b(_0x1727fc-0x37e,_0x3fac92);}function _0x398e1e(_0x2ce62d,_0x374dc0,_0x148923,_0x4d1c15){return _0x589b(_0x4d1c15- -0x31b,_0x374dc0);}_0x3fdb91[_0x398e1e(-0x1e6,-0x1ba,-0x197,-0x195)](stylInput,_0x5e458d(0x508,0x52d,0x4f6,0x546)+_0x398e1e(-0xe0,-0xc5,-0x14f,-0x122))[_0x5e458d(0x51a,0x4f4,0x56c,0x54a)](_0x53f28f=>{function _0x48e81f(_0x292b80,_0x5caf2a,_0x4cdbce,_0x4ca3fe){return _0x398e1e(_0x292b80-0x1d1,_0x4ca3fe,_0x4cdbce-0xb,_0x292b80-0x54a);}function _0x4868f1(_0x28d1ae,_0x2835f7,_0x3c232b,_0x5d5cd5){return _0x5e458d(_0x28d1ae-0x4b,_0x2835f7-0x37,_0x5d5cd5,_0x3c232b- -0x29b);}if(_0x53f28f&&_0x53f28f[_0x48e81f(0x40f,0x404,0x405,0x3b9)]()!==''){const _0x57eaa9=extension_settings[extensionName];_0x3fdb91['egSOX'](saveCurrentBananaCharacterData,_0x53f28f),_0x57eaa9[_0x4868f1(0x2a4,0x2a8,0x260,0x276)+_0x48e81f(0x423,0x440,0x425,0x412)+_0x48e81f(0x3b0,0x37b,0x375,0x36d)]=_0x53f28f,_0x3fdb91[_0x48e81f(0x3e6,0x3d4,0x3c7,0x3af)](loadBananaCharacterPresetList),alert('Banana\x20角色预'+_0x4868f1(0x28c,0x21a,0x247,0x251)+_0x53f28f+'\x22\x20已保存。');}});}function _0x589b(_0x460063,_0x59650a){_0x460063=_0x460063-(0x1f2e+-0x1*0xa67+0x1384*-0x1);const _0x468f0c=_0x371b();let _0x38b436=_0x468f0c[_0x460063];if(_0x589b['HwBoUF']===undefined){var _0x2c0e9d=function(_0xfc31b3){const _0x42e1bc='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xde53d1='',_0x469dba='',_0x3e0713=_0xde53d1+_0x2c0e9d;for(let _0x3d9bf2=0x2*-0x1381+-0x64b+0x2d4d,_0x3bde26,_0x321898,_0x2a431c=-0x370*-0x8+0x2b*0xc4+-0x3*0x1424;_0x321898=_0xfc31b3['charAt'](_0x2a431c++);~_0x321898&&(_0x3bde26=_0x3d9bf2%(0x1ceb+-0x1*-0x20ed+0x1eea*-0x2)?_0x3bde26*(0x1*-0x139b+0x14e+0x62f*0x3)+_0x321898:_0x321898,_0x3d9bf2++%(-0x2*0xc95+-0x32a+-0x8*-0x38b))?_0xde53d1+=_0x3e0713['charCodeAt'](_0x2a431c+(0xcca+0x69*-0x1f+-0x9))-(-0x1*0xa97+0x21*0xe9+-0x1368)!==-0x12d1*-0x2+-0x20f6+-0x4ac?String['fromCharCode'](-0x1cc+0x21de+-0x1f13&_0x3bde26>>(-(-0x5d*0x5e+0x1*-0x188d+0x85*0x71)*_0x3d9bf2&-0x919*0x1+0x171b+-0x5*0x2cc)):_0x3d9bf2:-0x81b+-0x2*0xc05+0x2025){_0x321898=_0x42e1bc['indexOf'](_0x321898);}for(let _0x4e2bde=0xa1f+0x26f6+0x1*-0x3115,_0x47d5e1=_0xde53d1['length'];_0x4e2bde<_0x47d5e1;_0x4e2bde++){_0x469dba+='%'+('00'+_0xde53d1['charCodeAt'](_0x4e2bde)['toString'](-0x1ea9+-0x13*0x1e2+0x427f))['slice'](-(-0xb*-0x5f+0x1d58+-0x1d*0x127));}return decodeURIComponent(_0x469dba);};_0x589b['ndbeHm']=_0x2c0e9d,_0x589b['kwXceI']={},_0x589b['HwBoUF']=!![];}const _0x3ce749=_0x468f0c[0x1f*-0x17+-0x11f*0x1+0x3e8*0x1],_0x16b911=_0x460063+_0x3ce749,_0x4915bb=_0x589b['kwXceI'][_0x16b911];if(!_0x4915bb){const _0x3355fe=function(_0x550c2d){this['uZDzcs']=_0x550c2d,this['MvXngo']=[0x1561+-0x1*-0x1ca5+-0x3205,0x7*0x566+-0xbf8+-0x295*0xa,0x2014+-0x1*-0x192+0x3b*-0x92],this['uuTNSs']=function(){return'newState';},this['aazsSo']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['eeMGLm']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x3355fe['prototype']['QyPklC']=function(){const _0x55e97d=new RegExp(this['aazsSo']+this['eeMGLm']),_0x397c32=_0x55e97d['test'](this['uuTNSs']['toString']())?--this['MvXngo'][-0x1*-0x14e7+0x24b0+-0x4e*0xbd]:--this['MvXngo'][0xbf*-0xb+0x26*0xcf+0x5*-0x481];return this['SgJPaG'](_0x397c32);},_0x3355fe['prototype']['SgJPaG']=function(_0x4c8343){if(!Boolean(~_0x4c8343))return _0x4c8343;return this['KmnkHX'](this['uZDzcs']);},_0x3355fe['prototype']['KmnkHX']=function(_0x2f0276){for(let _0x97c6cf=0x130a+0x3*0x481+0xd*-0x281,_0x1daa7a=this['MvXngo']['length'];_0x97c6cf<_0x1daa7a;_0x97c6cf++){this['MvXngo']['push'](Math['round'](Math['random']())),_0x1daa7a=this['MvXngo']['length'];}return _0x2f0276(this['MvXngo'][0x2*-0x922+0xdb1+0x493]);},new _0x3355fe(_0x589b)['QyPklC'](),_0x38b436=_0x589b['ndbeHm'](_0x38b436),_0x589b['kwXceI'][_0x16b911]=_0x38b436;}else _0x38b436=_0x4915bb;return _0x38b436;}async function saveCurrentBananaCharacterData(_0x1adc9d){function _0x161592(_0x38f9db,_0x560104,_0x5c02e8,_0x35875e){return _0x589b(_0x560104- -0x3cc,_0x5c02e8);}const _0x1af33={'KXUJA':_0x161592(-0x23b,-0x1e2,-0x226,-0x18e),'qcIXr':_0x161592(-0x1d4,-0x1df,-0x205,-0x1b2),'JYJaa':'none','OROLi':_0x161592(-0x267,-0x259,-0x231,-0x203)+_0x161592(-0x25a,-0x220,-0x1e3,-0x213)+'ge','NVWjP':_0x462124(0x35,-0x33,0xc,-0x4)+'r_model_im'+_0x462124(0x3d,0x8c,0x6f,0xb4),'KZkNg':_0x161592(-0x296,-0x26c,-0x2b5,-0x278),'xpYAr':_0x462124(0x73,0xab,0x8f,0x44),'odddh':function(_0x4affed,_0x2a8dfc){return _0x4affed(_0x2a8dfc);},'sxFUQ':_0x161592(-0x22c,-0x201,-0x1f2,-0x1b3)+_0x462124(0x2e,0x71,0x29,-0x23)+_0x161592(-0x22d,-0x279,-0x25a,-0x290),'nhKAA':function(_0x5cbe54,_0x2a457e){return _0x5cbe54!==_0x2a457e;},'MBLwf':_0x462124(0x78,0x73,0x3f,0x50),'QBPCF':function(_0x2c6e73,_0x5e4cc2){return _0x2c6e73(_0x5e4cc2);},'hyapD':'banana_cha'+'r_triggers','kSAHw':_0x462124(-0x4d,0x37,0xc,0x0)+_0x462124(-0x20,-0x39,-0x4,0x1b)+'t','syeVx':_0x161592(-0x1fb,-0x259,-0x27f,-0x295)+_0x462124(-0x8,-0x49,-0x12,0x42)+'xt','yGJac':function(_0x2ec5ad){return _0x2ec5ad();}},_0x5526a0=extension_settings[extensionName],_0x298144=_0x5526a0[_0x462124(-0xb,-0x3c,0x16,0x49)+_0x161592(-0x1bf,-0x1d8,-0x1b6,-0x1c7)+'ts'][_0x1adc9d],_0x1e1b53=document[_0x161592(-0x20b,-0x1ce,-0x1dd,-0x1f7)+_0x462124(0x5f,0xd8,0x87,0xce)](_0x1af33['OROLi'])[_0x462124(0x3a,0x73,0x37,-0x3)],_0x506a95=document['getElement'+_0x161592(-0x1cb,-0x1de,-0x204,-0x1ae)](_0x1af33[_0x462124(0x2f,0x1,-0x8,-0x48)])[_0x161592(-0x26d,-0x22e,-0x224,-0x289)],_0x5e3231=_0x298144?.[_0x161592(-0x2c3,-0x275,-0x266,-0x22c)+'on']?.[_0x462124(0x93,0x17,0x73,0xcc)]?.['imageId']||'',_0x4cf2c8=_0x298144?.[_0x161592(-0x24c,-0x275,-0x260,-0x221)+'on']?.[_0x161592(-0x1c1,-0x1cf,-0x208,-0x1b7)]?.[_0x161592(-0x295,-0x253,-0x1fa,-0x29e)]||'';let _0x39935d='',_0x34ec8a='';_0x1e1b53[_0x161592(-0x23c,-0x271,-0x253,-0x21d)](_0x1af33['KZkNg'])&&(_0x5e3231&&_0x5e3231[_0x161592(-0x253,-0x271,-0x240,-0x24e)](_0x1af33['xpYAr'])&&await deleteConfigImage(_0x5e3231)[_0x462124(0x14,-0x38,0xe,-0xb)](_0x5ee47b=>console[_0x161592(-0x1fb,-0x248,-0x228,-0x21a)](_0x462124(0x14,0xb,0x64,0xb1)+_0x161592(-0x23d,-0x264,-0x298,-0x279)+'败:',_0x5ee47b)),_0x39935d=await _0x1af33[_0x462124(0xbc,0x28,0x81,0x92)](saveConfigImage,_0x1e1b53),console[_0x161592(-0x273,-0x21e,-0x25d,-0x20e)](_0x1af33['sxFUQ'],_0x39935d));if(_0x506a95[_0x462124(-0x54,-0x31,-0xc,-0x51)](_0x462124(-0x5b,0x53,-0x7,0x29))){if(_0x1af33[_0x462124(-0x2a,0x7,-0xf,-0x5d)](_0x1af33[_0x462124(0x16,0x2a,0x59,0x31)],_0x1af33[_0x462124(0x4f,0xb2,0x59,0x4)])){const _0x5f354e=_0x1af33[_0x161592(-0x20b,-0x23e,-0x244,-0x205)][_0x161592(-0x1f0,-0x244,-0x295,-0x222)]('|');let _0x4922d9=-0x27*-0x91+0x3a6*0x4+-0x1*0x24af;while(!![]){switch(_0x5f354e[_0x4922d9++]){case'0':_0x446c19['src']='';continue;case'1':_0x391ff2[_0x462124(0xb1,0xa1,0x7f,0xa2)][_0x462124(-0x3a,-0x3b,0x1c,-0x2c)]=_0x1af33['qcIXr'];continue;case'2':_0x1308d0[_0x161592(-0x21b,-0x254,-0x251,-0x221)]='';continue;case'3':_0xb47baf[_0x161592(-0x1fc,-0x1e6,-0x19b,-0x223)]['display']=_0x1af33[_0x161592(-0x278,-0x283,-0x2b1,-0x271)];continue;case'4':_0x494831[_0x161592(-0x1ed,-0x1e6,-0x18d,-0x196)][_0x462124(0x52,0x63,0x1c,-0x17)]=_0x1af33[_0x161592(-0x2d3,-0x283,-0x299,-0x2c9)];continue;}break;}}else _0x4cf2c8&&_0x4cf2c8[_0x161592(-0x24f,-0x271,-0x236,-0x28d)](_0x1af33[_0x462124(0xb8,0x36,0x7d,0x5b)])&&await _0x1af33[_0x462124(0x55,-0xf,0x19,-0x1c)](deleteConfigImage,_0x4cf2c8)[_0x462124(-0x39,-0x31,0xe,-0xb)](_0x2148d2=>console[_0x161592(-0x214,-0x248,-0x22b,-0x236)](_0x161592(-0x1bd,-0x201,-0x1b3,-0x246)+']\x20删除旧模型图片失'+'败:',_0x2148d2)),_0x34ec8a=await _0x1af33[_0x161592(-0x27a,-0x24c,-0x235,-0x20b)](saveConfigImage,_0x506a95),console[_0x161592(-0x1df,-0x21e,-0x1cb,-0x21c)](_0x462124(0x93,0x5b,0x64,0xaf)+_0x161592(-0x1f8,-0x245,-0x28a,-0x299)+_0x462124(0x87,0x3,0x5a,0x10),_0x34ec8a);}function _0x462124(_0x19a5ea,_0x37f2a5,_0x5c74bc,_0x53e9a8){return _0x589b(_0x5c74bc- -0x167,_0x53e9a8);}const _0x325454={'triggers':document['getElement'+_0x462124(0x7c,0x32,0x87,0xac)](_0x1af33[_0x462124(-0x4,0x50,0x1e,0x50)])['value'],'conversation':{'user':{'text':document[_0x161592(-0x1f6,-0x1ce,-0x1cf,-0x1ec)+_0x161592(-0x18e,-0x1de,-0x225,-0x1b3)](_0x1af33[_0x462124(0x59,0x54,0x17,-0x4)])[_0x161592(-0x255,-0x254,-0x24e,-0x269)],'imageId':_0x39935d},'model':{'text':document[_0x462124(0xa3,0xd5,0x97,0xe2)+_0x462124(0xa9,0xaa,0x87,0x57)](_0x1af33[_0x462124(-0xf,-0x45,-0x1a,0x25)])['value'],'imageId':_0x34ec8a}}};_0x5526a0[_0x161592(-0x268,-0x24f,-0x28a,-0x2ab)+_0x462124(0xce,0x70,0x8d,0x57)+'ts'][_0x1adc9d]=_0x325454,_0x1af33[_0x161592(-0x203,-0x222,-0x1cf,-0x204)](saveSettingsDebounced);}async function deleteBananaCharacterPreset(){const _0x178db9={'wIRdi':_0x2671f9(0x184,0x1bd,0x1b7,0x1c1)+_0x2cfa70(-0x222,-0x215,-0x247,-0x21c)+'d','eHIJI':function(_0xdfa92d,_0x44bf98){return _0xdfa92d<=_0x44bf98;},'ajkrH':'TZQrl','ASOyV':_0x2671f9(0x1e6,0x22f,0x1c9,0x22d),'CAgOo':function(_0x1b6b7d,_0x8c4499){return _0x1b6b7d(_0x8c4499);},'OHmpR':_0x2671f9(0x202,0x1c3,0x1f7,0x21e)+'。','BdQtA':function(_0x5bdc6a,_0x5c5fc8){return _0x5bdc6a(_0x5c5fc8);},'tFtZd':_0x2cfa70(-0x1e2,-0x18d,-0x217,-0x19d),'YRLGS':function(_0x1e3d94,_0x17b9f8){return _0x1e3d94(_0x17b9f8);},'VrQdS':function(_0x29feb5,_0x1de538){return _0x29feb5(_0x1de538);},'EbwQF':function(_0x580177){return _0x580177();},'bADxr':function(_0x40147f){return _0x40147f();},'ZemcI':function(_0x4f6113){return _0x4f6113();}},_0x38d8f6=extension_settings[extensionName],_0x3a878e=document[_0x2671f9(0x20f,0x268,0x1f8,0x258)+_0x2671f9(0x1ff,0x1d1,0x1ee,0x204)](_0x178db9[_0x2671f9(0x1a2,0x16a,0x171,0x15b)])?.['value'];function _0x2cfa70(_0x17d8ba,_0xd522e3,_0x3ef35f,_0x3e8e33){return _0x589b(_0x17d8ba- -0x3d8,_0xd522e3);}if(_0x178db9['eHIJI'](Object[_0x2cfa70(-0x288,-0x2cd,-0x2a1,-0x273)](_0x38d8f6[_0x2671f9(0x18e,0x16a,0x1a5,0x152)+'acterPrese'+'ts'])[_0x2cfa70(-0x228,-0x1e2,-0x201,-0x1f9)],0xe4*-0x20+-0x948+0x25c9)){if(_0x178db9[_0x2671f9(0x1b4,0x1df,0x1d0,0x1af)]===_0x178db9['ASOyV']){if(_0x2290f0){const _0x1d5baf=_0x3f4c75[_0x2671f9(0x1a6,0x153,0x158,0x169)](_0x202b65,arguments);return _0x24296c=null,_0x1d5baf;}}else{_0x178db9[_0x2cfa70(-0x223,-0x1d9,-0x1c9,-0x20e)](alert,_0x178db9['OHmpR']);return;}}function _0x2671f9(_0x2f5eac,_0x67b2d0,_0x1ff46f,_0x2aa151){return _0x589b(_0x2f5eac-0x11,_0x2aa151);}const _0x5c8300=await _0x178db9[_0x2671f9(0x1df,0x1de,0x1f3,0x1dc)](stylishConfirm,'是否确定删除该\x20Ba'+_0x2671f9(0x1a9,0x1c8,0x1af,0x19c)+'\x22'+_0x3a878e+'\x22');if(_0x5c8300){const _0x30d903=_0x38d8f6[_0x2cfa70(-0x25b,-0x227,-0x264,-0x272)+_0x2cfa70(-0x1e4,-0x231,-0x22f,-0x1c8)+'ts'][_0x3a878e];_0x30d903?.['conversati'+'on']?.[_0x2671f9(0x1eb,0x205,0x23a,0x23e)]?.[_0x2671f9(0x18a,0x177,0x15c,0x1a1)]&&_0x30d903[_0x2cfa70(-0x281,-0x250,-0x29b,-0x245)+'on'][_0x2cfa70(-0x1fe,-0x1d3,-0x211,-0x1fe)][_0x2cfa70(-0x25f,-0x22f,-0x205,-0x25b)]['startsWith'](_0x178db9[_0x2cfa70(-0x23e,-0x262,-0x26b,-0x24d)])&&await _0x178db9[_0x2671f9(0x1da,0x20d,0x187,0x1a0)](deleteConfigImage,_0x30d903[_0x2671f9(0x168,0x12b,0x150,0x118)+'on']['user'][_0x2671f9(0x18a,0x1ba,0x140,0x1c5)])['catch'](_0x252d90=>console['warn'](_0x2671f9(0x1dc,0x1ce,0x1cd,0x1a2)+']\x20删除用户图片失败'+':',_0x252d90)),_0x30d903?.[_0x2cfa70(-0x281,-0x2ad,-0x256,-0x277)+'on']?.[_0x2671f9(0x20e,0x203,0x1ec,0x20a)]?.[_0x2671f9(0x18a,0x1dc,0x130,0x142)]&&_0x30d903['conversati'+'on']['model'][_0x2cfa70(-0x25f,-0x24c,-0x299,-0x23a)]['startsWith'](_0x178db9[_0x2cfa70(-0x23e,-0x28d,-0x26c,-0x258)])&&await _0x178db9[_0x2cfa70(-0x1f1,-0x1e0,-0x209,-0x1b8)](deleteConfigImage,_0x30d903[_0x2671f9(0x168,0x156,0x13c,0x181)+'on'][_0x2671f9(0x20e,0x1c7,0x264,0x1fe)][_0x2cfa70(-0x25f,-0x21c,-0x29a,-0x21f)])[_0x2671f9(0x186,0x14e,0x1c9,0x1df)](_0x18a7f5=>console[_0x2671f9(0x195,0x1f0,0x18c,0x174)]('[Character'+']\x20删除模型图片失败'+':',_0x18a7f5)),delete _0x38d8f6[_0x2671f9(0x18e,0x1a9,0x194,0x1b1)+_0x2cfa70(-0x1e4,-0x212,-0x1eb,-0x1ef)+'ts'][_0x3a878e],_0x38d8f6['bananaChar'+'acterPrese'+'tId']=Object[_0x2cfa70(-0x288,-0x2bf,-0x282,-0x24e)](_0x38d8f6['bananaChar'+_0x2671f9(0x205,0x1e8,0x228,0x22e)+'ts'])[0x2297*-0x1+-0x219a+-0x16bb*-0x3],_0x178db9[_0x2671f9(0x1d0,0x193,0x1af,0x1dc)](loadBananaCharacterPresetList),await _0x178db9['bADxr'](loadBananaCharacterPreset),_0x178db9[_0x2671f9(0x200,0x1b5,0x1f9,0x1aa)](saveSettingsDebounced);}}const setupBananaImageUpload=_0x5bb7a1=>{const _0x3b680c={'QuENT':function(_0x33fafc,_0x2c0c11){return _0x33fafc!==_0x2c0c11;},'dRokL':function(_0x4637b3,_0x105410){return _0x4637b3(_0x105410);},'dUruy':_0xdef168(0xb4,0x84,0x6c,0x75),'eyLkZ':_0xdef168(0x6c,0xaa,0x66,0x4e),'yYecx':_0x3a3691(0x2bb,0x267,0x2f7,0x2ae),'YOOvg':function(_0x1f70fe,_0xc6ad98){return _0x1f70fe!==_0xc6ad98;},'gkXWY':_0x3a3691(0x293,0x2e3,0x276,0x26e),'OJGEc':'ULdOu','FQDMa':_0x3a3691(0x26a,0x217,0x2a3,0x226),'mGKHs':_0xdef168(0x18,0x4e,-0x10,0x15)+_0xdef168(0x89,0xe3,0x99,0x8e)+_0x3a3691(0x28a,0x25e,0x2ad,0x2b1),'HHjhT':'click','eFgHQ':'change'},_0x6db684=document['getElement'+_0x3a3691(0x2bc,0x263,0x2c5,0x2e4)]('banana_cha'+'r_'+_0x5bb7a1+(_0x3a3691(0x2b3,0x2ab,0x2bd,0x29c)+_0xdef168(0x2,-0x3,0x33,0x5a)));function _0xdef168(_0x321699,_0x8a3d9c,_0x306c0f,_0x4e9a0d){return _0x589b(_0x4e9a0d- -0x13f,_0x321699);}const _0x522798=document[_0x3a3691(0x2cc,0x2ed,0x2f9,0x2ea)+'ById'](_0x3a3691(0x241,0x1e5,0x25e,0x24c)+'r_'+_0x5bb7a1+_0x3a3691(0x294,0x2c1,0x2ce,0x2d5)),_0x1159e4=_0x6db684[_0xdef168(0xc7,0x51,0x15,0x6c)+_0xdef168(0x6c,0xc4,0xb2,0x91)](_0x3b680c[_0xdef168(-0x1f,0x64,0x6d,0x10)]),_0x1c1ace=document[_0xdef168(0xbe,0x103,0xe1,0xbf)+'ById']('banana_cha'+'r_'+_0x5bb7a1+(_0x3a3691(0x272,0x2b3,0x2ae,0x2a0)+_0x3a3691(0x248,0x273,0x223,0x21a))),_0x1b3241=document[_0x3a3691(0x2cc,0x2b4,0x2bb,0x2bc)+_0x3a3691(0x2bc,0x314,0x299,0x2f0)]('banana_cha'+'r_'+_0x5bb7a1+(_0xdef168(-0x16,0x48,0x1b,0x30)+'ut'));if(!_0x6db684||!_0x522798||!_0x1159e4||!_0x1c1ace||!_0x1b3241)return;function _0x3a3691(_0x1458df,_0x38e7bf,_0x1648c8,_0x562c4d){return _0x589b(_0x1458df-0xce,_0x1648c8);}_0x6db684[_0xdef168(-0xf,0x21,0x51,0xd)+_0x3a3691(0x23a,0x25e,0x21b,0x200)](_0x3b680c[_0x3a3691(0x280,0x2a9,0x2c3,0x265)],_0x2646f7=>{function _0x218f55(_0x4340de,_0x481026,_0x1c5309,_0x3274f9){return _0x3a3691(_0x481026-0xb1,_0x481026-0x115,_0x1c5309,_0x3274f9-0x1bb);}function _0x10a429(_0xdb912b,_0x2faad6,_0x2898bf,_0xe67a48){return _0xdef168(_0x2898bf,_0x2faad6-0x131,_0x2898bf-0xd1,_0xe67a48-0x2f7);}_0x3b680c[_0x10a429(0x396,0x366,0x3c4,0x369)](_0x2646f7[_0x218f55(0x346,0x372,0x3a1,0x36f)],_0x1c1ace)&&!_0x1c1ace[_0x10a429(0x3d1,0x3e0,0x3c3,0x38f)](_0x2646f7[_0x10a429(0x3d1,0x389,0x3ae,0x3ab)])&&_0x1b3241[_0x10a429(0x3bc,0x352,0x357,0x372)]();}),_0x1b3241['addEventLi'+'stener'](_0x3b680c['eFgHQ'],()=>{function _0x123f44(_0x45cf4b,_0x3f92fa,_0x5f4188,_0x137679){return _0xdef168(_0x137679,_0x3f92fa-0x1c8,_0x5f4188-0x173,_0x45cf4b-0x118);}function _0x54e4f8(_0x24c59a,_0x1c12f4,_0x128156,_0x195ab1){return _0x3a3691(_0x1c12f4- -0x410,_0x1c12f4-0xba,_0x24c59a,_0x195ab1-0x129);}const _0x5392fe={'xUwHu':function(_0x14c150,_0x578797){function _0x4d13bd(_0x2a4db6,_0x5329a6,_0x5d6d11,_0x1092ec){return _0x589b(_0x5329a6- -0x39f,_0x1092ec);}return _0x3b680c[_0x4d13bd(-0x21b,-0x1cd,-0x1bc,-0x18a)](_0x14c150,_0x578797);},'NtwNw':function(_0xb6ad41,_0x4c2389){function _0x345af5(_0x2b4324,_0x5005e2,_0x532ec2,_0x577bc8){return _0x589b(_0x532ec2-0x217,_0x5005e2);}return _0x3b680c[_0x345af5(0x427,0x3d8,0x3e9,0x440)](_0xb6ad41,_0x4c2389);},'LfoAL':function(_0x3e53ab,_0xcd6b3){function _0x35fe75(_0xc67e4b,_0x5c2bd,_0x1ea59c,_0x20331e){return _0x589b(_0x5c2bd-0x369,_0x1ea59c);}return _0x3b680c[_0x35fe75(0x574,0x53b,0x502,0x513)](_0x3e53ab,_0xcd6b3);}};if(_0x3b680c[_0x123f44(0x194,0x157,0x179,0x189)](_0x3b680c[_0x54e4f8(-0x18f,-0x1e5,-0x1fb,-0x19c)],_0x54e4f8(-0x142,-0x17d,-0x1c4,-0x15c))){const _0x1c4bd7=_0x4a73f7[_0x5d7208],_0x575a97=_0x1c4bd7[_0x54e4f8(-0x204,-0x1c5,-0x1f4,-0x200)+'acterPrese'+_0x54e4f8(-0x214,-0x1c1,-0x1fe,-0x1f2)];if(!_0x575a97||!_0x1c4bd7[_0x123f44(0x156,0x159,0x175,0x131)+_0x54e4f8(-0x125,-0x14e,-0x185,-0x19a)+'ts'][_0x575a97]){_0x3b680c[_0x123f44(0x1ab,0x207,0x1af,0x1b7)](_0x2057b1,_0x123f44(0x1d1,0x1e4,0x1fb,0x216)+'na\x20角色预设可保存'+_0x123f44(0x180,0x125,0x18f,0x185)+'新预设。');return;}_0x3b680c[_0x54e4f8(-0x121,-0x170,-0x15c,-0x1a0)](_0x52a6b0,_0x123f44(0x16d,0x1ae,0x125,0x153)+_0x123f44(0x171,0x147,0x179,0x131)+'\x22'+_0x575a97+_0x54e4f8(-0x13c,-0x14d,-0x110,-0x15d))[_0x54e4f8(-0x160,-0x176,-0x17f,-0x1c1)](_0x1b7223=>{function _0x1c3414(_0x1d8ed0,_0x198999,_0x42e817,_0x186375){return _0x54e4f8(_0x1d8ed0,_0x198999-0xea,_0x42e817-0x5c,_0x186375-0xd9);}function _0x3eb4eb(_0x241bd1,_0x2365dc,_0x2c64e4,_0x11404f){return _0x54e4f8(_0x11404f,_0x241bd1-0x13,_0x2c64e4-0x19b,_0x11404f-0x90);}_0x1b7223&&(_0x5392fe[_0x1c3414(-0x6e,-0xa5,-0x90,-0xde)](_0x21143e,_0x575a97),_0x5392fe[_0x1c3414(-0xf7,-0xa5,-0xa2,-0xe8)](_0x51b3c5,'Banana\x20角色预'+_0x1c3414(-0xd1,-0xf4,-0xd6,-0xfc)+_0x575a97+_0x1c3414(-0x8b,-0xe6,-0xe4,-0x111)));});}else{if(_0x1b3241[_0x123f44(0x192,0x1a7,0x141,0x19c)]&&_0x1b3241[_0x123f44(0x192,0x1c7,0x1af,0x1e9)][-0x128e+-0x6c2*-0x1+0xbcc]){if(_0x3b680c['OJGEc']===_0x54e4f8(-0x19a,-0x1f1,-0x243,-0x1af)){const _0x1deed8=new FileReader();_0x1deed8['onload']=_0x148fe5=>{function _0x34f879(_0x4ba4bb,_0xbd6cc0,_0x165bc2,_0x54db23){return _0x54e4f8(_0x165bc2,_0x4ba4bb-0x4f,_0x165bc2-0x172,_0x54db23-0xba);}const _0x1abc8a={};_0x1abc8a[_0x2621f3(0x491,0x41c,0x4a8,0x474)]='block';function _0x2621f3(_0x3f0534,_0x5a827b,_0x1a1dcd,_0x545db9){return _0x54e4f8(_0x3f0534,_0x545db9-0x619,_0x1a1dcd-0x97,_0x545db9-0x1a8);}const _0xdfc503=_0x1abc8a;if(_0x3b680c[_0x2621f3(0x48a,0x48d,0x456,0x488)](_0x3b680c[_0x2621f3(0x461,0x43e,0x4ad,0x480)],_0x3b680c['dUruy'])){const _0x1140e6=new _0x2e6703();_0x1140e6[_0x2621f3(0x49a,0x43a,0x4a9,0x46d)]=_0x1fa65c=>{_0x18bb32[_0x1d1fce(0x444,0x453,0x418,0x47d)]=_0x1fa65c['target'][_0x1d1fce(0x407,0x43e,0x464,0x44f)],_0x40d18b[_0x1d1fce(0x4c0,0x49b,0x453,0x4c0)]['display']=_0x1d1fce(0x44d,0x4a2,0x4a9,0x490),_0x442e6b[_0x1d1fce(0x461,0x49b,0x4ec,0x4d0)][_0x1d1fce(0x3e5,0x438,0x46a,0x41f)]='none';function _0x2265ea(_0x2d9322,_0x3c991c,_0x3b3199,_0x466f06){return _0x34f879(_0x3b3199- -0xb2,_0x3c991c-0x46,_0x466f06,_0x466f06-0x1be);}function _0x1d1fce(_0x3c601c,_0x1c9209,_0x2a4cff,_0x461b04){return _0x34f879(_0x1c9209-0x5a8,_0x1c9209-0xf,_0x3c601c,_0x461b04-0x194);}_0x5a6a82[_0x2265ea(-0x206,-0x172,-0x1bf,-0x186)]['display']=_0xdfc503['MDMbA'];},_0x1140e6['readAsData'+_0x2621f3(0x475,0x3ff,0x4b3,0x456)](_0x533c79[_0x2621f3(0x48d,0x437,0x4ac,0x490)][-0x2*0x599+-0x1*-0x527+0x1*0x60b]);}else _0x522798[_0x2621f3(0x438,0x44a,0x4bf,0x475)]=_0x148fe5[_0x2621f3(0x4ae,0x4f7,0x4cc,0x4ca)][_0x34f879(-0x16a,-0x1b0,-0x11d,-0x1c3)],_0x522798['style'][_0x34f879(-0x170,-0x18f,-0x135,-0x16d)]=_0x2621f3(0x4cc,0x4fd,0x514,0x4c4),_0x1159e4['style'][_0x34f879(-0x170,-0x18d,-0x1a3,-0x16f)]=_0x3b680c[_0x34f879(-0x120,-0xe4,-0x10e,-0x120)],_0x1c1ace[_0x2621f3(0x4e7,0x469,0x4cc,0x4bd)][_0x2621f3(0x413,0x4b0,0x444,0x45a)]=_0x3b680c[_0x34f879(-0x130,-0xdc,-0x18d,-0x17b)];},_0x1deed8[_0x123f44(0x13e,0x10e,0x18e,0x165)+_0x54e4f8(-0x1a8,-0x1c3,-0x1a0,-0x1c7)](_0x1b3241[_0x123f44(0x192,0x188,0x17f,0x1cf)][0x1670+0x4*0x2b3+-0x213c]);}else _0x5392fe[_0x54e4f8(-0x199,-0x1d7,-0x1d1,-0x1ce)](_0x401eb1,_0x477c3e),_0x5392fe[_0x54e4f8(-0x202,-0x1c0,-0x1d9,-0x1c0)](_0x44c6b8,_0x54e4f8(-0x1b9,-0x1fd,-0x1e9,-0x22e)+_0x123f44(0x13d,0x15f,0x15f,0x128)+_0x46ecae+_0x123f44(0x14b,0x10c,0x19f,0x195));}}}),_0x1c1ace[_0xdef168(0x10,0x3f,0xb,0xd)+_0xdef168(0x1f,0x2b,0x1d,0x2d)](_0x3b680c['HHjhT'],()=>{const _0x36e164=_0x3b680c['FQDMa'][_0x4cad76(-0x22b,-0x203,-0x230,-0x20e)]('|');function _0xa1bc84(_0x186267,_0x4ae4da,_0x392fa2,_0x2cc506){return _0xdef168(_0x392fa2,_0x4ae4da-0xd5,_0x392fa2-0x111,_0x2cc506-0x135);}function _0x4cad76(_0x505aea,_0x24dba6,_0x33c9e8,_0xb4a375){return _0xdef168(_0x33c9e8,_0x24dba6-0xb1,_0x33c9e8-0x1cb,_0xb4a375- -0x257);}let _0x53b788=0x335*-0xb+0x1c7c+-0x25*-0x2f;while(!![]){switch(_0x36e164[_0x53b788++]){case'0':_0x1159e4[_0xa1bc84(0x1a4,0x205,0x22f,0x1dc)][_0x4cad76(-0x1d0,-0x1e8,-0x1b5,-0x213)]=_0x3b680c[_0x4cad76(-0x18e,-0x1aa,-0x19f,-0x1d3)];continue;case'1':_0x522798[_0x4cad76(-0x1c7,-0x1ee,-0x1b0,-0x1b0)][_0xa1bc84(0x1c9,0x156,0x176,0x179)]=_0x3b680c[_0xa1bc84(0x1fe,0x21c,0x16b,0x1c9)];continue;case'2':_0x1b3241[_0xa1bc84(0x181,0x195,0x15a,0x16e)]='';continue;case'3':_0x522798[_0xa1bc84(0x1c1,0x13b,0x1de,0x194)]='';continue;case'4':_0x1c1ace['style']['display']=_0xa1bc84(0x1b1,0x1e0,0x197,0x183);continue;}break;}});},updateBananaImageUI=(_0x4d5f57,_0x47cd23)=>{const _0x5c957a={};_0x5c957a['XOiKM']=_0x440200(0x146,0x142,0x15c,0x147),_0x5c957a[_0x440200(0xe3,0x108,0xd4,0xd6)]=function(_0x19fe1e,_0x513c2c){return _0x19fe1e||_0x513c2c;};function _0x5de1ce(_0x434721,_0x5debae,_0x320557,_0xac3c7f){return _0x589b(_0x320557- -0x10a,_0xac3c7f);}_0x5c957a['epkWO']=_0x440200(0xad,0xae,0xd5,0xf2)+_0x5de1ce(0xf6,0xa8,0xc3,0x104)+_0x440200(0x115,0x13b,0x11f,0x147),_0x5c957a['IxTZl']=function(_0x2dba2d,_0x49538b){return _0x2dba2d===_0x49538b;},_0x5c957a['RPjzh']=_0x5de1ce(0xd4,0x83,0xd4,0xb7),_0x5c957a[_0x440200(0xf9,0x147,0x14a,0xb2)]='IJhvD',_0x5c957a[_0x5de1ce(0x52,0x52,0x3e,0x74)]=_0x440200(0xe6,0xe8,0xa6,0xa5);const _0x3d90ed=_0x5c957a;function _0x440200(_0x3f1425,_0x36392d,_0x2897b3,_0x15b386){return _0x589b(_0x3f1425- -0xa7,_0x36392d);}const _0x29a9d8=document[_0x440200(0x157,0x148,0x18c,0x131)+_0x440200(0x147,0xf6,0xea,0x10b)]('banana_cha'+'r_'+_0x4d5f57+'_image'),_0x28aac8=document[_0x440200(0x157,0x18c,0x1b1,0x18a)+'ById'](_0x440200(0xcc,0xc2,0xe5,0x125)+'r_'+_0x4d5f57+(_0x440200(0x13e,0x179,0xee,0x159)+_0x440200(0xf2,0x106,0x95,0xf5)));if(_0x3d90ed['dwdxc'](!_0x29a9d8,!_0x28aac8))return;const _0x105981=_0x28aac8[_0x440200(0x104,0xf3,0x108,0x12d)+_0x5de1ce(0xc4,0x123,0xc6,0xc1)](_0x3d90ed['epkWO']),_0x2a1311=document[_0x5de1ce(0xef,0x9d,0xf4,0xf5)+_0x440200(0x147,0x1a1,0x10d,0x1a0)](_0x440200(0xcc,0x108,0xad,0x11e)+'r_'+_0x4d5f57+(_0x440200(0xfd,0x11b,0x136,0x122)+_0x440200(0xd3,0xd4,0xde,0xc6)));if(_0x47cd23){if(_0x3d90ed[_0x440200(0x12d,0x109,0xe6,0x10e)](_0x3d90ed['RPjzh'],_0x3d90ed[_0x5de1ce(0xa2,0x71,0x96,0x3b)])){const _0x69a3dd={};_0x69a3dd[_0x5de1ce(0x84,0x3f,0x39,-0x4)]=_0x440200(0xe6,0xc9,0x13b,0x94),_0x69a3dd[_0x440200(0x131,0x17f,0x105,0x159)]=_0x3d90ed[_0x440200(0xaf,0x83,0xa1,0xb6)];const _0x239895=_0x69a3dd;if(_0x133542[_0x5de1ce(0x10b,0xc9,0xaf,0xab)]&&_0x1d0307[_0x440200(0x112,0xf9,0x15d,0x111)][-0xb3*0x9+0x6*-0x2b0+0x166b]){const _0x2f61d0=new _0x1832d4();_0x2f61d0[_0x440200(0xef,0x14d,0x131,0x140)]=_0x180d0c=>{_0x3024dc[_0xe8105e(-0xca,-0x97,-0xcc,-0x7f)]=_0x180d0c[_0xe2674(0x470,0x461,0x44a,0x484)]['result'];function _0xe8105e(_0x1d99e9,_0x34c55b,_0x2d6783,_0x58b7ea){return _0x440200(_0x1d99e9- -0x1c1,_0x2d6783,_0x2d6783-0x191,_0x58b7ea-0xb0);}_0x5e126b[_0xe8105e(-0x82,-0x94,-0x9e,-0x44)][_0xe8105e(-0xe5,-0x121,-0x108,-0xb2)]=_0xe8105e(-0x7b,-0xc5,-0x88,-0x4a),_0x582836['style']['display']=_0x239895['tePJM'];function _0xe2674(_0x5666da,_0x5a98f7,_0x8e77fe,_0x31ed65){return _0x440200(_0x31ed65-0x338,_0x5666da,_0x8e77fe-0x5a,_0x31ed65-0x1a9);}_0x3fe5fa[_0xe8105e(-0x82,-0x30,-0xc3,-0x55)][_0xe8105e(-0xe5,-0x122,-0xb4,-0xc5)]=_0x239895[_0xe2674(0x48a,0x4a5,0x430,0x469)];},_0x2f61d0[_0x440200(0xbe,0x6d,0x85,0x75)+_0x440200(0xd8,0x117,0x120,0xa4)](_0x5d03f7[_0x5de1ce(0xba,0xf1,0xaf,0xf7)][-0x11f6+-0x2*0xf1+0x4*0x4f6]);}}else _0x29a9d8[_0x440200(0xf7,0xba,0x148,0x152)]=_0x47cd23,_0x29a9d8[_0x440200(0x13f,0x187,0x12d,0xee)]['display']=_0x3d90ed[_0x440200(0xaf,0x6c,0x69,0xfc)],_0x105981[_0x440200(0x13f,0x170,0x157,0x120)]['display']=_0x3d90ed[_0x440200(0xa1,0x63,0xb4,0xeb)],_0x2a1311[_0x5de1ce(0xc2,0xcc,0xdc,0x123)][_0x5de1ce(0xa3,0xa1,0x79,0x9b)]=_0x3d90ed[_0x5de1ce(0x4d,0x80,0x4c,0x8d)];}else _0x29a9d8['src']='',_0x29a9d8[_0x5de1ce(0x125,0x91,0xdc,0xec)][_0x440200(0xdc,0x81,0x105,0x81)]=_0x3d90ed[_0x440200(0xa1,0xfd,0xaa,0x49)],_0x105981['style'][_0x440200(0xdc,0x12c,0xb6,0xf2)]=_0x3d90ed[_0x5de1ce(0x5e,0x18,0x4c,0x1)],_0x2a1311[_0x440200(0x13f,0x158,0x144,0x157)][_0x440200(0xdc,0xb8,0x12d,0x11f)]=_0x3d90ed['olohk'];};
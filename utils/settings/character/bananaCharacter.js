(function(_0x43d47c,_0x11c106){const _0x107d4d=_0x43d47c();function _0x17d5e9(_0x475743,_0x4d0881,_0x264fdb,_0x12bed7){return _0x110a(_0x4d0881-0x36,_0x12bed7);}function _0x5474c8(_0x280cd4,_0x4d8c77,_0x22e02c,_0x55bdcc){return _0x110a(_0x4d8c77-0x19b,_0x280cd4);}while(!![]){try{const _0xddefae=parseInt(_0x5474c8(0x440,0x416,0x425,0x41c))/(0x2*0x620+-0x1de3*-0x1+-0x2a22)*(parseInt(_0x17d5e9(0x212,0x25f,0x250,0x2b6))/(-0xc32+-0xd2b+-0x3*-0x875))+parseInt(_0x5474c8(0x394,0x3ec,0x398,0x44c))/(-0x1775*-0x1+-0x8*-0x2f+0x18ea*-0x1)*(-parseInt(_0x17d5e9(0x241,0x274,0x2d5,0x26c))/(-0x24ae+-0x3a*0x53+0x6f*0x80))+parseInt(_0x5474c8(0x35d,0x3b3,0x3b2,0x3e4))/(-0xa5*0x5+-0x11a5*-0x1+0xe67*-0x1)+parseInt(_0x17d5e9(0x22d,0x283,0x2e1,0x26c))/(0xe9*0x26+0x26*-0xb7+-0x766)*(parseInt(_0x5474c8(0x41b,0x404,0x45b,0x40c))/(0x2676+-0x24a5+0xe5*-0x2))+parseInt(_0x17d5e9(0x254,0x252,0x1ff,0x291))/(-0xc17*-0x1+-0xbed+0x1*-0x22)+-parseInt(_0x5474c8(0x379,0x38d,0x38d,0x377))/(0x22c4+0x2*0x12f+-0x2519)+-parseInt(_0x17d5e9(0x28a,0x27c,0x2c1,0x28c))/(-0x20b0+0xfc7+0x10f3);if(_0xddefae===_0x11c106)break;else _0x107d4d['push'](_0x107d4d['shift']());}catch(_0x4f03e4){_0x107d4d['push'](_0x107d4d['shift']());}}}(_0x119d,-0x14b1*-0x4+-0x312bd+0x991ce));const _0x169416=(function(){let _0x30e0c0=!![];return function(_0x5a952f,_0x38d257){const _0x3f818f=_0x30e0c0?function(){function _0xdaa832(_0x438845,_0x2c9c9b,_0x4cf764,_0x1b3fa0){return _0x110a(_0x1b3fa0-0x2aa,_0x2c9c9b);}if(_0x38d257){const _0x4e8052=_0x38d257[_0xdaa832(0x4b3,0x4d2,0x4de,0x491)](_0x5a952f,arguments);return _0x38d257=null,_0x4e8052;}}:function(){};return _0x30e0c0=![],_0x3f818f;};}()),_0x3f8f31=_0x169416(this,function(){const _0x2ed5bc={};function _0x2c2e60(_0x2e737e,_0x36de71,_0x4e81a9,_0x40e219){return _0x110a(_0x2e737e- -0xc,_0x36de71);}_0x2ed5bc[_0x7f8ce8(0x132,0xed,0x157,0x13f)]=_0x2c2e60(0x239,0x248,0x21b,0x23a)+'+$';function _0x7f8ce8(_0x27da25,_0x533d7f,_0x5097ca,_0x391798){return _0x110a(_0x391798- -0xec,_0x533d7f);}const _0x3cb1e2=_0x2ed5bc;return _0x3f8f31['toString']()['search'](_0x3cb1e2['IJFgN'])[_0x7f8ce8(0x143,0x15a,0x184,0x194)]()[_0x7f8ce8(0x174,0xee,0x178,0x13c)+'r'](_0x3f8f31)[_0x2c2e60(0x22e,0x26b,0x255,0x217)](_0x3cb1e2['IJFgN']);});_0x3f8f31();import{extension_settings}from'../../../../../../extensions.js';import{saveSettingsDebounced}from'../../../../../../../script.js';function _0x119d(){const _0x51230f=['6k6+ici','zfHzrwu','CurVru8','y1L4sfm','zgfpzNC','tfvSugO','D3HIDgi','qvDQtgi','u3rlANm','DKH4u1e','t1Ptv2u','ysdMQkhLNOVLM77NIyC6','xsbcyw5HBMeG5QIH','B3zL','DePcAha','zwPsuLq','rvv3t1y','vg1Tq08','CMvZDwX0','yxbWBhK','Aw1Hz2vjza','zKDMBMi','5OI35zU+54Mh5BEY5l+D5A2yoG','C3r5Bgu','CL91C2vYx3rLEa','zMLUza','B0LHB3q','B3b0Aw9U','sMfICNa','DKH5vve','mZm3nZqYmw9kvfPktG','y29UDgfPBNm','DxnLCG','DhjPBq','y2f0y2G','q25Ar3m','i2jHBMfUyv9JAa','Aw5Uzxjive1m','C3jJ','BKfls3m','ENz5wKm','s1H6sw4','CL9TB2rLBf90zq','CKvYuKS','yMXVy2S','BgvUz3rO','DgHLBG','AMrrENy','wfzvuLu','A2v5CW','BMfUysdOP5lOIBlPOOtORR4G','B25SB2fK','xsdLIkdPMAtML6FNLkJMIlFLM77NIyFLPle','zxfUrvm','D2fYBG','ywDL','Dw9Osg8','zNHAvei','CMvHzefZrgf0yq','BM9Uzq','Avvhuu4','CL91C2vYx2LTyq','C3rHCNrZv2L0Aa','qMfUyw5HioINKUIjSUMIHa','CxvLCNLtzwXLyW','u2jwshG','Dgv4DenVBNrLBG','5PAW6Ake6k6+44cc','mtK4odq2nwDeEKLcvG','yxjFC2f2zv9HCW','A09or2K','Dg9Y','nte0otmYmfjIywnPsq','wwHdwNG','AhPbCeC','Eu1pBva','sffdvNK','yM5xEee','rK1cvgy','C2nJvxy','quPUD0u','DhjPz2DLCNm','we1RCfC','wwH1s2i','y29UC3rYDwn0BW','mZrMqvDcwNq','zMLSzxm','suPgz04','t2fKvMi','xsdLIkdPMAtMQkhLNOVLM77NIyFLPlhOTku','y29UDMvYC2f0Aq','vg1ZA0u','ysdOP5lOIBlPOOtORR7NMOtLKi3NP7a','vvjm','sgr1zem','uvLRu2e','AwLZtu0','DeH3qxq','vevpD2G','vfbkuNe','DMfSDwu','Dgv4Da','C2vHCMnO','y2vOB2XKzxi','yxjFDxbKyxrL','Cfrmy3a','nfD4y3zRyW','Bg9N','zgLZCgXHEq','D2Drz2q','ywrK','sfvyq2O','vffQuuK','kcGOlISPkYKRkq','mta2mZC1mJbdCe1iy1m','yMfUyw5Hq2HHCG','y2HHBMDL','y2XPy2S','mxW1Fdb8mNW0Fa','yxjFChjLC2v0xW','AKPrsxq','mJiXnZG1ogXqwvLvyW','thf2zvm','zgf0ytPPBwfNzq','iIdLT7lKV53LRzJJGii','mtC1nteYoxflyNvQDa','xsbcyw5HBMeG55sO','D2PdCNy','rg1ZCg4','q1DKA1y','BMDrrgi','5lIn6io95yIG6zMK5PYa5zco5lIa5lIQ6Ake6k6+','uwnwrgW','yxjFzgvSzxrL','xsdOV4hNP7SGqMfUyw4','C3bSAxq','iIdLKjFVVj8','Aw1Hz2u','Deflufi','qNLjza','EvLiAve','wwn5tw4','D1bSuM0','uNftrgi','x2LTywDLx2nVBG','sfDvzhC','wuzVtu8','sNnUyNy','6k+36l6t5ywL5PAWiejHBMfU','mtrKuejdv3a','lNn0lwnOyxr1oa','y3jLyxrLrwXLBq','sujqr0y','BMeG6kEs6iMY6Ake6k6+5y+V5l+D5A2y','tffpAve','CL90CMLNz2vYCW','qNPWAKW','zw50','y3zeDNu','C3rLBMvY','uMj2qLq','DgfPBMvY','5PIV5zcM56gU5A6A5yIG6zMK6k+LiejH','CL9WCMvZzxrFAq','r0LPD1e','Bw9KzwW','CLfXCK8','nda2mdLdCwjeEhe','vgr0CuO','r09Yqvy','DgfYz2v0','CvHYzKK','Dg9tDhjPBMC','56gU5A6A6kAb6kAg55Uw5B2t5yMniejH','s2D5q24','44cc6k+35ywiiUwpPUwTMos4UIlKUidKUkO','CMfxtK0','z2v0rwXLBwvUDa','x2LTywDLx2LUCa','yxPRAwC','DeLK','EwH3y1K','tejlt0G','yMfUyw5Hx2nOyq','y2zNAw1NxW','ysdNLkJMIlFLM77NIyC6','ywn0zxjqCMvZzq','r3riC2O','z0zSBfm','vvPcsvu','x2LTywDL','rgzRv1K','x2LTywDLx3jLBq','CwT2C2W','Exf2yxq','w0nOyxjHy3rLCG','zeDkzwq'];_0x119d=function(){return _0x51230f;};return _0x119d();}import{extensionName}from'../../config.js';import{stylInput,stylishConfirm}from'../../ui_common.js';import{saveConfigImage,getConfigImage,deleteConfigImage}from'../../configDatabase.js';export function setupBananaCharacterControls(_0x330508){function _0x2180c4(_0x4cc60d,_0x4cb9ec,_0x110707,_0x5c0840){return _0x110a(_0x4cb9ec- -0x3b2,_0x4cc60d);}function _0x512970(_0x31f4e9,_0x1025a5,_0x66b843,_0x2c4ab8){return _0x110a(_0x31f4e9-0xbe,_0x2c4ab8);}const _0xf647ff={'TBZSx':_0x2180c4(-0x166,-0x168,-0x12b,-0x1a5)+'6|7|3','YhCZx':function(_0xdf2f1){return _0xdf2f1();},'iisMM':_0x2180c4(-0x1d0,-0x1ba,-0x1d7,-0x192)+_0x512970(0x2d7,0x2bd,0x292,0x333),'Jabrp':_0x512970(0x307,0x2f8,0x2bf,0x368),'LQOiQ':_0x2180c4(-0x198,-0x1ba,-0x211,-0x1e7)+_0x2180c4(-0x174,-0x167,-0x18b,-0x156)+'id','iUGQN':'change','dGJed':function(_0x136b6f,_0x21bccf){return _0x136b6f(_0x21bccf);},'YhuKb':_0x2180c4(-0x19b,-0x1be,-0x17d,-0x18c),'SbVHx':_0x512970(0x337,0x2d7,0x379,0x335)},_0x136d69=_0xf647ff['TBZSx'][_0x2180c4(-0x185,-0x157,-0x183,-0x165)]('|');let _0x1e5642=0x1*-0x12c3+0x2ea*0x9+-0x111*0x7;while(!![]){switch(_0x136d69[_0x1e5642++]){case'0':_0x330508[_0x512970(0x2ab,0x29b,0x2ef,0x286)](_0x2180c4(-0x17e,-0x1ba,-0x1ca,-0x1f3)+_0x512970(0x2fa,0x2c9,0x334,0x2f0))['on']('click',updateBananaCharacterPreset);continue;case'1':_0xf647ff[_0x512970(0x2db,0x308,0x27e,0x2a4)](loadBananaCharacterPresetList);continue;case'2':_0x330508[_0x2180c4(-0x1f9,-0x1c5,-0x1d4,-0x1b7)](_0xf647ff[_0x512970(0x2f2,0x29e,0x2be,0x307)])['on'](_0xf647ff[_0x512970(0x2ae,0x267,0x2e9,0x2af)],saveBananaCharacterPresetAs);continue;case'3':_0xf647ff[_0x2180c4(-0x1ef,-0x195,-0x1ed,-0x19b)](loadBananaCharacterPreset);continue;case'4':_0x330508[_0x512970(0x2ab,0x2e5,0x2a6,0x28d)](_0x2180c4(-0x1a6,-0x1ba,-0x20a,-0x20e)+_0x512970(0x317,0x2d4,0x2ce,0x30f))['on'](_0xf647ff['Jabrp'],deleteBananaCharacterPreset);continue;case'5':_0x330508[_0x2180c4(-0x1e7,-0x1c5,-0x1f2,-0x1db)](_0xf647ff[_0x2180c4(-0x14f,-0x144,-0x18a,-0x137)])['on'](_0xf647ff[_0x2180c4(-0x151,-0x1a2,-0x1f3,-0x152)],loadBananaCharacterPreset);continue;case'6':_0xf647ff[_0x512970(0x356,0x389,0x30c,0x37a)](setupBananaImageUpload,_0xf647ff[_0x2180c4(-0x19e,-0x18b,-0x158,-0x154)]);continue;case'7':_0xf647ff['dGJed'](setupBananaImageUpload,_0xf647ff[_0x2180c4(-0x198,-0x19d,-0x13f,-0x15f)]);continue;}break;}}function _0x110a(_0x992da,_0x4d7514){_0x992da=_0x992da-(0x8*-0x6f+-0x1682+0x1bde);const _0x4b25b6=_0x119d();let _0x1a1a38=_0x4b25b6[_0x992da];if(_0x110a['zSUNby']===undefined){var _0x5420eb=function(_0x2aab3b){const _0x1a20fd='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4177ee='',_0x432ffa='',_0x54bd91=_0x4177ee+_0x5420eb;for(let _0xf9f41b=0x1*-0x191c+-0xdba+0x26d6,_0x1d8ebb,_0x5a0277,_0x21d0a3=-0x1a*-0x8b+-0x6*0x123+-0x1*0x74c;_0x5a0277=_0x2aab3b['charAt'](_0x21d0a3++);~_0x5a0277&&(_0x1d8ebb=_0xf9f41b%(-0x1a40+-0x2d9+-0x1d*-0x101)?_0x1d8ebb*(-0x268d+0x4f9*-0x3+0x35b8)+_0x5a0277:_0x5a0277,_0xf9f41b++%(0x68f+0x9f1+-0x107c))?_0x4177ee+=_0x54bd91['charCodeAt'](_0x21d0a3+(0x236a+0x205f+-0x43bf))-(0x1*0x59c+-0x113f+0xbad*0x1)!==-0x1a2f+-0x1361+-0x6*-0x798?String['fromCharCode'](-0x543+-0x709+0xd4b&_0x1d8ebb>>(-(-0x14aa+0x246d+0xfc1*-0x1)*_0xf9f41b&-0x1eb*-0x1+0x1c11+-0x1df6)):_0xf9f41b:0x5*-0x427+-0x1442*0x1+0x2905){_0x5a0277=_0x1a20fd['indexOf'](_0x5a0277);}for(let _0x1a936d=-0x24f6+-0x2171+0x4667,_0x88cde8=_0x4177ee['length'];_0x1a936d<_0x88cde8;_0x1a936d++){_0x432ffa+='%'+('00'+_0x4177ee['charCodeAt'](_0x1a936d)['toString'](0x1f23*0x1+-0x16e+-0x1da5*0x1))['slice'](-(-0x22d5+0x1ed9+0x3fe));}return decodeURIComponent(_0x432ffa);};_0x110a['AaQpnI']=_0x5420eb,_0x110a['zJNEYo']={},_0x110a['zSUNby']=!![];}const _0xaa365f=_0x4b25b6[0x1*-0x9e6+0x308*0x8+-0x2*0x72d],_0x180a75=_0x992da+_0xaa365f,_0x3492c5=_0x110a['zJNEYo'][_0x180a75];if(!_0x3492c5){const _0x612aaa=function(_0x36cb9a){this['lXyfBg']=_0x36cb9a,this['FBtYyp']=[-0x15bc+-0x5a0+-0x1d3*-0xf,-0xa0e+-0x142*-0x11+-0x244*0x5,0xb+0x1f1*-0x10+0x1*0x1f05],this['lFCLCZ']=function(){return'newState';},this['PkvXle']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['lpVVNV']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x612aaa['prototype']['dsTJvu']=function(){const _0x3e171c=new RegExp(this['PkvXle']+this['lpVVNV']),_0x19f93e=_0x3e171c['test'](this['lFCLCZ']['toString']())?--this['FBtYyp'][-0x1*0x707+0xaf2+-0x3ea]:--this['FBtYyp'][-0x13*0x115+0x359*-0x2+0x1b41];return this['kMtGyt'](_0x19f93e);},_0x612aaa['prototype']['kMtGyt']=function(_0x1deac5){if(!Boolean(~_0x1deac5))return _0x1deac5;return this['oxyltJ'](this['lXyfBg']);},_0x612aaa['prototype']['oxyltJ']=function(_0x385d75){for(let _0x45c315=0xc78+0x3*0x166+-0x3*0x58e,_0x2f3925=this['FBtYyp']['length'];_0x45c315<_0x2f3925;_0x45c315++){this['FBtYyp']['push'](Math['round'](Math['random']())),_0x2f3925=this['FBtYyp']['length'];}return _0x385d75(this['FBtYyp'][0x45c*0x6+-0x1*-0xb61+0x2589*-0x1]);},new _0x612aaa(_0x110a)['dsTJvu'](),_0x1a1a38=_0x110a['AaQpnI'](_0x1a1a38),_0x110a['zJNEYo'][_0x180a75]=_0x1a1a38;}else _0x1a1a38=_0x3492c5;return _0x1a1a38;}export function loadBananaCharacterPresetList(){const _0x11a161={};_0x11a161['QcVDl']=_0x5ce776(0x504,0x531,0x540,0x54c),_0x11a161[_0x5ce776(0x511,0x54f,0x4e4,0x4bb)]=_0x5ce776(0x513,0x54d,0x4b5,0x4ee),_0x11a161[_0x5ce776(0x4e8,0x4ad,0x518,0x503)]=function(_0x5d5fad,_0x3b8bdd){return _0x5d5fad!==_0x3b8bdd;},_0x11a161[_0x5b5000(0x415,0x39e,0x3ed,0x3c0)]=_0x5b5000(0x363,0x32c,0x38d,0x3e3);function _0x5ce776(_0x1d997c,_0x571060,_0x321673,_0x1878a3){return _0x110a(_0x1d997c-0x304,_0x321673);}function _0x5b5000(_0x2f5783,_0x1ded85,_0x61528d,_0x3ae608){return _0x110a(_0x61528d-0x14c,_0x1ded85);}_0x11a161[_0x5b5000(0x323,0x393,0x331,0x2f4)]=_0x5ce776(0x4f3,0x508,0x4b0,0x547);const _0x52b739=_0x11a161,_0x48edb0=extension_settings[extensionName],_0x4ae28a=document['getElement'+_0x5ce776(0x563,0x586,0x53f,0x556)]('banana_cha'+_0x5ce776(0x57b,0x569,0x5d3,0x588)+'d');if(!_0x4ae28a)return;_0x4ae28a[_0x5ce776(0x4fd,0x4f5,0x4cc,0x534)]='';for(const _0x24cc7f in _0x48edb0[_0x5b5000(0x39d,0x3b8,0x393,0x373)+'acterPrese'+'ts']){if(_0x52b739[_0x5b5000(0x391,0x362,0x330,0x30d)](_0x52b739['StKjs'],_0x52b739[_0x5b5000(0x3ce,0x43b,0x3ed,0x3bd)]))_0x5591fe[_0x5ce776(0x4fe,0x523,0x544,0x51e)]=_0x4f1079[_0x5ce776(0x582,0x5bb,0x522,0x578)][_0x5b5000(0x31b,0x324,0x332,0x351)],_0x4fb749[_0x5b5000(0x393,0x2f2,0x337,0x383)][_0x5ce776(0x544,0x565,0x50a,0x560)]=_0x52b739[_0x5ce776(0x55c,0x582,0x566,0x566)],_0x53a5e4[_0x5ce776(0x4ef,0x4ab,0x52f,0x4ee)][_0x5ce776(0x544,0x564,0x568,0x519)]=_0x52b739[_0x5b5000(0x357,0x3b5,0x359,0x31c)],_0x472c56[_0x5ce776(0x4ef,0x519,0x4a9,0x54c)]['display']=_0x5b5000(0x32c,0x389,0x34c,0x39a);else{const _0x13d6c0=document[_0x5b5000(0x3e1,0x411,0x3b7,0x35d)+_0x5ce776(0x575,0x5b8,0x51d,0x55c)](_0x52b739[_0x5b5000(0x388,0x2e2,0x331,0x2f2)]);_0x13d6c0[_0x5ce776(0x53c,0x58c,0x548,0x517)]=_0x24cc7f,_0x13d6c0[_0x5b5000(0x336,0x32b,0x362,0x32f)+'t']=_0x24cc7f,_0x4ae28a[_0x5ce776(0x546,0x560,0x597,0x519)](_0x13d6c0);}}_0x4ae28a[_0x5ce776(0x53c,0x52c,0x4f4,0x517)]=_0x48edb0['bananaChar'+_0x5ce776(0x592,0x576,0x5a3,0x571)+'tId'];}export async function loadBananaCharacterPreset(){const _0xcf2009={'OZSWe':_0x2329d0(0x341,0x29c,0x2f0,0x301)+'r_preset_i'+'d','TQjQI':_0xedf9d(-0xfa,-0x119,-0x82,-0xd2),'BdjLI':'[Character'+_0x2329d0(0x2d9,0x2ca,0x2bf,0x2a8)+_0x2329d0(0x317,0x303,0x2f2,0x352),'yqvat':function(_0x3daed4,_0x3efe24){return _0x3daed4(_0x3efe24);},'qXrfI':_0xedf9d(-0xf1,-0x7a,-0x3a,-0x96)+_0xedf9d(-0xa2,-0xb2,-0xb6,-0xb2),'YFoMO':_0xedf9d(-0x3c,-0x92,-0xcb,-0x96)+_0x2329d0(0x2ad,0x236,0x251,0x221)+'t','TdtqJ':'cfgimg_','GtHsj':function(_0xb923a,_0xe08cf8){return _0xb923a(_0xe08cf8);},'wjCrv':function(_0x58e161,_0xa4748,_0x1db88f){return _0x58e161(_0xa4748,_0x1db88f);},'MmmiZ':_0xedf9d(-0x10c,-0x16a,-0x14a,-0x12d),'sccUv':function(_0x4e8d63){return _0x4e8d63();}},_0x1306dd=extension_settings[extensionName],_0x1915d1=document[_0xedf9d(-0xb8,-0x63,-0x5f,-0x9c)+_0xedf9d(-0xa6,-0x7a,-0xf1,-0xc2)](_0xcf2009[_0xedf9d(-0xd2,-0xb8,-0x55,-0x7e)]);if(!_0x1915d1)return;const _0x2df3e4=_0x1915d1[_0x2329d0(0x2b9,0x290,0x29d,0x2cd)];_0x1306dd[_0xedf9d(-0xba,-0xae,-0xb3,-0xda)+_0x2329d0(0x2da,0x2da,0x2f3,0x2cc)+_0xedf9d(-0xb5,-0xb1,-0x44,-0x99)]=_0x2df3e4;const _0xf7c9ca=_0x1306dd[_0x2329d0(0x2fa,0x2aa,0x2ac,0x26f)+_0x2329d0(0x2a1,0x314,0x2f3,0x2a2)+'ts'][_0x2df3e4];if(!_0xf7c9ca)return;let _0x200063=![];const _0x171059={};_0x171059[_0xedf9d(-0x113,-0x145,-0xb3,-0xe8)]='';const _0x376513={};_0x376513['text']='';const _0x5cd162={};_0x5cd162['user']=_0x171059,_0x5cd162[_0xedf9d(-0xc5,-0xc8,-0xe4,-0xa8)]=_0x376513;const _0x60ef25=_0xf7c9ca[_0x2329d0(0x2bc,0x2f1,0x293,0x2e1)+'on']||_0x5cd162;if(_0x60ef25[_0xedf9d(-0x10d,-0xea,-0xd8,-0x12d)]?.[_0xedf9d(-0x7f,-0x7d,-0x9f,-0xc4)]&&_0x60ef25[_0xedf9d(-0x160,-0x138,-0x114,-0x12d)]['image'][_0xedf9d(-0xbe,-0xed,-0xf8,-0x10f)](_0xcf2009[_0x2329d0(0x2e1,0x2f7,0x2a9,0x26e)])){const _0x25e7a6=await saveConfigImage(_0x60ef25['user']['image']);_0x60ef25[_0xedf9d(-0xf9,-0x11b,-0x189,-0x12d)]['imageId']=_0x25e7a6,delete _0x60ef25[_0x2329d0(0x250,0x27d,0x259,0x283)][_0xedf9d(-0x91,-0xef,-0xb7,-0xc4)],_0x200063=!![],console[_0x2329d0(0x27a,0x24b,0x2a4,0x2bf)](_0xcf2009['BdjLI'],_0x25e7a6);}if(_0x60ef25[_0xedf9d(-0x71,-0x6b,-0x99,-0xa8)]?.['image']&&_0x60ef25['model'][_0x2329d0(0x265,0x307,0x2c2,0x2c0)][_0x2329d0(0x235,0x218,0x277,0x2a2)](_0xedf9d(-0xb1,-0xdb,-0x10e,-0xd2))){const _0x4244e3=await _0xcf2009[_0xedf9d(-0x96,-0x54,-0x66,-0x8b)](saveConfigImage,_0x60ef25['model']['image']);_0x60ef25[_0xedf9d(-0x8f,-0xec,-0xb1,-0xa8)]['imageId']=_0x4244e3,delete _0x60ef25['model'][_0x2329d0(0x2ef,0x27a,0x2c2,0x321)],_0x200063=!![],console[_0x2329d0(0x259,0x2c3,0x2a4,0x2e7)](_0x2329d0(0x35d,0x35b,0x2fc,0x2e0)+_0x2329d0(0x2f4,0x29f,0x2bf,0x300)+_0x2329d0(0x364,0x2ff,0x309,0x33e),_0x4244e3);}_0x200063&&saveSettingsDebounced();document[_0x2329d0(0x2af,0x339,0x2ea,0x336)+_0xedf9d(-0xd6,-0xa8,-0x115,-0xc2)](_0xcf2009[_0xedf9d(-0x52,-0x7c,-0x82,-0xa2)])[_0xedf9d(-0xf8,-0xdb,-0xfd,-0xe9)]=_0xf7c9ca[_0x2329d0(0x2a4,0x233,0x28a,0x2aa)]||'',document[_0xedf9d(-0xaa,-0x89,-0xd5,-0x9c)+_0xedf9d(-0x10e,-0x94,-0xd6,-0xc2)](_0xcf2009[_0xedf9d(-0x9e,-0xe1,-0xd1,-0xbb)])[_0x2329d0(0x2e4,0x24a,0x29d,0x267)]=_0x60ef25[_0x2329d0(0x23c,0x2a6,0x259,0x299)]?.[_0x2329d0(0x28c,0x2dd,0x29e,0x2d9)]||'',document[_0x2329d0(0x287,0x310,0x2ea,0x343)+_0xedf9d(-0xdd,-0xae,-0x84,-0xc2)]('banana_cha'+_0x2329d0(0x20b,0x21e,0x263,0x270)+'xt')[_0x2329d0(0x2da,0x2f5,0x29d,0x2cb)]=_0x60ef25[_0x2329d0(0x29c,0x327,0x2de,0x2f5)]?.['text']||'';let _0x3f8826='',_0x105c71='';_0x60ef25[_0x2329d0(0x200,0x229,0x259,0x285)]?.['imageId']&&_0x60ef25['user'][_0x2329d0(0x243,0x27d,0x24d,0x1ea)][_0xedf9d(-0x138,-0x12b,-0x135,-0x10f)](_0xcf2009['TdtqJ'])&&(_0x3f8826=await _0xcf2009[_0x2329d0(0x32d,0x2aa,0x2f4,0x341)](getConfigImage,_0x60ef25[_0xedf9d(-0x12c,-0x128,-0xe3,-0x12d)]['imageId'])||'');_0x60ef25['model']?.[_0x2329d0(0x20f,0x20d,0x24d,0x21d)]&&_0x60ef25[_0xedf9d(-0x89,-0x88,-0x8d,-0xa8)][_0xedf9d(-0xec,-0x10a,-0x18a,-0x139)]['startsWith'](_0xcf2009[_0x2329d0(0x28a,0x2d0,0x2e1,0x2a0)])&&(_0x105c71=await _0xcf2009[_0xedf9d(-0xcc,-0xd0,-0x63,-0x92)](getConfigImage,_0x60ef25['model'][_0xedf9d(-0x176,-0x193,-0x14d,-0x139)])||'');_0xcf2009[_0x2329d0(0x2ce,0x25b,0x2b8,0x30f)](updateBananaImageUI,_0xcf2009['MmmiZ'],_0x3f8826),updateBananaImageUI(_0x2329d0(0x308,0x331,0x2de,0x2d7),_0x105c71);function _0xedf9d(_0x254451,_0x116f28,_0x4edbd7,_0x57874a){return _0x110a(_0x57874a- -0x321,_0x4edbd7);}function _0x2329d0(_0xa67bd5,_0x3f130e,_0x52c128,_0xd0cd5c){return _0x110a(_0x52c128-0x65,_0xa67bd5);}_0xcf2009[_0xedf9d(-0x15a,-0xfb,-0xcd,-0xfe)](saveSettingsDebounced);}function updateBananaCharacterPreset(){const _0x551984={'zYhUT':_0x4ee604(-0x202,-0x19d,-0x1b5,-0x179),'ngQDb':'block','Dmspn':function(_0x5e0be1,_0xae253a){return _0x5e0be1!==_0xae253a;},'hzApG':_0x2ae6c1(0x682,0x685,0x628,0x602),'UZBIU':_0x4ee604(-0x12f,-0xa2,-0x104,-0x159),'BzpjL':function(_0x683820,_0x1f995e){return _0x683820===_0x1f995e;},'yMOmP':'zPumL','tAKPR':function(_0xb771,_0x229be5){return _0xb771(_0x229be5);},'uohHo':function(_0x4ccc60,_0x42fe1c){return _0x4ccc60(_0x42fe1c);},'Jsnbv':function(_0x3f09ec,_0x2f8806){return _0x3f09ec(_0x2f8806);},'aHKJN':function(_0x5e9e1a,_0x1bf190){return _0x5e9e1a(_0x1bf190);}},_0xd332dd=extension_settings[extensionName];function _0x2ae6c1(_0x1c7114,_0x503a4d,_0x27fc49,_0x503ae3){return _0x110a(_0x27fc49-0x3c6,_0x503ae3);}const _0x9b47b5=_0xd332dd[_0x2ae6c1(0x5d1,0x667,0x60d,0x661)+_0x2ae6c1(0x671,0x653,0x654,0x62c)+_0x2ae6c1(0x641,0x691,0x64e,0x631)];if(!_0x9b47b5||!_0xd332dd[_0x2ae6c1(0x63e,0x5ef,0x60d,0x5f2)+'acterPrese'+'ts'][_0x9b47b5]){_0x551984[_0x2ae6c1(0x647,0x629,0x62d,0x67a)](alert,'没有活动的\x20Bana'+_0x2ae6c1(0x692,0x674,0x633,0x61b)+_0x4ee604(-0x119,-0x16c,-0x121,-0x162)+_0x4ee604(-0x192,-0x1c7,-0x18d,-0x143));return;}function _0x4ee604(_0x42aefc,_0xa38148,_0x6bc915,_0x55ef02){return _0x110a(_0x6bc915- -0x3a4,_0x42aefc);}_0x551984['aHKJN'](stylishConfirm,_0x4ee604(-0xfd,-0x104,-0x123,-0x10b)+'nana\x20角色预设\x20'+'\x22'+_0x9b47b5+_0x4ee604(-0x17c,-0x174,-0x148,-0xe7))[_0x4ee604(-0x1eb,-0x173,-0x1a2,-0x18f)](_0x32925a=>{function _0x4bfe68(_0x556fb4,_0x1ee95e,_0x1d3d53,_0x339473){return _0x2ae6c1(_0x556fb4-0xfc,_0x1ee95e-0x1c9,_0x556fb4- -0x1d0,_0x1d3d53);}function _0x156bc1(_0x25b182,_0x4df562,_0x5c523a,_0x35726c){return _0x4ee604(_0x4df562,_0x4df562-0x1e,_0x5c523a-0xbd,_0x35726c-0x1dd);}if(_0x551984[_0x156bc1(-0xb8,-0x5a,-0x93,-0xcc)](_0x551984[_0x156bc1(-0x90,-0xff,-0xc9,-0xd0)],_0x551984[_0x156bc1(-0x6,0x3,-0x56,-0x89)])){if(_0x32925a){if(_0x551984[_0x156bc1(-0x5d,-0x62,-0x77,-0xc3)](_0x551984[_0x4bfe68(0x415,0x3ed,0x3cc,0x468)],_0x551984[_0x4bfe68(0x415,0x407,0x3ec,0x3ec)]))_0x551984[_0x4bfe68(0x454,0x403,0x48c,0x491)](saveCurrentBananaCharacterData,_0x9b47b5),_0x551984[_0x4bfe68(0x402,0x42e,0x45e,0x445)](alert,_0x4bfe68(0x409,0x3e5,0x423,0x3c8)+'设\x20\x22'+_0x9b47b5+'\x22\x20已更新。');else{const _0x2a9713=_0x357c5b[_0x156bc1(-0xad,-0x53,-0x7c,-0x4c)+_0x156bc1(-0x7d,-0xb6,-0x76,-0x25)](_0x551984['zYhUT']);_0x2a9713['value']=_0x4fae8d,_0x2a9713[_0x4bfe68(0x40c,0x3ce,0x40b,0x41d)+'t']=_0x537fd5,_0x438761[_0x156bc1(-0xb3,-0xbb,-0xa5,-0xe0)](_0x2a9713);}}}else{const _0x8eaedd={};_0x8eaedd[_0x156bc1(-0xc8,-0x145,-0xea,-0x12e)]=_0x551984[_0x156bc1(-0x75,-0x4c,-0x91,-0xa6)];const _0x4b2feb=_0x8eaedd;if(_0x222e82[_0x4bfe68(0x420,0x3c6,0x457,0x410)]&&_0x2dd09a[_0x156bc1(-0xcb,-0xd8,-0xbd,-0x9f)][-0x1*0xf77+0x1079*0x2+0xb3*-0x19]){const _0x48368f=new _0x4d8c09();_0x48368f[_0x156bc1(-0xa9,-0xfe,-0xe0,-0x7e)]=_0x1ebdfc=>{_0x1f16af[_0x23dabc(0x56f,0x518,0x536,0x4fb)]=_0x1ebdfc[_0x23dabc(0x582,0x59c,0x5c8,0x586)][_0x23dabc(0x4ee,0x504,0x521,0x4a2)];function _0x23dabc(_0x20a6ea,_0x2983ce,_0x506e2d,_0x24e068){return _0x4bfe68(_0x2983ce-0x128,_0x2983ce-0x145,_0x20a6ea,_0x24e068-0x139);}function _0x26eb91(_0x3fec8c,_0x53e99a,_0x3457c8,_0x4e9da6){return _0x156bc1(_0x3fec8c-0xaa,_0x3457c8,_0x4e9da6-0xae,_0x4e9da6-0xe5);}_0x158400['style'][_0x23dabc(0x577,0x55e,0x553,0x5b0)]='block',_0x4532e1[_0x26eb91(-0x7e,-0x85,-0xa6,-0x4e)][_0x26eb91(-0x6,0x1d,-0x14,0x7)]='none',_0x732fb4[_0x23dabc(0x544,0x509,0x4a8,0x56a)][_0x26eb91(0x31,-0x3e,0x4f,0x7)]=_0x4b2feb['KXzIn'];},_0x48368f[_0x156bc1(-0x132,-0x101,-0xd9,-0xe0)+_0x4bfe68(0x427,0x47f,0x480,0x45e)](_0x419799['files'][0x49*0x3e+-0x8f5+0x7*-0x13f]);}}});}function saveBananaCharacterPresetAs(){function _0x568cae(_0x379a32,_0x3280fa,_0x2d0328,_0x255e67){return _0x110a(_0x379a32- -0x2c0,_0x3280fa);}const _0x46d9a4={'eqnES':function(_0x413dbc,_0x4d1478){return _0x413dbc!==_0x4d1478;},'TEOwh':_0x101d3c(-0x10e,-0x10e,-0xe9,-0x12d),'fGfnb':_0x568cae(-0x9e,-0xf4,-0x44,-0x7f),'kONGi':function(_0x1b409b,_0x1e6fcc){return _0x1b409b(_0x1e6fcc);},'LBKOH':function(_0x1ee7cf){return _0x1ee7cf();},'HQCVy':_0x568cae(-0x58,-0x26,-0x9d,-0xc)+_0x568cae(-0x90,-0xe6,-0x5f,-0x6b)};function _0x101d3c(_0x367031,_0x2107e3,_0x5ee225,_0x1bba8a){return _0x110a(_0x367031- -0x332,_0x1bba8a);}_0x46d9a4[_0x101d3c(-0x118,-0x155,-0x177,-0x140)](stylInput,_0x46d9a4[_0x101d3c(-0x112,-0xf2,-0xce,-0x100)])[_0x568cae(-0xbe,-0x68,-0x79,-0xf4)](_0x49ac40=>{function _0x36df3f(_0x2ff5cb,_0x287f4b,_0xa76eb0,_0x558300){return _0x101d3c(_0x558300-0xc0,_0x287f4b-0xaf,_0xa76eb0-0x18d,_0x2ff5cb);}function _0x431797(_0x137cb0,_0x44f48d,_0x58bb35,_0x47bd82){return _0x568cae(_0x44f48d-0x11f,_0x137cb0,_0x58bb35-0x7a,_0x47bd82-0x1e1);}if(_0x49ac40&&_0x46d9a4[_0x431797(0xa5,0x68,0x29,0x44)](_0x49ac40[_0x36df3f(-0x97,-0x44,-0xc9,-0x7d)](),'')){if(_0x46d9a4['eqnES'](_0x46d9a4[_0x431797(0x6a,0x95,0xba,0x47)],_0x46d9a4[_0x431797(0x5b,0x48,0xa2,0x47)])){const _0x2a1a4e=extension_settings[extensionName];_0x46d9a4['kONGi'](saveCurrentBananaCharacterData,_0x49ac40),_0x2a1a4e[_0x36df3f(0x6,-0x82,0x33,-0x2b)+_0x431797(0x13b,0xed,0x94,0xae)+'tId']=_0x49ac40,_0x46d9a4[_0x36df3f(0x41,-0x39,0x65,0x18)](loadBananaCharacterPresetList),alert(_0x36df3f(-0x7c,-0x73,-0x4f,-0x5f)+_0x36df3f(0x80,0x1,0x50,0x27)+_0x49ac40+'\x22\x20已保存。');}else _0x3b03a7[_0x431797(0xff,0xa8,0xb9,0xde)]();}});}async function saveCurrentBananaCharacterData(_0x24233e){const _0x174345={'tHwAt':function(_0x529dfd,_0x4c78ff){return _0x529dfd!==_0x4c78ff;},'jdQzv':function(_0x55f4d7){return _0x55f4d7();},'vHxSQ':function(_0x29b41b,_0x4f9b3a){return _0x29b41b(_0x4f9b3a);},'GOrAV':_0x3de9d1(0x5cc,0x62d,0x5e5,0x67c)+_0x5e517a(0x19b,0x174,0x19d,0x132)+'ge','LUlPj':_0x3de9d1(0x5af,0x5f1,0x632,0x63a),'cYxHS':function(_0x1d19b9,_0x9a79f2){return _0x1d19b9(_0x9a79f2);},'rQqrO':function(_0x3732fd,_0x477929){return _0x3732fd(_0x477929);},'XVURU':_0x3de9d1(0x63d,0x62e,0x60d,0x5ea),'LqveS':function(_0x726aef,_0x3a6011){return _0x726aef!==_0x3a6011;},'qDoEO':_0x3de9d1(0x5e0,0x5d1,0x60c,0x57d),'nAKKs':_0x5e517a(0x133,0x162,0x13c,0x12c),'dXYEe':function(_0x5aa640,_0x3c8582){return _0x5aa640(_0x3c8582);},'raWNM':function(_0x524976,_0x16c848){return _0x524976(_0x16c848);},'XcHHq':_0x5e517a(0x1c5,0x1fa,0x204,0x1da)+_0x3de9d1(0x5fb,0x647,0x6a4,0x629)+'型图片已保存:','jbwDO':_0x5e517a(0x209,0x1ee,0x217,0x23c)+_0x3de9d1(0x5dc,0x611,0x607,0x623),'HWUdw':_0x5e517a(0x1f0,0x1ee,0x1f8,0x210)+_0x5e517a(0x162,0x14f,0x12f,0x15d)+'t','RqSDb':_0x3de9d1(0x606,0x62d,0x62c,0x5fd)+_0x3de9d1(0x5ec,0x5a0,0x570,0x5eb)+'xt'},_0x18dcca=extension_settings[extensionName],_0x1420f5=_0x18dcca['bananaChar'+_0x3de9d1(0x64f,0x630,0x676,0x60e)+'ts'][_0x24233e],_0x1db9c7=document[_0x3de9d1(0x623,0x627,0x61d,0x5f5)+_0x5e517a(0x1fc,0x1c2,0x198,0x1f9)](_0x174345[_0x5e517a(0x1a3,0x1e0,0x20a,0x1e3)])[_0x5e517a(0x1b4,0x15d,0x192,0x12c)],_0x22d09b=document[_0x5e517a(0x1dc,0x1e8,0x1d6,0x1fd)+_0x3de9d1(0x61f,0x601,0x5ca,0x644)](_0x5e517a(0x213,0x1ee,0x1b1,0x1d7)+'r_model_im'+_0x5e517a(0x185,0x16e,0x12b,0x1ba))[_0x5e517a(0x1a4,0x15d,0x17d,0x11b)],_0x1ac13e=_0x1420f5?.[_0x5e517a(0x195,0x191,0x185,0x1a3)+'on']?.[_0x3de9d1(0x583,0x596,0x583,0x538)]?.[_0x3de9d1(0x5aa,0x58a,0x5c4,0x58c)]||'',_0x2f3464=_0x1420f5?.['conversati'+'on']?.[_0x5e517a(0x1a4,0x1dc,0x23d,0x1ce)]?.[_0x5e517a(0x143,0x14b,0xf4,0x105)]||'';let _0x56fcb0='';function _0x5e517a(_0x367987,_0x47b1be,_0x3f76da,_0x24ef79){return _0x110a(_0x47b1be- -0x9d,_0x367987);}let _0x25bcb6='';_0x1db9c7['startsWith'](_0x174345[_0x5e517a(0x25d,0x201,0x209,0x1c3)])&&(_0x1ac13e&&_0x1ac13e[_0x5e517a(0x155,0x175,0x1a1,0x184)](_0x3de9d1(0x5fd,0x62e,0x604,0x5ea))&&await _0x174345[_0x5e517a(0x22f,0x1ff,0x20f,0x24a)](deleteConfigImage,_0x1ac13e)[_0x3de9d1(0x53a,0x598,0x53c,0x53f)](_0x2d79f4=>console[_0x3de9d1(0x5d8,0x5ac,0x579,0x5bd)](_0x3de9d1(0x670,0x639,0x5eb,0x5ef)+_0x3de9d1(0x576,0x5aa,0x57f,0x5fa)+'败:',_0x2d79f4)),_0x56fcb0=await _0x174345[_0x5e517a(0x17d,0x1dd,0x1da,0x1d8)](saveConfigImage,_0x1db9c7),console[_0x5e517a(0x1c3,0x1a2,0x16c,0x1c4)]('[Character'+_0x3de9d1(0x63e,0x5f4,0x61c,0x61d)+_0x3de9d1(0x5bc,0x58c,0x542,0x5aa),_0x56fcb0));function _0x3de9d1(_0x2725b9,_0x2c23ab,_0x174e57,_0x28746a){return _0x110a(_0x2c23ab-0x3a2,_0x174e57);}if(_0x22d09b[_0x3de9d1(0x5e8,0x5b4,0x5ae,0x59d)]('data:image')){if(_0x2f3464&&_0x2f3464[_0x5e517a(0x1b8,0x175,0x142,0x14d)](_0x174345[_0x3de9d1(0x5e3,0x5a6,0x5c9,0x5d6)])){if(_0x174345[_0x3de9d1(0x616,0x5f0,0x5cc,0x5c0)](_0x174345[_0x3de9d1(0x5dd,0x63d,0x683,0x634)],_0x174345[_0x5e517a(0x105,0x15e,0x1a5,0x101)]))await _0x174345[_0x5e517a(0x207,0x1fd,0x1ff,0x1de)](deleteConfigImage,_0x2f3464)[_0x5e517a(0x15b,0x159,0xfc,0x136)](_0x2b8dba=>console[_0x3de9d1(0x5da,0x5ac,0x5ac,0x5a1)](_0x3de9d1(0x644,0x639,0x60e,0x691)+']\x20删除旧模型图片失'+'败:',_0x2b8dba));else{if(_0xbba494&&_0x174345[_0x3de9d1(0x623,0x5d7,0x5d1,0x5da)](_0x535c69[_0x3de9d1(0x5d3,0x597,0x54c,0x545)](),'')){const _0x226b71=_0x1dfdb5[_0x270a65];_0x2bf907(_0xebe061),_0x226b71['bananaChar'+'acterPrese'+'tId']=_0x19e557,_0x174345[_0x5e517a(0x1c3,0x166,0x1ba,0x14f)](_0x49453f),_0x174345[_0x3de9d1(0x60b,0x644,0x64c,0x627)](_0x58f0f4,'Banana\x20角色预'+_0x5e517a(0x1f5,0x1fc,0x21f,0x254)+_0x26ccea+_0x5e517a(0x1f2,0x1b3,0x168,0x1fb));}}}_0x25bcb6=await _0x174345[_0x5e517a(0x1dd,0x1e7,0x194,0x1f0)](saveConfigImage,_0x22d09b),console[_0x3de9d1(0x602,0x5e1,0x5f0,0x631)](_0x174345['XcHHq'],_0x25bcb6);}const _0x3ac93e={'triggers':document[_0x3de9d1(0x61c,0x627,0x677,0x5e3)+_0x5e517a(0x16d,0x1c2,0x1a3,0x193)](_0x174345['jbwDO'])[_0x5e517a(0x143,0x19b,0x1c3,0x171)],'conversation':{'user':{'text':document['getElement'+_0x5e517a(0x1fe,0x1c2,0x223,0x1a3)](_0x174345[_0x3de9d1(0x5b0,0x607,0x646,0x5ca)])[_0x5e517a(0x1ed,0x19b,0x19e,0x18f)],'imageId':_0x56fcb0},'model':{'text':document[_0x3de9d1(0x655,0x627,0x610,0x633)+_0x5e517a(0x221,0x1c2,0x1f6,0x18a)](_0x174345[_0x3de9d1(0x5e2,0x605,0x65a,0x5ba)])['value'],'imageId':_0x25bcb6}}};_0x18dcca[_0x3de9d1(0x612,0x5e9,0x5b7,0x605)+'acterPrese'+'ts'][_0x24233e]=_0x3ac93e,_0x174345[_0x5e517a(0x139,0x166,0x183,0x16e)](saveSettingsDebounced);}async function deleteBananaCharacterPreset(){const _0x169ad3={'KgyCn':_0x3edc53(0x419,0x40c,0x423,0x3d3)+'+$','ejRRT':_0x3edc53(0x42b,0x3b7,0x3b8,0x419)+_0x3edc53(0x3db,0x3d3,0x3dc,0x405)+'d','HdudC':function(_0x57bedb,_0x249e4d){return _0x57bedb<=_0x249e4d;},'IBPGF':function(_0x48c5c9,_0x52b6a3){return _0x48c5c9!==_0x52b6a3;},'bnWxA':_0x3edc53(0x40b,0x434,0x482,0x42b),'DfkWY':function(_0x8f34eb,_0x47f9e2){return _0x8f34eb(_0x47f9e2);},'TPJRq':_0x2e24e9(-0x83,-0x137,-0xdf,-0xfe)+'。','zvyZC':_0x3edc53(0x405,0x431,0x447,0x41a),'CnZGs':function(_0x5b9ecf,_0x28dd32){return _0x5b9ecf===_0x28dd32;},'tJBhp':_0x2e24e9(-0x104,-0xd2,-0xe1,-0xd1),'TPXTT':'WRseg','wxbtb':function(_0x51b3de){return _0x51b3de();},'zfzgV':function(_0x48969d){return _0x48969d();}};function _0x2e24e9(_0x1b29e1,_0x57c131,_0x108c41,_0xd97f2e){return _0x110a(_0x108c41- -0x336,_0x57c131);}const _0x54a913=extension_settings[extensionName],_0x11d3fd=document[_0x2e24e9(-0x85,-0xc5,-0xb1,-0xce)+_0x3edc53(0x3a3,0x3ca,0x404,0x3ed)](_0x169ad3[_0x3edc53(0x453,0x479,0x475,0x436)])?.[_0x3edc53(0x3e4,0x378,0x38d,0x3c6)];function _0x3edc53(_0x32cf15,_0x5e0887,_0x1ea03c,_0x111427){return _0x110a(_0x111427-0x18e,_0x1ea03c);}if(_0x169ad3[_0x2e24e9(-0x125,-0xd0,-0x104,-0x135)](Object[_0x3edc53(0x39c,0x3c1,0x374,0x393)](_0x54a913['bananaChar'+'acterPrese'+'ts'])[_0x3edc53(0x351,0x331,0x3d4,0x38f)],0x5*0x31d+0x1460+0x32*-0xb8)){if(_0x169ad3[_0x3edc53(0x409,0x3ae,0x3ae,0x3fa)](_0x169ad3[_0x3edc53(0x37a,0x3f9,0x378,0x3af)],'daOfw'))return _0x2943a6[_0x3edc53(0x3c5,0x41c,0x3fa,0x40e)]()[_0x3edc53(0x3d8,0x397,0x3f9,0x3c8)](JOVLqE['KgyCn'])['toString']()['constructo'+'r'](_0x271a6d)[_0x3edc53(0x419,0x417,0x3b9,0x3c8)](JOVLqE[_0x2e24e9(-0x52,-0xd1,-0xb4,-0xa6)]);else{_0x169ad3['DfkWY'](alert,_0x169ad3[_0x3edc53(0x3b6,0x3e2,0x411,0x3c5)]);return;}}const _0x26a992=await _0x169ad3[_0x2e24e9(-0xaa,-0x8f,-0xa3,-0xb9)](stylishConfirm,_0x2e24e9(-0xb2,-0x73,-0xc0,-0x7a)+_0x2e24e9(-0x16a,-0x13f,-0x130,-0xd8)+'\x22'+_0x11d3fd+'\x22');if(_0x26a992){const _0x5ddd08=_0x54a913[_0x3edc53(0x39e,0x3cd,0x382,0x3d5)+_0x2e24e9(-0xcc,-0x69,-0xa8,-0xbf)+'ts'][_0x11d3fd];_0x5ddd08?.[_0x2e24e9(-0x150,-0xd0,-0x108,-0xd5)+'on']?.[_0x2e24e9(-0x15c,-0x15c,-0x142,-0x17e)]?.[_0x2e24e9(-0x11b,-0x12f,-0x14e,-0x134)]&&_0x5ddd08[_0x2e24e9(-0xd6,-0x136,-0x108,-0xf0)+'on'][_0x2e24e9(-0x160,-0x10a,-0x142,-0x18d)]['imageId'][_0x3edc53(0x37d,0x359,0x3eb,0x3a0)]('cfgimg_')&&await _0x169ad3['DfkWY'](deleteConfigImage,_0x5ddd08[_0x2e24e9(-0xd4,-0x128,-0x108,-0xf2)+'on'][_0x3edc53(0x35f,0x325,0x336,0x382)][_0x2e24e9(-0xec,-0x111,-0x14e,-0x19b)])[_0x3edc53(0x3a2,0x3cb,0x397,0x384)](_0x6f610a=>console[_0x2e24e9(-0x165,-0x15e,-0x12c,-0x158)]('[Character'+']\x20删除用户图片失败'+':',_0x6f610a));if(_0x5ddd08?.['conversati'+'on']?.[_0x3edc53(0x3b4,0x426,0x406,0x407)]?.[_0x2e24e9(-0x105,-0x161,-0x14e,-0x11b)]&&_0x5ddd08[_0x2e24e9(-0x128,-0x144,-0x108,-0xab)+'on']['model'][_0x3edc53(0x3b0,0x343,0x3b5,0x376)]['startsWith'](_0x169ad3[_0x2e24e9(-0x11d,-0x134,-0x13a,-0x136)])){if(_0x169ad3[_0x3edc53(0x34c,0x355,0x391,0x385)](_0x169ad3[_0x3edc53(0x433,0x3d8,0x446,0x435)],_0x169ad3['TPXTT'])){if(_0x5732a2){const _0x1f8397=_0x36897c['apply'](_0x1aa3bc,arguments);return _0x575c4c=null,_0x1f8397;}}else await _0x169ad3[_0x2e24e9(-0x9f,-0x4e,-0xa3,-0xff)](deleteConfigImage,_0x5ddd08[_0x3edc53(0x3b6,0x37e,0x369,0x3bc)+'on'][_0x2e24e9(-0xad,-0x68,-0xbd,-0x104)][_0x2e24e9(-0x1a8,-0x175,-0x14e,-0x175)])[_0x3edc53(0x3a4,0x390,0x3b4,0x384)](_0x6e4d4c=>console[_0x2e24e9(-0x111,-0x181,-0x12c,-0xee)](_0x3edc53(0x3fe,0x47f,0x45e,0x425)+_0x3edc53(0x381,0x3c5,0x38d,0x3bb)+':',_0x6e4d4c));}delete _0x54a913['bananaChar'+_0x2e24e9(-0xc2,-0x7c,-0xa8,-0xb1)+'ts'][_0x11d3fd],_0x54a913['bananaChar'+'acterPrese'+_0x2e24e9(-0x9b,-0x5d,-0xae,-0x100)]=Object[_0x3edc53(0x37f,0x3b7,0x3ec,0x393)](_0x54a913[_0x2e24e9(-0x131,-0x151,-0xef,-0x137)+_0x2e24e9(-0x109,-0x88,-0xa8,-0x102)+'ts'])[0xcbb+-0x197e+0x21*0x63],_0x169ad3[_0x2e24e9(-0xd4,-0x69,-0x97,-0x53)](loadBananaCharacterPresetList),await _0x169ad3['zfzgV'](loadBananaCharacterPreset),_0x169ad3[_0x2e24e9(-0x5b,-0xe6,-0x97,-0xde)](saveSettingsDebounced);}}const setupBananaImageUpload=_0x3c9417=>{const _0x5975f3={};_0x5975f3[_0x5be566(0x1a2,0x1c1,0x1f9,0x177)]=function(_0x36ea8e,_0x844a33){return _0x36ea8e!==_0x844a33;},_0x5975f3['HUXCj']=function(_0x5e4071,_0x3285a7){return _0x5e4071!==_0x3285a7;};function _0x5be566(_0x450b37,_0x4c1d29,_0x8339af,_0x2b16e7){return _0x110a(_0x4c1d29- -0xb7,_0x2b16e7);}_0x5975f3[_0x41b151(0x169,0x1e4,0x187,0x152)]=_0x5be566(0x1c2,0x175,0x18b,0x147),_0x5975f3[_0x41b151(0x13c,0xba,0x114,0x167)]=_0x5be566(0x1de,0x195,0x1b5,0x168),_0x5975f3[_0x5be566(0x17a,0x1d2,0x198,0x1c0)]='block',_0x5975f3[_0x41b151(0x1f8,0x174,0x19a,0x1b1)]='none',_0x5975f3[_0x41b151(0x1a4,0x198,0x1ad,0x16a)]='4|0|2|1|3',_0x5975f3[_0x5be566(0x17f,0x1de,0x1ec,0x18d)]=_0x5be566(0x195,0x1b3,0x1de,0x1de)+'-image-pla'+'ceholder',_0x5975f3['yYHiQ']=_0x5be566(0x1cf,0x191,0x15d,0x1b1),_0x5975f3[_0x41b151(0x13b,0x19b,0x198,0x146)]=_0x41b151(0x19a,0x185,0x16f,0x13e);const _0x586012=_0x5975f3,_0x57f83d=document[_0x41b151(0x191,0x14a,0x1ab,0x1aa)+_0x41b151(0x1d0,0x1ae,0x185,0x13a)]('banana_cha'+'r_'+_0x3c9417+(_0x41b151(0x15b,0x17c,0x18a,0x172)+_0x41b151(0x176,0x1eb,0x19b,0x1e2))),_0x39beb2=document['getElement'+_0x41b151(0x1bc,0x170,0x185,0x1b5)](_0x41b151(0x15c,0x1cd,0x1b1,0x1d8)+'r_'+_0x3c9417+_0x5be566(0x22d,0x1db,0x18b,0x1e2)),_0x35b0db=_0x57f83d[_0x41b151(0x19b,0x14b,0x13a,0x143)+_0x5be566(0x16d,0x164,0x15e,0x138)](_0x586012['qkvsl']);function _0x41b151(_0x50513c,_0x42d21d,_0x5c6d2b,_0x173280){return _0x110a(_0x5c6d2b- -0xda,_0x42d21d);}const _0x24993b=document[_0x41b151(0x18d,0x156,0x1ab,0x19b)+_0x41b151(0x1b6,0x128,0x185,0x1cd)](_0x5be566(0x181,0x1d4,0x209,0x1a2)+'r_'+_0x3c9417+(_0x5be566(0x1bf,0x1dd,0x20a,0x21f)+_0x41b151(0x1cd,0x200,0x1cc,0x197))),_0x4c0365=document[_0x5be566(0x1ff,0x1ce,0x1ca,0x21d)+'ById'](_0x5be566(0x186,0x1d4,0x17c,0x1d7)+'r_'+_0x3c9417+(_0x5be566(0x231,0x1cf,0x171,0x1d9)+'ut'));if(!_0x57f83d||!_0x39beb2||!_0x35b0db||!_0x24993b||!_0x4c0365)return;_0x57f83d['addEventLi'+'stener'](_0x41b151(0x1b0,0x13c,0x16f,0x1cc),_0x4e01a1=>{function _0x345ee1(_0x34b29a,_0x1178af,_0x2721ee,_0x50f32e){return _0x5be566(_0x34b29a-0x6a,_0x1178af- -0x24b,_0x2721ee-0x124,_0x34b29a);}function _0x18d659(_0x3ee7da,_0x59d749,_0x1cb310,_0x2ebdb9){return _0x41b151(_0x3ee7da-0x1c8,_0x2ebdb9,_0x59d749- -0x95,_0x2ebdb9-0x15e);}_0x586012['GIiwQ'](_0x4e01a1['target'],_0x24993b)&&!_0x24993b[_0x345ee1(-0x15b,-0x10f,-0x139,-0x13f)](_0x4e01a1['target'])&&(_0x586012[_0x345ee1(-0x7d,-0xbf,-0xd6,-0xd0)](_0x586012[_0x345ee1(-0x6b,-0xa1,-0x61,-0xb2)],_0x586012[_0x18d659(0x4e,0x7f,0xdf,0x30)])?_0x4c0365[_0x345ee1(-0xd7,-0xb9,-0xb1,-0x10e)]():(_0x1e6475[_0x18d659(0x89,0x8b,0x95,0x93)]=_0x1a43b8,_0x30285d[_0x18d659(0x86,0x7c,0x76,0xa4)][_0x18d659(0xe8,0xd1,0xd6,0xf5)]=_0x345ee1(-0x133,-0x102,-0xde,-0xe9),_0x5c2910[_0x345ee1(-0x117,-0x117,-0xf8,-0x159)][_0x345ee1(-0xc0,-0xc2,-0x10b,-0xfd)]=_0x345ee1(-0x12f,-0xf3,-0x95,-0x125),_0x3eae03['style'][_0x345ee1(-0x64,-0xc2,-0xc4,-0x98)]=_0x345ee1(-0xa8,-0x102,-0xb1,-0xe8)));}),_0x4c0365['addEventLi'+_0x5be566(0x1e8,0x1bc,0x1d4,0x204)](_0x586012[_0x5be566(0x1a7,0x1a9,0x198,0x154)],()=>{const _0x318fbf={};_0x318fbf[_0x4a7230(0x394,0x362,0x3c3,0x38b)]=_0x586012[_0x4ad242(-0x23,-0xb3,-0x6e,-0x3d)];function _0x4ad242(_0x59cb53,_0x3c7dad,_0x41cf2d,_0xb56bd0){return _0x5be566(_0x59cb53-0xd8,_0x41cf2d- -0x240,_0x41cf2d-0x166,_0xb56bd0);}_0x318fbf[_0x4a7230(0x484,0x3d2,0x3fa,0x42a)]=_0x586012[_0x4a7230(0x425,0x40a,0x3fe,0x40e)];const _0x1b5107=_0x318fbf;function _0x4a7230(_0x46c83c,_0x446bd1,_0x3ee797,_0x392fe0){return _0x41b151(_0x46c83c-0x17,_0x446bd1,_0x392fe0-0x274,_0x392fe0-0x2a);}if(_0x4c0365[_0x4a7230(0x3ca,0x3d2,0x3ba,0x3c4)]&&_0x4c0365[_0x4ad242(-0x11c,-0x8d,-0xcd,-0xe8)][-0x1*0x2105+0x7*0x39b+0x7c8]){const _0x4ddddc=new FileReader();_0x4ddddc[_0x4a7230(0x3ed,0x3b6,0x3ba,0x3a1)]=_0x22cf28=>{function _0xc17a21(_0x214ee7,_0x50b97b,_0xc1e7c9,_0x2f70fa){return _0x4ad242(_0x214ee7-0xe4,_0x50b97b-0x4d,_0x214ee7-0xb4,_0xc1e7c9);}_0x39beb2['src']=_0x22cf28['target']['result'],_0x39beb2[_0xc17a21(-0x58,-0x3e,-0x77,-0x1)]['display']=_0x1b5107[_0x30aa8e(0x199,0x17c,0x1b0,0x1d9)];function _0x30aa8e(_0x5c1415,_0x3b616c,_0x3e0972,_0x53bdc4){return _0x4ad242(_0x5c1415-0x117,_0x3b616c-0x107,_0x3b616c-0x282,_0x5c1415);}_0x35b0db[_0x30aa8e(0x195,0x176,0x18d,0x11e)][_0xc17a21(-0x3,0x2f,-0x33,0x4a)]=_0x1b5107[_0xc17a21(0x4d,0x16,0x55,0x80)],_0x24993b[_0xc17a21(-0x58,-0x7f,0x4,-0x28)][_0xc17a21(-0x3,0x1f,-0x62,-0x46)]=_0x1b5107[_0x30aa8e(0x186,0x17c,0x150,0x1b0)];},_0x4ddddc[_0x4ad242(-0x8e,-0x142,-0xe9,-0x108)+_0x4a7230(0x3f1,0x3ea,0x3cc,0x3cb)](_0x4c0365[_0x4a7230(0x381,0x386,0x3cf,0x3c4)][-0x4cd+0x1ce1*-0x1+-0x3be*-0x9]);}}),_0x24993b['addEventLi'+_0x5be566(0x1aa,0x1bc,0x18d,0x1f4)](_0x586012[_0x41b151(0x13c,0x14c,0x198,0x193)],()=>{const _0x5d76e4=_0x586012['azkig'][_0x2649c9(0x4b3,0x466,0x4a2,0x467)]('|');function _0x1e8c17(_0x444022,_0x13f325,_0x489fce,_0x5d2b19){return _0x41b151(_0x444022-0xf,_0x489fce,_0x5d2b19- -0x11d,_0x5d2b19-0x6f);}function _0x2649c9(_0x16f461,_0x180a0,_0xb2c5f,_0x182f91){return _0x5be566(_0x16f461-0x5b,_0x182f91-0x2c3,_0xb2c5f-0xe2,_0x180a0);}let _0x37f50b=0x3*0xc51+-0x249d+-0x56;while(!![]){switch(_0x5d76e4[_0x37f50b++]){case'0':_0x39beb2['style'][_0x2649c9(0x400,0x404,0x46b,0x44c)]=_0x586012[_0x1e8c17(0x2f,0xdb,0xb3,0x7d)];continue;case'1':_0x24993b[_0x2649c9(0x3dd,0x44b,0x440,0x3f7)]['display']=_0x1e8c17(0x37,-0x1e,0x7a,0x18);continue;case'2':_0x35b0db[_0x2649c9(0x441,0x431,0x3d7,0x3f7)][_0x2649c9(0x4a2,0x428,0x489,0x44c)]=_0x586012[_0x1e8c17(0xaf,0x5c,0xbe,0x92)];continue;case'3':_0x4c0365['value']='';continue;case'4':_0x39beb2[_0x1e8c17(-0x45,-0x31,0x1a,0x3)]='';continue;}break;}});},updateBananaImageUI=(_0x1d193f,_0x3115ee)=>{const _0x5c0a1b={};_0x5c0a1b['pTLcp']=function(_0x5eaff5,_0x2f044d){return _0x5eaff5||_0x2f044d;},_0x5c0a1b['FkxpM']=_0x429d50(0x43c,0x433,0x462,0x40e)+'-image-pla'+_0x232b78(0x21e,0x280,0x25e,0x22d),_0x5c0a1b[_0x232b78(0x224,0x26b,0x28f,0x21a)]='block',_0x5c0a1b[_0x429d50(0x3fd,0x457,0x42b,0x427)]='none';const _0x12b950=_0x5c0a1b,_0xc6b9f0=document[_0x429d50(0x44c,0x4b1,0x47d,0x4bc)+_0x232b78(0x275,0x2a4,0x2e8,0x295)](_0x429d50(0x436,0x47e,0x483,0x4be)+'r_'+_0x1d193f+_0x232b78(0x2ca,0x2d7,0x32f,0x2d8)),_0x52b463=document['getElement'+_0x429d50(0x483,0x464,0x457,0x419)]('banana_cha'+'r_'+_0x1d193f+('_image_con'+_0x232b78(0x2ae,0x2ba,0x2a4,0x28b)));function _0x429d50(_0x3ef982,_0x1fb1ad,_0xf38def,_0x41ccd7){return _0x110a(_0xf38def-0x1f8,_0x41ccd7);}if(_0x12b950[_0x429d50(0x470,0x3e9,0x435,0x401)](!_0xc6b9f0,!_0x52b463))return;const _0x55995b=_0x52b463['querySelec'+_0x429d50(0x3fb,0x41c,0x413,0x3ce)](_0x12b950['FkxpM']);function _0x232b78(_0x37006d,_0x3a0b37,_0x16d44b,_0x3956ce){return _0x110a(_0x3a0b37-0x45,_0x16d44b);}const _0x1c46b4=document[_0x429d50(0x422,0x4c6,0x47d,0x4d0)+'ById']('banana_cha'+'r_'+_0x1d193f+(_0x429d50(0x4be,0x4eb,0x48c,0x4ed)+_0x232b78(0x34b,0x2eb,0x2cf,0x296)));_0x3115ee?(_0xc6b9f0['src']=_0x3115ee,_0xc6b9f0[_0x429d50(0x437,0x387,0x3e3,0x3d4)]['display']=_0x12b950[_0x429d50(0x3fa,0x3ca,0x41e,0x3f7)],_0x55995b[_0x232b78(0x283,0x230,0x1ea,0x234)]['display']=_0x429d50(0x41b,0x427,0x407,0x3cc),_0x1c46b4[_0x232b78(0x28b,0x230,0x285,0x215)][_0x232b78(0x2d7,0x285,0x245,0x26d)]=_0x12b950['XMkpW']):(_0xc6b9f0[_0x232b78(0x294,0x23f,0x225,0x25d)]='',_0xc6b9f0['style'][_0x232b78(0x2d5,0x285,0x2c2,0x239)]=_0x12b950['QYkSa'],_0x55995b['style'][_0x429d50(0x42e,0x495,0x438,0x441)]='block',_0x1c46b4['style'][_0x232b78(0x2b9,0x285,0x2b1,0x2e1)]=_0x12b950[_0x429d50(0x408,0x3d1,0x42b,0x428)]);};
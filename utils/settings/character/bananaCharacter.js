(function(_0x4d7fd8,_0x2fd01f){function _0x5ea41b(_0x3f819a,_0x105992,_0x2e0422,_0x48099c){return _0x107d(_0x2e0422- -0x399,_0x48099c);}function _0x145fdf(_0x5045ea,_0x1304fa,_0x4f4f80,_0x3726ed){return _0x107d(_0x4f4f80- -0x213,_0x5045ea);}const _0x2df32d=_0x4d7fd8();while(!![]){try{const _0x41599f=-parseInt(_0x145fdf(-0x11c,-0x16f,-0x118,-0x16f))/(-0x1*0x10ed+-0x1*-0x1c8b+0x3df*-0x3)+parseInt(_0x145fdf(-0x12f,-0x15a,-0x117,-0x147))/(0x1d1e+0x101*-0xf+-0x1*0xe0d)+-parseInt(_0x145fdf(-0x153,-0x167,-0x17c,-0x121))/(0xae9+-0x1e75+-0x3*-0x685)+parseInt(_0x5ea41b(-0x2b8,-0x2fa,-0x2a9,-0x2fd))/(-0x134e*0x2+0x60*0x5a+0x4e0)*(-parseInt(_0x5ea41b(-0x29b,-0x32c,-0x2ef,-0x2f3))/(0x262f+-0x427+0x1*-0x2203))+-parseInt(_0x145fdf(-0x9f,-0xd8,-0xfa,-0xba))/(-0xf2a*-0x1+0x468+0x2*-0x9c6)+-parseInt(_0x5ea41b(-0x2c8,-0x26e,-0x2bb,-0x2a5))/(0x1*-0x1003+0x66d*0x3+-0x33d)+parseInt(_0x145fdf(-0x1c5,-0x11b,-0x17b,-0x1a8))/(-0xba5+-0x10a1+0xe27*0x2);if(_0x41599f===_0x2fd01f)break;else _0x2df32d['push'](_0x2df32d['shift']());}catch(_0x34c9ef){_0x2df32d['push'](_0x2df32d['shift']());}}}(_0x5a11,-0xf6*-0x44f+0x3fb26+-0x12769));const _0x2130ad=(function(){function _0x2dc781(_0x46b434,_0x35984c,_0x5a822d,_0x1b2568){return _0x107d(_0x5a822d-0x161,_0x35984c);}const _0x232a37={};_0x232a37[_0x3dbca1(-0x216,-0x261,-0x256,-0x249)]=_0x3dbca1(-0x2f6,-0x2cd,-0x2f9,-0x32b);function _0x3dbca1(_0x5abfdf,_0x5e54f0,_0x5255e7,_0x49214e){return _0x107d(_0x5255e7- -0x373,_0x49214e);}_0x232a37[_0x2dc781(0x18b,0x22c,0x1e2,0x18c)]='UGCqv',_0x232a37[_0x3dbca1(-0x26a,-0x2d5,-0x28d,-0x2b6)]='UtfPU';const _0x3dc48e=_0x232a37;let _0x2d3433=!![];return function(_0x1ef068,_0x1d030d){const _0x5dcaf9=_0x2d3433?function(){function _0x21a596(_0x56e117,_0x4fc4a5,_0x57ca1f,_0x27b8c6){return _0x107d(_0x57ca1f- -0x9c,_0x4fc4a5);}const _0x2edabb={};_0x2edabb['LHhgf']=_0x3dc48e['oDhmX'];const _0x254c3d=_0x2edabb;function _0x9f0856(_0xd9b123,_0x52ce70,_0x2d02e6,_0x2348f3){return _0x107d(_0x2d02e6-0x36a,_0xd9b123);}if(_0x1d030d){if(_0x3dc48e['OHSzh']===_0x3dc48e[_0x9f0856(0x496,0x44a,0x450,0x422)]){const _0x44a91a=new _0x1afd70();_0x44a91a[_0x9f0856(0x3c0,0x3ca,0x40c,0x3da)]=_0x37d6c3=>{_0x26021f[_0xa7623e(-0x192,-0x1b0,-0x134,-0x13b)]=_0x37d6c3[_0xa7623e(-0x1ce,-0x229,-0x1a6,-0x1ba)][_0xa7623e(-0x12c,-0x164,-0x141,-0x132)],_0x3eb33a['style']['display']=_0xa7623e(-0x156,-0x150,-0x198,-0x102),_0x3e944b[_0x53c5ad(0x67,0x25,0x24,0x53)][_0x53c5ad(0xbd,0x115,0xec,0xd0)]=_0x254c3d[_0x53c5ad(0xef,0xe7,0xe2,0xd8)];function _0x53c5ad(_0x1499fc,_0x451314,_0x345858,_0x9afd5c){return _0x21a596(_0x1499fc-0xd1,_0x345858,_0x9afd5c-0x6d,_0x9afd5c-0xe9);}function _0xa7623e(_0x2a6c88,_0x2b93a4,_0x4aa27d,_0x10fe94){return _0x9f0856(_0x2b93a4,_0x2b93a4-0x1e0,_0x2a6c88- -0x5cb,_0x10fe94-0x1c8);}_0x4dd79a[_0x53c5ad(0x0,0x71,0xb0,0x53)]['display']=_0x53c5ad(0xa2,0x113,0xd3,0xdc);},_0x44a91a[_0x21a596(-0x2a,-0x63,-0x6,0x7)+_0x9f0856(0x4d1,0x48b,0x479,0x4b0)](_0x205cc6[_0x21a596(0xb5,0x84,0x8d,0x63)][0xac7+-0x2187+0x16c0]);}else{const _0x459d36=_0x1d030d[_0x21a596(-0x1f,0x1,0x2e,0x2)](_0x1ef068,arguments);return _0x1d030d=null,_0x459d36;}}}:function(){};return _0x2d3433=![],_0x5dcaf9;};}()),_0x5d7ad4=_0x2130ad(this,function(){function _0x525a53(_0x47680b,_0x19e190,_0x5b500d,_0x100083){return _0x107d(_0x5b500d- -0x3d7,_0x100083);}function _0x4bc221(_0xe386a5,_0x5824a9,_0x51b078,_0x28eed9){return _0x107d(_0x51b078-0x230,_0x28eed9);}return _0x5d7ad4['toString']()[_0x4bc221(0x26e,0x2f7,0x2b6,0x26c)]('(((.+)+)+)'+'+$')[_0x525a53(-0x304,-0x29a,-0x2c6,-0x31d)]()[_0x525a53(-0x25e,-0x2b0,-0x2ad,-0x279)+'r'](_0x5d7ad4)[_0x4bc221(0x30f,0x27f,0x2b6,0x301)](_0x525a53(-0x2df,-0x2f3,-0x2e4,-0x2f0)+'+$');});function _0x5a11(){const _0xaf4cf8=['xsdLIkdPMAtML6FMQkhLNOVLM77NIyFLPle','v0DOuNK','uLf0u08','t0HtEMG','C3r5Bgu','AMHry2C','C0Tywem','DhjPBq','C2vHCMnO','i2jHBMfUyv9JAa','y29UDMvYC2f0Aq','EgrNqKO','zLr0EvC','ysdNLkJMIlFLM77NIyC6','DgnVq3i','B0XZCxi','EKHAAvy','iIdLT7lMM7tMLRdJGii','lNn0lwnOyxr1oa','xsdOV4hNP7SGqMfUyw4','t3nJvMy','DgfYz2v0','zuLQDLO','5z6l5zU+54Mh5BEY5l+D5A2yoG','CMvHzefZrgf0yq','nJaXmdGZve9xq2Hf','mta1odK4odbRCM1XBeC','zuDvA1m','Dgv4DenVBNrLBG','C3rLBMvY','uuDVrum','y1nPBgC','A2v5CW','5PIV5zcM56gU5A6A5yIG6zMK6k+LiejH','CL90CMLNz2vYCW','CL9WCMvZzxrFAq','B25SB2fK','Bw9KzwW','AK1oBLG','CxvLCNLtzwXLyW','iIdLT7lKV53LRzJJGii','Dgv4Da','C3bSAxq','z2v0rwXLBwvUDa','mJbmwhbKDge','DgHLBG','DeLK','y2f0y2G','wMj1zMS','BencCgm','y3jLyxrLrwXLBq','t3Hnwwe','iIdLKjFVVj8','weHeqwO','w0nOyxjHy3rLCG','DM1Is0y','s1v4Cg0','DxnLCG','sNztv2u','B3b0Aw9U','yxjFChjLC2v0xW','lwLTywDLlxbSyq','BMnIAwi','Dg9Y','ufzQrgS','yxjFC2f2zv9HCW','tK95DNa','x2LTywDLx2nVBG','xsbcyw5HBMeG55sO','A2fqBwC','ywn0zxjqCMvZzq','u2XrAMG','zMLUza','rhLrrxq','sLbcB1a','AwrHCwS','yxbWBhK','zhLiEg8','DgfPBMvY','zffjB2q','wKvnyLO','C3jJ','5PAW6Ake6k6+44cc','y2zNAw1NxW','s3PfCKy','zNHSEMu','yxjFDxbKyxrL','DeThs0G','s0TtwwO','Aw1Hz2vjza','AhzwvK8','CNjZteC','5RkH5PYj5Rs75yQO55QeiejHBMe','tg9yAvC','uhruBeK','y2HHBMDL','mJi2ntLdwMPnAuC','DNzrsfK','BMfUysdOP5lOIBlPOOtORR4G','y2XPy2S','Ew9mr2W','tu52vLy','DNn5tw4','y29UDgfPBNm','vMXJuMm','Bg9N','tKnKsNy','DKrttfK','CL91C2vYx3rLEa','56gU5A6A6kAb6kAg55Uw5B2t5yMniejH','AevnEMW','C3rHCNrZv2L0Aa','DeP3z0W','CwDpuwu','mZmWmdyWu2Dlu2XS','uurXue0','vM9OyNG','kcGOlISPkYKRkq','vK9gCMq','yxjFzgvSzxrL','y2vOB2XKzxi','s0j1tvK','DMfSDwu','6k6+ici','BwnUC0O','mZa2otK2EKPJAuzp','nZqYmZKYBgDVEwfY','zw50','yMfUyw5Hq2HHCG','zgLZCgXHEq','q0nLuem','CL9TB2rLBf9PBq','BMeG6kEs6iMY6Ake6k6+5y+V5l+D5A2y','44cc6k+35ywiiUwpPUwTMos4UIlKUidKUkO','yMfUyw5Hx2nOyq','uvHyC1C','A1DrELK','teHOz2y','ywvstxm','ysdOP5lOIBlPOOtORR7NMOtLKi3NP7a','t1fVs3K','yMXVy2S','BfHerM8','seHPuwG','rgXpvwe','vvjm','x2LTywDLx2LUCa','Dg9tDhjPBMC','sK9Zww0','qMfUyw5HioINKUIjSUMIHa','x2LTywDLx3jLBq','ywrKrxzLBNrmAq','uuz6qNy','A2LAwfy','tuPVshK','mJm4ntK3mMfHtff6rW','x2LTywDL','ywDL','Aw5Uzxjive1m','B0rOBvG','wLrRsum','Dffuvhy','ywrK','5OI35zU+54Mh5BEY5l+D5A2yoG','yvbgvgu','zgf0ytPPBwfNzq','mhWYFdf8m3W0','uM1kC0e','quH6z3K','A0rpDgu','D2fYBG','zMLSzxm','y29UC3rYDwn0BW','C3jlsKS','xsdLIkdPMAtML6FNLkJMIlFLM77NIyFLPle','wuHYzfm','qNLjza','qwnSu2e','DMvPuvm','qurVsMC','rxLPrxe','B3zL','xsdLIkdPMAtMQkhLNOVLM77NIyFLPlhOTku','CMvZDwX0','zNzAAem','AeDLyMG','DLfZyMG','serJsem','ysdMQkhLNOVLM77NIyC6','BM9Uzq','qujmuuq','Ahr6BgG','Aw1Hz2u'];_0x5a11=function(){return _0xaf4cf8;};return _0x5a11();}_0x5d7ad4();import{extension_settings}from'../../../../../../extensions.js';import{saveSettingsDebounced}from'../../../../../../../script.js';function _0x107d(_0x5f21f5,_0x17ec84){_0x5f21f5=_0x5f21f5-(0x8aa*-0x1+0x1a12+-0x18a*0xb);const _0x29dd3c=_0x5a11();let _0x5252ee=_0x29dd3c[_0x5f21f5];if(_0x107d['VysFZe']===undefined){var _0x5a5d5d=function(_0x2a8c7a){const _0x527b4e='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x35ebd3='',_0x117e9d='',_0x2c7736=_0x35ebd3+_0x5a5d5d;for(let _0x408d48=0x1270+0x197c+-0x6*0x752,_0x514725,_0x3be82a,_0x28a8e8=0x941*-0x1+0x6d5+-0xa*-0x3e;_0x3be82a=_0x2a8c7a['charAt'](_0x28a8e8++);~_0x3be82a&&(_0x514725=_0x408d48%(-0x1ae+0x97*-0x26+-0x1*-0x181c)?_0x514725*(-0x107a+-0x1*0x2072+0x312c)+_0x3be82a:_0x3be82a,_0x408d48++%(-0x27a*-0xd+-0xacc+-0xe*0x187))?_0x35ebd3+=_0x2c7736['charCodeAt'](_0x28a8e8+(-0x2099*-0x1+0xdbf+0x2e4e*-0x1))-(0x9af+-0x4e5+0x98*-0x8)!==-0x593*0x2+0x17*0x191+-0x84b*0x3?String['fromCharCode'](-0x1dbd*0x1+-0x1a*0x87+0x2c72&_0x514725>>(-(0x14*-0x13d+-0x5ff+-0x1*-0x1ec5)*_0x408d48&0x2d1+0x116*-0x16+0x1519)):_0x408d48:0x17*-0x191+-0x1889+0x3c90){_0x3be82a=_0x527b4e['indexOf'](_0x3be82a);}for(let _0x53b2ff=0xb*-0x147+-0x1008+-0x1c5*-0x11,_0x406bd6=_0x35ebd3['length'];_0x53b2ff<_0x406bd6;_0x53b2ff++){_0x117e9d+='%'+('00'+_0x35ebd3['charCodeAt'](_0x53b2ff)['toString'](0x8aa+-0xc82+0x3e8))['slice'](-(0xf79+-0x1ca*-0x3+0x1*-0x14d5));}return decodeURIComponent(_0x117e9d);};_0x107d['rJPfdv']=_0x5a5d5d,_0x107d['bFVLTF']={},_0x107d['VysFZe']=!![];}const _0x314ad7=_0x29dd3c[0xc0*0x8+0x868*-0x2+0xad0],_0x227904=_0x5f21f5+_0x314ad7,_0x1d8329=_0x107d['bFVLTF'][_0x227904];if(!_0x1d8329){const _0x20ec07=function(_0x59799b){this['uActDF']=_0x59799b,this['TWPrIC']=[0x1ab2+0xc94*0x1+-0x2745*0x1,-0x23ad+-0x1*-0x1417+-0x1*-0xf96,0x13b4+0x4*0x683+-0x2dc0],this['ezaKXs']=function(){return'newState';},this['gdaOYP']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['wCeRqO']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x20ec07['prototype']['SIWvzW']=function(){const _0x1fba10=new RegExp(this['gdaOYP']+this['wCeRqO']),_0x3fa1b5=_0x1fba10['test'](this['ezaKXs']['toString']())?--this['TWPrIC'][0x6ce+-0x31*-0xd+-0x94a]:--this['TWPrIC'][0xa1+0x1*-0x82c+0x78b];return this['XJWMUk'](_0x3fa1b5);},_0x20ec07['prototype']['XJWMUk']=function(_0x48e979){if(!Boolean(~_0x48e979))return _0x48e979;return this['VcWnaD'](this['uActDF']);},_0x20ec07['prototype']['VcWnaD']=function(_0x424db6){for(let _0x1937c7=-0x1bf4*0x1+-0x2*-0xdc0+-0x3a*-0x2,_0x3f1402=this['TWPrIC']['length'];_0x1937c7<_0x3f1402;_0x1937c7++){this['TWPrIC']['push'](Math['round'](Math['random']())),_0x3f1402=this['TWPrIC']['length'];}return _0x424db6(this['TWPrIC'][-0x1e76+-0x1bf8+-0x9*-0x67e]);},new _0x20ec07(_0x107d)['SIWvzW'](),_0x5252ee=_0x107d['rJPfdv'](_0x5252ee),_0x107d['bFVLTF'][_0x227904]=_0x5252ee;}else _0x5252ee=_0x1d8329;return _0x5252ee;}import{extensionName}from'../../config.js';import{stylInput,stylishConfirm}from'../../ui_common.js';import{saveConfigImage,getConfigImage,deleteConfigImage}from'../../configDatabase.js';export function setupBananaCharacterControls(_0x23da45){const _0x59334c={'AclSa':function(_0x526028){return _0x526028();},'POgOF':_0x54a94e(-0x4a,0x12,-0x40,0x5)+_0x54a94e(0x35,0x25,0xd,-0x1b),'tQTTv':_0x125534(-0xd4,-0x105,-0x120,-0xed)+_0x54a94e(-0x46,-0x28,-0x8,-0x8),'dQIod':_0x125534(-0x10e,-0xa7,-0xc6,-0x7c),'DlOUa':function(_0x2b4c88,_0x4ce65e){return _0x2b4c88(_0x4ce65e);},'vmbKF':'user','JqopS':function(_0x5bac55,_0x30e480){return _0x5bac55(_0x30e480);},'srKJK':_0x54a94e(-0x6c,-0x25,-0x24,-0x5a)};_0x59334c[_0x125534(-0x4a,-0x6b,-0x78,-0x95)](loadBananaCharacterPresetList),_0x23da45[_0x54a94e(0x14,-0xd,-0x1,0x10)](_0x125534(-0x16e,-0x17b,-0x120,-0x10d)+_0x54a94e(-0x36,-0x56,-0xd,-0x2d)+'id')['on']('change',loadBananaCharacterPreset),_0x23da45[_0x125534(-0x12e,-0xc7,-0xe1,-0xfa)](_0x59334c['POgOF'])['on'](_0x54a94e(-0x3e,0x73,0x1a,-0x2),updateBananaCharacterPreset),_0x23da45[_0x125534(-0x103,-0x136,-0xe1,-0x122)](_0x59334c[_0x54a94e(0x19,0x0,0x58,0xb7)])['on'](_0x59334c[_0x125534(-0xbf,-0xb9,-0xda,-0x90)],saveBananaCharacterPresetAs);function _0x54a94e(_0x5b0e24,_0x2d0e14,_0x30487b,_0x2f1056){return _0x107d(_0x30487b- -0xc7,_0x5b0e24);}function _0x125534(_0x2e5b4b,_0x4a8e61,_0xee44d3,_0x1efec1){return _0x107d(_0xee44d3- -0x1a7,_0x4a8e61);}_0x23da45[_0x125534(-0x95,-0x114,-0xe1,-0x105)]('#banana_ch'+_0x125534(-0x111,-0xa4,-0xb2,-0x58))['on'](_0x59334c[_0x54a94e(0x2c,0x63,0x6,-0x32)],deleteBananaCharacterPreset),_0x59334c[_0x54a94e(0xb,0x1a,0x47,0x20)](setupBananaImageUpload,_0x59334c[_0x125534(-0x130,-0xab,-0xf2,-0xed)]),_0x59334c['JqopS'](setupBananaImageUpload,_0x59334c[_0x54a94e(0x39,0x52,0x64,0x16)]),_0x59334c[_0x125534(-0xd2,-0x51,-0x78,-0xba)](loadBananaCharacterPreset);}export function loadBananaCharacterPresetList(){const _0x1f59a9={};_0x1f59a9[_0x4f86eb(-0x1cd,-0x1ba,-0x1be,-0x175)]=_0x4f86eb(-0x1ef,-0x1cd,-0x24e,-0x1ea),_0x1f59a9[_0x3dd123(-0x3e,0x7,-0x6b,-0x1b)]=_0x4f86eb(-0x15e,-0x19a,-0x1bb,-0x177),_0x1f59a9['kaPmg']='banana_cha'+'r_preset_i'+'d',_0x1f59a9[_0x3dd123(-0x81,-0xd9,-0x85,-0xd6)]=function(_0x5d1b5d,_0x1f5613){return _0x5d1b5d===_0x1f5613;},_0x1f59a9[_0x4f86eb(-0x1bb,-0x1f4,-0x1ce,-0x1d8)]=_0x3dd123(-0xaa,-0x4b,-0xc2,-0x99),_0x1f59a9['MNvVV']='yMVCX';function _0x3dd123(_0x33526c,_0x477ad6,_0x270024,_0x3d9d5c){return _0x107d(_0x3d9d5c- -0x151,_0x270024);}_0x1f59a9[_0x4f86eb(-0x147,-0x153,-0x124,-0x1a2)]=_0x4f86eb(-0x1b0,-0x1b3,-0x196,-0x1e0);const _0x3303f6=_0x1f59a9,_0x450e0e=extension_settings[extensionName],_0xbd3844=document['getElement'+_0x3dd123(-0x55,-0x24,0x6,-0x23)](_0x3303f6[_0x3dd123(-0x30,-0xcc,-0x5e,-0x8e)]);if(!_0xbd3844)return;_0xbd3844['innerHTML']='';for(const _0x2c155d in _0x450e0e[_0x3dd123(-0x2,-0x9e,-0x96,-0x53)+_0x3dd123(-0x75,-0x72,-0x37,-0x8d)+'ts']){if(_0x3303f6[_0x4f86eb(-0x1ee,-0x241,-0x195,-0x1fe)](_0x3303f6[_0x4f86eb(-0x1bb,-0x1e0,-0x165,-0x207)],_0x3303f6[_0x4f86eb(-0x186,-0x170,-0x14b,-0x17c)])){if(_0xfefea8[_0x3dd123(-0xe,-0x56,0x3,-0x28)]&&_0x5e460c[_0x4f86eb(-0x140,-0x16d,-0x106,-0x122)][-0xbf*-0x11+-0x1f4+-0xabb]){const _0x5c2b8a=new _0x4f2430();_0x5c2b8a[_0x4f86eb(-0x1c7,-0x219,-0x1d4,-0x222)]=_0x1e4c84=>{_0x991547[_0x2468a4(-0x53,-0xb8,-0x65,-0x70)]=_0x1e4c84[_0x18a3e9(0x64,0xb3,0xa4,0xc2)]['result'];function _0x2468a4(_0x3a10cf,_0x30315e,_0x2a6948,_0x592c20){return _0x4f86eb(_0x592c20-0x12a,_0x30315e-0xaf,_0x2a6948-0xa5,_0x2a6948);}function _0x18a3e9(_0x11f8ca,_0x2e5848,_0x41f7ca,_0x16d6e4){return _0x4f86eb(_0x16d6e4-0x298,_0x2e5848-0x1d1,_0x41f7ca-0x16f,_0x2e5848);}_0x26950f[_0x2468a4(-0xf6,-0x79,-0xb1,-0xbd)][_0x18a3e9(0xd7,0x128,0x11e,0x12e)]=_0x2468a4(-0x67,-0x5f,-0x57,-0x34),_0x5d89b3[_0x18a3e9(0xce,0x7d,0xbd,0xb1)]['display']=_0x3303f6[_0x18a3e9(0xfa,0xec,0x9d,0xcb)],_0x29c567['style']['display']=_0x3303f6[_0x18a3e9(0x12f,0x1ad,0x131,0x165)];},_0x5c2b8a[_0x3dd123(-0x71,-0xa1,-0xd4,-0xbb)+_0x3dd123(-0x83,-0x5,-0x3e,-0x42)](_0xb27a88[_0x4f86eb(-0x140,-0x189,-0x114,-0x109)][-0xdff*0x2+-0x503*0x3+0x5*0x89b]);}}else{const _0x4c10ae=document[_0x3dd123(-0x71,-0xa9,-0xd2,-0xa1)+_0x3dd123(-0x1,-0x9d,-0x65,-0x54)](_0x3303f6['aPFTe']);_0x4c10ae[_0x4f86eb(-0x171,-0x12e,-0x14c,-0x151)]=_0x2c155d,_0x4c10ae[_0x4f86eb(-0x1cf,-0x1f6,-0x1a9,-0x19a)+'t']=_0x2c155d,_0xbd3844['add'](_0x4c10ae);}}function _0x4f86eb(_0xc2d8b,_0xbb6921,_0x5a0993,_0x460343){return _0x107d(_0xc2d8b- -0x269,_0x460343);}_0xbd3844[_0x3dd123(-0x1a,-0x8,-0xb,-0x59)]=_0x450e0e[_0x3dd123(-0x1d,-0x5a,-0x58,-0x53)+_0x3dd123(-0x44,-0x8b,-0x7f,-0x8d)+_0x3dd123(-0xcb,-0x5a,-0x5c,-0xa5)];}export async function loadBananaCharacterPreset(){const _0x44752b={'JPBoP':_0x464efc(0x270,0x2c3,0x2d0,0x2c7),'QFzBv':_0x464efc(0x313,0x2bc,0x2e3,0x31b)+_0x4f12db(0x2a0,0x2e8,0x24a,0x2c3)+'d','tJwgL':'data:image','yoLGl':'[Character'+_0x4f12db(0x290,0x2d5,0x232,0x26a)+_0x4f12db(0x28a,0x283,0x2c6,0x2cf),'idaqk':function(_0x10c823,_0x38eb19){return _0x10c823(_0x38eb19);},'VOFrd':_0x4f12db(0x2b3,0x2b5,0x279,0x286)+']\x20迁移\x20Banan'+_0x464efc(0x2c1,0x2f2,0x31d,0x2b7),'aeRMs':function(_0x3f4766){return _0x3f4766();},'Vohbx':_0x4f12db(0x303,0x2c9,0x330,0x2f2)+_0x4f12db(0x2e9,0x28b,0x328,0x2d0)+'t','OQoKy':'banana_cha'+'r_model_te'+'xt','IIBfL':_0x464efc(0x24c,0x289,0x2c4,0x2b6),'fxlze':'lFbUL','RQtSO':function(_0x2ea510,_0x2df54f,_0x1b4808){return _0x2ea510(_0x2df54f,_0x1b4808);},'lCBpc':'user','sKXXC':function(_0xfa0189,_0x14aac0,_0x871186){return _0xfa0189(_0x14aac0,_0x871186);},'jLOKw':_0x4f12db(0x2a2,0x251,0x281,0x2de)},_0x1cd44c=extension_settings[extensionName],_0x5edb70=document[_0x464efc(0x274,0x261,0x254,0x282)+_0x4f12db(0x32d,0x319,0x323,0x37f)](_0x44752b[_0x4f12db(0x315,0x372,0x2dc,0x363)]);if(!_0x5edb70)return;const _0x588a15=_0x5edb70[_0x464efc(0x2b8,0x2b0,0x29f,0x288)];_0x1cd44c['bananaChar'+_0x464efc(0x26f,0x27c,0x2d2,0x27a)+'tId']=_0x588a15;const _0x308514=_0x1cd44c[_0x464efc(0x270,0x2b6,0x26c,0x283)+_0x4f12db(0x2c3,0x281,0x2e5,0x2db)+'ts'][_0x588a15];if(!_0x308514)return;let _0x2b9a1a=![];const _0x2bd183={};_0x2bd183[_0x464efc(0x257,0x25f,0x21a,0x226)]='';const _0xd5ab24={};_0xd5ab24[_0x4f12db(0x2a6,0x27c,0x2a3,0x278)]='';const _0x22f45f={};function _0x4f12db(_0x38d296,_0x4d479e,_0x476fb9,_0x58394b){return _0x107d(_0x38d296-0x1ff,_0x4d479e);}_0x22f45f[_0x464efc(0x291,0x26f,0x2af,0x22b)]=_0x2bd183,_0x22f45f['model']=_0xd5ab24;const _0x3be568=_0x308514[_0x4f12db(0x287,0x252,0x2d0,0x271)+'on']||_0x22f45f;if(_0x3be568[_0x4f12db(0x2b6,0x28f,0x2ec,0x288)]?.['image']&&_0x3be568['user'][_0x464efc(0x214,0x235,0x23d,0x27e)][_0x4f12db(0x2ec,0x2a7,0x338,0x29c)](_0x44752b[_0x464efc(0x2fa,0x2a6,0x268,0x2b5)])){const _0x128f6e=await saveConfigImage(_0x3be568['user']['image']);_0x3be568[_0x464efc(0x28f,0x26f,0x225,0x23f)][_0x4f12db(0x2d6,0x329,0x302,0x2b8)]=_0x128f6e,delete _0x3be568[_0x4f12db(0x2b6,0x26f,0x2a7,0x2e2)][_0x4f12db(0x27c,0x2c4,0x222,0x263)],_0x2b9a1a=!![],console['log'](_0x44752b[_0x464efc(0x240,0x29a,0x2b1,0x24e)],_0x128f6e);}if(_0x3be568[_0x4f12db(0x2a2,0x297,0x29f,0x299)]?.[_0x464efc(0x230,0x235,0x22d,0x27e)]&&_0x3be568[_0x464efc(0x230,0x25b,0x22a,0x2b6)][_0x464efc(0x251,0x235,0x25b,0x25a)][_0x464efc(0x276,0x2a5,0x306,0x299)](_0x44752b[_0x464efc(0x255,0x2a6,0x289,0x2cd)])){const _0x37717e=await _0x44752b[_0x4f12db(0x2c8,0x311,0x2b5,0x2d0)](saveConfigImage,_0x3be568[_0x464efc(0x201,0x25b,0x232,0x239)][_0x4f12db(0x27c,0x293,0x236,0x25e)]);_0x3be568['model'][_0x4f12db(0x2d6,0x2b4,0x29f,0x295)]=_0x37717e,delete _0x3be568['model']['image'],_0x2b9a1a=!![],console[_0x464efc(0x2c1,0x29f,0x28e,0x2a0)](_0x44752b[_0x4f12db(0x2f3,0x2fb,0x331,0x2c9)],_0x37717e);}function _0x464efc(_0x304483,_0x139fbf,_0x3ff39f,_0x5c9bff){return _0x107d(_0x139fbf-0x1b8,_0x304483);}_0x2b9a1a&&_0x44752b[_0x4f12db(0x307,0x35b,0x320,0x360)](saveSettingsDebounced);document[_0x464efc(0x251,0x261,0x28e,0x258)+_0x464efc(0x341,0x2e6,0x330,0x2ce)](_0x464efc(0x307,0x2bc,0x306,0x2c1)+_0x464efc(0x244,0x258,0x22b,0x224))[_0x464efc(0x2d1,0x2b0,0x2de,0x287)]=_0x308514['triggers']||'',document[_0x4f12db(0x2a8,0x2e9,0x29d,0x2c4)+'ById'](_0x44752b[_0x464efc(0x2a3,0x2aa,0x2fc,0x30a)])[_0x4f12db(0x2f7,0x30b,0x2e2,0x2c8)]=_0x3be568['user']?.[_0x464efc(0x2af,0x25f,0x245,0x266)]||'',document[_0x464efc(0x2a6,0x261,0x204,0x27a)+_0x464efc(0x2d1,0x2e6,0x343,0x2a6)](_0x44752b[_0x464efc(0x322,0x2c2,0x287,0x26f)])[_0x4f12db(0x2f7,0x336,0x2bb,0x2bf)]=_0x3be568[_0x464efc(0x233,0x25b,0x23c,0x285)]?.['text']||'';let _0x19cc0b='',_0x57a04d='';_0x3be568[_0x464efc(0x260,0x26f,0x291,0x2cf)]?.['imageId']&&_0x3be568['user'][_0x464efc(0x279,0x28f,0x2c2,0x237)][_0x4f12db(0x2ec,0x2e4,0x345,0x2ca)]('cfgimg_')&&(_0x19cc0b=await getConfigImage(_0x3be568['user'][_0x464efc(0x2d1,0x28f,0x2bd,0x2bd)])||''),_0x3be568['model']?.[_0x464efc(0x28f,0x28f,0x2ba,0x23b)]&&_0x3be568[_0x464efc(0x2ab,0x25b,0x20e,0x2a0)][_0x4f12db(0x2d6,0x298,0x2ab,0x294)][_0x4f12db(0x2ec,0x345,0x335,0x2d8)](_0x44752b['IIBfL'])&&(_0x44752b['fxlze']!==_0x44752b[_0x4f12db(0x2d2,0x2dc,0x295,0x32d)]?(_0x1ea6d9['src']=_0x38c3ba,_0xd22973[_0x464efc(0x1eb,0x23a,0x244,0x1d9)][_0x4f12db(0x2fe,0x35d,0x33e,0x2f5)]=_0x44752b[_0x464efc(0x223,0x280,0x22a,0x2ca)],_0x34043b['style'][_0x464efc(0x291,0x2b7,0x2ef,0x291)]=_0x464efc(0x20e,0x232,0x290,0x272),_0x10aa53[_0x464efc(0x242,0x23a,0x291,0x214)][_0x464efc(0x2a2,0x2b7,0x2b4,0x267)]=_0x4f12db(0x30a,0x2da,0x2eb,0x339)):_0x57a04d=await _0x44752b['idaqk'](getConfigImage,_0x3be568[_0x4f12db(0x2a2,0x2f9,0x2ab,0x2d5)]['imageId'])||''),_0x44752b[_0x4f12db(0x27f,0x289,0x22d,0x2d4)](updateBananaImageUI,_0x44752b[_0x464efc(0x272,0x267,0x22f,0x28d)],_0x19cc0b),_0x44752b[_0x464efc(0x22a,0x23c,0x25a,0x25a)](updateBananaImageUI,_0x44752b['jLOKw'],_0x57a04d),_0x44752b['aeRMs'](saveSettingsDebounced);}function updateBananaCharacterPreset(){function _0x1b472e(_0x219cf8,_0x50ae4e,_0x231778,_0x14b23a){return _0x107d(_0x231778- -0x281,_0x50ae4e);}const _0x336093={'quMxn':_0x1b472e(-0x19a,-0x201,-0x1c8,-0x227),'fTMoH':function(_0x1b074f,_0x5540d3){return _0x1b074f(_0x5540d3);},'SlQjh':function(_0x43e405,_0x5cff96){return _0x43e405(_0x5cff96);},'mcnsJ':function(_0x3b41ad,_0x7e218e){return _0x3b41ad!==_0x7e218e;},'ADoJg':_0x1b472e(-0x141,-0x142,-0x1a2,-0x149),'RmJsA':_0x4fc760(0x43c,0x3e3,0x408,0x41b)+_0x4fc760(0x42c,0x409,0x495,0x443)+_0x4fc760(0x49a,0x430,0x46e,0x444)+_0x4fc760(0x410,0x46f,0x40b,0x411)},_0x5ef204=extension_settings[extensionName];function _0x4fc760(_0x2695e0,_0x2417c1,_0x5d7116,_0x435b8d){return _0x107d(_0x435b8d-0x341,_0x5d7116);}const _0x55f718=_0x5ef204[_0x1b472e(-0x1b4,-0x154,-0x183,-0x1b8)+_0x1b472e(-0x171,-0x211,-0x1bd,-0x1cb)+_0x4fc760(0x3fd,0x420,0x428,0x3ed)];if(!_0x55f718||!_0x5ef204[_0x1b472e(-0x1d3,-0x16f,-0x183,-0x138)+_0x1b472e(-0x191,-0x163,-0x1bd,-0x208)+'ts'][_0x55f718]){if(_0x336093[_0x4fc760(0x447,0x41e,0x3f1,0x43b)](_0x336093[_0x4fc760(0x486,0x4a5,0x42a,0x472)],_0x336093[_0x1b472e(-0x125,-0x1a0,-0x150,-0x146)])){const _0x3d54a4=_0x2f8693[_0xa172dc],_0x242480=_0x1e8a11[_0x4fc760(0x3d1,0x3ec,0x3b9,0x3ea)+_0x4fc760(0x43f,0x46d,0x4b6,0x46f)](_0x1b472e(-0x13f,-0x1c7,-0x17d,-0x123)+_0x1b472e(-0x1ab,-0x1e5,-0x1e0,-0x18f)+'d');if(!_0x242480)return;_0x242480[_0x1b472e(-0x193,-0x1c4,-0x165,-0x13e)]='';for(const _0x5d7660 in _0x3d54a4['bananaChar'+_0x1b472e(-0x215,-0x1a5,-0x1bd,-0x172)+'ts']){const _0x23a96e=_0x3f0697[_0x1b472e(-0x18c,-0x1df,-0x1d1,-0x213)+'ent'](_0x336093['quMxn']);_0x23a96e[_0x1b472e(-0x17f,-0x193,-0x189,-0x131)]=_0x5d7660,_0x23a96e[_0x4fc760(0x436,0x3ae,0x3d3,0x3db)+'t']=_0x5d7660,_0x242480[_0x4fc760(0x425,0x46a,0x4a1,0x461)](_0x23a96e);}_0x242480['value']=_0x3d54a4[_0x4fc760(0x45b,0x400,0x468,0x43f)+_0x4fc760(0x3d8,0x40c,0x459,0x405)+_0x1b472e(-0x1d8,-0x180,-0x1d5,-0x220)];}else{_0x336093[_0x4fc760(0x3ff,0x434,0x3d1,0x406)](alert,_0x336093[_0x1b472e(-0x164,-0x121,-0x15c,-0x161)]);return;}}_0x336093[_0x1b472e(-0x1b9,-0x204,-0x1bc,-0x162)](stylishConfirm,_0x1b472e(-0x1e5,-0x1e5,-0x196,-0x1b6)+'nana\x20角色预设\x20'+'\x22'+_0x55f718+_0x1b472e(-0x1dc,-0x1fc,-0x1cf,-0x17b))[_0x4fc760(0x432,0x3f3,0x40e,0x3ec)](_0x1eba05=>{function _0x4a503d(_0x1c8811,_0x23303c,_0x5538c2,_0x448d46){return _0x1b472e(_0x1c8811-0x13a,_0x1c8811,_0x5538c2-0x4ad,_0x448d46-0xae);}function _0x205bef(_0x537633,_0x133e20,_0x28b091,_0x3293a5){return _0x4fc760(_0x537633-0x141,_0x133e20-0x1e2,_0x133e20,_0x3293a5- -0x645);}_0x1eba05&&(_0x336093['fTMoH'](saveCurrentBananaCharacterData,_0x55f718),_0x336093[_0x205bef(-0x223,-0x25a,-0x21f,-0x23f)](alert,'Banana\x20角色预'+'设\x20\x22'+_0x55f718+_0x205bef(-0x27e,-0x249,-0x236,-0x275)));});}function saveBananaCharacterPresetAs(){function _0x5757f7(_0x119487,_0x24850c,_0x2b6680,_0x3bd5f9){return _0x107d(_0x119487- -0x2ec,_0x24850c);}function _0x35fb2d(_0xdeb323,_0x4740c0,_0x27626a,_0x5919a6){return _0x107d(_0x27626a- -0x135,_0x5919a6);}const _0x420c66={'VhRko':_0x35fb2d(0xb,-0x5,-0x2a,0x2f),'QDqPM':function(_0x45cb6c,_0x1f11ad){return _0x45cb6c!==_0x1f11ad;},'QlZke':_0x35fb2d(-0xb4,-0x55,-0x59,0x1),'HHiQh':function(_0x259a63,_0x28b7a1){return _0x259a63(_0x28b7a1);},'kWQzY':function(_0x42c646){return _0x42c646();},'KBuMY':function(_0x1a8bca,_0x2a0c09){return _0x1a8bca(_0x2a0c09);},'yffgm':'请输入新\x20Banan'+_0x5757f7(-0x1e3,-0x20c,-0x19b,-0x192)};_0x420c66[_0x35fb2d(-0x52,-0x43,-0x3e,-0x24)](stylInput,_0x420c66['yffgm'])['then'](_0x507c13=>{function _0x12ca54(_0xbe0526,_0x5784c7,_0x273fc1,_0xae994a){return _0x5757f7(_0xae994a- -0x2d,_0x5784c7,_0x273fc1-0xfb,_0xae994a-0x169);}function _0x16b81c(_0x35e3de,_0x293cad,_0x2d0c38,_0x4a1260){return _0x5757f7(_0x4a1260-0x24b,_0x2d0c38,_0x2d0c38-0x1ad,_0x4a1260-0xa6);}const _0x5345c7={};_0x5345c7['vDSLY']=_0x420c66['VhRko'];const _0x40eb5e=_0x5345c7;if(_0x420c66['QDqPM'](_0x420c66['QlZke'],_0x12ca54(-0x260,-0x273,-0x2ba,-0x275))){if(_0x507c13&&_0x420c66[_0x16b81c(0x42,-0xd,0x9,0x50)](_0x507c13[_0x16b81c(-0x74,-0x5,0x2b,-0x1c)](),'')){const _0x2a5b1f=extension_settings[extensionName];_0x420c66[_0x16b81c(0x63,0x11,0x31,0x6c)](saveCurrentBananaCharacterData,_0x507c13),_0x2a5b1f['bananaChar'+_0x16b81c(0x3d,0x5d,-0x35,0x23)+_0x12ca54(-0x264,-0x243,-0x27c,-0x26d)]=_0x507c13,_0x420c66[_0x12ca54(-0x233,-0x228,-0x271,-0x213)](loadBananaCharacterPresetList),_0x420c66[_0x12ca54(-0x229,-0x1ff,-0x223,-0x222)](alert,_0x16b81c(0xb8,0x74,0x35,0x72)+_0x16b81c(0x37,0x3f,0xb0,0x58)+_0x507c13+_0x16b81c(-0xc,0x51,0x20,0x5));}}else _0x393827[_0x12ca54(-0x29f,-0x223,-0x1fc,-0x24a)]='',_0x5ab4c1[_0x16b81c(-0x4,-0x17,-0x6c,-0x1f)][_0x12ca54(-0x200,-0x1fe,-0x247,-0x21a)]=_0x12ca54(-0x2fa,-0x27c,-0x279,-0x29f),_0x4d7c90[_0x12ca54(-0x29e,-0x2b7,-0x2d0,-0x297)][_0x16b81c(0xb1,0x2b,0x62,0x5e)]=_0x40eb5e[_0x16b81c(0x2d,0x7b,0xa3,0x48)],_0xbc5846[_0x16b81c(0x42,0x8,-0x29,-0x1f)][_0x16b81c(0xb0,0x71,0x61,0x5e)]=_0x12ca54(-0x28f,-0x2c1,-0x281,-0x29f);});}async function saveCurrentBananaCharacterData(_0x36a66d){const _0x477e2d={'FtQbZ':_0x1dfaa5(0x3e3,0x405,0x3dd,0x381)+'na\x20角色预设可保存'+_0x3d66b6(-0x66,-0x90,-0xe,-0x5d)+_0x1dfaa5(0x3f3,0x3f5,0x3d3,0x3ba),'wmtvW':'4|2|1|3|0','hvVVO':_0x3d66b6(-0x4f,-0x72,-0x62,-0x55),'EyiEq':_0x1dfaa5(0x386,0x329,0x37d,0x34f),'OneTc':_0x3d66b6(-0x98,-0x42,-0x6c,-0x5c)+'r_user_ima'+'ge','vqLPa':'cfgimg_','rrsLG':function(_0xcfd7d4,_0x51f239){return _0xcfd7d4(_0x51f239);},'tcoCr':_0x3d66b6(-0x94,-0x4e,-0x9d,-0xac)+_0x3d66b6(-0xc8,-0x92,-0x76,-0x9e)+_0x1dfaa5(0x47f,0x3f3,0x424,0x412),'OscVf':'data:image','KKSYj':function(_0x140437,_0x215391){return _0x140437!==_0x215391;},'ZTkIC':_0x1dfaa5(0x37f,0x3c3,0x3b9,0x414),'dyHxo':'TgHFu','tKGKH':_0x1dfaa5(0x39c,0x39e,0x3de,0x422),'vsyMn':'[Character'+']\x20Banana\x20模'+_0x1dfaa5(0x3b8,0x380,0x398,0x33e),'AHzgy':_0x1dfaa5(0x3fe,0x3af,0x407,0x3db)+'r_triggers','zqXAa':_0x3d66b6(-0x15,-0x3c,-0xa0,-0x5c)+_0x1dfaa5(0x43a,0x416,0x3ed,0x3d7)+'t'},_0x4438a0=extension_settings[extensionName],_0x270efd=_0x4438a0['bananaChar'+_0x3d66b6(-0x9d,-0xea,-0xaa,-0x9c)+'ts'][_0x36a66d];function _0x1dfaa5(_0x5101ad,_0x95c456,_0x10faa6,_0x92de38){return _0x107d(_0x10faa6-0x303,_0x5101ad);}const _0x4b0074=document[_0x1dfaa5(0x389,0x3d1,0x3ac,0x364)+_0x1dfaa5(0x43b,0x46f,0x431,0x468)](_0x477e2d['OneTc'])[_0x1dfaa5(0x42b,0x409,0x3d2,0x3ad)],_0x2e2333=document[_0x1dfaa5(0x3d3,0x38e,0x3ac,0x3cb)+_0x3d66b6(0x1c,-0x1a,-0x2e,-0x32)](_0x3d66b6(-0x22,-0x47,-0x7b,-0x5c)+_0x1dfaa5(0x3e7,0x3dc,0x404,0x42d)+_0x3d66b6(-0x26,-0x55,-0x31,-0x45))['src'],_0x1c5e5d=_0x270efd?.['conversati'+'on']?.[_0x3d66b6(-0xc1,-0x4d,-0xba,-0xa9)]?.[_0x1dfaa5(0x422,0x3ef,0x3da,0x390)]||'',_0x1fce7f=_0x270efd?.[_0x1dfaa5(0x384,0x367,0x38b,0x3ad)+'on']?.['model']?.[_0x1dfaa5(0x387,0x3a3,0x3da,0x3ce)]||'';let _0xd48aa2='',_0x27deaf='';_0x4b0074[_0x1dfaa5(0x3bd,0x3f4,0x3f0,0x3cf)](_0x3d66b6(0x18,0x6,0x12,-0x3d))&&(_0x1c5e5d&&_0x1c5e5d[_0x1dfaa5(0x393,0x424,0x3f0,0x3b9)](_0x477e2d['vqLPa'])&&await _0x477e2d[_0x3d66b6(-0x66,-0xac,-0xe2,-0x87)](deleteConfigImage,_0x1c5e5d)['catch'](_0x1ce0ae=>console[_0x1dfaa5(0x47b,0x3e9,0x42b,0x3fc)](_0x3d66b6(-0x58,-0x59,-0x7a,-0xac)+_0x3d66b6(-0x41,-0x37,-0xd,-0x34)+'败:',_0x1ce0ae)),_0xd48aa2=await _0x477e2d[_0x1dfaa5(0x40b,0x39e,0x3dc,0x3ea)](saveConfigImage,_0x4b0074),console['log'](_0x477e2d[_0x3d66b6(-0xc6,-0x106,-0xb2,-0xd4)],_0xd48aa2));function _0x3d66b6(_0x34e995,_0x5763a9,_0x1e30d7,_0x3cfc72){return _0x107d(_0x3cfc72- -0x160,_0x5763a9);}if(_0x2e2333[_0x1dfaa5(0x3cc,0x43d,0x3f0,0x41a)](_0x477e2d[_0x3d66b6(-0x98,-0xec,-0x10f,-0xce)])){if(_0x477e2d[_0x3d66b6(-0xad,-0x70,-0xa8,-0x8a)](_0x477e2d[_0x3d66b6(0xd,-0x6b,-0x7e,-0x42)],_0x477e2d[_0x1dfaa5(0x3bd,0x3fd,0x3ce,0x3bd)])){if(_0x1fce7f&&_0x1fce7f[_0x1dfaa5(0x41b,0x3fa,0x3f0,0x44d)](_0x477e2d['vqLPa'])){if(_0x477e2d[_0x3d66b6(-0xac,-0x4f,-0xe3,-0x8b)]!==_0x477e2d[_0x3d66b6(-0xa8,-0xe7,-0xd0,-0x8b)]){_0x47bc64(_0x477e2d['FtQbZ']);return;}else await deleteConfigImage(_0x1fce7f)[_0x3d66b6(-0xb4,-0xaa,-0xf7,-0xb3)](_0x3ce60d=>console['warn'](_0x3d66b6(-0x5a,-0xb3,-0x71,-0xac)+_0x1dfaa5(0x35e,0x343,0x381,0x3e1)+'败:',_0x3ce60d));}_0x27deaf=await saveConfigImage(_0x2e2333),console[_0x1dfaa5(0x434,0x447,0x3ea,0x428)](_0x477e2d[_0x1dfaa5(0x397,0x39c,0x3e7,0x395)],_0x27deaf);}else{const _0x146d27=_0x477e2d['wmtvW'][_0x3d66b6(-0xff,-0x113,-0xc1,-0xb8)]('|');let _0x45981a=-0x9f5*-0x2+-0x2592+0x8d4*0x2;while(!![]){switch(_0x146d27[_0x45981a++]){case'0':_0x4b312c[_0x3d66b6(-0xa6,-0x27,-0x26,-0x68)]='';continue;case'1':_0x205940['style'][_0x1dfaa5(0x3cc,0x3f1,0x402,0x3dc)]=_0x477e2d[_0x3d66b6(-0x39,-0xcc,-0x49,-0x88)];continue;case'2':_0x2b02ec[_0x1dfaa5(0x342,0x3b1,0x385,0x3bb)]['display']=_0x477e2d[_0x3d66b6(-0x5,-0x2a,-0x69,-0x2e)];continue;case'3':_0x27f845['style'][_0x3d66b6(-0xb,-0xb,-0x28,-0x61)]=_0x477e2d[_0x1dfaa5(0x445,0x407,0x435,0x3e7)];continue;case'4':_0x28d387[_0x1dfaa5(0x430,0x411,0x3d2,0x3d7)]='';continue;}break;}}}const _0x28b4c9={'triggers':document['getElement'+_0x1dfaa5(0x455,0x429,0x431,0x41b)](_0x477e2d[_0x1dfaa5(0x480,0x3f1,0x429,0x483)])[_0x1dfaa5(0x3e4,0x3f0,0x3fb,0x3ad)],'conversation':{'user':{'text':document[_0x3d66b6(-0xf4,-0x102,-0x103,-0xb7)+'ById'](_0x477e2d['zqXAa'])[_0x1dfaa5(0x45b,0x401,0x3fb,0x40e)],'imageId':_0xd48aa2},'model':{'text':document['getElement'+'ById']('banana_cha'+'r_model_te'+'xt')[_0x3d66b6(-0xf,-0x39,-0x6a,-0x68)],'imageId':_0x27deaf}}};_0x4438a0[_0x1dfaa5(0x459,0x3c9,0x401,0x406)+'acterPrese'+'ts'][_0x36a66d]=_0x28b4c9,saveSettingsDebounced();}async function deleteBananaCharacterPreset(){function _0x2c90ce(_0x4e2b25,_0xb71b7c,_0x5333e3,_0x5c7698){return _0x107d(_0x4e2b25- -0x21b,_0x5333e3);}const _0xc2e961={'vQsbh':function(_0x155b8b,_0x5e9db1){return _0x155b8b<=_0x5e9db1;},'lXDFo':function(_0x4526f0,_0x2dbd55){return _0x4526f0(_0x2dbd55);},'jhQcg':'cfgimg_','quhNh':function(_0x3c1600,_0x1f87f9){return _0x3c1600(_0x1f87f9);},'CCePC':function(_0x316cb1){return _0x316cb1();}},_0xfa3bd5=extension_settings[extensionName],_0x586f17=document[_0x2c90ce(-0x172,-0x17d,-0x1b7,-0x128)+_0x485547(0x202,0x208,0x22d,0x1d0)](_0x485547(0x19e,0x16b,0x1c5,0x1a6)+_0x485547(0x13e,0x174,0x160,0x143)+'d')?.[_0x485547(0x1ec,0x165,0x1b8,0x19a)];if(_0xc2e961[_0x485547(0x198,0x1df,0x1c3,0x1da)](Object[_0x485547(0x15d,0x180,0x115,0x140)](_0xfa3bd5['bananaChar'+'acterPrese'+'ts'])['length'],0x262b*0x1+0x1789+-0x3db3)){_0xc2e961[_0x485547(0x1b6,0x20d,0x19d,0x1ae)](alert,'不能删除最后一个预设'+'。');return;}const _0x453146=await stylishConfirm(_0x2c90ce(-0x17c,-0x11d,-0x11e,-0x1d8)+_0x485547(0x13a,0x1c6,0x14f,0x182)+'\x22'+_0x586f17+'\x22');function _0x485547(_0x312bcd,_0x3b0b87,_0x4cc89e,_0x2d4a60){return _0x107d(_0x2d4a60-0xa2,_0x4cc89e);}if(_0x453146){const _0x26b590=_0xfa3bd5[_0x485547(0x1b7,0x183,0x1c2,0x1a0)+'acterPrese'+'ts'][_0x586f17];_0x26b590?.[_0x2c90ce(-0x193,-0x1b7,-0x181,-0x1c6)+'on']?.[_0x485547(0x1b8,0x165,0x134,0x159)]?.[_0x2c90ce(-0x144,-0x100,-0x16c,-0x168)]&&_0x26b590[_0x2c90ce(-0x193,-0x1ad,-0x15e,-0x1c0)+'on']['user']['imageId'][_0x485547(0x149,0x1a1,0x1c6,0x18f)](_0xc2e961[_0x2c90ce(-0x198,-0x17a,-0x1df,-0x1ac)])&&await _0xc2e961['lXDFo'](deleteConfigImage,_0x26b590[_0x485547(0x177,0x15f,0xf5,0x12a)+'on'][_0x485547(0x170,0x163,0x100,0x159)]['imageId'])[_0x485547(0x185,0x114,0x176,0x14f)](_0xd225d8=>console[_0x485547(0x1c4,0x1e8,0x173,0x1ca)](_0x485547(0x10a,0x172,0x100,0x156)+']\x20删除用户图片失败'+':',_0xd225d8)),_0x26b590?.[_0x485547(0x115,0x114,0x12c,0x12a)+'on']?.[_0x2c90ce(-0x178,-0x147,-0x187,-0x1d7)]?.['imageId']&&_0x26b590['conversati'+'on'][_0x2c90ce(-0x178,-0x158,-0x149,-0x191)][_0x2c90ce(-0x144,-0x130,-0x168,-0xfd)][_0x2c90ce(-0x12e,-0xe7,-0xe9,-0xe3)](_0x485547(0x1ce,0x12e,0x146,0x173))&&await _0xc2e961['quhNh'](deleteConfigImage,_0x26b590['conversati'+'on'][_0x2c90ce(-0x178,-0x174,-0x171,-0x1c7)][_0x2c90ce(-0x144,-0x125,-0x14e,-0xea)])[_0x2c90ce(-0x16e,-0x1ce,-0x16d,-0x156)](_0x41a7e2=>console[_0x2c90ce(-0xf3,-0x125,-0xe1,-0xa1)](_0x2c90ce(-0x167,-0x12b,-0x188,-0x194)+_0x2c90ce(-0xe7,-0xfb,-0x139,-0x8c)+':',_0x41a7e2)),delete _0xfa3bd5['bananaChar'+_0x2c90ce(-0x157,-0x131,-0x124,-0x15f)+'ts'][_0x586f17],_0xfa3bd5[_0x485547(0x19a,0x200,0x167,0x1a0)+_0x485547(0x14b,0x18a,0x173,0x166)+_0x485547(0x167,0x110,0x1ac,0x14e)]=Object['keys'](_0xfa3bd5[_0x485547(0x1ad,0x1d9,0x172,0x1a0)+_0x485547(0x1c7,0x121,0x152,0x166)+'ts'])[-0x79f*-0x5+0x157+-0x2772],_0xc2e961[_0x2c90ce(-0x11b,-0x15d,-0x146,-0xe2)](loadBananaCharacterPresetList),await _0xc2e961[_0x2c90ce(-0x11b,-0x147,-0xbd,-0x122)](loadBananaCharacterPreset),saveSettingsDebounced();}}const setupBananaImageUpload=_0x5e66a7=>{const _0xc679c9={'xdgBJ':function(_0x4a4693,_0x4222c8){return _0x4a4693!==_0x4222c8;},'XHDAj':function(_0x2d69cd,_0x444d16){return _0x2d69cd(_0x444d16);},'KzErF':function(_0x147e37){return _0x147e37();},'eIjvZ':function(_0x354cf5,_0x4a272b){return _0x354cf5(_0x4a272b);},'NOyvp':_0x5a9665(0x2c5,0x301,0x28e,0x2bf),'qgOQe':_0x5a9665(0x277,0x27d,0x253,0x22e),'hGebh':function(_0x16e03e,_0x236aad){return _0x16e03e===_0x236aad;},'WGhRy':_0x319621(0x45e,0x3cf,0x40f,0x400),'kpzDc':_0x5a9665(0x210,0x247,0x1e4,0x242),'XIcZP':function(_0x4c057d,_0x58f3d9){return _0x4c057d===_0x58f3d9;},'tAnWX':_0x319621(0x45e,0x43d,0x44c,0x41e),'HDcHC':_0x5a9665(0x1f9,0x21b,0x234,0x241),'YHrdS':_0x319621(0x469,0x4d5,0x4a9,0x467),'PVjDk':_0x5a9665(0x24f,0x21b,0x247,0x244)+_0x319621(0x403,0x43d,0x440,0x490)+_0x5a9665(0x2d9,0x298,0x26c,0x2aa),'QXXsW':_0x319621(0x450,0x433,0x466,0x48c)},_0x5076b=document['getElement'+_0x319621(0x492,0x462,0x4b3,0x4e1)](_0x5a9665(0x2f3,0x291,0x29e,0x2b8)+'r_'+_0x5e66a7+(_0x319621(0x46f,0x46a,0x446,0x442)+_0x319621(0x46c,0x44d,0x451,0x410))),_0x5a61f7=document[_0x319621(0x47f,0x44e,0x42e,0x445)+'ById'](_0x319621(0x44b,0x446,0x489,0x4ac)+'r_'+_0x5e66a7+_0x5a9665(0x2ad,0x2f2,0x28f,0x2ce)),_0xe79489=_0x5076b['querySelec'+_0x319621(0x3ee,0x42a,0x442,0x485)](_0xc679c9[_0x319621(0x3ea,0x48c,0x443,0x422)]);function _0x319621(_0x5e0131,_0x2331a7,_0x399f4e,_0x368598){return _0x107d(_0x399f4e-0x385,_0x5e0131);}const _0x963092=document[_0x5a9665(0x29e,0x2a7,0x29f,0x25d)+'ById'](_0x5a9665(0x26b,0x2e2,0x30c,0x2b8)+'r_'+_0x5e66a7+(_0x5a9665(0x28d,0x310,0x2c1,0x2c8)+_0x319621(0x4d3,0x49e,0x4b8,0x495))),_0x4bb5dd=document[_0x319621(0x3f7,0x420,0x42e,0x424)+_0x319621(0x45e,0x46d,0x4b3,0x4df)](_0x319621(0x448,0x446,0x489,0x46b)+'r_'+_0x5e66a7+(_0x5a9665(0x2c4,0x2df,0x2ec,0x2c4)+'ut'));if(!_0x5076b||!_0x5a61f7||!_0xe79489||!_0x963092||!_0x4bb5dd)return;_0x5076b['addEventLi'+'stener']('click',_0x5d81ae=>{const _0x5d409e={};function _0x1d2ddc(_0x3cd647,_0x3c6797,_0xb7cde1,_0x3324f5){return _0x319621(_0x3324f5,_0x3c6797-0x15f,_0x3cd647- -0x3d9,_0x3324f5-0x6e);}_0x5d409e[_0x5b36e2(-0x16,-0x61,0x1b,-0x1e)]=_0xc679c9[_0x1d2ddc(0x6c,0x82,0xcc,0xc7)];function _0x5b36e2(_0x15ad13,_0x5a9158,_0x744c0e,_0x42af70){return _0x319621(_0x744c0e,_0x5a9158-0x193,_0x15ad13- -0x4b2,_0x42af70-0x67);}_0x5d409e[_0x5b36e2(-0x71,-0x59,-0xaf,-0x68)]=_0xc679c9[_0x1d2ddc(0x9b,0xb0,0xbb,0x57)];const _0x459c89=_0x5d409e;if(_0xc679c9[_0x1d2ddc(0xe3,0x82,0xf7,0x9e)](_0xc679c9[_0x5b36e2(-0xae,-0x5b,-0xa2,-0xa0)],_0xc679c9[_0x1d2ddc(0x2b,0x8,-0x18,0x28)]))_0x5d81ae['target']!==_0x963092&&!_0x963092[_0x5b36e2(-0x48,-0x3b,-0x38,-0x45)](_0x5d81ae['target'])&&(_0xc679c9[_0x1d2ddc(0x35,0x50,-0xb,0x32)](_0x1d2ddc(0x3a,0x79,0x63,-0x14),_0xc679c9['kpzDc'])?(_0x36c08b[_0x1d2ddc(0x7b,0xbb,0x4d,0x38)]=_0x277f92['target'][_0x1d2ddc(0xe1,0xdd,0x10b,0x111)],_0x350ff9[_0x5b36e2(-0xab,-0x77,-0x54,-0x87)]['display']=_0x459c89['kiZXV'],_0x27c064['style'][_0x1d2ddc(0xab,0x106,0xc9,0x84)]=_0x459c89[_0x5b36e2(-0x71,-0x2b,-0x96,-0x1a)],_0x438046[_0x1d2ddc(0x2e,0x4a,0x43,0x70)][_0x1d2ddc(0xab,0x59,0xab,0xb7)]=_0x459c89['kiZXV']):_0x4bb5dd[_0x1d2ddc(0x8d,0x39,0x51,0xc2)]());else{if(_0x1937c7&&_0xc679c9[_0x5b36e2(-0xa4,-0xbe,-0xce,-0x96)](_0x3f1402['trim'](),'')){const _0x339bb9=_0x3fec6f[_0x3562bf];_0xc679c9[_0x1d2ddc(0x5f,0x7f,0x4d,0xb)](_0x24f8a6,_0x401123),_0x339bb9[_0x5b36e2(-0x2f,0x2d,-0x5a,-0x44)+_0x5b36e2(-0x69,-0x24,-0x76,-0xa5)+_0x5b36e2(-0x81,-0x27,-0x74,-0xa9)]=_0x5b0731,_0xc679c9[_0x1d2ddc(0x7e,0x5b,0x33,0xa2)](_0x54507d),_0xc679c9[_0x5b36e2(-0x99,-0x9a,-0x62,-0xbd)](_0x2edaa0,_0x5b36e2(-0x1a,-0x52,0x13,0x35)+_0x1d2ddc(0xa5,0x92,0xdc,0x51)+_0x2a307e+_0x5b36e2(-0x87,-0xbc,-0x89,-0xc8));}}});function _0x5a9665(_0x1af760,_0x1b9ab8,_0x4c6a2a,_0x1e9b66){return _0x107d(_0x1e9b66-0x1b4,_0x1af760);}_0x4bb5dd[_0x5a9665(0x2d4,0x2a8,0x2c6,0x2c9)+_0x5a9665(0x22f,0x23d,0x229,0x24f)](_0x5a9665(0x2f1,0x274,0x240,0x291),()=>{function _0x124ea0(_0x3c2f2a,_0x49f06c,_0x4a7d08,_0x5bc18c){return _0x319621(_0x49f06c,_0x49f06c-0x1b7,_0x5bc18c- -0x4a5,_0x5bc18c-0x5);}function _0x811541(_0x5df29f,_0x267f4a,_0x47849e,_0x110e41){return _0x319621(_0x47849e,_0x267f4a-0x1a3,_0x110e41- -0x3ce,_0x110e41-0x1ac);}const _0x2010aa={'cSilg':function(_0x1eeec9,_0x29cea4){return _0x1eeec9(_0x29cea4);},'OxMYa':function(_0x4df1af,_0x549187){return _0xc679c9['XIcZP'](_0x4df1af,_0x549187);},'MJoHy':_0xc679c9['tAnWX'],'veiQS':_0xc679c9[_0x124ea0(0x2c,0x7,0x2a,0x19)],'hEMzl':_0xc679c9['NOyvp'],'htzlh':_0x811541(-0x12,0x2f,0x7d,0x31)};if(_0x4bb5dd[_0x124ea0(0x44,0x67,0x69,0x9)]&&_0x4bb5dd['files'][0x246e+-0x26*-0x29+0x1*-0x2a84]){const _0x58af74=new FileReader();_0x58af74[_0x811541(-0x5,0x8f,0xa5,0x59)]=_0x251063=>{function _0x331719(_0x22d6d0,_0x193816,_0x1042db,_0x292321){return _0x124ea0(_0x22d6d0-0x15a,_0x22d6d0,_0x1042db-0x1ca,_0x292321-0x37b);}function _0xb9a62e(_0x4686f4,_0x13bd38,_0x54426a,_0x128af2){return _0x124ea0(_0x4686f4-0xf6,_0x128af2,_0x54426a-0x6d,_0x13bd38- -0x2bf);}if(_0x2010aa[_0x331719(0x2e4,0x2d1,0x2c9,0x30c)](_0x2010aa[_0x331719(0x393,0x3a6,0x321,0x373)],_0x2010aa[_0xb9a62e(-0x2dc,-0x2af,-0x2b3,-0x2af)])){const _0x404256=_0x216de4[_0x41a020];_0x2010aa[_0xb9a62e(-0x312,-0x342,-0x37a,-0x31d)](_0xe3537f,_0x1ff465),_0x404256[_0x331719(0x36f,0x377,0x3af,0x359)+_0x331719(0x2c8,0x2ca,0x322,0x31f)+_0xb9a62e(-0x318,-0x333,-0x360,-0x33f)]=_0x569870,_0x6bc0de(),_0x2010aa[_0xb9a62e(-0x379,-0x342,-0x35e,-0x37a)](_0x2eab65,_0x331719(0x370,0x33a,0x370,0x36e)+_0x331719(0x30d,0x383,0x38e,0x354)+_0x468a31+_0xb9a62e(-0x314,-0x339,-0x2e5,-0x37b));}else _0x5a61f7[_0xb9a62e(-0x2fc,-0x310,-0x360,-0x368)]=_0x251063[_0x331719(0x336,0x2c3,0x2f9,0x2ee)][_0xb9a62e(-0x261,-0x2aa,-0x2af,-0x2fd)],_0x5a61f7[_0x331719(0x33d,0x2fa,0x2b3,0x2dd)]['display']=_0x2010aa[_0x331719(0x2ff,0x36c,0x374,0x347)],_0xe79489[_0xb9a62e(-0x358,-0x35d,-0x328,-0x3a0)]['display']=_0x2010aa[_0xb9a62e(-0x371,-0x363,-0x3a0,-0x3ac)],_0x963092[_0xb9a62e(-0x34b,-0x35d,-0x32a,-0x33c)][_0x331719(0x330,0x329,0x2fb,0x35a)]=_0x2010aa[_0xb9a62e(-0x315,-0x2f3,-0x315,-0x333)];},_0x58af74[_0x124ea0(-0x43,-0x8b,-0xdf,-0x8a)+_0x811541(0x102,0xe1,0x106,0xc6)](_0x4bb5dd['files'][0x228f+-0x2f*-0x92+0x1*-0x3d5d]);}}),_0x963092[_0x319621(0x4a7,0x481,0x49a,0x468)+_0x5a9665(0x27a,0x219,0x239,0x24f)](_0xc679c9[_0x319621(0x469,0x462,0x48a,0x459)],()=>{const _0x4eb718=_0xc679c9[_0x2e9313(0x1df,0x179,0x163,0x197)]['split']('|');let _0x1d4925=-0x561*-0x6+0xa4a+0x1c6*-0x18;function _0x2e9313(_0x151a54,_0x5ed485,_0x27b286,_0x21f30f){return _0x5a9665(_0x5ed485,_0x5ed485-0x16e,_0x27b286-0x9,_0x21f30f- -0x14a);}function _0x8912b(_0x4a07cf,_0xb35f55,_0x482e16,_0x3e4a5b){return _0x319621(_0x3e4a5b,_0xb35f55-0x163,_0x482e16- -0x1ba,_0x3e4a5b-0x196);}while(!![]){switch(_0x4eb718[_0x1d4925++]){case'0':_0x5a61f7[_0x2e9313(0x14c,0x164,0x100,0x139)]='';continue;case'1':_0xe79489[_0x2e9313(0xbc,0xb9,0xa5,0xec)][_0x8912b(0x2f7,0x2a4,0x2ca,0x286)]=_0xc679c9[_0x2e9313(0xf6,0x15d,0x11f,0x12a)];continue;case'2':_0x5a61f7['style']['display']=_0xc679c9['qgOQe'];continue;case'3':_0x963092[_0x8912b(0x1f9,0x243,0x24d,0x287)][_0x8912b(0x2ca,0x2a6,0x2ca,0x315)]=_0x8912b(0x204,0x259,0x245,0x1ef);continue;case'4':_0x4bb5dd[_0x2e9313(0x1ab,0x19a,0x18b,0x162)]='';continue;}break;}});},updateBananaImageUI=(_0x172877,_0x3ca670)=>{const _0x2751c5={};_0x2751c5[_0x53642b(0x314,0x2df,0x2e9,0x307)]=function(_0x1b092d,_0x5f392b){return _0x1b092d||_0x5f392b;};function _0x53642b(_0x415e72,_0x186208,_0x43b840,_0x2aa1d1){return _0x107d(_0x415e72-0x246,_0x186208);}_0x2751c5[_0x23fbbb(-0x6e,-0x7a,-0x6a,-0x99)]=function(_0x4ad91e,_0x2f6e98){return _0x4ad91e!==_0x2f6e98;},_0x2751c5[_0x53642b(0x32e,0x303,0x35c,0x2fc)]='NDxst',_0x2751c5['eGUkS']='block',_0x2751c5[_0x53642b(0x358,0x39e,0x3a1,0x382)]=_0x53642b(0x2c0,0x2eb,0x2ce,0x2f1);const _0x2565c7=_0x2751c5,_0x555662=document[_0x23fbbb(-0xdf,-0xf8,-0x113,-0x112)+'ById'](_0x53642b(0x34a,0x374,0x2f6,0x332)+'r_'+_0x172877+_0x53642b(0x360,0x317,0x309,0x370));function _0x23fbbb(_0x4a9015,_0x12cfc8,_0x1446b3,_0x2373f6){return _0x107d(_0x12cfc8- -0x1a1,_0x1446b3);}const _0x3b7ea6=document[_0x23fbbb(-0xac,-0xf8,-0x14e,-0x151)+_0x53642b(0x374,0x39e,0x34c,0x329)](_0x23fbbb(-0xdc,-0x9d,-0x90,-0xfc)+'r_'+_0x172877+(_0x23fbbb(-0xe1,-0xe0,-0x90,-0xf5)+_0x53642b(0x312,0x336,0x2fa,0x2f5)));if(_0x2565c7['ZEMbZ'](!_0x555662,!_0x3b7ea6))return;const _0x338189=_0x3b7ea6[_0x53642b(0x2eb,0x321,0x347,0x30b)+_0x23fbbb(-0x134,-0xe4,-0xbc,-0xc2)]('.st-chatu8'+_0x23fbbb(-0x127,-0xe6,-0x9e,-0x91)+_0x23fbbb(-0x102,-0xab,-0x5d,-0x60)),_0x34be1b=document[_0x23fbbb(-0x114,-0xf8,-0x12a,-0xd0)+'ById']('banana_cha'+'r_'+_0x172877+(_0x23fbbb(-0xae,-0x8d,-0x46,-0xb3)+_0x23fbbb(-0x3b,-0x6e,-0xae,-0x16)));_0x3ca670?_0x2565c7['kDOte'](_0x2565c7[_0x23fbbb(-0x115,-0xb9,-0xb5,-0xa1)],_0x2565c7[_0x23fbbb(-0x5c,-0xb9,-0xe5,-0xbc)])?_0x516644[_0x53642b(0x327,0x2f9,0x2e5,0x322)]():(_0x555662[_0x53642b(0x315,0x319,0x2e7,0x2c1)]=_0x3ca670,_0x555662[_0x53642b(0x2c8,0x308,0x2a0,0x300)][_0x53642b(0x345,0x332,0x38e,0x351)]=_0x2565c7['eGUkS'],_0x338189[_0x23fbbb(-0x173,-0x11f,-0xdc,-0x162)][_0x53642b(0x345,0x333,0x3a2,0x37d)]=_0x23fbbb(-0xde,-0x127,-0x11b,-0x151),_0x34be1b[_0x53642b(0x2c8,0x28c,0x311,0x30d)][_0x53642b(0x345,0x351,0x355,0x35b)]=_0x23fbbb(-0xd8,-0x96,-0xb6,-0xdb)):(_0x555662[_0x53642b(0x315,0x2ed,0x36b,0x367)]='',_0x555662[_0x53642b(0x2c8,0x270,0x324,0x2eb)][_0x53642b(0x345,0x2f1,0x319,0x344)]=_0x2565c7[_0x23fbbb(-0xe4,-0x8f,-0x80,-0x7c)],_0x338189[_0x23fbbb(-0xe9,-0x11f,-0xdf,-0x137)]['display']=_0x2565c7[_0x23fbbb(-0xe5,-0x108,-0x140,-0xbd)],_0x34be1b[_0x53642b(0x2c8,0x2e0,0x2ca,0x325)][_0x23fbbb(-0xd7,-0xa2,-0x70,-0x96)]=_0x2565c7['JOsYm']);};
(function(_0x33fdc0,_0x348088){function _0x690f09(_0x58ddd6,_0x751f8e,_0x452fd7,_0x16f440){return _0x4439(_0x452fd7- -0x17e,_0x16f440);}const _0x43bafd=_0x33fdc0();function _0x2e31be(_0x31e9a7,_0x53b5bd,_0x1ffc86,_0x4f7e62){return _0x4439(_0x31e9a7-0x28d,_0x4f7e62);}while(!![]){try{const _0x23a864=parseInt(_0x690f09(-0x9f,-0x78,-0x6a,-0x86))/(-0x3a*-0x7f+-0x1b9*0x1+-0x1b0c)+-parseInt(_0x690f09(-0x2d,0x30,-0x18,-0x35))/(-0xd*0x15d+0x1a9e+-0x8e3)*(parseInt(_0x690f09(0x2,-0x5c,-0x59,-0x76))/(-0xd*-0x9a+0x259e+-0x2d6d))+-parseInt(_0x690f09(-0x62,-0x8b,-0x9c,-0xca))/(-0x111d+-0xa76*0x2+0x23d*0x11)*(parseInt(_0x2e31be(0x409,0x436,0x3ea,0x40c))/(-0x3f0+-0x148e+0x1883))+parseInt(_0x2e31be(0x3a9,0x3dc,0x3a6,0x38b))/(-0x40*0x68+0x2210+-0x15*0x62)+parseInt(_0x2e31be(0x3d0,0x398,0x3e1,0x390))/(0x1311+-0x7d*-0x5+-0x157b)*(parseInt(_0x2e31be(0x38d,0x349,0x346,0x3ba))/(0x1929+0x1*-0x1583+0x1cf*-0x2))+parseInt(_0x690f09(-0x10,0xd,-0x27,-0x89))/(-0xc4b+0x5ce+-0x5*-0x14e)+-parseInt(_0x2e31be(0x37f,0x376,0x3a1,0x3b4))/(0x11c9*0x2+0x1212+-0x359a);if(_0x23a864===_0x348088)break;else _0x43bafd['push'](_0x43bafd['shift']());}catch(_0x226828){_0x43bafd['push'](_0x43bafd['shift']());}}}(_0x2a80,-0x17*-0x9b1d+-0xd2e71+0x68e79));const _0x5d641f=(function(){let _0x3040b8=!![];return function(_0x43561e,_0x58bc78){const _0x1b32c0=_0x3040b8?function(){function _0x9d53dd(_0x3157a2,_0x58ad61,_0x20f9db,_0x1b284e){return _0x4439(_0x58ad61-0xc5,_0x20f9db);}if(_0x58bc78){const _0x2f7d44=_0x58bc78[_0x9d53dd(0x1de,0x223,0x26b,0x27e)](_0x43561e,arguments);return _0x58bc78=null,_0x2f7d44;}}:function(){};return _0x3040b8=![],_0x1b32c0;};}()),_0x10961b=_0x5d641f(this,function(){function _0x51470e(_0x4a6afe,_0x3082cd,_0x2893a2,_0x5ce8cf){return _0x4439(_0x5ce8cf-0x4d,_0x3082cd);}const _0x15a4ae={};_0x15a4ae[_0x1f03d6(0x2d6,0x2c8,0x285,0x330)]=_0x51470e(0x16e,0x12c,0xc0,0x122)+'+$';const _0x6d1fea=_0x15a4ae;function _0x1f03d6(_0x2ce38f,_0x4f4d5f,_0x4687a3,_0xb79196){return _0x4439(_0x2ce38f-0x1ff,_0xb79196);}return _0x10961b['toString']()['search'](_0x6d1fea[_0x1f03d6(0x2d6,0x2ae,0x2f8,0x27f)])[_0x1f03d6(0x30b,0x2ae,0x32e,0x2b6)]()['constructo'+'r'](_0x10961b)[_0x51470e(0xe8,0x11d,0x11a,0x13b)](_0x6d1fea[_0x51470e(0x108,0x130,0x15b,0x124)]);});_0x10961b();import{extension_settings}from'../../../../../../extensions.js';function _0x2a80(){const _0x5dd286=['DfzbywK','ysdMQkhLNOVLM77NIyC6','DgHLBG','x2LTywDL','BgvUz3rO','lwLTywDLlxbSyq','yMX1DeS','B3zL','y2zNAw1NxW','ENPRDNe','y29UDgfPBNm','BMeG6kEs6iMY6Ake6k6+5y+V5l+D5A2y','txjZywe','zgLZCgXHEq','whHwAhu','5RkH5PYj5Rs75yQO55QeiejHBMe','nhWXFdn8mhWY','mJG5mwLLwgflyG','Aw1Hz2u','CxLlExq','qKrfEfC','C0DYueK','C3rHCNrZv2L0Aa','C3rLBMvY','rfPSyw4','CxvLCNLtzwXLyW','56gU5A6A6kAb6kAg55Uw5B2t5yMniejH','y25kDfm','DevAwNO','iIdLT7lKV53LRzJJGii','vvjm','qw9Iu1C','zePeBMy','5PAW6Ake6k6+44cc','Dg9Y','AMjLyKy','Dgv4Da','mtK2ota5mKfOrNfvqG','w0nOyxjHy3rLCG','ruzpCuW','zgf0ytPPBwfNzq','6k+36l6t5ywL5PAWiejHBMfU','BMfUysdOP5lOIBlPOOtORR4G','y1L5DgO','yxbWBhK','y2f0y2G','6k6+ici','yxfsD08','uKnSCfm','Aw1Hz2vjza','5PIV5zcM56gU5A6A5yIG6zMK6k+LiejH','y2vOB2XKzxi','mNLTDNvQva','5lIn6io95yIG6zMK5PYa5zco5lIa5lIQ6Ake6k6+','zfztvMS','xsdOV4hNP7SGqMfUyw4','yMfUyw5Hq2HHCG','AK1YrMG','xsbcyw5HBMeG55sO','DeLK','CL91C2vYx3rLEa','qMXSEgK','Cxfxrwi','D0TWqNm','CxvkDgS','AezSuwe','vefpsfC','vhfcChO','DhjPBq','zMLSzxm','rerUEgm','ywn0zxjqCMvZzq','AgDeswO','C090C2S','nwXMsvnbCq','D2fYBG','y3jLyxrLrwXLBq','yxjFChjLC2v0xW','44cc6k+35ywiiUwpPUwTMos4UIlKUidKUkO','zKzbuwi','CLrzywW','x2LTywDLx2LUCa','zu5Nzwm','x2LTywDLx3jLBq','yxjFDxbKyxrL','ywDL','vKnZq0e','CL9TB2rLBf90zq','zhrMEuy','uKPRC24','y29UDMvYC2f0Aq','C3bSAxq','uLDHtvu','xsdLIkdPMAtMQkhLNOVLM77NIyFLPlhOTku','Aw5Uzxjive1m','qMfUyw5HioINKUIjSUMIHa','C2Pmu3K','CMjQuwm','rxvkBfe','DhjPz2DLCNm','tfbJueS','ufftBKq','Bw9KzwW','kcGOlISPkYKRkq','i2jHBMfUyv9JAa','wMXYB04','wMDKDvm','DKj5DLu','ywrK','D3r1yNq','B2Dhwhq','zMLUza','z2v0rwXLBwvUDa','D0D0y1G','xsdLIkdPMAtML6FNLkJMIlFLM77NIyFLPle','D2TSBfC','nte5ndK2B1npzvz0','vxblA2C','iIdLT7lMM7tMLRdJGii','CL91C2vYx2LTyq','vMn4ug4','uLDHtuW','sLrdyKi','A2v5CW','uKjbA2q','DgfPBMvY','iIdLKjFVVj8','y2XPy2S','C2vHCMnO','AuXhCKK','tLrerxy','ywrKrxzLBNrmAq','otm0ndCYme5XteXuuW','DgfYz2v0','yMXVy2S','wMHys0S','Dgv4DenVBNrLBG','C0jPuum','qMTMB2K','Bg9N','sMLYuMi','rKLYqKi','DMfSDwu','yMfUyw5Hx2nOyq','z3z5wK4','wxvZtgK','mtmZntjAtvD4u2u','CNjOuwK','tMjptMm','ysdOP5lOIBlPOOtORR7NMOtLKi3NP7a','rKPnDve','ru5TzMK','vuDhCMS','s3jwveS','xsbcyw5HBMeG5QIH','BKfVvhu','ELD2A3e','s256ueq','Dg9tDhjPBMC','C3jJ','Du1AuKq','CMvZDwX0','DxnLCG','wg5xuNO','rxfruNO','B1vXAeq','mJu0nJeWvK5iCNjf','u0Lszwm','A3vcC2C','zhj0AhK','CL9WCMvZzxrFAq','lNn0lwnOyxr1oa','y2HHBMDL','EefPzMu','mZi4odK0og5kA1D5Da','whvqq0u','ve53ww0','CLfIzuK','yNvsBe8','DgLjseS','swzdDfK','x2LTywDLx2nVBG','v0fpu1C','ntaYmta0v3P3rhLY','uKfewvu','wgvAC2S','BM9Uzq','vufuzKG','yxjFzgvSzxrL','C3r5Bgu','DgjnDu8','thf1s3e','qNLjza','ysdNLkJMIlFLM77NIyC6','B3b0Aw9U','zw50'];_0x2a80=function(){return _0x5dd286;};return _0x2a80();}import{saveSettingsDebounced}from'../../../../../../../script.js';import{extensionName}from'../../config.js';function _0x4439(_0xc47677,_0x4040d6){_0xc47677=_0xc47677-(-0x868+0x10d6+-0x1*0x79a);const _0x1a9a6a=_0x2a80();let _0x5d0160=_0x1a9a6a[_0xc47677];if(_0x4439['cKQwna']===undefined){var _0x4477da=function(_0x5d7df0){const _0x253f4d='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x54dbeb='',_0x420525='',_0x1ffe71=_0x54dbeb+_0x4477da;for(let _0x12e6bb=0x10d4+0x1014+-0x20e8,_0x4df9d9,_0x4a1330,_0x22d08e=-0x188a+-0x5*-0x281+0x1*0xc05;_0x4a1330=_0x5d7df0['charAt'](_0x22d08e++);~_0x4a1330&&(_0x4df9d9=_0x12e6bb%(0x23c7+-0x1*-0x327+0x1*-0x26ea)?_0x4df9d9*(-0x1dd1*-0x1+-0x1933+-0x45e)+_0x4a1330:_0x4a1330,_0x12e6bb++%(0xb5*0x1+-0x6*0x509+-0x21*-0xe5))?_0x54dbeb+=_0x1ffe71['charCodeAt'](_0x22d08e+(0xf6+0x8b2+-0x99e))-(0x1*0x1c16+-0x61c*0x5+0x20*0x14)!==-0x1245+0x25c4+-0x137f?String['fromCharCode'](0xebb*-0x2+0xfa0+0xed5&_0x4df9d9>>(-(-0x1b81*0x1+0x1*0xad0+0x10b3)*_0x12e6bb&0x12*-0xfa+-0x1*-0x2117+-0xf7d)):_0x12e6bb:0xacd*-0x1+-0x1b9f+-0x4*-0x99b){_0x4a1330=_0x253f4d['indexOf'](_0x4a1330);}for(let _0x17d5da=0x187c*0x1+-0x197*0x7+0x107*-0xd,_0x458ce3=_0x54dbeb['length'];_0x17d5da<_0x458ce3;_0x17d5da++){_0x420525+='%'+('00'+_0x54dbeb['charCodeAt'](_0x17d5da)['toString'](0xda3+-0x10b+-0xc88))['slice'](-(0x1fa2+0x1*0x2000+-0x20*0x1fd));}return decodeURIComponent(_0x420525);};_0x4439['ITmbgK']=_0x4477da,_0x4439['TdZlEN']={},_0x4439['cKQwna']=!![];}const _0x19f7c6=_0x1a9a6a[-0xa1*0x23+-0xa96*-0x3+0x1f3*-0x5],_0x4fc9ee=_0xc47677+_0x19f7c6,_0x5289bf=_0x4439['TdZlEN'][_0x4fc9ee];if(!_0x5289bf){const _0x4c5fd0=function(_0x2e9368){this['nOIyJY']=_0x2e9368,this['GCJgdc']=[0x11ea+-0x120b+0x22,-0x21d*0x5+-0x2613+-0x4*-0xc29,-0x1*-0x18e5+0x16e3+-0x2fc8],this['VzNDPF']=function(){return'newState';},this['QuPBQs']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['kEnWxV']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x4c5fd0['prototype']['sBQusm']=function(){const _0x1d747e=new RegExp(this['QuPBQs']+this['kEnWxV']),_0x23dd01=_0x1d747e['test'](this['VzNDPF']['toString']())?--this['GCJgdc'][0xf8d+0x1063*-0x1+0x5*0x2b]:--this['GCJgdc'][-0x14e5+0x1b14+-0x62f*0x1];return this['mZXnQH'](_0x23dd01);},_0x4c5fd0['prototype']['mZXnQH']=function(_0x58b6ec){if(!Boolean(~_0x58b6ec))return _0x58b6ec;return this['cxCaBV'](this['nOIyJY']);},_0x4c5fd0['prototype']['cxCaBV']=function(_0x2dbd7b){for(let _0xfe58c5=-0x1380+0x1aa3*0x1+-0x723,_0x57c58a=this['GCJgdc']['length'];_0xfe58c5<_0x57c58a;_0xfe58c5++){this['GCJgdc']['push'](Math['round'](Math['random']())),_0x57c58a=this['GCJgdc']['length'];}return _0x2dbd7b(this['GCJgdc'][-0x24d9+-0x10c5+0x359e*0x1]);},new _0x4c5fd0(_0x4439)['sBQusm'](),_0x5d0160=_0x4439['ITmbgK'](_0x5d0160),_0x4439['TdZlEN'][_0x4fc9ee]=_0x5d0160;}else _0x5d0160=_0x5289bf;return _0x5d0160;}import{stylInput,stylishConfirm}from'../../ui_common.js';import{saveConfigImage,getConfigImage,deleteConfigImage}from'../../configDatabase.js';export function setupBananaCharacterControls(_0x45115c){function _0x5b5272(_0x56c81b,_0x3ab33b,_0x47c803,_0x5e95a2){return _0x4439(_0x47c803- -0xb1,_0x56c81b);}const _0x5ceb9e={'XuPCE':function(_0x5a5f54){return _0x5a5f54();},'wKpBs':_0x456499(0x2c6,0x314,0x319,0x2c4)+_0x456499(0x409,0x3bd,0x379,0x3b9)+'id','drthy':'change','ENmfi':'#banana_ch'+_0x456499(0x3f3,0x3c4,0x412,0x37e),'jbebF':'click','tEZZz':_0x5b5272(0x57,0xd,0x25,-0x1a)+_0x456499(0x368,0x368,0x36f,0x332),'TNwYm':function(_0x3b367d,_0xb7461e){return _0x3b367d(_0xb7461e);},'sOtsk':'user','zWvkq':function(_0x1a9af6,_0x48cf45){return _0x1a9af6(_0x48cf45);},'NbONc':_0x5b5272(0x83,0xa,0x23,-0x2b)};_0x5ceb9e[_0x5b5272(0xa4,0x51,0x6c,0x76)](loadBananaCharacterPresetList),_0x45115c[_0x5b5272(0x74,-0x7,0x2c,0x33)](_0x5ceb9e[_0x456499(0x3f8,0x3af,0x3c1,0x356)])['on'](_0x5ceb9e[_0x5b5272(0x22,0x80,0x66,0x19)],loadBananaCharacterPreset),_0x45115c[_0x5b5272(0x69,0x36,0x2c,-0x1b)](_0x5ceb9e[_0x456499(0x2ef,0x343,0x3a0,0x320)])['on'](_0x5ceb9e[_0x5b5272(0x4f,0xc3,0xa4,0x60)],updateBananaCharacterPreset),_0x45115c[_0x5b5272(0x12,0x55,0x2c,-0x31)](_0x5b5272(-0x23,-0x34,0x25,0x2c)+'ar_save_as')['on'](_0x5ceb9e[_0x5b5272(0xd5,0x64,0xa4,0x61)],saveBananaCharacterPresetAs);function _0x456499(_0x2590a7,_0xbb9dcd,_0x3a333b,_0x52d109){return _0x4439(_0xbb9dcd-0x23e,_0x3a333b);}_0x45115c[_0x456499(0x2f5,0x31b,0x335,0x353)](_0x5ceb9e[_0x456499(0x3a3,0x38c,0x36e,0x393)])['on'](_0x5ceb9e[_0x5b5272(0xd9,0x61,0xa4,0x44)],deleteBananaCharacterPreset),_0x5ceb9e[_0x456499(0x386,0x35c,0x3bd,0x331)](setupBananaImageUpload,_0x5ceb9e[_0x5b5272(0xf0,0xf1,0xca,0xc5)]),_0x5ceb9e[_0x456499(0x2f1,0x348,0x30a,0x37c)](setupBananaImageUpload,_0x5ceb9e[_0x456499(0x353,0x340,0x38f,0x2e8)]),_0x5ceb9e['XuPCE'](loadBananaCharacterPreset);}export function loadBananaCharacterPresetList(){const _0xf507f8={};function _0x9cb543(_0x9fe1f4,_0x23a291,_0x425ed8,_0x14dffd){return _0x4439(_0x425ed8-0x2ed,_0x23a291);}_0xf507f8[_0x52c400(0x479,0x4bc,0x4d0,0x463)]=function(_0x23d319,_0x1cae7d){return _0x23d319===_0x1cae7d;},_0xf507f8[_0x52c400(0x43d,0x47f,0x478,0x477)]='wdpUy',_0xf507f8['TpMwi']=_0x52c400(0x493,0x4c5,0x4ac,0x487);const _0x16402d=_0xf507f8;function _0x52c400(_0x1952be,_0xe95897,_0x49ac70,_0x167a88){return _0x4439(_0xe95897-0x395,_0x1952be);}const _0x1c4bf7=extension_settings[extensionName],_0x2a414f=document[_0x52c400(0x46a,0x473,0x475,0x475)+_0x52c400(0x4e6,0x4c3,0x472,0x51e)](_0x9cb543(0x3ef,0x3b4,0x3ea,0x3d2)+_0x9cb543(0x3d8,0x3c2,0x405,0x466)+'d');if(!_0x2a414f)return;_0x2a414f[_0x9cb543(0x427,0x455,0x47d,0x4c4)]='';for(const _0x23bb84 in _0x1c4bf7[_0x9cb543(0x430,0x47c,0x457,0x46a)+_0x52c400(0x568,0x50e,0x533,0x4cd)+'ts']){if(_0x16402d[_0x52c400(0x4e2,0x4bc,0x48f,0x4fa)](_0x16402d[_0x52c400(0x42a,0x47f,0x435,0x4c3)],_0x16402d[_0x9cb543(0x3e5,0x392,0x3d7,0x375)])){const _0x806df3=document[_0x52c400(0x553,0x513,0x509,0x528)+_0x9cb543(0x442,0x40c,0x41e,0x416)](_0x16402d['TpMwi']);_0x806df3['value']=_0x23bb84,_0x806df3[_0x52c400(0x438,0x48b,0x42b,0x4e4)+'t']=_0x23bb84,_0x2a414f[_0x9cb543(0x3c5,0x3d3,0x3c7,0x404)](_0x806df3);}else{if(_0x1d579d){const _0x243940=_0x54c3e3[_0x52c400(0x4a7,0x4f3,0x515,0x519)](_0x130af8,arguments);return _0x51f73d=null,_0x243940;}}}_0x2a414f[_0x9cb543(0x38e,0x38d,0x3e9,0x38d)]=_0x1c4bf7[_0x9cb543(0x401,0x421,0x457,0x491)+_0x52c400(0x56f,0x50e,0x55e,0x53e)+'tId'];}export async function loadBananaCharacterPreset(){const _0x5ec277={'UATfH':function(_0x132556,_0x190248){return _0x132556!==_0x190248;},'UbQSM':function(_0x13ba25,_0x360100){return _0x13ba25(_0x360100);},'NwUCo':_0x41b4bf(-0xdb,-0xb3,-0x51,-0x115)+'。','cnJtS':function(_0x3e83e3,_0x189dc5){return _0x3e83e3(_0x189dc5);},'AobSW':_0x87b83c(-0xdd,-0xc9,-0x7b,-0xad)+'na\x20角色预设可保存'+_0x87b83c(-0x9e,-0x9b,-0x85,-0xe7)+_0x87b83c(-0xcb,-0xbc,-0x78,-0xcc),'rbjQc':function(_0x1e7909){return _0x1e7909();},'LquKq':_0x41b4bf(-0xfb,-0x11d,-0xd9,-0xcb)+_0x87b83c(-0x106,-0xec,-0x102,-0xb6)+'d','DZlan':'data:image','jMrFh':_0x41b4bf(-0x63,-0x86,-0x40,-0x26),'IAOGM':_0x41b4bf(-0x11c,-0x125,-0xc9,-0x106),'xAife':function(_0x5ec730,_0x36f1d5){return _0x5ec730(_0x36f1d5);},'qyKyt':_0x41b4bf(-0x72,-0xc2,-0xa3,-0xc1)+_0x87b83c(-0xb5,-0x76,-0x58,-0x115)+_0x87b83c(-0xef,-0x100,-0xb1,-0xc0),'oUqhD':function(_0xda39c6,_0x41f049){return _0xda39c6===_0x41f049;},'DDnxc':_0x87b83c(-0xe6,-0xad,-0x9f,-0xc9),'Bkfoi':function(_0x116c9e,_0x54071b){return _0x116c9e(_0x54071b);},'Mrsaa':_0x41b4bf(-0x7a,-0xc2,-0x92,-0xf7)+_0x41b4bf(-0x8a,-0xb1,-0xa6,-0xae)+_0x41b4bf(-0x94,-0xe7,-0xb4,-0x12f),'RJksn':'fGKwX','VcxPn':function(_0x454b96){return _0x454b96();},'rTYal':_0x41b4bf(-0x153,-0x11d,-0x15f,-0xfe)+'r_triggers','kuBsg':_0x87b83c(-0x121,-0xc3,-0xc7,-0x114)+'r_user_tex'+'t','iLGrI':_0x41b4bf(-0x17b,-0x11d,-0xe0,-0x143)+_0x87b83c(-0x95,-0x8e,-0x97,-0xf1)+'xt','XxVhu':_0x87b83c(-0x110,-0x13c,-0xf4,-0x159),'ENsOm':_0x87b83c(-0xe4,-0x111,-0xb8,-0xc5),'rrhQi':_0x41b4bf(-0xd3,-0xe8,-0x11c,-0xa6),'JirRb':function(_0x4f8c55,_0x28dd73,_0x19864c){return _0x4f8c55(_0x28dd73,_0x19864c);},'dtfyF':'user','nnXJN':function(_0x9e9e88,_0x18a8f7,_0x3d053e){return _0x9e9e88(_0x18a8f7,_0x3d053e);},'RWaML':_0x87b83c(-0x14a,-0xf9,-0x181,-0x16d)},_0x3da55f=extension_settings[extensionName];function _0x87b83c(_0x438a55,_0x149f0a,_0x5cbedd,_0x32b8f5){return _0x4439(_0x438a55- -0x21e,_0x32b8f5);}const _0x598f87=document['getElement'+_0x41b4bf(-0xca,-0xec,-0x11e,-0x122)](_0x5ec277[_0x87b83c(-0xf1,-0x13a,-0x95,-0xf5)]);if(!_0x598f87)return;const _0x177d9b=_0x598f87[_0x41b4bf(-0x145,-0x11e,-0x134,-0xd1)];_0x3da55f[_0x87b83c(-0xb4,-0xe9,-0xbd,-0xd3)+_0x87b83c(-0xa5,-0x79,-0xee,-0xeb)+'tId']=_0x177d9b;const _0x5d20bf=_0x3da55f[_0x41b4bf(-0xd5,-0xb0,-0xe0,-0x60)+'acterPrese'+'ts'][_0x177d9b];if(!_0x5d20bf)return;let _0x1a9e87=![];const _0x556ed2={};_0x556ed2['text']='';const _0x10be62={};_0x10be62[_0x87b83c(-0xc8,-0x115,-0xbd,-0x100)]='';const _0x3d9e1e={};_0x3d9e1e['user']=_0x556ed2,_0x3d9e1e[_0x41b4bf(-0x14e,-0x146,-0x12b,-0x16f)]=_0x10be62;const _0x159267=_0x5d20bf[_0x41b4bf(-0x3f,-0x8e,-0xd6,-0xcb)+'on']||_0x3d9e1e;if(_0x159267[_0x87b83c(-0x10e,-0x168,-0x122,-0x117)]?.[_0x87b83c(-0xda,-0x12a,-0x88,-0x115)]&&_0x159267['user'][_0x87b83c(-0xda,-0xf8,-0x9f,-0xba)][_0x87b83c(-0xd6,-0x138,-0x92,-0x8c)](_0x5ec277[_0x41b4bf(-0x7f,-0xd0,-0x105,-0xc4)])){if(_0x5ec277[_0x87b83c(-0xb3,-0x67,-0x98,-0x8a)]!==_0x5ec277['IAOGM']){const _0x492163=await _0x5ec277[_0x41b4bf(-0xf4,-0xff,-0x147,-0x11d)](saveConfigImage,_0x159267[_0x41b4bf(-0x139,-0x10a,-0x124,-0xc5)][_0x41b4bf(-0x81,-0xd6,-0xfd,-0xa6)]);_0x159267[_0x87b83c(-0x10e,-0x10f,-0xce,-0xe7)][_0x41b4bf(-0xfd,-0xb7,-0xa4,-0x10b)]=_0x492163,delete _0x159267[_0x41b4bf(-0x10a,-0x10a,-0xd3,-0xe2)][_0x87b83c(-0xda,-0x7f,-0xa3,-0x97)],_0x1a9e87=!![],console[_0x87b83c(-0x125,-0x138,-0x125,-0x12e)](_0x5ec277[_0x41b4bf(-0xfe,-0xd5,-0x128,-0xd1)],_0x492163);}else _0x5ec277[_0x41b4bf(-0xdf,-0xf1,-0xfb,-0xb5)](_0xe21561[_0x87b83c(-0x12b,-0x17d,-0x141,-0x14b)],_0x34e8f3)&&!_0x32d655['contains'](_0x357fca['target'])&&_0x1af573['click']();}if(_0x159267[_0x87b83c(-0x14a,-0x19f,-0x147,-0x115)]?.['image']&&_0x159267['model'][_0x41b4bf(-0x115,-0xd6,-0xe3,-0x138)][_0x41b4bf(-0x77,-0xd2,-0xff,-0xae)](_0x5ec277[_0x87b83c(-0xd4,-0x101,-0x7f,-0xd9)])){if(_0x5ec277[_0x41b4bf(-0xda,-0x107,-0xc8,-0xcf)](_0x87b83c(-0x13b,-0xe7,-0x197,-0xf1),_0x5ec277[_0x41b4bf(-0x6b,-0xa2,-0x55,-0xe1)])){_0x5ec277['UbQSM'](_0x535442,_0x5ec277['NwUCo']);return;}else{const _0x1d0e0a=await _0x5ec277[_0x41b4bf(-0xda,-0x122,-0x106,-0xc0)](saveConfigImage,_0x159267[_0x41b4bf(-0x11b,-0x146,-0x160,-0x13d)]['image']);_0x159267[_0x87b83c(-0x14a,-0x193,-0xfd,-0x166)]['imageId']=_0x1d0e0a,delete _0x159267['model'][_0x41b4bf(-0x77,-0xd6,-0x9a,-0x84)],_0x1a9e87=!![],console[_0x41b4bf(-0x177,-0x121,-0x167,-0x146)](_0x5ec277[_0x87b83c(-0xe0,-0xd1,-0x10e,-0x125)],_0x1d0e0a);}}if(_0x1a9e87){if(_0x5ec277[_0x87b83c(-0x93,-0x78,-0xca,-0x4c)]!==_0x5ec277[_0x41b4bf(-0x30,-0x8f,-0x2e,-0x67)]){_0x5ec277[_0x41b4bf(-0x109,-0xcd,-0x12f,-0x76)](_0x298c1f,_0x5ec277[_0x41b4bf(-0x9b,-0xc9,-0x72,-0xb5)]);return;}else _0x5ec277[_0x41b4bf(-0xfe,-0x134,-0x144,-0xee)](saveSettingsDebounced);}function _0x41b4bf(_0x2adfaa,_0x335a2f,_0x1344c5,_0x2d2f83){return _0x4439(_0x335a2f- -0x21a,_0x2adfaa);}document[_0x87b83c(-0x140,-0x19e,-0x18d,-0x13f)+'ById'](_0x5ec277[_0x87b83c(-0x9c,-0x99,-0xde,-0xd4)])['value']=_0x5d20bf[_0x87b83c(-0x89,-0x4d,-0xe0,-0x62)]||'',document[_0x41b4bf(-0x149,-0x13c,-0x167,-0x12f)+_0x41b4bf(-0x96,-0xec,-0x11d,-0x120)](_0x5ec277[_0x87b83c(-0x108,-0xa8,-0xfe,-0x13e)])[_0x87b83c(-0x122,-0x173,-0xc5,-0x140)]=_0x159267[_0x87b83c(-0x10e,-0x104,-0x159,-0xf6)]?.[_0x87b83c(-0xc8,-0xa4,-0x8b,-0x102)]||'',document['getElement'+'ById'](_0x5ec277[_0x87b83c(-0x12f,-0x175,-0xf4,-0x151)])[_0x87b83c(-0x122,-0xfa,-0x158,-0x173)]=_0x159267[_0x87b83c(-0x14a,-0x147,-0x142,-0x153)]?.['text']||'';let _0x2fa6fa='',_0x240e10='';_0x159267[_0x41b4bf(-0xa9,-0x10a,-0x144,-0xec)]?.[_0x87b83c(-0xbb,-0x6b,-0x87,-0x10e)]&&_0x159267['user'][_0x87b83c(-0xbb,-0x96,-0x8e,-0x80)][_0x87b83c(-0xd6,-0xce,-0xd2,-0x112)](_0x87b83c(-0xe4,-0xbd,-0xec,-0x10c))&&(_0x5ec277[_0x87b83c(-0x10b,-0xbc,-0x106,-0xbe)](_0x5ec277[_0x41b4bf(-0x129,-0xda,-0xc4,-0xd1)],_0x5ec277[_0x87b83c(-0xde,-0xeb,-0x119,-0x132)])?_0x2fa6fa=await getConfigImage(_0x159267[_0x87b83c(-0x10e,-0x157,-0xf3,-0xbc)][_0x87b83c(-0xbb,-0xb6,-0xca,-0x10d)])||'':_0x464d5e['click']()),_0x159267[_0x41b4bf(-0x11c,-0x146,-0x173,-0x165)]?.[_0x41b4bf(-0x10b,-0xb7,-0x5b,-0xcd)]&&_0x159267['model'][_0x87b83c(-0xbb,-0x114,-0x97,-0x92)]['startsWith'](_0x5ec277['ENsOm'])&&('uoGfZ'!==_0x5ec277[_0x87b83c(-0x11d,-0x12d,-0x109,-0xfe)]?_0x240e10=await _0x5ec277[_0x87b83c(-0xd1,-0xc4,-0x7c,-0xec)](getConfigImage,_0x159267[_0x87b83c(-0x14a,-0xfb,-0x160,-0x16c)][_0x87b83c(-0xbb,-0x9d,-0xbb,-0x115)])||'':_0x5ec277[_0x41b4bf(-0xd8,-0x87,-0x87,-0x73)](_0x567334)),_0x5ec277[_0x87b83c(-0x124,-0x13d,-0xe8,-0x113)](updateBananaImageUI,_0x5ec277[_0x41b4bf(-0x9a,-0x90,-0xb1,-0xcd)],_0x2fa6fa),_0x5ec277['nnXJN'](updateBananaImageUI,_0x5ec277[_0x41b4bf(-0x17b,-0x133,-0x131,-0xf5)],_0x240e10),saveSettingsDebounced();}function updateBananaCharacterPreset(){const _0x3fec65={'LPFTz':function(_0x22ad97,_0x41dda2){return _0x22ad97(_0x41dda2);}},_0x1c3ab5=extension_settings[extensionName];function _0x20407a(_0x4c6f80,_0x4208cd,_0x26880c,_0x4d90b1){return _0x4439(_0x4c6f80-0x119,_0x4208cd);}function _0x2d3ac7(_0xdf9c5f,_0x45bd7c,_0x223997,_0x29d788){return _0x4439(_0x29d788- -0x140,_0xdf9c5f);}const _0x14dd4c=_0x1c3ab5[_0x20407a(0x283,0x23e,0x2d8,0x2da)+_0x20407a(0x292,0x29b,0x26b,0x272)+_0x2d3ac7(0x5d,0x79,-0xe,0x2d)];if(!_0x14dd4c||!_0x1c3ab5[_0x2d3ac7(0x32,0x86,0x13,0x2a)+_0x20407a(0x292,0x2d4,0x2dc,0x2c9)+'ts'][_0x14dd4c]){_0x3fec65['LPFTz'](alert,'没有活动的\x20Bana'+_0x2d3ac7(-0x16,-0x2c,0x41,-0x3)+_0x20407a(0x299,0x299,0x24e,0x27c)+'新预设。');return;}stylishConfirm(_0x2d3ac7(0x69,0x3a,0x30,0xc)+'nana\x20角色预设\x20'+'\x22'+_0x14dd4c+_0x2d3ac7(-0x56,-0x58,-0x64,-0x54))[_0x2d3ac7(-0x1c,-0x6c,-0x18,-0xc)](_0x383a12=>{function _0x2efe57(_0x113c43,_0x1102fe,_0x39a3ef,_0x23f872){return _0x20407a(_0x23f872- -0x292,_0x1102fe,_0x39a3ef-0x1f2,_0x23f872-0x75);}function _0x3bc3cb(_0x4aea2f,_0x38a246,_0x811fec,_0x5f1599){return _0x20407a(_0x5f1599- -0x498,_0x38a246,_0x811fec-0x10b,_0x5f1599-0xcf);}_0x383a12&&(saveCurrentBananaCharacterData(_0x14dd4c),alert(_0x3bc3cb(-0x19a,-0x1b4,-0x208,-0x1ee)+_0x2efe57(0x28,0x23,-0x59,-0x19)+_0x14dd4c+_0x2efe57(-0x65,-0x5b,-0x39,-0x95)));});}function saveBananaCharacterPresetAs(){const _0xc08210={'eNgec':function(_0x56ceda,_0x13d5e2){return _0x56ceda!==_0x13d5e2;},'WAOSW':function(_0x486b0c,_0x4add64){return _0x486b0c(_0x4add64);},'TqBpz':function(_0x29e9ad){return _0x29e9ad();},'tbMuO':function(_0x3ca54d,_0x2b961e){return _0x3ca54d===_0x2b961e;},'OsXCA':_0x39f706(0x151,0x1ab,0x1e6,0x206)};function _0xffffc4(_0x4f3148,_0x39eb46,_0x49e43f,_0x4df5e2){return _0x4439(_0x4df5e2- -0x17e,_0x49e43f);}function _0x39f706(_0x45fda2,_0x426729,_0x38b3d5,_0x4ba157){return _0x4439(_0x426729-0x14,_0x38b3d5);}_0xc08210[_0xffffc4(-0x19,-0x4e,-0xe,-0x5a)](stylInput,_0xffffc4(0x23,-0x3,-0x18,-0x23)+_0x39f706(0x108,0x117,0xc8,0xbb))[_0x39f706(0x148,0x148,0x127,0x143)](_0xd55852=>{function _0x2b3ade(_0x3404ea,_0x4ca919,_0x212121,_0x5b3ca5){return _0x39f706(_0x3404ea-0x132,_0x3404ea-0x326,_0x4ca919,_0x5b3ca5-0x1e9);}function _0x245929(_0x3feea1,_0x2fb823,_0x3a0772,_0x424937){return _0x39f706(_0x3feea1-0x1ef,_0x424937- -0x219,_0x3a0772,_0x424937-0xc2);}if(_0xd55852&&_0xd55852[_0x2b3ade(0x4b0,0x490,0x468,0x4cd)]()!==''){if(_0xc08210[_0x2b3ade(0x466,0x428,0x464,0x4ba)](_0x2b3ade(0x475,0x4a6,0x4bc,0x48f),_0xc08210['OsXCA'])){if(_0x207d84&&_0xc08210[_0x2b3ade(0x4be,0x50e,0x51c,0x48b)](_0x3a679e['trim'](),'')){const _0x4ffc5c=_0x2a3c12[_0x730ef0];_0xc08210[_0x245929(-0xdb,-0x10a,-0x130,-0xe1)](_0x150985,_0xdffcfc),_0x4ffc5c[_0x245929(-0x89,-0xb3,-0x55,-0x9b)+_0x2b3ade(0x4b3,0x4d1,0x4df,0x4e5)+_0x245929(-0x4c,-0xad,-0x8d,-0x98)]=_0x3ce9b7,_0xc08210[_0x2b3ade(0x4af,0x4bb,0x4a1,0x4f2)](_0x4abff7),_0x23af88(_0x245929(-0x8f,-0x3a,-0x3c,-0x74)+_0x2b3ade(0x49a,0x43b,0x4ef,0x449)+_0x31697a+_0x2b3ade(0x489,0x437,0x4a9,0x4e8));}}else{const _0xdedf1f=extension_settings[extensionName];_0xc08210['WAOSW'](saveCurrentBananaCharacterData,_0xd55852),_0xdedf1f['bananaChar'+_0x245929(-0x2b,-0x30,-0x61,-0x8c)+_0x2b3ade(0x4a7,0x4cb,0x4bb,0x506)]=_0xd55852,loadBananaCharacterPresetList(),_0xc08210[_0x2b3ade(0x45e,0x45f,0x42a,0x40b)](alert,_0x245929(-0x1b,-0x6c,-0xa3,-0x74)+_0x245929(-0xde,-0xae,-0x7e,-0xa5)+_0xd55852+_0x245929(-0xae,-0x83,-0xdb,-0xb6));}}});}async function saveCurrentBananaCharacterData(_0x1486ce){const _0x19df62={'EFOqL':_0x176b37(0x3fb,0x436,0x410,0x45b),'KnzPD':_0x42b6d3(-0x2d4,-0x302,-0x275,-0x2e4)+_0x176b37(0x465,0x458,0x3bf,0x418)+'ge','dJDnf':_0x42b6d3(-0x2d4,-0x275,-0x28b,-0x30a)+'r_model_im'+_0x42b6d3(-0x24a,-0x250,-0x263,-0x28e),'dVSVk':_0x42b6d3(-0x277,-0x26f,-0x229,-0x294),'UStxh':function(_0x2b70ed,_0x42bc19){return _0x2b70ed(_0x42bc19);},'cYytj':function(_0x5d60af,_0x18efe3){return _0x5d60af!==_0x18efe3;},'BDExW':_0x42b6d3(-0x2e9,-0x347,-0x2d6,-0x2da),'VCsCA':'cfgimg_','UGGrk':function(_0x4eb266,_0x14107e){return _0x4eb266===_0x14107e;},'hFlQa':_0x42b6d3(-0x2cd,-0x2e4,-0x2a1,-0x288),'KrVTK':function(_0x110bb7,_0x3db64a){return _0x110bb7(_0x3db64a);},'RADYU':function(_0x1fbb7f,_0x229a83){return _0x1fbb7f(_0x229a83);},'Bllxi':_0x42b6d3(-0x279,-0x2ae,-0x268,-0x2d2)+_0x176b37(0x3e8,0x3fe,0x453,0x43b)+'型图片已保存:','FIrBB':_0x42b6d3(-0x2d4,-0x317,-0x2d7,-0x318)+'r_triggers','RWaMU':'banana_cha'+_0x42b6d3(-0x263,-0x267,-0x277,-0x21b)+'t','fFAQb':_0x42b6d3(-0x2d4,-0x280,-0x322,-0x317)+_0x176b37(0x4a3,0x47e,0x45f,0x4bc)+'xt','LPcPK':function(_0x4dd94c){return _0x4dd94c();}},_0x3b175d=extension_settings[extensionName];function _0x176b37(_0x508aa4,_0x556374,_0x41ae56,_0xf86067){return _0x4439(_0xf86067-0x333,_0x508aa4);}const _0x542f08=_0x3b175d[_0x42b6d3(-0x267,-0x259,-0x219,-0x27f)+_0x42b6d3(-0x258,-0x233,-0x240,-0x238)+'ts'][_0x1486ce],_0x2fd9e1=document[_0x176b37(0x3c6,0x442,0x440,0x411)+_0x176b37(0x48d,0x4ac,0x40d,0x461)](_0x19df62[_0x42b6d3(-0x2c6,-0x268,-0x323,-0x2e3)])[_0x42b6d3(-0x2c4,-0x2a1,-0x2fe,-0x2a0)],_0x178305=document['getElement'+'ById'](_0x19df62[_0x176b37(0x43f,0x464,0x447,0x485)])['src'],_0x5879e4=_0x542f08?.[_0x176b37(0x463,0x45d,0x46d,0x4bf)+'on']?.[_0x42b6d3(-0x2c1,-0x276,-0x323,-0x2cd)]?.[_0x42b6d3(-0x26e,-0x284,-0x25d,-0x297)]||'';function _0x42b6d3(_0x304041,_0x2cff2a,_0x144f40,_0x3a94dc){return _0x4439(_0x304041- -0x3d1,_0x2cff2a);}const _0x4072c5=_0x542f08?.[_0x176b37(0x4ee,0x4ad,0x4e6,0x4bf)+'on']?.[_0x176b37(0x44e,0x3ef,0x458,0x407)]?.[_0x176b37(0x4ca,0x4c8,0x4aa,0x496)]||'';let _0x256099='',_0x2d964f='';_0x2fd9e1['startsWith'](_0x19df62[_0x176b37(0x4dd,0x47c,0x469,0x49b)])&&(_0x5879e4&&_0x5879e4[_0x42b6d3(-0x289,-0x260,-0x2c7,-0x272)](_0x42b6d3(-0x297,-0x2d6,-0x245,-0x27e))&&await deleteConfigImage(_0x5879e4)[_0x176b37(0x468,0x470,0x4ce,0x492)](_0x246560=>console[_0x42b6d3(-0x254,-0x27c,-0x295,-0x271)](_0x42b6d3(-0x279,-0x2cb,-0x2c8,-0x239)+_0x42b6d3(-0x2f1,-0x327,-0x328,-0x2f8)+'败:',_0x246560)),_0x256099=await _0x19df62['UStxh'](saveConfigImage,_0x2fd9e1),console[_0x42b6d3(-0x2d8,-0x32e,-0x290,-0x2bd)](_0x176b37(0x49d,0x461,0x478,0x48b)+_0x42b6d3(-0x265,-0x227,-0x286,-0x207)+'户图片已保存:',_0x256099));if(_0x178305['startsWith'](_0x19df62[_0x176b37(0x4d2,0x4fb,0x459,0x49b)])){if(_0x19df62[_0x176b37(0x494,0x4e4,0x452,0x490)](_0x42b6d3(-0x2e9,-0x2e8,-0x2cc,-0x334),_0x19df62[_0x42b6d3(-0x28b,-0x294,-0x2e9,-0x278)])){const _0x2ef129=_0x63f231[_0x42b6d3(-0x273,-0x2bd,-0x276,-0x221)](_0x4ed816,arguments);return _0x49dbc7=null,_0x2ef129;}else{if(_0x4072c5&&_0x4072c5[_0x42b6d3(-0x289,-0x2e7,-0x2d7,-0x2b8)](_0x19df62[_0x176b37(0x4bf,0x4c5,0x519,0x4bb)])){if(_0x19df62[_0x176b37(0x401,0x41c,0x43a,0x439)](_0x42b6d3(-0x2af,-0x293,-0x272,-0x29d),_0x19df62[_0x176b37(0x47b,0x448,0x445,0x4a6)])){const _0x23fc57='1|2|0|4|3'['split']('|');let _0x3f997b=-0x3*-0x1b1+0x2250+-0x2763;while(!![]){switch(_0x23fc57[_0x3f997b++]){case'0':_0x3be52e[_0x176b37(0x470,0x48b,0x45e,0x45e)][_0x42b6d3(-0x292,-0x24d,-0x24b,-0x26e)]='block';continue;case'1':_0x4944df[_0x176b37(0x495,0x42a,0x43d,0x440)]='';continue;case'2':_0x42b469[_0x176b37(0x470,0x451,0x401,0x45e)][_0x42b6d3(-0x292,-0x294,-0x2cb,-0x2ce)]=_0x176b37(0x453,0x49f,0x442,0x45b);continue;case'3':_0x35df4f[_0x176b37(0x432,0x3fa,0x435,0x42f)]='';continue;case'4':_0x2aad97['style']['display']=_0x19df62[_0x42b6d3(-0x278,-0x2b4,-0x2d7,-0x27c)];continue;}break;}}else await _0x19df62[_0x42b6d3(-0x2ca,-0x2be,-0x29a,-0x270)](deleteConfigImage,_0x4072c5)[_0x42b6d3(-0x272,-0x263,-0x23a,-0x218)](_0x29f2af=>console[_0x176b37(0x4be,0x483,0x4da,0x4b0)]('[Character'+']\x20删除旧模型图片失'+'败:',_0x29f2af));}_0x2d964f=await _0x19df62[_0x176b37(0x450,0x460,0x449,0x459)](saveConfigImage,_0x178305),console[_0x176b37(0x433,0x3d5,0x427,0x42c)](_0x19df62[_0x42b6d3(-0x262,-0x20c,-0x254,-0x27d)],_0x2d964f);}}const _0x191388={'triggers':document[_0x176b37(0x3d0,0x471,0x454,0x411)+_0x176b37(0x437,0x45e,0x472,0x461)](_0x19df62[_0x176b37(0x3d7,0x426,0x438,0x42e)])[_0x176b37(0x491,0x3ef,0x416,0x42f)],'conversation':{'user':{'text':document[_0x42b6d3(-0x2f3,-0x2da,-0x294,-0x33c)+'ById'](_0x19df62[_0x176b37(0x468,0x4ee,0x4d7,0x4c1)])[_0x176b37(0x3dd,0x435,0x41f,0x42f)],'imageId':_0x256099},'model':{'text':document[_0x42b6d3(-0x2f3,-0x33a,-0x2c4,-0x302)+_0x176b37(0x43f,0x43c,0x426,0x461)](_0x19df62[_0x42b6d3(-0x250,-0x238,-0x260,-0x242)])[_0x42b6d3(-0x2d5,-0x310,-0x316,-0x2d8)],'imageId':_0x2d964f}}};_0x3b175d[_0x176b37(0x493,0x4d5,0x4b2,0x49d)+'acterPrese'+'ts'][_0x1486ce]=_0x191388,_0x19df62[_0x176b37(0x51f,0x4b1,0x497,0x4c9)](saveSettingsDebounced);}async function deleteBananaCharacterPreset(){const _0x447153={'YusLi':function(_0x58ad9a,_0x1f9c75){return _0x58ad9a(_0x1f9c75);},'wGtcX':function(_0x5d796b,_0x357828){return _0x5d796b(_0x357828);},'zjhxn':function(_0x5c2570,_0x5ba459){return _0x5c2570(_0x5ba459);},'ZgduS':function(_0x577970,_0x19ee87){return _0x577970(_0x19ee87);},'ENOfc':_0x2463bf(0x162,0x1d4,0x1c4,0x185)+_0x2463bf(0x1aa,0x1dc,0x1df,0x17d)+'d','rQbeI':function(_0x554cd4,_0x354e4a){return _0x554cd4<=_0x354e4a;},'NTDEv':function(_0xb7cff0,_0x550085){return _0xb7cff0===_0x550085;},'aqRwO':'HjUla','sjLSy':function(_0x452eeb,_0x1b6876){return _0x452eeb(_0x1b6876);},'PqhFH':_0x2463bf(0x211,0x225,0x22e,0x282)+'。','sBiQC':function(_0x561fbf,_0x4f6c98){return _0x561fbf(_0x4f6c98);},'nAoTu':_0x2463bf(0x239,0x1a5,0x201,0x259),'buRlO':function(_0x3c2be8,_0x33398c){return _0x3c2be8(_0x33398c);},'bVlia':function(_0x45e18a){return _0x45e18a();}},_0x4c42b1=extension_settings[extensionName],_0xbb15af=document[_0x2463bf(0x16d,0x14c,0x1a5,0x14a)+_0x2463bf(0x205,0x1cb,0x1f5,0x256)](_0x447153['ENOfc'])?.['value'];function _0x2463bf(_0x4ecc9f,_0x4c016a,_0x3d418c,_0x19b277){return _0x4439(_0x3d418c-0xc7,_0x19b277);}function _0x52d22d(_0x19afb6,_0x2d4a8c,_0x4c54a6,_0x4129bf){return _0x4439(_0x4c54a6- -0x304,_0x2d4a8c);}if(_0x447153[_0x52d22d(-0x1f7,-0x23b,-0x1e5,-0x1dd)](Object[_0x2463bf(0x179,0x17e,0x1b0,0x169)](_0x4c42b1['bananaChar'+_0x52d22d(-0x1b6,-0x183,-0x18b,-0x196)+'ts'])[_0x2463bf(0x24d,0x218,0x1fd,0x1d3)],0x9f*0x4+-0x12fd*0x1+0x1082)){if(_0x447153[_0x2463bf(0x207,0x1ac,0x1b7,0x18b)](_0x2463bf(0x15c,0x173,0x1a0,0x1c8),_0x447153[_0x52d22d(-0x1f2,-0x1d3,-0x1a3,-0x154)])){const _0x113c12=_0x458da8[_0x19aaeb],_0x1dbcbf=_0x113c12[_0x52d22d(-0x1e0,-0x1af,-0x19a,-0x1fb)+_0x52d22d(-0x146,-0x13c,-0x18b,-0x14f)+'tId'];if(!_0x1dbcbf||!_0x113c12['bananaChar'+_0x52d22d(-0x13b,-0x174,-0x18b,-0x18d)+'ts'][_0x1dbcbf]){_0x447153['zjhxn'](_0x138042,'没有活动的\x20Bana'+'na\x20角色预设可保存'+'。请先\x22另存为\x22一个'+_0x52d22d(-0x1bc,-0x1e5,-0x1b1,-0x1b7));return;}_0x447153[_0x2463bf(0x18d,0x1c2,0x19f,0x17e)](_0x215f3a,_0x2463bf(0x24e,0x24d,0x213,0x1ea)+_0x2463bf(0x20f,0x265,0x223,0x1e0)+'\x22'+_0x1dbcbf+_0x52d22d(-0x1c8,-0x1dd,-0x218,-0x24e))['then'](_0x59e664=>{function _0x298019(_0x1f5cc1,_0x5790e2,_0x3333b5,_0x424959){return _0x52d22d(_0x1f5cc1-0x2e,_0x5790e2,_0x424959-0x3ea,_0x424959-0x171);}function _0x1c294e(_0xf5a96b,_0x66e160,_0x108aa9,_0x5152fa){return _0x52d22d(_0xf5a96b-0x1bb,_0x5152fa,_0xf5a96b- -0xad,_0x5152fa-0x90);}_0x59e664&&(_0x447153[_0x298019(0x1df,0x191,0x1ea,0x1e5)](_0x1e4197,_0x1dbcbf),_0x447153[_0x1c294e(-0x2d2,-0x31d,-0x2d6,-0x2ac)](_0x53644b,_0x1c294e(-0x220,-0x1f4,-0x255,-0x210)+'设\x20\x22'+_0x1dbcbf+_0x1c294e(-0x2cd,-0x302,-0x2fa,-0x282)));});}else{_0x447153[_0x52d22d(-0x1d3,-0x1d0,-0x172,-0x1be)](alert,_0x447153['PqhFH']);return;}}const _0x2cf685=await _0x447153[_0x52d22d(-0x1be,-0x237,-0x20d,-0x262)](stylishConfirm,_0x52d22d(-0x1d9,-0x1a9,-0x1a0,-0x19c)+_0x2463bf(0x1e1,0x268,0x223,0x1f4)+'\x22'+_0xbb15af+'\x22');if(_0x2cf685){const _0x4a747b=_0x4c42b1['bananaChar'+_0x2463bf(0x217,0x237,0x240,0x269)+'ts'][_0xbb15af];_0x4a747b?.[_0x52d22d(-0x1a2,-0x19e,-0x178,-0x198)+'on']?.[_0x2463bf(0x22b,0x205,0x1d7,0x1d3)]?.[_0x52d22d(-0x142,-0x19a,-0x1a1,-0x1f8)]&&_0x4a747b[_0x2463bf(0x25c,0x251,0x253,0x285)+'on'][_0x52d22d(-0x22e,-0x22c,-0x1f4,-0x1b8)][_0x2463bf(0x1d6,0x22c,0x22a,0x234)][_0x52d22d(-0x20d,-0x209,-0x1bc,-0x17f)](_0x52d22d(-0x1c9,-0x177,-0x1ca,-0x1ce))&&await _0x447153[_0x52d22d(-0x262,-0x1f0,-0x22c,-0x22d)](deleteConfigImage,_0x4a747b[_0x2463bf(0x21b,0x2af,0x253,0x27e)+'on'][_0x2463bf(0x17e,0x19a,0x1d7,0x1dd)][_0x2463bf(0x1fc,0x1fc,0x22a,0x1fb)])['catch'](_0x24c798=>console[_0x2463bf(0x1f0,0x26f,0x244,0x252)](_0x52d22d(-0x194,-0x1c1,-0x1ac,-0x1c1)+']\x20删除用户图片失败'+':',_0x24c798)),_0x4a747b?.[_0x2463bf(0x284,0x29e,0x253,0x24e)+'on']?.[_0x2463bf(0x169,0x18d,0x19b,0x1a5)]?.['imageId']&&_0x4a747b[_0x2463bf(0x1f3,0x26f,0x253,0x241)+'on'][_0x2463bf(0x177,0x14b,0x19b,0x177)]['imageId'][_0x52d22d(-0x1ac,-0x215,-0x1bc,-0x1ad)](_0x447153[_0x2463bf(0x185,0x1b5,0x1d0,0x1c0)])&&await _0x447153[_0x52d22d(-0x237,-0x1e4,-0x1e4,-0x1fe)](deleteConfigImage,_0x4a747b[_0x2463bf(0x23e,0x1f2,0x253,0x233)+'on'][_0x2463bf(0x1b0,0x141,0x19b,0x15a)]['imageId'])['catch'](_0x263d5a=>console[_0x2463bf(0x1ff,0x274,0x244,0x245)](_0x2463bf(0x21d,0x22c,0x21f,0x21a)+_0x2463bf(0x2a7,0x235,0x256,0x20a)+':',_0x263d5a)),delete _0x4c42b1[_0x2463bf(0x267,0x240,0x231,0x290)+_0x52d22d(-0x1cd,-0x1d5,-0x18b,-0x146)+'ts'][_0xbb15af],_0x4c42b1[_0x2463bf(0x28b,0x280,0x231,0x1e5)+_0x2463bf(0x22b,0x1eb,0x240,0x253)+_0x2463bf(0x257,0x24b,0x234,0x26e)]=Object[_0x2463bf(0x1bb,0x17e,0x1b0,0x16d)](_0x4c42b1['bananaChar'+'acterPrese'+'ts'])[-0x273+-0x2331+0x25a4],loadBananaCharacterPresetList(),await _0x447153['bVlia'](loadBananaCharacterPreset),_0x447153['bVlia'](saveSettingsDebounced);}}const setupBananaImageUpload=_0x1c477c=>{const _0x287ce3={'qqWEb':function(_0x4710d0,_0x34afef){return _0x4710d0!==_0x34afef;},'XnWRz':'none','UgZSY':_0x10cd71(0x4c0,0x4fb,0x4ab,0x503),'DjAiU':function(_0x36aa88,_0x50b447){return _0x36aa88(_0x50b447);},'BTjoY':function(_0x54ed17,_0x3d5ef2){return _0x54ed17!==_0x3d5ef2;},'pBegq':_0x4a9a38(0x2e4,0x2fd,0x337,0x2bb),'wkllW':_0x10cd71(0x4b7,0x477,0x466,0x465),'cDYBo':_0x10cd71(0x4fe,0x47e,0x4cc,0x4b5),'RClpS':_0x4a9a38(0x2c3,0x2ac,0x31e,0x2b0),'sGrPI':_0x10cd71(0x49b,0x49d,0x477,0x42d)},_0x4a3274=document[_0x10cd71(0x428,0x476,0x468,0x4c6)+'ById'](_0x4a9a38(0x2cc,0x30c,0x2aa,0x312)+'r_'+_0x1c477c+(_0x10cd71(0x482,0x455,0x4ad,0x490)+_0x4a9a38(0x2ba,0x2e6,0x2ee,0x26c)));function _0x10cd71(_0x40f565,_0x2df81b,_0x422a85,_0x37647b){return _0x4439(_0x422a85-0x38a,_0x40f565);}function _0x4a9a38(_0x585435,_0x3931f0,_0x4faf29,_0x5d5a1f){return _0x4439(_0x585435-0x1cf,_0x4faf29);}const _0x4778a6=document[_0x4a9a38(0x2ad,0x2d9,0x277,0x2a9)+_0x4a9a38(0x2fd,0x32f,0x2c9,0x319)]('banana_cha'+'r_'+_0x1c477c+_0x4a9a38(0x304,0x2fe,0x357,0x2b9)),_0x2e03e7=_0x4a3274[_0x10cd71(0x527,0x4a4,0x4d5,0x516)+'tor'](_0x4a9a38(0x2e8,0x32c,0x29f,0x32a)+_0x10cd71(0x4e2,0x468,0x4c1,0x4fd)+_0x10cd71(0x515,0x4f6,0x4ef,0x502)),_0x461873=document['getElement'+_0x10cd71(0x458,0x481,0x4b8,0x4da)](_0x10cd71(0x498,0x436,0x487,0x495)+'r_'+_0x1c477c+(_0x10cd71(0x513,0x517,0x50f,0x522)+_0x4a9a38(0x308,0x362,0x315,0x355))),_0x5eb48d=document[_0x10cd71(0x48a,0x492,0x468,0x494)+_0x10cd71(0x518,0x48e,0x4b8,0x4f0)](_0x10cd71(0x436,0x48b,0x487,0x472)+'r_'+_0x1c477c+(_0x4a9a38(0x352,0x30e,0x364,0x394)+'ut'));if(!_0x4a3274||!_0x4778a6||!_0x2e03e7||!_0x461873||!_0x5eb48d)return;_0x4a3274[_0x10cd71(0x457,0x459,0x47b,0x4a8)+_0x4a9a38(0x318,0x331,0x2f1,0x2b7)](_0x287ce3[_0x10cd71(0x475,0x508,0x4d1,0x4b8)],_0xffc031=>{function _0x3df8fa(_0x4580b7,_0x15bf44,_0xcbf749,_0x55253e){return _0x4a9a38(_0x15bf44- -0xd3,_0x15bf44-0x2a,_0xcbf749,_0x55253e-0x33);}function _0x42c206(_0x5e8e58,_0x336b25,_0x35bc99,_0x4f2160){return _0x4a9a38(_0x35bc99-0x196,_0x336b25-0x188,_0x336b25,_0x4f2160-0x16e);}_0x287ce3[_0x3df8fa(0x20a,0x26c,0x28e,0x266)](_0xffc031[_0x42c206(0x49d,0x3fd,0x458,0x46f)],_0x461873)&&!_0x461873[_0x3df8fa(0x1f7,0x238,0x273,0x1ec)](_0xffc031[_0x3df8fa(0x212,0x1ef,0x1b8,0x1cc)])&&_0x5eb48d[_0x3df8fa(0x1e5,0x1e9,0x19c,0x1b0)]();}),_0x5eb48d[_0x4a9a38(0x2c0,0x29c,0x305,0x311)+_0x4a9a38(0x318,0x316,0x307,0x340)](_0x10cd71(0x476,0x4b1,0x4a4,0x47e),()=>{const _0x44b55d={};_0x44b55d[_0x5ea50e(-0x1e3,-0x243,-0x24d,-0x278)]=_0x287ce3[_0x1d6908(-0x153,-0x106,-0x132,-0x128)];function _0x5ea50e(_0x1ed894,_0x2381f3,_0x1e9e3a,_0x45ea95){return _0x10cd71(_0x1e9e3a,_0x2381f3-0x5d,_0x2381f3- -0x741,_0x45ea95-0x70);}_0x44b55d[_0x5ea50e(-0x29c,-0x245,-0x27b,-0x282)]=_0x5ea50e(-0x292,-0x2c3,-0x2fb,-0x2bd);function _0x1d6908(_0x472c51,_0x3cc2ae,_0x27da4c,_0x57e61f){return _0x10cd71(_0x27da4c,_0x3cc2ae-0x34,_0x3cc2ae- -0x5a1,_0x57e61f-0x17d);}const _0x470bfc=_0x44b55d;if(_0x5eb48d[_0x1d6908(-0x7c,-0xa0,-0xdf,-0x5c)]&&_0x5eb48d[_0x1d6908(-0x64,-0xa0,-0xc8,-0xc6)][-0x268d+0x1cda+-0xbf*-0xd]){if(_0x287ce3['UgZSY']!==_0x287ce3['UgZSY']){const _0x1ddb73=_0x204eb2['createElem'+_0x5ea50e(-0x23b,-0x286,-0x2e8,-0x233)](_0x5ea50e(-0x292,-0x287,-0x284,-0x2d9));_0x1ddb73[_0x1d6908(-0xe2,-0x11b,-0xd4,-0x121)]=_0x3a6bfe,_0x1ddb73[_0x1d6908(-0xdb,-0x121,-0x12b,-0x173)+'t']=_0x330d1d,_0x324da1[_0x5ea50e(-0x28f,-0x2dd,-0x2e7,-0x2dc)](_0x1ddb73);}else{const _0x525d0b=new FileReader();_0x525d0b['onload']=_0x5e9f98=>{_0x4778a6[_0x2cb78d(0x98,0x2c,0x42,0x88)]=_0x5e9f98[_0x2cb78d(0x54,0xac,0xc7,0x6e)][_0x381bd2(0x39e,0x363,0x347,0x33d)];function _0x381bd2(_0x3ffbe1,_0x51deaa,_0x557b88,_0x2c0dac){return _0x5ea50e(_0x3ffbe1-0x14e,_0x2c0dac-0x5e5,_0x3ffbe1,_0x2c0dac-0x5d);}_0x4778a6['style'][_0x2cb78d(0xe3,0xc7,0x111,0xba)]='block',_0x2e03e7[_0x381bd2(0x399,0x39c,0x3a9,0x359)][_0x2cb78d(0x100,0xa4,0xdf,0xba)]=_0x470bfc['TAOHW'];function _0x2cb78d(_0x3e3da2,_0x28c058,_0x143e8d,_0x2d6f4a){return _0x1d6908(_0x3e3da2-0x15a,_0x2d6f4a-0x192,_0x3e3da2,_0x2d6f4a-0xc5);}_0x461873[_0x381bd2(0x31c,0x358,0x35f,0x359)]['display']=_0x470bfc[_0x2cb78d(0xb0,0x149,0x142,0xed)];},_0x525d0b['readAsData'+_0x5ea50e(-0x27f,-0x267,-0x258,-0x28f)](_0x5eb48d[_0x5ea50e(-0x1e3,-0x240,-0x29d,-0x1f4)][0x2212+0x3*-0x8f2+-0x73c]);}}}),_0x461873[_0x10cd71(0x465,0x43a,0x47b,0x44a)+'stener'](_0x287ce3[_0x4a9a38(0x316,0x332,0x307,0x30a)],()=>{function _0x2f27f9(_0x16a1ef,_0x5eecca,_0x26a700,_0x42d41f){return _0x10cd71(_0x16a1ef,_0x5eecca-0x9c,_0x26a700- -0x31a,_0x42d41f-0xec);}const _0x51eb7b={'cypIA':function(_0x281004,_0x4d1845){return _0x287ce3['DjAiU'](_0x281004,_0x4d1845);}};function _0x53277e(_0x53bd93,_0x2736bc,_0xcc4530,_0x52ce78){return _0x10cd71(_0x52ce78,_0x2736bc-0x138,_0x53bd93- -0x509,_0x52ce78-0x13c);}if(_0x287ce3['BTjoY'](_0x287ce3['pBegq'],_0x287ce3[_0x2f27f9(0x13c,0x181,0x151,0x18b)])){const _0x5eaf20=_0x287ce3['cDYBo'][_0x2f27f9(0x25a,0x1c4,0x1fd,0x20e)]('|');let _0x48d90e=0x809+-0x1*-0x827+-0x25*0x70;while(!![]){switch(_0x5eaf20[_0x48d90e++]){case'0':_0x461873[_0x53277e(-0x54,-0x71,0x8,-0xa6)][_0x2f27f9(0x204,0x197,0x1af,0x1e1)]=_0x53277e(-0x57,-0x74,-0xaf,-0x1b);continue;case'1':_0x4778a6[_0x2f27f9(0x1d1,0x169,0x19b,0x17d)][_0x53277e(-0x40,-0x69,-0x70,-0x75)]=_0x287ce3[_0x53277e(-0x6e,-0x77,-0x89,-0x50)];continue;case'2':_0x5eb48d[_0x53277e(-0x83,-0xdc,-0xe4,-0xc8)]='';continue;case'3':_0x2e03e7[_0x2f27f9(0x13b,0x1d1,0x19b,0x146)][_0x2f27f9(0x1f0,0x1a5,0x1af,0x1fa)]=_0x287ce3[_0x53277e(-0x1d,-0x73,0x43,-0x6a)];continue;case'4':_0x4778a6[_0x53277e(-0x72,-0x9b,-0x5d,-0x86)]='';continue;}break;}}else _0x3f11ec(_0x59a72e),_0x51eb7b['cypIA'](_0xf46c4f,_0x2f27f9(0x1b1,0x22e,0x201,0x1db)+_0x2f27f9(0x1b7,0x1cc,0x1d0,0x1d2)+_0x2b7576+_0x2f27f9(0x107,0x196,0x154,0x15e));});},updateBananaImageUI=(_0x3899db,_0x3e773c)=>{const _0x5a1647={};function _0x39432b(_0x413ffc,_0x58f75d,_0x477be6,_0x1d85f2){return _0x4439(_0x413ffc- -0x302,_0x477be6);}_0x5a1647[_0x32b3e2(0xd8,0xca,0x80,0xb1)]=function(_0x226c2a,_0x151f53){return _0x226c2a||_0x151f53;};function _0x32b3e2(_0x4f3597,_0x1d181a,_0xeafc2a,_0x2c872b){return _0x4439(_0x2c872b- -0xc9,_0x1d181a);}_0x5a1647[_0x39432b(-0x204,-0x1d5,-0x247,-0x1fa)]=_0x39432b(-0x1e9,-0x238,-0x1bf,-0x1c7)+'-image-pla'+_0x39432b(-0x19d,-0x19d,-0x1a9,-0x17c),_0x5a1647[_0x32b3e2(0x63,0x6a,0x5f,0x49)]='block',_0x5a1647[_0x32b3e2(0x6b,0x72,0x30,0x12)]=_0x39432b(-0x1da,-0x20f,-0x1d1,-0x1a7);const _0x4afb1a=_0x5a1647,_0x48c271=document[_0x39432b(-0x224,-0x1f7,-0x1c5,-0x21d)+_0x39432b(-0x1d4,-0x1ae,-0x221,-0x195)]('banana_cha'+'r_'+_0x3899db+_0x39432b(-0x1cd,-0x202,-0x19d,-0x1de)),_0x43090e=document['getElement'+_0x32b3e2(0x81,0xbd,0xaa,0x65)](_0x39432b(-0x205,-0x232,-0x1d8,-0x1ed)+'r_'+_0x3899db+(_0x39432b(-0x1df,-0x1c3,-0x1f7,-0x206)+_0x39432b(-0x217,-0x20d,-0x1f0,-0x1f4)));if(_0x4afb1a[_0x32b3e2(0x8b,0xc6,0xc1,0xb1)](!_0x48c271,!_0x43090e))return;const _0x18a821=_0x43090e[_0x39432b(-0x1b7,-0x179,-0x20f,-0x1e4)+_0x39432b(-0x1ae,-0x1b9,-0x15c,-0x1ab)](_0x4afb1a['gvyZN']),_0x4391fe=document[_0x32b3e2(0x4,-0x26,0x9,0x15)+_0x32b3e2(0xbc,0x69,0x24,0x65)](_0x39432b(-0x205,-0x20c,-0x1b7,-0x217)+'r_'+_0x3899db+(_0x39432b(-0x17d,-0x161,-0x1d6,-0x178)+'ove'));_0x3e773c?(_0x48c271['src']=_0x3e773c,_0x48c271['style'][_0x32b3e2(0x5f,0xb8,0xb9,0x76)]=_0x4afb1a[_0x32b3e2(-0x3,0x36,0x37,0x49)],_0x18a821[_0x39432b(-0x1d7,-0x1d1,-0x1f7,-0x202)][_0x39432b(-0x1c3,-0x1d7,-0x168,-0x1e5)]=_0x4afb1a['wtubt'],_0x4391fe[_0x32b3e2(0x92,0xc1,0x28,0x62)][_0x39432b(-0x1c3,-0x1a6,-0x192,-0x166)]=_0x4afb1a[_0x39432b(-0x1f0,-0x1e8,-0x24d,-0x224)]):(_0x48c271[_0x32b3e2(-0x12,0x29,-0x18,0x44)]='',_0x48c271[_0x39432b(-0x1d7,-0x1ce,-0x1c5,-0x1be)][_0x32b3e2(0x7a,0xaa,0x74,0x76)]=_0x32b3e2(0xa4,0x29,0xae,0x5f),_0x18a821[_0x32b3e2(0xa4,0x69,0x49,0x62)][_0x32b3e2(0x21,0x5e,0x8a,0x76)]=_0x4afb1a[_0x39432b(-0x1f0,-0x1c6,-0x1be,-0x1a9)],_0x4391fe[_0x39432b(-0x1d7,-0x1c5,-0x1a8,-0x1b8)][_0x39432b(-0x1c3,-0x1ee,-0x1b5,-0x202)]=_0x4afb1a[_0x39432b(-0x227,-0x1d4,-0x249,-0x1d2)]);};
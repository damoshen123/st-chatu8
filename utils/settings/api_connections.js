(function(_0x2844b9,_0x3dcf30){function _0x453d00(_0x343e2e,_0x1cf7b7,_0x4d93d5,_0x4751b8){return _0x3ca1(_0x1cf7b7- -0x363,_0x343e2e);}const _0x18cb31=_0x2844b9();function _0x20ee01(_0x13f204,_0x5530c9,_0x334f23,_0x3e7b02){return _0x3ca1(_0x5530c9-0x74,_0x334f23);}while(!![]){try{const _0x4cf109=-parseInt(_0x20ee01(0x24a,0x1db,0x186,0x1ca))/(0xb14+0x29*-0xb7+0x2*0x91e)*(parseInt(_0x453d00(-0x29d,-0x250,-0x2b6,-0x249))/(-0x43*-0x85+0x13ff*0x1+-0x36cc))+parseInt(_0x20ee01(0x173,0x12c,0x113,0xe2))/(0x4a*0x22+0x4*-0x8ad+0x18e3*0x1)*(-parseInt(_0x20ee01(0x110,0x17f,0x1c2,0x1d3))/(0x6de+-0x18d*0x9+0x71b))+-parseInt(_0x453d00(-0x214,-0x275,-0x2cd,-0x2ab))/(-0x1*-0x1cb3+-0x1861+-0x3*0x16f)*(-parseInt(_0x20ee01(0x211,0x1dd,0x229,0x19f))/(-0x63a+0xfb7+-0x1*0x977))+parseInt(_0x453d00(-0x27e,-0x248,-0x23c,-0x28b))/(0x2*0x7c3+0xf4*0x18+-0x265f)*(parseInt(_0x453d00(-0x30c,-0x2b5,-0x31d,-0x266))/(-0x7*-0x201+-0x1057+0x78*0x5))+parseInt(_0x453d00(-0x1dd,-0x228,-0x1d1,-0x261))/(-0xc78+-0x12a*-0x1+-0xb57*-0x1)*(parseInt(_0x453d00(-0x282,-0x2af,-0x2b3,-0x258))/(0xd7a+-0xaec+-0x284))+-parseInt(_0x453d00(-0x2a9,-0x268,-0x27e,-0x208))/(-0x5*0x787+0x2177+-0x1*-0x437)*(-parseInt(_0x453d00(-0x209,-0x249,-0x270,-0x235))/(-0x1*0x1bf6+-0x29*0xdf+0x3fb9))+-parseInt(_0x20ee01(0x186,0x1d6,0x1a9,0x210))/(0xa35+0x2ce*0x5+-0x182e);if(_0x4cf109===_0x3dcf30)break;else _0x18cb31['push'](_0x18cb31['shift']());}catch(_0x3bf37e){_0x18cb31['push'](_0x18cb31['shift']());}}}(_0x2899,0x15327+0x5741f*0x1+0x1*-0x34565));function _0x3ca1(_0x183df7,_0x3c371f){_0x183df7=_0x183df7-(-0x3*0x8ce+-0x1*0xc5e+0x275d*0x1);const _0x1a6f29=_0x2899();let _0x2bfd52=_0x1a6f29[_0x183df7];if(_0x3ca1['atNPfi']===undefined){var _0x141bb1=function(_0x5ae8fa){const _0x21f03c='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1ce2e4='',_0x4b61fe='',_0x6229b5=_0x1ce2e4+_0x141bb1;for(let _0x401e47=0x5bc*0x5+0x1003*0x2+-0x1e59*0x2,_0x533aee,_0x1d7cc2,_0x4ac251=0x26dc+-0x1e6b+0x1*-0x871;_0x1d7cc2=_0x5ae8fa['charAt'](_0x4ac251++);~_0x1d7cc2&&(_0x533aee=_0x401e47%(0x177*0x9+-0x13cf*-0x1+-0x3*0xafe)?_0x533aee*(-0x19+-0x1*0x1284+0x12dd)+_0x1d7cc2:_0x1d7cc2,_0x401e47++%(0x330*-0xb+0x3*0x6eb+0x13*0xc1))?_0x1ce2e4+=_0x6229b5['charCodeAt'](_0x4ac251+(0xaf*-0x1+0x10df*-0x1+-0x1198*-0x1))-(0x1*-0x2349+0x1d4a*0x1+0xf*0x67)!==0x2*0x4eb+0xb04+-0x14da?String['fromCharCode'](-0xc6e*-0x1+0x25cc+-0x313b&_0x533aee>>(-(-0x9*0x33f+-0x26fc+-0x1*-0x4435)*_0x401e47&0x1012+0x4*-0x3d0+-0x22*0x6)):_0x401e47:-0x9b5+-0x470*-0x1+0x545*0x1){_0x1d7cc2=_0x21f03c['indexOf'](_0x1d7cc2);}for(let _0x57047c=-0xe*0xca+0xa13+-0x1*-0xf9,_0x2a461f=_0x1ce2e4['length'];_0x57047c<_0x2a461f;_0x57047c++){_0x4b61fe+='%'+('00'+_0x1ce2e4['charCodeAt'](_0x57047c)['toString'](-0x5*-0x65b+-0x463*-0x4+-0x3143))['slice'](-(0x1fbc+-0x2*-0xd79+-0x14*0x2ef));}return decodeURIComponent(_0x4b61fe);};_0x3ca1['MKlANh']=_0x141bb1,_0x3ca1['hMElTf']={},_0x3ca1['atNPfi']=!![];}const _0x1df7a3=_0x1a6f29[0x10a*0x15+0x7*0x71+0x7*-0x38f],_0x116d8d=_0x183df7+_0x1df7a3,_0x39ad57=_0x3ca1['hMElTf'][_0x116d8d];if(!_0x39ad57){const _0x2aa489=function(_0x1c956f){this['raHHQb']=_0x1c956f,this['eSGVza']=[0x156f+0x229f+-0x380d,-0x85c+0x42b*-0x7+0x2589,0x287*0x3+-0x1cef+0x155a],this['ailRqm']=function(){return'newState';},this['NYmvAF']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['aSKIKu']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x2aa489['prototype']['sfdvLC']=function(){const _0x4ff89b=new RegExp(this['NYmvAF']+this['aSKIKu']),_0x798533=_0x4ff89b['test'](this['ailRqm']['toString']())?--this['eSGVza'][-0x1eb5+-0xe25+0x2cdb]:--this['eSGVza'][-0x22*-0xb+-0x256+-0x8*-0x1c];return this['NPmagN'](_0x798533);},_0x2aa489['prototype']['NPmagN']=function(_0x1003ee){if(!Boolean(~_0x1003ee))return _0x1003ee;return this['gDsqWH'](this['raHHQb']);},_0x2aa489['prototype']['gDsqWH']=function(_0x1b6df3){for(let _0x4061fa=-0x9ae+0x1*0x11fb+-0x84d,_0x33a8e1=this['eSGVza']['length'];_0x4061fa<_0x33a8e1;_0x4061fa++){this['eSGVza']['push'](Math['round'](Math['random']())),_0x33a8e1=this['eSGVza']['length'];}return _0x1b6df3(this['eSGVza'][0xfdb+0x10c+-0x10e7]);},new _0x2aa489(_0x3ca1)['sfdvLC'](),_0x2bfd52=_0x3ca1['MKlANh'](_0x2bfd52),_0x3ca1['hMElTf'][_0x116d8d]=_0x2bfd52;}else _0x2bfd52=_0x39ad57;return _0x2bfd52;}const _0x55e004=(function(){function _0x101da0(_0x43258b,_0x5c467e,_0x54e90b,_0x15a29d){return _0x3ca1(_0x15a29d- -0x32,_0x43258b);}const _0x342b5f={};_0x342b5f[_0x101da0(0xb3,0x73,0x1c,0x8b)]='xaqjF';function _0x559ca5(_0x49cab1,_0x5363d5,_0x58c21f,_0x423bdd){return _0x3ca1(_0x49cab1-0x183,_0x5363d5);}_0x342b5f[_0x559ca5(0x27a,0x240,0x2a6,0x224)]=function(_0x31e21a,_0x3c5c79){return _0x31e21a===_0x3c5c79;};const _0x368f58=_0x342b5f;let _0x4494c6=!![];return function(_0x457664,_0x53f37f){function _0x3d939c(_0x51a944,_0x260bbf,_0x5cf197,_0x19cc85){return _0x559ca5(_0x260bbf- -0x435,_0x5cf197,_0x5cf197-0xe1,_0x19cc85-0x1bb);}const _0x3a3ee3={'gwQMg':function(_0x5d0c08,_0x5da525){return _0x5d0c08===_0x5da525;},'yEVwy':_0x368f58['kalSH'],'lSmTE':_0xd99e4e(-0xc8,-0xd7,-0xfd,-0xef),'eAYhJ':function(_0x3016b9,_0x2dbe95){function _0x40ae4d(_0x3895ee,_0x353d61,_0x5e545a,_0x23e751){return _0xd99e4e(_0x3895ee-0x3b2,_0x353d61-0x14e,_0x353d61,_0x23e751-0x1a3);}return _0x368f58[_0x40ae4d(0x30e,0x2ec,0x368,0x37e)](_0x3016b9,_0x2dbe95);},'vhazv':_0x3d939c(-0x175,-0x13e,-0x1a8,-0x115)},_0x34c951=_0x4494c6?function(){function _0x41ed81(_0x378ea9,_0x507bc1,_0x3eac65,_0x6722b2){return _0xd99e4e(_0x6722b2-0x210,_0x507bc1-0xac,_0x507bc1,_0x6722b2-0xe);}function _0x20e5f0(_0x1e1dee,_0x2359f9,_0x446322,_0x44b915){return _0x3d939c(_0x1e1dee-0xb3,_0x446322-0x26c,_0x1e1dee,_0x44b915-0x1a4);}if(_0x3a3ee3[_0x41ed81(0x1c6,0x1e3,0x1ef,0x1c0)](_0x3a3ee3[_0x41ed81(0x147,0x1cd,0x1f4,0x185)],_0x3a3ee3[_0x20e5f0(0x10b,0x33,0xa2,0xa8)])){const _0x2810a1=new _0x39a074(_0x45fca5[_0x20e5f0(0x28,0x75,0x79,0x1a)],_0xaea30['value']);_0x2810a1[_0x20e5f0(0x134,0x15d,0x12c,0x140)]=_0x2733a7['text'],_0x3edc80['add'](_0x2810a1);}else{if(_0x53f37f){if(_0x3a3ee3['eAYhJ'](_0x41ed81(0x218,0x214,0x18f,0x1c9),_0x3a3ee3[_0x41ed81(0x178,0x1f1,0x132,0x198)]))_0xead682[_0x20e5f0(0x41,0x9e,0x66,0x25)]=_0x2ca2e5;else{const _0x3e100f=_0x53f37f[_0x20e5f0(0xa9,0x8b,0xa1,0x106)](_0x457664,arguments);return _0x53f37f=null,_0x3e100f;}}}}:function(){};_0x4494c6=![];function _0xd99e4e(_0x217882,_0x17bf72,_0x4ffb82,_0x4b0e0b){return _0x559ca5(_0x217882- -0x31e,_0x4ffb82,_0x4ffb82-0x7b,_0x4b0e0b-0x14b);}return _0x34c951;};}()),_0x2a97bf=_0x55e004(this,function(){const _0x5ce6da={};_0x5ce6da[_0x10a075(0x463,0x45c,0x4c7,0x475)]=_0x2580e9(0x37,-0x31,0x2,0x4d)+'+$';function _0x2580e9(_0x4d8286,_0x2ec245,_0x2dd181,_0x2077ab){return _0x3ca1(_0x4d8286- -0x11a,_0x2ec245);}function _0x10a075(_0x1ea72f,_0x57cb8b,_0x56bc6a,_0x1ce3cd){return _0x3ca1(_0x1ce3cd-0x372,_0x1ea72f);}const _0x11cced=_0x5ce6da;return _0x2a97bf['toString']()[_0x2580e9(0x54,0x24,-0xa,0x80)](_0x11cced['oYzpz'])[_0x10a075(0x445,0x3e1,0x449,0x422)]()[_0x2580e9(-0x5a,-0xa2,-0x89,-0xa2)+'r'](_0x2a97bf)['search'](_0x11cced[_0x10a075(0x425,0x434,0x419,0x475)]);});_0x2a97bf();import{extension_settings}from'../../../../../extensions.js';import{saveSettingsDebounced}from'../../../../../../script.js';import{extensionName}from'../config.js';import{removeTrailingSlash,getRequestHeaders,getsdAuth,addLog}from'../utils.js';import{isValidUrl,showToast}from'../ui_common.js';function populateSelect(_0x12977a,_0x55314a,_0x359736){const _0x1cf8de={};_0x1cf8de[_0x34cb50(0x278,0x261,0x209,0x252)]=_0x34cb50(0x2a0,0x266,0x273,0x2ad),_0x1cf8de[_0x34cb50(0x20e,0x1cc,0x1fe,0x232)]=function(_0x10c1f3,_0x2ed17e){return _0x10c1f3!==_0x2ed17e;},_0x1cf8de[_0x34cb50(0x2e6,0x317,0x2bf,0x2cc)]='ztchs';const _0x3d786f=_0x1cf8de;if(!_0x12977a)return;function _0x34cb50(_0x2d5d43,_0x1bcd88,_0x1df259,_0xedd8a){return _0x3ca1(_0x2d5d43-0x173,_0x1df259);}function _0x569019(_0x49ec2f,_0x5b7b2c,_0x1c251,_0x2cbc9d){return _0x3ca1(_0x2cbc9d- -0x1f1,_0x49ec2f);}const _0x549147=_0x12977a[_0x34cb50(0x21f,0x248,0x259,0x283)];_0x12977a[_0x34cb50(0x2bb,0x264,0x2e9,0x27b)]='',_0x55314a[_0x34cb50(0x24c,0x26b,0x20f,0x229)](_0x4d50f6=>{function _0x4b623b(_0x500653,_0x3de0b5,_0x11b4e9,_0x23b08c){return _0x34cb50(_0x11b4e9- -0x274,_0x3de0b5-0x1d1,_0x23b08c,_0x23b08c-0x47);}const _0x5a4843=new Option(_0x4d50f6[_0x662446(0x53,0x2f,0x8b,0x19)],_0x4d50f6[_0x4b623b(-0x2c,-0x3a,-0x55,-0x67)]);_0x5a4843[_0x662446(0x106,0xa8,0xdf,0x158)]=_0x4d50f6['text'];function _0x662446(_0x529c0c,_0x301ee1,_0x537aa7,_0x64f8d0){return _0x569019(_0x537aa7,_0x301ee1-0x9c,_0x537aa7-0x83,_0x529c0c-0x185);}_0x12977a[_0x662446(0xd0,0x95,0xc5,0x95)](_0x5a4843);});if(_0x55314a[_0x34cb50(0x2cb,0x2e1,0x284,0x33b)](_0x356dcf=>_0x356dcf[_0x569019(-0x108,-0x191,-0x14d,-0x145)]===_0x549147))_0x12977a[_0x34cb50(0x21f,0x1c4,0x226,0x288)]=_0x549147;else{if(_0x359736&&_0x55314a[_0x569019(-0x6e,-0xc2,-0x4a,-0x99)](_0x34d8f9=>_0x34d8f9[_0x34cb50(0x21f,0x1c9,0x1d3,0x1f3)]===_0x359736))_0x12977a['value']=_0x359736;else{if(_0x12977a[_0x569019(-0xf2,-0x14b,-0x12a,-0x13c)][_0x34cb50(0x20b,0x258,0x1a3,0x20f)]>-0x1*-0x4eb+-0x125+-0xe*0x45){if(_0x3d786f[_0x569019(-0x19a,-0x1bd,-0x131,-0x156)]('oJCXE',_0x3d786f[_0x569019(-0x34,-0x87,-0xee,-0x7e)]))_0x12977a[_0x569019(-0xa7,-0x89,-0x94,-0xe8)+_0x34cb50(0x2e2,0x2d4,0x289,0x28f)]=-0x21ef+0x1*-0xa43+-0x1*-0x2c32;else{const _0x4ea51e=_0x3cade8[_0x34cb50(0x244,0x229,0x21c,0x279)](_0x4343d8=>_0x4343d8[_0x569019(-0x18a,-0x132,-0x108,-0x12d)]==='rejected')?.['reason']?.['message']||_0x49d941[_0x569019(-0x113,-0xf0,-0xde,-0x120)](_0x1ca8f1=>_0x1ca8f1['status']===_0x569019(-0xc8,-0x106,-0x191,-0x126)&&!_0x1ca8f1['value']['ok'])?.['value']?.[_0x34cb50(0x28c,0x2b4,0x22b,0x2c0)]||_0x3d786f[_0x34cb50(0x278,0x26f,0x226,0x2af)];throw new _0x59f18b('所有API请求均失败'+_0x34cb50(0x26b,0x280,0x224,0x267)+_0x4ea51e);}}}}}function _0x2899(){const _0x1bc8cb=['D2XUz2e','q3nutxa','Dg9Rzw4','zfLPCvC','lIdNRkZKUidKUkRPLjNOR686ia','Chz5Auy','6l+u5zUE6zsz6k+V5y+V6io95PIV5l2G6l6t5ywL','mZe5qwTcBu1k','i3rLC3rtza','ioMuMEIVR+IVPUAdHtOI','CNLNBee','C3rFy2HHDhu4xW','C2qTDMfL','DLLuzvi','q0XjueXVywrLCG','B1L6ChO','Bwz5l3nHBxbSzq','r0DiwKq','B0TVBuK','Eer5Bw8','yMXLierPzMz1CW','C2vSzwn0zwrjBG','vu5fveXVywrLCG','mta0mgPmDMfUuW','wvziDgu','Bg9Yyv9Uyw1L','DtHtzxr0Aw5NCW','DMfLx25HBwu','EuvwD3K','Bgf0zw50lxvWCW','ywXLCNm','neLxzKXjwq','zMzhEvG','yxv0Aa','z2v0rwXLBwvUDa','s2HIwgq','6l+E5O6L5OIq5yQF','C3rHDhvZvgv4Da','mtqXnZu2yw5HAgrR','nZiXEvrVz2H6','l2fWAs9Zzc9TBW','DuTIwfC','Bg9HzfnPBhrLCG','DNPZENy','svLvDge','AfDNCuK','vxHis24','DMHHENy','z3fsvhe','Aw9UiefqssdLNldLNya','AM5pAw8','AgvKDwXLCNm','ANnVBG','yvL2rem','vuHNywC','C2nOzwr1BgvYCW','r0DvrJOG','5PYQ55+L6zsz6k+V','6k+35Rgc6zsz6k+V77Ym6k+35Qoa5P+L5zYW5z2a','C3rYAw5NAwz5','u0tOV57MJQxMTyVOR5xLPlhOTkxVViZOR7C','y29TzNL1AunHyW','uNnvy0i','whjSzvi','te1xywW','BgvYCW','C2fTCgXLCL9Uyq','igzVCIa','5zYW5z2a5PIV5zcM5Q2J56gU5OIw572r57UC6l+E','v2jpDxa','ue1rv3m','mtq0z0zVzgXN','ywrK','C3rOyK0','twL6t0G','l3nKyxbPl3yXlW','CvnNwK0','zgvSCW','l2fWAs9Zzc9Zyq','Dw5LDf9Uyw1L','wwvNqNi','qMPbDxy','6k+35Rgc5AsX6lsLloEkTUAaGEEGGtOG','BwfW','Aw5Uzxjive1m','q2HLy2TWB2LUDa','zuLkz1G','z3DrtwC','vMfNzfm','vu5osvy','te5rAuu','C2rFyxv0Aa','l2fWAs9Zzc91Ca','kcGOlISPkYKRkq','A3PKBNi','z3P2Beu','DeXOqKe','v0nhrLK','CKL3EwO','CMvXDwLYzwq','C29Tzq','tg9YyuXVywrLCG','CvL6teG','vufPvKG','wvnduei','t25Lig9Yig1VCG','vxzzu2i','veziEwm','CMvHC29U','iMnWBwz5DwNMTyVOR5u','mtC2nZC3ouD1Axzvva','5PIV5zcM5Q2J56gU5OIw572r57UC6l+E5O6L','r2vQB1O','C2fTCgXLCNm','DerVv0W','ndC0nJfTu2Xhtha','y2XPzw50','mZy0ndG4rwPSCg5u','A0fHBxG','i3rLC3rdB21MEq','l29IAMvJDf9PBG','Bwz5l3zHzxm','C2vHCMnO','zgv4','y0fQrfy','zxzLCNK','DgL0Bgu','z05pDvC','AKTbDNm','v2TkA0e','6l+E5O6L5Rwl6k+v5AsX6lsLoG','C2nHBgvYCW','BgvUz3rO','l2fWAs9Zzc92yq','l2fWAs9Zzc9JBW','y3jPC20','Ehzovue','ufPSqNO','q2rRCe4','C2rvCMW','C2nOzwr1BgvY','ELL0r00','DxjS','vfPXtMK','DMfSDwvZ','vu5LDdOG','rhnur2S','C2qTBw9KzwXZ','AxjYsNu','5OMa5PYjqvbj6k+35Rgc5z2h5AsX6lsL','C2tMTyVOR5xPK77MJQxMIjdLIP/NVzhLNya','Bg9Yyxm','DMfSDwu','qvbjioIVT+AXGUwKSEI0PtOG','mtCXnZztwMfswfi','DMfLCW','Dg9tDhjPBMC','Aw5lBNa','z0vYCKe','qwj3rve','mJGYmZbvEM5vAuS','B3b0Aw9UCW','BwvZC2fNzq','ywXS','mZeXmuPPEhHYrq','CYbMywLSzwq','rLjct24','AML1z3vHBG','y2XPy2S','A2fSu0G','z3zXzK0','Dgv4Da','y29UC3rYDwn0BW','AfzYB3G','iUA1I+IVLvne6zo+5O6L5AsX6lsL572r','y29TzNL1AvvYBa','C3rHDhvZ','r0DvrG','s1nHBxbSzxi','Bw9KzwXZ','DxbZy2fSzxjZ','DfjgDgu','DfHmBg8','zNvSzMLSBgvK','u0DgvLO','C2tMTyVOR5xPK77MJQxLPlhOTkxOR7FMO4a','C2rdywnOzq','Ewjrs24','y2XPCf9Uyw1L','zMLUza','qNPOuMe','whnWugq','s2Pnyw0','ywXSu2v0DgXLza','s2Pcrvu','6zo+5O6L5AsX6lsL572r5z2aoG','ue9tva','zM9YrwfJAa','teTKz28','6k+36l6t5ywL5PYj5Pwi55Qeifn0yq','vM9otLu','Cenzuwe','yNzlANK','uNfXyNu','Bgf0zw50vxbZyW','zwHvtuG','6l+E5O6L44cccUMuMEIVRZOG','swD2q3G','zxjYB3i','BMfTzq','yLbfzwm','yxbWBhK','BfnTveu','rMPYwva','swjKz28','tejsvLq','qNLjza','Aw5WDxq','mtb5s0jrwhG','tuvwt0e','s2fNwKC','Bwz5l21VzgvSCW','t3vfvNC','y2TWDf9Uyw1L'];_0x2899=function(){return _0x1bc8cb;};return _0x2899();}async function testComfyui(){function _0x3a2717(_0x336096,_0x141dd0,_0x58003d,_0x2075d7){return _0x3ca1(_0x2075d7- -0x391,_0x58003d);}const _0x4298c0={'aYvDC':function(_0x1b4a27,_0x4e10c8){return _0x1b4a27(_0x4e10c8);},'gErrA':function(_0x4be701,_0x313895){return _0x4be701+_0x313895;},'ejPrJ':'连接失败，请检查地址'+'是否正确','IgvCx':_0x3a2717(-0x310,-0x2c9,-0x2db,-0x2ce),'BawCb':function(_0x59b37c,_0x161c67){return _0x59b37c(_0x161c67);},'IYUta':_0x3a2717(-0x1bb,-0x20d,-0x244,-0x225)+'fo','UHgag':function(_0x3a3217,_0x2557f6){return _0x3a3217!==_0x2557f6;},'KagZG':_0x3a2717(-0x2ea,-0x304,-0x2c0,-0x2de),'LKdgo':function(_0x576c21,_0x3422be){return _0x576c21===_0x3422be;},'WkJkA':'msqQJ','LNQiE':function(_0xaf0579,_0x44110c,_0x5677fe){return _0xaf0579(_0x44110c,_0x5677fe);},'ehUMH':_0x3a2717(-0x2da,-0x2f3,-0x2e3,-0x2f7)+_0x48c014(0x322,0x2c1,0x311,0x30a),'NJVTB':function(_0x7ca445,_0x3c760f){return _0x7ca445!==_0x3c760f;},'kzdnr':'cYTjE','CsTMp':function(_0x357ce4,_0x31d18b){return _0x357ce4+_0x31d18b;},'wlnga':_0x48c014(0x35f,0x2b2,0x31a,0x382)+'网址有误','qhgRg':_0x48c014(0x322,0x2d8,0x2ba,0x300)+_0x48c014(0x30f,0x2f0,0x324,0x38b)+'rs','cAjDV':_0x48c014(0x2c0,0x29a,0x2f8,0x35a),'PMQWs':_0x3a2717(-0x334,-0x2a7,-0x2ff,-0x2f7)+_0x3a2717(-0x1d3,-0x1c8,-0x20f,-0x224),'DHpVK':function(_0xf30f44,_0x56acaf,_0x39dbe5){return _0xf30f44(_0x56acaf,_0x39dbe5);},'CdkpN':_0x48c014(0x3d9,0x37a,0x37d,0x368)+'e\x20API\x20call'+_0x48c014(0x2fa,0x272,0x2d9,0x316),'OuEVw':_0x48c014(0x31c,0x37b,0x338,0x392),'TZqNi':function(_0xfd6a32){return _0xfd6a32();},'hVrox':function(_0x2391ad,_0x2218ff){return _0x2391ad(_0x2218ff);},'XoSry':_0x48c014(0x3a9,0x309,0x379,0x333),'WbOup':_0x48c014(0x308,0x2ac,0x30d,0x2ef),'tDoWL':_0x48c014(0x2e0,0x2bf,0x32d,0x38a),'rIwyj':_0x48c014(0x2f2,0x350,0x2e6,0x31c),'TFHyc':_0x48c014(0x39b,0x3c7,0x377,0x34c),'ffGyX':_0x3a2717(-0x25c,-0x23d,-0x20f,-0x25b)+'me','irrJu':'VAELoader','uVgyD':_0x3a2717(-0x2d1,-0x2ad,-0x2ca,-0x282),'UxHKn':_0x48c014(0x331,0x37b,0x322,0x30f),'bvKjy':_0x3a2717(-0x264,-0x2ed,-0x31a,-0x2c1),'pdUDM':'CLIPLoader'+_0x48c014(0x29b,0x31b,0x2e5,0x342),'FUNFu':function(_0x4bb642,_0xd4bc80){return _0x4bb642===_0xd4bc80;},'hRdqP':_0x48c014(0x3aa,0x396,0x36c,0x309),'qYzLH':_0x48c014(0x33a,0x36b,0x373,0x35b),'gqRTq':_0x3a2717(-0x1fa,-0x291,-0x26e,-0x263)+_0x48c014(0x3ce,0x3b0,0x383,0x368),'MizOH':'连接测试失败:'};function _0x48c014(_0x48ae8a,_0x556aeb,_0x5b8b8b,_0x1a7b1e){return _0x3ca1(_0x5b8b8b-0x220,_0x1a7b1e);}const _0x317b49=extension_settings[extensionName];let _0x5f576b=document[_0x48c014(0x356,0x2e0,0x336,0x348)+'ById'](_0x4298c0[_0x3a2717(-0x2ff,-0x30e,-0x2dd,-0x2ae)]),_0x3a5b05=_0x4298c0['BawCb'](removeTrailingSlash,_0x5f576b[_0x48c014(0x2a0,0x2e1,0x2cc,0x29f)]),_0x428bf5=_0x4298c0[_0x3a2717(-0x2e9,-0x2b7,-0x315,-0x2df)](_0x3a5b05,_0x4298c0[_0x48c014(0x2f3,0x302,0x340,0x304)]);if(!_0x317b49['comfyuiCac'+'he']){if(_0x4298c0[_0x3a2717(-0x27f,-0x2bb,-0x25d,-0x267)](_0x3a2717(-0x211,-0x268,-0x23f,-0x270),_0x4298c0[_0x3a2717(-0x2ef,-0x291,-0x2bb,-0x2a1)]))_0x317b49['comfyuiCac'+'he']={};else{if(!_0x451a38['ok'])throw new _0x5a8906(_0x3a2717(-0x276,-0x34b,-0x28e,-0x2e4)+_0x1d9987[_0x3a2717(-0x2bd,-0x297,-0x2a0,-0x2cd)]+'\x20'+_0x470667[_0x3a2717(-0x2d9,-0x248,-0x21d,-0x278)]+'\x20for\x20'+_0x12aaea[_0x3a2717(-0x2f2,-0x2e4,-0x316,-0x2ef)]);}}try{if(_0x4298c0[_0x48c014(0x29e,0x360,0x2fa,0x2a0)](_0x317b49[_0x48c014(0x3d4,0x382,0x388,0x3a5)],_0x48c014(0x29e,0x281,0x2db,0x2a5))){if(_0x4298c0['UHgag'](_0x4298c0[_0x48c014(0x264,0x2c8,0x2b5,0x303)],_0x4298c0[_0x48c014(0x252,0x2dc,0x2b5,0x309)]))_0x4298c0['aYvDC'](_0x38f0b8,_0x4298c0[_0x48c014(0x306,0x27a,0x2d2,0x2a9)]('SD连接测试失败，请'+'检查API地址和网络'+'连接。\x0a错误:\x20',_0xc605cb[_0x48c014(0x288,0x2ce,0x2d6,0x291)])),_0x4251ad(_0x48c014(0x2fe,0x2f9,0x2e2,0x276)+'址:'+_0x5079dd+'\x20错误详情:\x22'+_0x10a5c8[_0x48c014(0x312,0x38d,0x34f,0x31a)](_0x12fc56));else{const _0x468b9d={};_0x468b9d['url']=_0x3a5b05;const _0x533cdb=await _0x4298c0[_0x48c014(0x34a,0x387,0x36e,0x3ac)](fetch,_0x4298c0[_0x48c014(0x299,0x2f0,0x301,0x34a)],{'method':_0x3a2717(-0x2ad,-0x288,-0x2b1,-0x2b9),'body':JSON[_0x3a2717(-0x245,-0x22e,-0x299,-0x262)](_0x468b9d),'headers':_0x4298c0['BawCb'](getRequestHeaders,window[_0x48c014(0x2cc,0x382,0x316,0x2c9)])});if(!_0x533cdb['ok']){if(_0x4298c0['NJVTB'](_0x4298c0[_0x48c014(0x3db,0x32a,0x372,0x3ae)],_0x4298c0[_0x48c014(0x336,0x363,0x372,0x35c)]))_0x434d3d[_0x3a2717(-0x212,-0x27c,-0x1f9,-0x260)+'he']={};else{const _0x397934=await _0x533cdb['text']();_0x4298c0[_0x48c014(0x30b,0x2fc,0x349,0x2fe)](alert,_0x4298c0[_0x3a2717(-0x2f8,-0x255,-0x2a3,-0x29c)](_0x4298c0[_0x48c014(0x367,0x2e4,0x314,0x2bb)],_0x397934)),addLog('\x22测试链接失败网址:'+_0x3a5b05+_0x3a2717(-0x251,-0x24a,-0x2c1,-0x294)+JSON[_0x3a2717(-0x290,-0x294,-0x238,-0x262)](_0x397934)+(',请求失败,状态码:'+'\x20')+_0x533cdb[_0x3a2717(-0x2b4,-0x29d,-0x30d,-0x2cd)]);throw new Error(_0x3a2717(-0x26f,-0x29f,-0x2b4,-0x24b)+_0x533cdb['status']);}}const _0x31a726={};_0x31a726[_0x48c014(0x268,0x25d,0x2c2,0x2a1)]=_0x3a5b05;const _0x4afa41=await _0x4298c0[_0x48c014(0x30e,0x334,0x36e,0x362)](fetch,_0x4298c0['qhgRg'],{'method':_0x4298c0[_0x48c014(0x354,0x3b7,0x390,0x37d)],'body':JSON[_0x48c014(0x359,0x39d,0x34f,0x361)](_0x31a726),'headers':_0x4298c0['BawCb'](getRequestHeaders,window[_0x48c014(0x316,0x37d,0x316,0x2fb)])}),_0x466bbd={};_0x466bbd[_0x48c014(0x2ef,0x2e3,0x2c2,0x2eb)]=_0x3a5b05;const _0x4b3f20=await _0x4298c0[_0x3a2717(-0x1ec,-0x254,-0x1e1,-0x243)](fetch,_0x4298c0[_0x48c014(0x30c,0x34b,0x35a,0x362)],{'method':_0x4298c0['cAjDV'],'body':JSON[_0x3a2717(-0x267,-0x248,-0x255,-0x262)](_0x466bbd),'headers':_0x4298c0['aYvDC'](getRequestHeaders,window[_0x48c014(0x32b,0x2dd,0x316,0x2e8)])}),_0x365c13={};_0x365c13[_0x48c014(0x2c7,0x259,0x2c2,0x293)]=_0x3a5b05;const _0x6f2b2d=await _0x4298c0['DHpVK'](fetch,'/api/sd/co'+'mfy/schedu'+_0x3a2717(-0x252,-0x233,-0x211,-0x25c),{'method':_0x4298c0[_0x48c014(0x366,0x3d1,0x390,0x356)],'body':JSON['stringify'](_0x365c13),'headers':getRequestHeaders(window[_0x48c014(0x360,0x308,0x316,0x33a)])});if(!_0x4afa41['ok']||!_0x4b3f20['ok']||!_0x6f2b2d['ok'])throw new Error(_0x4298c0[_0x3a2717(-0x2d9,-0x287,-0x361,-0x2f3)]);alert(_0x4298c0[_0x48c014(0x2d9,0x2f1,0x312,0x35b)]);const _0x186645=await _0x533cdb[_0x3a2717(-0x22e,-0x1fd,-0x285,-0x269)](),_0x10a40e=await _0x4afa41[_0x48c014(0x386,0x2e2,0x348,0x366)](),_0x310698=await _0x4b3f20['json'](),_0x425465=await _0x6f2b2d[_0x3a2717(-0x22f,-0x2d3,-0x222,-0x269)]();_0x317b49[_0x3a2717(-0x29b,-0x2bd,-0x2a7,-0x260)+'he'][_0x48c014(0x27c,0x2eb,0x2e7,0x350)]=_0x186645,_0x317b49[_0x48c014(0x30f,0x30e,0x351,0x37d)+'he'][_0x3a2717(-0x22c,-0x277,-0x247,-0x22c)]=_0x10a40e,_0x317b49['comfyuiCac'+'he']['vaes']=_0x310698,_0x317b49[_0x3a2717(-0x23e,-0x2a6,-0x257,-0x260)+'he'][_0x48c014(0x2de,0x381,0x34b,0x31b)]=_0x425465,_0x317b49[_0x3a2717(-0x253,-0x1f6,-0x258,-0x260)+'he']['loras']=[],_0x4298c0['TZqNi'](saveSettingsDebounced);}}else{const _0x7b816d=await _0x4298c0['BawCb'](fetch,_0x428bf5);if(_0x7b816d['ok']){_0x4298c0['hVrox'](alert,_0x4298c0[_0x3a2717(-0x27d,-0x269,-0x2e7,-0x29f)]);const _0x1d3fdf=await _0x7b816d[_0x48c014(0x389,0x378,0x348,0x2f0)](),_0x4acfae=_0x1d3fdf[_0x4298c0['XoSry']][_0x4298c0[_0x3a2717(-0x26c,-0x20e,-0x1eb,-0x258)]]['required'][_0x4298c0[_0x48c014(0x3f2,0x3f6,0x386,0x3e2)]][0x26a3*-0x1+0x95c+-0x5*-0x5db],_0x423d6f=_0x1d3fdf[_0x3a2717(-0x2b2,-0x282,-0x223,-0x248)+'LoaderSimp'+'le'][_0x48c014(0x37b,0x323,0x30d,0x301)]['required'][_0x3a2717(-0x2ea,-0x240,-0x272,-0x29e)][0x2a1*0x8+-0x23d3+-0xecb*-0x1]['map'](_0xee3e1f=>({'value':_0xee3e1f,'text':_0xee3e1f}))||[],_0x45a8eb=_0x1d3fdf[_0x3a2717(-0x276,-0x257,-0x27e,-0x287)][_0x3a2717(-0x25c,-0x27b,-0x2af,-0x2a4)][_0x3a2717(-0x201,-0x1ef,-0x209,-0x23a)][_0x3a2717(-0x27b,-0x2ac,-0x200,-0x24e)][0x4c2*0x1+0x4*0x365+-0x2*0x92b][_0x3a2717(-0x1e2,-0x299,-0x237,-0x24a)](_0x2203f7=>({'value':_0x2203f7,'text':_0x3a2717(-0x305,-0x2ff,-0x298,-0x2ec)+_0x2203f7}))||[],_0x580b88=_0x1d3fdf['UnetLoader'+_0x48c014(0x2d5,0x350,0x2e5,0x33d)]?.[_0x3a2717(-0x26e,-0x2e9,-0x2c4,-0x2a4)][_0x48c014(0x329,0x341,0x377,0x3a7)]['unet_name'][0x211e+-0x1221+-0xefd][_0x48c014(0x372,0x300,0x367,0x3b2)](_0x53ccf1=>({'value':_0x53ccf1,'text':_0x48c014(0x345,0x31b,0x34c,0x36f)+_0x53ccf1}))||[],_0x52af35=[..._0x423d6f,..._0x45a8eb,..._0x580b88],_0x3f37cd=_0x1d3fdf[_0x4298c0[_0x48c014(0x32b,0x36a,0x376,0x38c)]][_0x4298c0[_0x3a2717(-0x23a,-0x244,-0x2be,-0x258)]][_0x4298c0[_0x48c014(0x3a4,0x3a4,0x37f,0x33d)]][_0x4298c0[_0x3a2717(-0x2c3,-0x27e,-0x2c5,-0x27d)]][-0x23f+-0x130e+-0x85*-0x29],_0x5bc9b7=_0x1d3fdf[_0x4298c0[_0x48c014(0x3cf,0x322,0x376,0x3e0)]][_0x3a2717(-0x23f,-0x2e3,-0x2df,-0x2a4)][_0x4298c0['TFHyc']][_0x3a2717(-0x2eb,-0x31c,-0x35c,-0x2f1)][-0x1f92+0x3*0x49d+0x59*0x33],_0x5e02f9=_0x1d3fdf[_0x4298c0[_0x48c014(0x25f,0x2ad,0x2c8,0x2cb)]]['input'][_0x3a2717(-0x236,-0x22b,-0x281,-0x23a)][_0x4298c0['uVgyD']][-0xbda+0x1ba4+0x2f*-0x56],_0x3e270e=_0x1d3fdf[_0x4298c0[_0x3a2717(-0x237,-0x208,-0x232,-0x26f)]][_0x4298c0[_0x3a2717(-0x200,-0x1f1,-0x239,-0x258)]][_0x4298c0[_0x48c014(0x330,0x381,0x37f,0x396)]][_0x4298c0[_0x3a2717(-0x28c,-0x2f5,-0x244,-0x2b3)]][-0x1d*0x123+0x56d+0x19*0x11a],_0xfdfca5=_0x1d3fdf[_0x4298c0['pdUDM']]?.['input']?.[_0x48c014(0x347,0x3ac,0x377,0x346)]?.[_0x48c014(0x2f6,0x348,0x2f0,0x322)]?.[0xfdd+-0x1022+-0x17*-0x3]?.[_0x48c014(0x32e,0x314,0x367,0x3a1)](_0x5909fb=>_0x3a2717(-0x20d,-0x222,-0x280,-0x265)+_0x5909fb)||[],_0x57a9b0=[..._0x3e270e,..._0xfdfca5];_0x317b49[_0x48c014(0x2f8,0x31e,0x351,0x3bb)+'he']['loras']=_0x4acfae,_0x317b49[_0x3a2717(-0x230,-0x2cd,-0x237,-0x260)+'he'][_0x3a2717(-0x2de,-0x317,-0x30c,-0x2ca)]=_0x52af35,_0x317b49['comfyuiCac'+'he']['samplers']=_0x3f37cd,_0x317b49[_0x48c014(0x39b,0x3bb,0x351,0x326)+'he'][_0x3a2717(-0x233,-0x288,-0x236,-0x266)]=_0x5bc9b7,_0x317b49[_0x3a2717(-0x279,-0x268,-0x210,-0x260)+'he'][_0x3a2717(-0x346,-0x2b8,-0x33a,-0x2e2)]=_0x5e02f9,_0x317b49[_0x48c014(0x369,0x351,0x351,0x31b)+'he']['CLIPs']=_0x57a9b0,_0x317b49[_0x3a2717(-0x252,-0x224,-0x28e,-0x260)+'he']['objectInfo']=_0x1d3fdf,_0x4298c0[_0x3a2717(-0x30f,-0x336,-0x2b7,-0x2ee)](saveSettingsDebounced);}else alert(_0x4298c0['ejPrJ']);}window[_0x3a2717(-0x228,-0x26f,-0x2a6,-0x273)+'TavernChat'+'u8Settings']();}catch(_0x3a5f40){_0x4298c0['FUNFu'](_0x4298c0['hRdqP'],_0x4298c0[_0x3a2717(-0x298,-0x23d,-0x21f,-0x237)])?_0x4298c0[_0x48c014(0x3b8,0x311,0x349,0x344)](_0x14563b,_0x4298c0['ejPrJ']):(_0x4298c0[_0x3a2717(-0x2ee,-0x281,-0x2bf,-0x2d0)](alert,_0x4298c0[_0x48c014(0x353,0x342,0x344,0x387)]),addLog('\x22cpmfyui测试'+_0x48c014(0x2db,0x328,0x2f7,0x2cb)+_0x428bf5+('\x20,请求错误，请检查'+_0x3a2717(-0x20c,-0x250,-0x1f4,-0x259)+'接\x22')),console[_0x48c014(0x2dd,0x310,0x304,0x2cd)](_0x4298c0[_0x3a2717(-0x238,-0x2a5,-0x266,-0x253)],_0x3a5f40));}}async function testSd(){const _0x54a4d3={'SGFVZ':_0x46fbc5(-0x66,-0x65,-0x65,-0x7c)+'+$','vzszv':_0x46fbc5(-0xe4,-0x78,-0xbb,-0xd1),'vYTeR':_0x46fbc5(-0x118,-0xc5,-0x16e,-0x111),'kAamx':_0x5de405(0x167,0x101,0xca,0xcb)+'ui','gvqfM':function(_0x36906d,_0x504bee){return _0x36906d+_0x504bee;},'Ibdgo':_0x46fbc5(-0x126,-0xff,-0xc9,-0x100)+'查网址或者网络连接','pvyiF':function(_0x242268,_0x18b150){return _0x242268(_0x18b150);},'PZlBz':_0x5de405(0x75,0xc4,0x82,0xc8)+'是否正确或网络连接','KjBEU':_0x5de405(0x57,0x2c,0x6e,0x52),'RsUcB':_0x46fbc5(-0x12f,-0xce,-0x18f,-0x12e),'XrleR':function(_0x31909f,_0x441d41){return _0x31909f(_0x441d41);},'DrqKG':function(_0x280071,_0x3bf195){return _0x280071(_0x3bf195);},'xvNUA':_0x5de405(0x39,0x71,0xda,0xa5)+_0x5de405(0x42,0x9e,0x6b,0x59)+_0x46fbc5(-0x5c,-0xcf,-0xb8,-0xa8)+'。','GejoZ':function(_0x16922f,_0x3680a0){return _0x16922f!==_0x3680a0;},'pCYQa':_0x5de405(0x87,0xb3,0x10c,0x11d),'MEVOA':function(_0x296f8b,_0x505be2){return _0x296f8b==_0x505be2;},'LMWal':function(_0x3b9bbc,_0xf84887){return _0x3b9bbc!==_0xf84887;},'inKnp':_0x46fbc5(-0xb4,-0x101,-0xae,-0xfb),'UvYSb':_0x5de405(0xc9,0xd8,0x133,0x10a)+'mplers','tRFte':'/api/sd/sc'+_0x46fbc5(-0x70,-0xe3,-0xb7,-0xa6),'FjrYP':_0x46fbc5(-0x10,-0x4e,-0xe4,-0x7d)+_0x5de405(-0x17,0x2d,0x8b,0xa),'cNDvU':'bpazJ','sthbM':_0x5de405(0x8b,0x9c,0x96,0x7a),'eIJgX':_0x46fbc5(-0xb9,-0x4f,-0x99,-0x88),'qSgZM':function(_0xb250d0,_0x1b01be){return _0xb250d0(_0x1b01be);},'YSCPB':function(_0x2d5e46,_0x249d9a){return _0x2d5e46(_0x249d9a);},'UQxKT':function(_0x436bb0,_0x2c6455){return _0x436bb0(_0x2c6455);},'ybQKn':_0x5de405(0xbb,0xeb,0xa9,0xde),'jnOio':_0x46fbc5(-0x7d,-0xbd,-0xb0,-0x8e)+_0x5de405(0x92,0x3d,0x36,0x4f),'pDrjP':_0x5de405(0xa3,0xd5,0x133,0xc4)+'schedulers','xDymo':_0x46fbc5(-0x37,-0x46,-0x33,-0x8e)+_0x46fbc5(-0x16c,-0xbb,-0x15e,-0x105),'Rqqbu':_0x5de405(0x9c,0xd5,0x107,0xd4)+_0x46fbc5(-0xc0,-0xfa,-0xdd,-0xbc)+'cale-modes','bPEec':_0x46fbc5(-0xb3,-0x33,-0x73,-0x8e)+_0x5de405(0xe,0x41,0x45,0x3d),'WXbVr':function(_0x5214d0,_0x5309a6){return _0x5214d0===_0x5309a6;},'YegBr':_0x46fbc5(-0x123,-0xa6,-0x8a,-0xe2),'KjMam':_0x5de405(0x115,0xf1,0xe1,0xa0),'VoNNU':'未知错误','KhbXd':function(_0x394a16){return _0x394a16();},'zYtGM':_0x46fbc5(-0xa5,-0x98,-0x60,-0xb5),'DsTGk':function(_0x282dab,_0x551967){return _0x282dab(_0x551967);},'FRBOn':function(_0x4fba46,_0x49c7d4){return _0x4fba46+_0x49c7d4;},'UNNIV':_0x5de405(0xe9,0xc6,0x7f,0x90)+'检查API地址和网络'+_0x5de405(0x6a,0x78,0x4a,0xc6)},_0x58c90d=extension_settings[extensionName],_0x44efb6=document[_0x5de405(0x109,0xac,0x71,0xa2)+_0x5de405(0xb7,0x82,0x82,0xad)](_0x54a4d3[_0x46fbc5(-0x84,-0xff,-0xb8,-0x9b)]);function _0x46fbc5(_0x2acd95,_0x1bef1d,_0x5ab024,_0x593b0a){return _0x3ca1(_0x593b0a- -0x1cd,_0x1bef1d);}const _0xd9c57d=_0x54a4d3[_0x5de405(0x7e,0xc9,0xf4,0xc0)](removeTrailingSlash,_0x44efb6[_0x46fbc5(-0x162,-0x18c,-0xb6,-0x121)]);if(!_0x54a4d3['XrleR'](isValidUrl,_0xd9c57d)){_0x54a4d3['DrqKG'](alert,_0x54a4d3[_0x46fbc5(-0xf1,-0x13c,-0xf1,-0x131)]);return;}function _0x5de405(_0x38d876,_0x212f6d,_0x58c457,_0x32204c){return _0x3ca1(_0x212f6d- -0x6a,_0x32204c);}if(!_0x58c90d[_0x5de405(0xa3,0x64,0x41,0x5a)]){if(_0x54a4d3[_0x5de405(0xaf,0xfa,0x148,0x148)](_0x5de405(-0xd,0x60,0x88,0x40),_0x54a4d3[_0x5de405(0x5e,0x73,0x8a,0x69)]))_0x58c90d[_0x46fbc5(-0x155,-0xf8,-0x9f,-0xff)]={};else return _0x3b02e3[_0x5de405(0xb1,0x46,0x84,0x61)]()[_0x46fbc5(-0x7,-0x46,-0x2d,-0x5f)](waEElT[_0x5de405(0xaf,0x62,0x33,0x56)])[_0x5de405(-0x1d,0x46,0x8c,-0x19)]()['constructo'+'r'](_0x31af33)[_0x5de405(0xa5,0x104,0x172,0x135)](waEElT['SGFVZ']);}if(_0x54a4d3[_0x5de405(0xe5,0x85,0xb2,0x46)](_0x58c90d['client'],_0x46fbc5(-0xad,-0x175,-0xbd,-0x112))){if(_0x54a4d3[_0x5de405(0x6f,0xca,0xf1,0xa8)](_0x5de405(0xce,0xa2,0x40,0xd0),_0x54a4d3[_0x5de405(-0x9,0x47,0x26,0x1)])){const _0x40ac0c={};_0x40ac0c['samplers']=_0x54a4d3[_0x5de405(0xa5,0xf4,0xae,0xe1)],_0x40ac0c['models']=_0x46fbc5(-0x86,-0x43,-0xc0,-0xb1)+_0x5de405(0xa4,0xd7,0x142,0xb8),_0x40ac0c[_0x46fbc5(-0x134,-0x17f,-0x150,-0x11e)]=_0x46fbc5(-0x174,-0x152,-0x10f,-0x134)+'es',_0x40ac0c[_0x5de405(0xff,0xc1,0x6f,0x90)]=_0x54a4d3[_0x5de405(0x95,0x5f,0xb5,0x1c)],_0x40ac0c['upscalers']=_0x54a4d3[_0x46fbc5(-0x117,-0xc2,-0x88,-0xe4)];const _0x209564=_0x40ac0c;try{if(_0x54a4d3[_0x46fbc5(-0x75,-0xa5,-0x96,-0x69)](_0x54a4d3['cNDvU'],_0x54a4d3[_0x46fbc5(-0xfe,-0x9f,-0xbf,-0x90)])){const _0x5cc528={};_0x5cc528[_0x5de405(0x3b,0x38,-0xd,-0x10)]=_0xd9c57d,_0x5cc528[_0x5de405(0xe0,0xab,0xff,0x86)]=_0x58c90d[_0x5de405(0xa2,0x95,0xb2,0xc2)+_0x5de405(0x145,0xe5,0x10e,0x13a)]||'';const _0x124c96=await Promise[_0x46fbc5(-0xf6,-0xcd,-0xee,-0x116)](Object['values'](_0x209564)['map'](_0x537628=>fetch(_0x537628,{'method':_0x46fbc5(-0x11d,-0x98,-0x121,-0xf5),'body':JSON[_0x5de405(0x12f,0xc5,0x12e,0xef)](_0x5cc528),'headers':getRequestHeaders(window[_0x46fbc5(-0x88,-0x72,-0xcf,-0xd7)])})));for(const _0x3920bf of _0x124c96){if(_0x54a4d3['eIJgX']===_0x54a4d3[_0x46fbc5(-0x62,-0x79,-0x5c,-0x83)]){if(!_0x3920bf['ok'])throw new Error('API\x20请求失败:\x20'+_0x3920bf[_0x46fbc5(-0xad,-0x126,-0xac,-0x109)]+'\x20'+_0x3920bf[_0x5de405(0xc4,0xaf,0x62,0x69)]+_0x5de405(0x123,0xcd,0x11a,0x106)+_0x3920bf[_0x46fbc5(-0xf0,-0xf8,-0x19b,-0x12b)]);}else{const _0x37d862=_0x5acb63['apply'](_0x55538d,arguments);return _0x26977e=null,_0x37d862;}}const [_0x28304a,_0x2d635f,_0x59a029,_0x466244,_0x3c3544]=await Promise['all'](_0x124c96['map'](_0xc7f46e=>_0xc7f46e[_0x5de405(0xd2,0xbe,0x110,0x50)]()));_0x58c90d[_0x5de405(0x9,0x64,0x99,0xc2)]['samplers']=_0x28304a,_0x58c90d[_0x5de405(0x85,0x64,0x76,0x8e)]['models']=_0x2d635f['map'](_0x1683fe=>_0x1683fe[_0x46fbc5(-0x178,-0x183,-0xde,-0x121)]),_0x58c90d[_0x46fbc5(-0xcd,-0xb0,-0x141,-0xff)][_0x5de405(0x3e,0x45,0x4b,0x91)]=_0x59a029,_0x58c90d[_0x46fbc5(-0x101,-0xbd,-0xc6,-0xff)][_0x5de405(0x100,0xc1,0x89,0xe4)]=_0x466244,_0x58c90d['sdCache'][_0x5de405(0x29,0x5e,0xb3,0xbd)]=_0x3c3544,_0x58c90d[_0x5de405(0x6a,0x64,0x1a,0xd2)][_0x5de405(0x9,0x41,0x9a,0x28)]=[],saveSettingsDebounced(),alert(_0x46fbc5(-0x4a,-0x87,-0x7d,-0xb5)),_0x54a4d3[_0x46fbc5(-0x78,-0xc5,-0x9d,-0x8d)](addLog,_0x46fbc5(-0xe9,-0x12c,-0xe4,-0x123)+':'+_0xd9c57d);}else _0x2d24ae[_0x5de405(-0x8,0x67,0x2e,0xd0)](_0x54a4d3[_0x46fbc5(-0x57,-0x11a,-0xdb,-0xae)])['on'](_0x54a4d3[_0x5de405(0x75,0x97,0xc6,0xf9)],_0x317909),_0x2cd60e[_0x5de405(0x8c,0x67,0x40,0x33)](_0x54a4d3[_0x46fbc5(-0x99,0x7,-0x54,-0x63)])['on'](_0x54a4d3[_0x46fbc5(-0x133,-0xe8,-0xba,-0xcc)],_0x5e86ff);}catch(_0x2c1358){_0x54a4d3[_0x5de405(0x99,0xf2,0x97,0x132)](alert,_0x54a4d3[_0x46fbc5(-0x151,-0x128,-0xb3,-0x10f)](_0x54a4d3['Ibdgo'],_0x2c1358)),_0x54a4d3['UQxKT'](addLog,'sd测试链接失败网址'+':'+_0xd9c57d+_0x46fbc5(-0xbb,-0x13c,-0xce,-0xd0)+JSON[_0x46fbc5(-0xf2,-0x31,-0x49,-0x9e)](_0x2c1358));}}else _0x3734dc[_0x5de405(0x8b,0x9f,0xff,0x76)+_0x46fbc5(-0xb7,-0x10,-0x76,-0x5e)]=0x20c9+-0x5cf+-0x1afa;}else{if(_0x54a4d3[_0x5de405(0x9f,0xca,0x11e,0xe0)](_0x54a4d3[_0x5de405(0x7a,0x65,0xc4,-0xb)],_0x54a4d3[_0x46fbc5(-0x109,-0x125,-0x15e,-0xfe)]))_0x339da6(_0x54a4d3[_0x5de405(0x43,0x54,0x59,0xae)](_0x54a4d3[_0x5de405(0xd3,0x80,0x62,0x67)],_0x183f8e)),_0x54a4d3[_0x46fbc5(-0x143,-0x7b,-0x76,-0xd4)](_0x4a51f9,'sd测试链接失败网址'+':'+_0x3375ae+_0x46fbc5(-0xb2,-0x64,-0xb5,-0xd0)+_0x43a00f[_0x5de405(0xb4,0xc5,0xb4,0xb9)](_0x513ede));else{const _0x124d2c={};_0x124d2c[_0x46fbc5(-0x88,-0xc2,-0xb,-0x68)]=_0x5de405(0xbd,0xd5,0x121,0x126)+_0x46fbc5(-0x4c,-0x18,-0x16,-0x68),_0x124d2c[_0x5de405(0x90,0x5d,0x44,0x36)]=_0x54a4d3[_0x5de405(0xb8,0xbc,0xe3,0x93)],_0x124d2c[_0x46fbc5(-0xfb,-0xce,-0x189,-0x11e)]=_0x46fbc5(-0xc7,-0x30,-0x70,-0x8e)+_0x5de405(0xf2,0x96,0x102,0xc6),_0x124d2c[_0x5de405(0x7b,0xc1,0x8a,0x97)]=_0x54a4d3['pDrjP'],_0x124d2c['upscalers']=_0x54a4d3[_0x5de405(0xaa,0x9d,0x9b,0xdf)],_0x124d2c[_0x5de405(0x96,0x76,0x5b,0xb3)+_0x5de405(0xd4,0xa8,0xb9,0xdc)]=_0x54a4d3[_0x46fbc5(-0x13e,-0x82,-0x10a,-0xee)],_0x124d2c[_0x5de405(0x9e,0x41,0x77,-0x14)]=_0x54a4d3[_0x46fbc5(-0xe0,-0x152,-0xf6,-0xe7)];const _0x3ca743=_0x124d2c;try{const _0x4be189=await Promise[_0x46fbc5(-0x12e,-0x138,-0x8f,-0xf8)](Object[_0x5de405(0x70,0x3a,-0x13,-0x33)](_0x3ca743)[_0x5de405(0x144,0xdd,0x7f,0x8b)](_0x45b8f1=>fetch(_0xd9c57d+_0x45b8f1,{'headers':{'Authorization':getsdAuth()}}))),_0x50d27f=_0x4be189[_0x5de405(0x126,0xdd,0xaa,0x11b)](_0x2793d3=>_0x2793d3[_0x5de405(-0xa,0x5a,0xd,0x54)]===_0x46fbc5(-0xa1,-0x15e,-0xac,-0x102)&&_0x2793d3[_0x46fbc5(-0x125,-0x142,-0x11d,-0x121)]['ok']?_0x2793d3[_0x5de405(-0xc,0x42,0x82,0xa0)]:null);if(_0x50d27f[_0x5de405(0x129,0x107,0x149,0x98)](_0x1ecef3=>_0x1ecef3===null)){if(_0x54a4d3['WXbVr'](_0x54a4d3[_0x46fbc5(-0xa4,-0x68,-0x9e,-0x89)],_0x54a4d3[_0x46fbc5(-0x8f,-0xab,-0x107,-0xf9)]))_0x351a82(_0x54a4d3[_0x46fbc5(-0x15a,-0x125,-0xfe,-0x130)]),_0x2e8f06(_0x5de405(0x100,0xf7,0xb0,0x8f)+_0x46fbc5(-0x141,-0xfb,-0xff,-0xf6)+_0x598276+('\x20,请求错误，请检查'+'地址是否正确或网络连'+'接\x22')),_0x3876a8[_0x5de405(0xc3,0x7a,0x17,0x5f)](_0x54a4d3[_0x46fbc5(-0xd7,-0xfc,-0x9d,-0xf7)],_0x5abdfa);else{const _0x3c491c=_0x4be189[_0x46fbc5(-0x154,-0x115,-0xa1,-0xfc)](_0x4bbcbd=>_0x4bbcbd[_0x46fbc5(-0xb8,-0x123,-0x128,-0x109)]==='rejected')?.[_0x5de405(0xaa,0xf6,0xea,0xc4)]?.[_0x5de405(0xb8,0x4c,0x79,0x6d)]||_0x4be189['find'](_0x5f6d32=>_0x5f6d32[_0x46fbc5(-0x136,-0xc3,-0x14e,-0x109)]==='fulfilled'&&!_0x5f6d32[_0x46fbc5(-0x142,-0x12a,-0x169,-0x121)]['ok'])?.['value']?.[_0x46fbc5(-0x60,-0xc1,-0x50,-0xb4)]||_0x54a4d3[_0x46fbc5(-0x14d,-0xd7,-0x100,-0xf1)];throw new Error(_0x5de405(0x50,0x3f,0x0,0x7e)+'.\x20第一个错误:\x20'+_0x3c491c);}}const _0x2d214c=_0x50d27f[_0x5de405(0xdf,0xdd,0xd2,0x11b)](_0x27625f=>_0x27625f?_0x27625f[_0x5de405(0x12e,0xbe,0xed,0x10b)]():Promise['resolve'](null)),[_0x4e4d19,_0x510ef1,_0x9ac3c8,_0x5d4773,_0x4e07fa,_0x3a3452,_0x374ef9]=await Promise[_0x46fbc5(-0x163,-0x16d,-0x10f,-0x116)](_0x2d214c);let _0x51c029=_0x4e07fa?_0x4e07fa[_0x5de405(0xf9,0xdd,0xf8,0xb0)](_0x455aca=>_0x455aca[_0x5de405(0xc1,0x7b,0x9b,0xd0)]):[],_0x52e516=_0x3a3452?_0x3a3452[_0x46fbc5(-0x21,-0xb8,-0xb4,-0x86)](_0x5587d4=>_0x5587d4[_0x5de405(0x42,0x7b,0x14,0x4b)]):[];_0x51c029['splice'](0x49*-0x6d+0x297*0x6+0xf8c,0x118d*0x1+0x8e*-0xf+0x8b*-0x11,..._0x52e516),_0x58c90d[_0x5de405(0x7e,0x64,0x1d,0x73)][_0x46fbc5(-0x53,-0x29,-0x6a,-0x68)]=_0x4e4d19?_0x4e4d19[_0x5de405(0xde,0xdd,0x114,0xf2)](_0x4472b6=>_0x4472b6[_0x5de405(0x8c,0x7b,0x55,0xc4)]):[],_0x58c90d[_0x46fbc5(-0xf3,-0x115,-0x12b,-0xff)][_0x5de405(0x2c,0x5d,0x10,0x52)]=_0x510ef1?_0x510ef1[_0x46fbc5(-0x46,-0xb2,-0xed,-0x86)](_0x23c352=>_0x23c352[_0x46fbc5(-0x61,-0x40,-0xc1,-0x5b)]):[],_0x58c90d[_0x5de405(0x7b,0x64,0x2c,0xc)][_0x46fbc5(-0x129,-0x115,-0x120,-0x11e)]=_0x9ac3c8?_0x9ac3c8[_0x5de405(0x76,0xdd,0x100,0xcd)](_0x24e900=>_0x24e900['model_name']):[],_0x58c90d[_0x46fbc5(-0x128,-0x135,-0x140,-0xff)][_0x46fbc5(-0x5d,-0x83,-0x5c,-0xa2)]=_0x5d4773?_0x5d4773['map'](_0x46cdb0=>_0x46cdb0[_0x46fbc5(-0x108,-0x135,-0x134,-0xe8)]):[],_0x58c90d['sdCache'][_0x5de405(0x25,0x5e,0x23,0x86)]=_0x51c029,_0x58c90d[_0x46fbc5(-0x12c,-0x121,-0xa8,-0xff)][_0x5de405(0x7e,0x41,-0x2f,0x26)]=_0x374ef9?_0x374ef9[_0x5de405(0x7c,0xdd,0xb4,0x87)](_0x5c227d=>_0x5c227d['name']):[],_0x54a4d3[_0x46fbc5(-0xc3,-0x51,-0xb3,-0xb6)](saveSettingsDebounced),alert(_0x54a4d3[_0x5de405(0x50,0x37,0xd,-0x6)]);}catch(_0x5d2d40){_0x54a4d3[_0x5de405(-0x31,0x3c,-0xb,0x59)](alert,_0x54a4d3[_0x46fbc5(-0x125,-0x170,-0x15b,-0x113)](_0x54a4d3[_0x5de405(0x8e,0xe3,0x88,0xa7)],_0x5d2d40[_0x46fbc5(-0x170,-0xe2,-0xbf,-0x117)])),_0x54a4d3['XrleR'](addLog,_0x5de405(0x46,0x58,0x25,0x69)+'址:'+_0xd9c57d+_0x46fbc5(-0xae,-0x64,-0x137,-0xd0)+JSON[_0x5de405(0x11b,0xc5,0x8a,0xc3)](_0x5d2d40));}}}window[_0x5de405(0xb0,0xb4,0xd6,0xf8)+'TavernChat'+_0x5de405(0xf1,0xa4,0xb5,0xc4)]();}export function initApiConnectionTests(_0x108a8d){const _0x5cc93c={};_0x5cc93c['ryglA']=_0x322608(0x1de,0x210,0x202,0x201),_0x5cc93c['aaBWc']=_0x322608(0x2ce,0x284,0x2cb,0x2b0)+'ui';const _0x43d9c6=_0x5cc93c;_0x108a8d[_0xa81025(-0x2cf,-0x280,-0x2cc,-0x286)](_0x322608(0x206,0x24b,0x20c,0x241))['on'](_0x43d9c6['ryglA'],testSd);function _0xa81025(_0x4d9e3b,_0x24283b,_0x52b7ec,_0x10be7e){return _0x3ca1(_0x52b7ec- -0x39d,_0x24283b);}function _0x322608(_0x386053,_0x3d725d,_0x1589e6,_0x4cb278){return _0x3ca1(_0x4cb278-0x145,_0x3d725d);}_0x108a8d['find'](_0x43d9c6['aaBWc'])['on'](_0x43d9c6[_0x322608(0x293,0x297,0x296,0x243)],testComfyui);}
(function(_0x1c8c3e,_0x3ed9c5){function _0x53d760(_0x13a7d4,_0x5eca87,_0x2e0bc4,_0x1e59dd){return _0x4e89(_0x1e59dd-0x3b9,_0x2e0bc4);}function _0x71271c(_0x388724,_0x3cd2e1,_0xc281fd,_0x271fa1){return _0x4e89(_0x3cd2e1-0xae,_0x271fa1);}const _0x472d98=_0x1c8c3e();while(!![]){try{const _0x4b1233=-parseInt(_0x53d760(0x55c,0x576,0x59b,0x573))/(-0x1*0x8+0x16f3+-0x7*0x346)*(-parseInt(_0x71271c(0x207,0x272,0x221,0x2b0))/(-0x1d15*-0x1+-0x10a8+-0xc6b*0x1))+parseInt(_0x71271c(0x21f,0x278,0x2db,0x24d))/(0x6dd*0x5+-0x1*0x19a+-0x20b4)+parseInt(_0x53d760(0x55e,0x522,0x5a5,0x589))/(-0x191e+-0x21e1+0x3b03)*(parseInt(_0x71271c(0x2ee,0x282,0x219,0x26a))/(0x13d9*0x1+-0x1932+0x55e))+-parseInt(_0x53d760(0x5bc,0x578,0x5c4,0x575))/(0xc1*-0x1f+-0x1*0x1a7b+0x31e0)*(parseInt(_0x53d760(0x4e0,0x50f,0x53e,0x531))/(0xc9a+-0x1ee7+-0x61c*-0x3))+parseInt(_0x53d760(0x60e,0x636,0x5f3,0x5d6))/(-0x1*-0xb2d+-0x14ef+0x9ca)+parseInt(_0x71271c(0x212,0x262,0x204,0x2ce))/(0x9db+0x46*0x6+-0x3*0x3d2)+-parseInt(_0x53d760(0x5a1,0x564,0x592,0x534))/(0xd2e*-0x2+-0x2456+0x37*0x124)*(parseInt(_0x53d760(0x590,0x4e0,0x548,0x546))/(-0x1420+0x12d*-0x1c+0x1*0x3517));if(_0x4b1233===_0x3ed9c5)break;else _0x472d98['push'](_0x472d98['shift']());}catch(_0x389208){_0x472d98['push'](_0x472d98['shift']());}}}(_0xbab9,0x9d20f+-0x8e4c+-0x2eddf));const _0x12387d=(function(){const _0xb05084={'hwjYB':function(_0x46667e,_0x4d42d3){return _0x46667e===_0x4d42d3;},'mNKJa':_0x594e5b(0x5c0,0x558,0x59d,0x5a6),'phODR':function(_0x1f2106,_0x5d98ec){return _0x1f2106!==_0x5d98ec;},'SJvnA':'oBJQS','KZtVK':function(_0xe47be6,_0x18b513){return _0xe47be6+_0x18b513;},'TORpk':function(_0x2de421,_0x179096){return _0x2de421(_0x179096);},'lKgGz':function(_0x93a4b5,_0x50579f){return _0x93a4b5!==_0x50579f;},'wysvz':_0x594e5b(0x513,0x518,0x54d,0x4a8)};function _0x25e4e7(_0x2c9c68,_0x2a12d4,_0x5616bd,_0x2bf519){return _0x4e89(_0x2a12d4- -0x315,_0x5616bd);}let _0x14728d=!![];function _0x594e5b(_0x41727f,_0x4c086c,_0x27d225,_0x660e7a){return _0x4e89(_0x4c086c-0x324,_0x41727f);}return function(_0x56dc16,_0x1d57de){function _0x3dd3fc(_0x29768c,_0x417473,_0x1c654a,_0x1d8eeb){return _0x594e5b(_0x417473,_0x29768c- -0x63e,_0x1c654a-0x1b4,_0x1d8eeb-0x1);}const _0x5317f0={'XlUYa':function(_0xc93221,_0x34443d){function _0x2896ce(_0x1688dd,_0xb439d7,_0x2cd490,_0x47ae3b){return _0x4e89(_0x2cd490-0x3aa,_0x47ae3b);}return _0xb05084[_0x2896ce(0x62a,0x58e,0x5c5,0x558)](_0xc93221,_0x34443d);},'XsYXe':function(_0x4bfac5,_0x1411e7){function _0x5d57b4(_0x406b90,_0x5738d9,_0x29250d,_0x3588cd){return _0x4e89(_0x3588cd-0x1fb,_0x5738d9);}return _0xb05084[_0x5d57b4(0x475,0x3f8,0x450,0x436)](_0x4bfac5,_0x1411e7);}};function _0xbe9e91(_0x18f033,_0x419ead,_0x4350ab,_0x34a665){return _0x594e5b(_0x419ead,_0x18f033- -0x40b,_0x4350ab-0x69,_0x34a665-0x136);}if(_0xb05084[_0x3dd3fc(-0x114,-0x136,-0x160,-0xb1)](_0xb05084[_0x3dd3fc(-0x18f,-0x1a5,-0x150,-0x1a5)],_0xb05084[_0x3dd3fc(-0x18f,-0x1f4,-0x1d1,-0x147)])){const _0x424106=_0x3774ad?function(){function _0x43d6fb(_0x32f50b,_0x67e8bd,_0x41f4d6,_0x338db2){return _0xbe9e91(_0x32f50b-0x2e1,_0x67e8bd,_0x41f4d6-0x11,_0x338db2-0x12e);}if(_0x3f311c){const _0x2af8f2=_0x5815d6[_0x43d6fb(0x430,0x413,0x479,0x423)](_0x595b81,arguments);return _0x3b1420=null,_0x2af8f2;}}:function(){};return _0x4cc2fe=![],_0x424106;}else{const _0x3ce1b9=_0x14728d?function(){function _0x20eae4(_0x3cee7d,_0x5860f9,_0x3e36c8,_0x3ebe45){return _0xbe9e91(_0x3ebe45-0x204,_0x3e36c8,_0x3e36c8-0x1ea,_0x3ebe45-0x3a);}function _0x26534b(_0x202e40,_0x29fb87,_0x48be70,_0xd72633){return _0xbe9e91(_0x48be70-0x2eb,_0x29fb87,_0x48be70-0xa,_0xd72633-0x161);}if(_0xb05084['hwjYB'](_0x20eae4(0x34f,0x2da,0x300,0x31f),_0xb05084['mNKJa']))_0x2632cc(_0x5317f0['XlUYa'](_0x26534b(0x48a,0x471,0x459,0x486)+'检查API地址和网络'+'连接。\x0a错误:\x20',_0x108411[_0x20eae4(0x2f5,0x3b9,0x345,0x34e)])),_0x5317f0['XsYXe'](_0x2c8795,_0x20eae4(0x2f9,0x320,0x331,0x2d0)+'址:'+_0x1b39e8+_0x26534b(0x3cd,0x3bc,0x3fb,0x420)+_0x2c601c[_0x20eae4(0x2bb,0x286,0x2e3,0x2b6)](_0x28b23b));else{if(_0x1d57de){if(_0xb05084[_0x26534b(0x371,0x397,0x3b2,0x3b8)](_0xb05084['SJvnA'],'oBJQS')){const _0x3ab8f7=new _0x1d0270(_0x59d4fc[_0x26534b(0x3f4,0x3c0,0x3b3,0x3bb)],_0x371966[_0x26534b(0x3f2,0x35f,0x3a4,0x3ed)]);_0x3ab8f7[_0x26534b(0x33d,0x348,0x3ad,0x37b)]=_0x3841ee[_0x26534b(0x3e9,0x354,0x3b3,0x408)],_0x538e25[_0x26534b(0x346,0x321,0x381,0x371)](_0x3ab8f7);}else{const _0xe5c5f1=_0x1d57de['apply'](_0x56dc16,arguments);return _0x1d57de=null,_0xe5c5f1;}}}}:function(){};return _0x14728d=![],_0x3ce1b9;}};}()),_0x57ac64=_0x12387d(this,function(){function _0x5c5826(_0x11163e,_0x324cd2,_0x2efeac,_0x38320a){return _0x4e89(_0x2efeac-0x31c,_0x324cd2);}const _0xc7d7a0={};_0xc7d7a0[_0x4f2137(0x503,0x4b1,0x4a9,0x4e4)]=_0x4f2137(0x51e,0x5a8,0x545,0x568)+'+$';function _0x4f2137(_0x35c612,_0x4f3787,_0x338523,_0x36b2a7){return _0x4e89(_0x338523-0x317,_0x36b2a7);}const _0x184d05=_0xc7d7a0;return _0x57ac64['toString']()['search'](_0x5c5826(0x518,0x514,0x54a,0x55c)+'+$')[_0x5c5826(0x52a,0x54f,0x526,0x597)]()[_0x4f2137(0x521,0x4ad,0x50c,0x4bd)+'r'](_0x57ac64)[_0x4f2137(0x4cf,0x47b,0x4b8,0x4bc)](_0x184d05[_0x4f2137(0x498,0x49c,0x4a9,0x45b)]);});_0x57ac64();import{extension_settings}from'../../../../../extensions.js';import{saveSettingsDebounced}from'../../../../../../script.js';function _0xbab9(){const _0xabaa57=['ug1ctLq','C3rFy2HHDhu4xW','ue9tva','yKrPB1a','C2rdywnOzq','zM9YrwfJAa','t1HNDMK','ywXS','y29TzNL1AvvYBa','uwPrC2e','DMfLCW','6k+35Rgc6zsz6k+V77Ym6k+35Qoa5P+L5zYW5z2a','Dg9Rzw4','EgrTqLi','y29UC3rYDwn0BW','6l+E5O6L5AsX6lsL77Ym6k+35Qoa5P+L5zYW5z2a','ioMuMEIVR+IVPUAdHtOI','CYbMywLSzwq','weTAz0i','yKPPz2e','BgDdtgW','6l+E5O6L5Rwl6k+v5AsX6lsLoG','vLPRuKu','AxzHAK8','C2rvCMW','q2HLy2TWB2LUDa','y2fSzs1TB2rLCW','wMfzywe','Bwz5l3nJAgvKDq','q0Xjuhm','rw5UBwu','BeTNr3O','5OMa5PYjqvbj6k+35Rgc5z2h5AsX6lsL','Bg9Yyxm','vu5LDdOG','Dg9tDhjPBMC','zsbbueKGy2fSBa','vgf2zxjUq2HHDa','C2nOzwr1BgvYCW','t3H6Cfa','CMvQzwn0zwq','r0DvrG','yxDoCfm','l2fWAs9Zzc9ZyW','wLD0y1G','rKPcB3u','zgvSCW','y2XPy2S','C2nHBgvYCW','CMvXDwLYzwq','y3DxsKe','rxvtCfO','s1P0vKS','rhL0qNi','nty2nJy0mhHKALvzwG','rgfNANK','ugndCve','5Qoa5P+Lqvbj5zYW5z2a5zkm572r57UC','AvDpz3K','DMfSDwvZ','ywXSu2v0DgXLza','r2fkAfu','i3rLC3rtza','uNnIwwO','C2fTCgXLCNm','Bwz5l3nHBxbSzq','C2tMTyVOR5xPK77MJQxLPlhOTkxOR7FMO4a','6l+u5zUE6zsz6k+V5y+V6io95PIV5l2G6l6t5ywL','5zYW5z2a5PIV5zcM5Q2J56gU5OIw572r57UC6l+E','v3Hwwey','C2PHDxe','kcGOlISPkYKRkq','Aw9UiefqssdLNldLNya','C2vSzwn0zwrjBG','BwvZC2fNzq','vgnQAe4','BhryD1a','ruvTC0C','z2v0rwXLBwvUDa','yxbWBhK','Bgf0zw50vxbZyW','B3b0Aw9UCW','qLLmzgS','BxbSzxjZ','ve9sCgS','BwfW','C2tMTyVOR5xPK77MJQxLPlhOTkxNVzhLNya','B3LMv2O','tgD1uvG','l2fWAs9Zzc9TBW','y2TWDf9Uyw1L','C3bSAwnL','5PYQ55+L6zsz6k+V','vgf1Du8','C2rFyxv0Aa','AML1z3vHBG','t0Lkzge','tg9YyuXVywrLCG','qNLjza','CMDRt1y','5PIV5zcM5Q2J56gU','D1PMB2C','ANnVBG','y2XPCf9Uyw1L','C3rHDhvZvgv4Da','sNHtq3a','CKPyDfC','C2tMTyVOR5xPK77MJQxMIjdLIP/NVzhLNya','5PIV5zcM5Q2J56gU5OIw572r57UC6l+E5O6L','y29TzNL1AunHyW','u0tOV57MJQxMTyVOR5xLPlhOTkxVViZOR7C','uM1Ku0O','6k+36l6t5ywL5PYj5Pwi55Qeifn0yq','6zo+5O6L5AsX6lsL572r5z2aoG','mti1mJn1rhfzr3u','EuPwBxu','Be1qD0u','odCWBNzqBfng','sgrXqvK','ywrK','qvbjioIVT+AXGUwKSEI0PtOG','yMXLierPzMz1CW','C2fTCgXLCL9Uyq','i3rLC3rdB21MEq','vuDUC3K','Bg9HzfnPBhrLCG','AwTwAve','C2qTBw9KzwXZ','y2XPzw50','Aw5WDxq','C2nOzwr1BgvY','C29Tzq','CMvHC29U','D3LZDNO','5P+L572r5z2a5OIw6icf572r57UC6l+E5O6L','ote4otrAwgTOqLq','D2LAy08','zMLUza','Bg9Yyv9Uyw1L','Bw9KzwXFBMfTzq','DezktNK','C3vrsva','zgv4','yw1Ts0m','zLHsCue','zNzyte8','Bw9KzwXZ','C3rYAw5NAwz5','Bw9ABMm','B3LMEe8','z1bYu2O','Dw5LDf9Uyw1L','rK52Dwu','l2fWAs9Zzc92yq','DMfSDwu','C2vHCMnO','Bwvlzhm','l3nKyxbPl3yXlW','CeTsENi','uM9hzLy','rfzRs2m','uuznu1a','DMfLx25HBwu','DgL0Bgu','yuHQCwS','6l+E5O6L44cccUMuMEIVRZOG','igzVCIa','r1z1yuC','CgHprfi','Dgv4Da','r0DvrJOG','EKruy1G','DxjS','iUA1I+IVLvne6zo+5O6L5AsX6lsL572r','mJa4mtaZnhnruwLOta','t25Lig9Yig1VCG','Axn0tKK','6l+E5O6L5OIq5yQF','l2fWAs9Zzc9JBW','wgLUB3y','mJCXD3r5D0XM','seHyAgO','mJeWmgrwueXYzG','zNvSzMLSBgvK','BgvUz3rO','ALPoyva','l2fWAs9Zzc9Zyq','lIdNRkZKUidKUkRPLjNOR686ia','zxjYB3i','y3rvuNO','mJq5off1rePSyG','C2n5B3K','iMnWBwz5DwNMTyVOR5u','Bwz5l3zHzxm','AwLjBuq','BvbMsgu','mti5mJeYmuXcsMj2Aq','ywXdtha','A3vWsxy','AMrKB24','q1ftwNC','B2jQzwn0sw5MBW','nhfbrfjoCG','vw5LDeXVywrLCG','C2qTDMfL','yxv0Aa','mJK3mduWwLP0vgXA','DxbZy2fSzxjZ','v2nqthe','sNjSEe4','v1fJt3u','Cu9rA1G','rKjSD2G','wLvUz0u','ywXLCNm','uw9uqMS','s1nHBxbSzxi','l2fWAs9Zzc91Ca','D3vet3O','CMjrDe4','C3rHDhvZ','vu5fveXVywrLCG','D2rRtee','AgvKDwXLCNm','BMfTzq'];_0xbab9=function(){return _0xabaa57;};return _0xbab9();}import{extensionName}from'../config.js';import{removeTrailingSlash,getRequestHeaders,getsdAuth,addLog}from'../utils.js';import{isValidUrl,showToast}from'../ui_common.js';function populateSelect(_0x1ea3e9,_0x2e831b,_0x2b4d43){const _0x44c505={};_0x44c505['xPgiT']=function(_0xe1ec,_0x483d70){return _0xe1ec===_0x483d70;};function _0x112b6e(_0x509762,_0x5f159b,_0x29eae8,_0x1e5b6a){return _0x4e89(_0x509762- -0x160,_0x5f159b);}_0x44c505[_0x12c447(0x4ef,0x512,0x47e,0x4cb)]=_0x112b6e(0xcd,0xe6,0x10e,0x80),_0x44c505[_0x12c447(0x532,0x4c4,0x588,0x509)]=function(_0x345508,_0xfd297a){return _0x345508===_0xfd297a;},_0x44c505[_0x112b6e(0xdf,0x96,0xde,0x85)]=_0x112b6e(0xa5,0x103,0xe6,0xc3),_0x44c505['YDSSA']=function(_0x4a2443,_0x3af233){return _0x4a2443>_0x3af233;};const _0x3d5dcb=_0x44c505;if(!_0x1ea3e9)return;function _0x12c447(_0x39feff,_0x1756fb,_0x2ca267,_0x55e6e0){return _0x4e89(_0x39feff-0x318,_0x1756fb);}const _0x15aa98=_0x1ea3e9[_0x12c447(0x4b8,0x489,0x4d8,0x4ef)];_0x1ea3e9['innerHTML']='',_0x2e831b[_0x12c447(0x504,0x4e2,0x521,0x4a8)](_0x311c92=>{function _0x4d74e0(_0x53d2e3,_0x4bf95c,_0x33efeb,_0x1d0801){return _0x112b6e(_0x53d2e3-0xb6,_0x1d0801,_0x33efeb-0x11b,_0x1d0801-0x9f);}function _0x7310f0(_0x7be4cf,_0x7a9260,_0x531135,_0x392c25){return _0x112b6e(_0x7be4cf-0x1d7,_0x531135,_0x531135-0x190,_0x392c25-0x1e0);}if(_0x3d5dcb['xPgiT'](_0x7310f0(0x1fb,0x1e8,0x1bd,0x1b6),_0x3d5dcb[_0x7310f0(0x24e,0x2b4,0x234,0x27c)]))_0x4d1280[_0x7310f0(0x2a7,0x240,0x253,0x2c4)+'dex']=0x17a4+0x1e27+-0x35cb;else{const _0x1c0ff6=new Option(_0x311c92[_0x7310f0(0x226,0x268,0x1c6,0x207)],_0x311c92[_0x4d74e0(0xf6,0x10b,0x14a,0xc3)]);_0x1c0ff6[_0x7310f0(0x220,0x210,0x21a,0x215)]=_0x311c92['text'],_0x1ea3e9['add'](_0x1c0ff6);}});if(_0x2e831b[_0x112b6e(0x29,0x15,0x4a,0xd)](_0x1ed38c=>_0x1ed38c[_0x12c447(0x4b8,0x529,0x4f6,0x48a)]===_0x15aa98))_0x1ea3e9[_0x12c447(0x4b8,0x504,0x491,0x479)]=_0x15aa98;else{if(_0x2b4d43&&_0x2e831b[_0x12c447(0x4a1,0x4ae,0x446,0x43b)](_0x505e43=>_0x505e43[_0x112b6e(0x40,0x49,-0x24,0x2d)]===_0x2b4d43))_0x3d5dcb[_0x112b6e(0xba,0x88,0x69,0xd8)](_0x112b6e(0xa5,0xdb,0xb1,0xca),_0x3d5dcb[_0x112b6e(0xdf,0x7b,0x11f,0x131)])?_0x1ea3e9[_0x12c447(0x4b8,0x480,0x4f2,0x4f5)]=_0x2b4d43:_0x25a345[_0x112b6e(0xf4,0x127,0x97,0xdf)+'he']={};else _0x3d5dcb['YDSSA'](_0x1ea3e9[_0x12c447(0x550,0x524,0x5a6,0x548)][_0x112b6e(0x5e,0xbd,0xcc,0x9)],-0x20a0+0xc*0xad+0x1884*0x1)&&(_0x1ea3e9[_0x12c447(0x548,0x55a,0x569,0x4f7)+_0x112b6e(0x34,0x7b,-0x7,0x6c)]=-0x1*-0x1ab+0x8aa+-0xa55);}}function _0x4e89(_0x327bbb,_0x416a48){_0x327bbb=_0x327bbb-(0x8c2*0x2+0x586+-0x1595);const _0x4d7dc4=_0xbab9();let _0x515532=_0x4d7dc4[_0x327bbb];if(_0x4e89['uUXAVb']===undefined){var _0x521786=function(_0x5dcf9d){const _0x1839dd='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x5d6d6e='',_0x154d57='',_0x10ed50=_0x5d6d6e+_0x521786;for(let _0x38cd5d=0x1946+-0x1461+-0x7*0xb3,_0x374074,_0x17cd87,_0x21b05e=-0x1*0x269b+-0xc20+0x1*0x32bb;_0x17cd87=_0x5dcf9d['charAt'](_0x21b05e++);~_0x17cd87&&(_0x374074=_0x38cd5d%(-0x243c+0x1*0xa0b+0x1*0x1a35)?_0x374074*(0x2ba*-0x1+0x1*0x13fa+-0x1100)+_0x17cd87:_0x17cd87,_0x38cd5d++%(0x669+0x1d*-0x119+0x1970))?_0x5d6d6e+=_0x10ed50['charCodeAt'](_0x21b05e+(0x1d*0x13d+0x65*0x3f+-0x2*0x1e5d))-(-0x22e1*0x1+-0x502*-0x4+-0x25*-0x67)!==0x3ef*-0x6+0x1cc*-0x1+-0x1966*-0x1?String['fromCharCode'](0x2287*0x1+0x612+-0x279a&_0x374074>>(-(0x1726+0x421+0x1*-0x1b45)*_0x38cd5d&0x1*-0x1b9b+0x78d+0x5*0x404)):_0x38cd5d:0x1792+0x1e1+-0x1973){_0x17cd87=_0x1839dd['indexOf'](_0x17cd87);}for(let _0x3ae779=0xb5c+-0x9d8+0xc2*-0x2,_0x49a7c1=_0x5d6d6e['length'];_0x3ae779<_0x49a7c1;_0x3ae779++){_0x154d57+='%'+('00'+_0x5d6d6e['charCodeAt'](_0x3ae779)['toString'](0x1847+-0x15d3+-0x264))['slice'](-(-0x2323+-0x15f3+0x3918));}return decodeURIComponent(_0x154d57);};_0x4e89['JksSgV']=_0x521786,_0x4e89['DhFtuj']={},_0x4e89['uUXAVb']=!![];}const _0x54fc6a=_0x4d7dc4[-0x1e*-0x75+-0x56*-0x3a+-0x2132],_0x3edfaf=_0x327bbb+_0x54fc6a,_0x17ee98=_0x4e89['DhFtuj'][_0x3edfaf];if(!_0x17ee98){const _0x180cea=function(_0x5370b0){this['VwWiAc']=_0x5370b0,this['JRFFsg']=[-0x2*0x9cb+0x149b+0x1a*-0xa,0x18e*0x3+0x24af+-0x2959,-0x7f8+-0x1193+0x198b],this['jadmVN']=function(){return'newState';},this['hltWuB']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['axVpRy']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x180cea['prototype']['bjXQBW']=function(){const _0x112d43=new RegExp(this['hltWuB']+this['axVpRy']),_0x3eec5e=_0x112d43['test'](this['jadmVN']['toString']())?--this['JRFFsg'][0xc*-0x15b+-0x791+0x17d6]:--this['JRFFsg'][-0x198a+-0x297+0x1c21];return this['xLyAPr'](_0x3eec5e);},_0x180cea['prototype']['xLyAPr']=function(_0x2b84d9){if(!Boolean(~_0x2b84d9))return _0x2b84d9;return this['PuYBLU'](this['VwWiAc']);},_0x180cea['prototype']['PuYBLU']=function(_0x5c7b39){for(let _0x17a791=-0xe*0x139+-0x2b9*0x7+0x242d,_0x319144=this['JRFFsg']['length'];_0x17a791<_0x319144;_0x17a791++){this['JRFFsg']['push'](Math['round'](Math['random']())),_0x319144=this['JRFFsg']['length'];}return _0x5c7b39(this['JRFFsg'][0x24ce+-0x1821+-0x37*0x3b]);},new _0x180cea(_0x4e89)['bjXQBW'](),_0x515532=_0x4e89['JksSgV'](_0x515532),_0x4e89['DhFtuj'][_0x3edfaf]=_0x515532;}else _0x515532=_0x17ee98;return _0x515532;}async function testComfyui(){const _0x46c4e6={'suQIP':function(_0x4dd418,_0x238eff){return _0x4dd418(_0x238eff);},'RoGfV':_0x3d94cf(0x11b,0x158,0x116,0xbb)+_0x527efd(0x405,0x460,0x3ef,0x455)+_0x3d94cf(0x23b,0x189,0x1cf,0x175)+'。','FBlwh':_0x527efd(0x4b4,0x4cd,0x4dd,0x46f)+'+$','wuDOz':function(_0x1621d5,_0x54246b){return _0x1621d5(_0x54246b);},'scyoy':function(_0x549353,_0x381e0a){return _0x549353+_0x381e0a;},'WcPLq':'/object_in'+'fo','JxSCp':function(_0x3ae3d9,_0x12b89d){return _0x3ae3d9===_0x12b89d;},'iWOgy':_0x527efd(0x483,0x438,0x498,0x48c),'oyfxO':function(_0x36d512,_0xd8f2f0){return _0x36d512===_0xd8f2f0;},'bJiga':_0x3d94cf(0x228,0x1dc,0x1e6,0x1d4),'lgCLl':function(_0x5d5804,_0x1d2f65,_0x56fcb3){return _0x5d5804(_0x1d2f65,_0x56fcb3);},'wiZcO':_0x527efd(0x43e,0x402,0x3e3,0x444)+'mfy/models','alCLp':'POST','kupIv':'fvXLO','tNITK':function(_0x318f0c,_0x495810){return _0x318f0c+_0x495810;},'yJVmu':function(_0x18040d,_0x3bd3e7){return _0x18040d(_0x3bd3e7);},'fXRqA':function(_0x25fcfd,_0xbba9bd,_0x5be7fe){return _0x25fcfd(_0xbba9bd,_0x5be7fe);},'QoTBk':_0x3d94cf(0x160,0x1b1,0x158,0x18c)+_0x3d94cf(0x230,0x1f6,0x1c8,0x164)+'rs','rJXtW':function(_0x5342fd,_0x1ceefe){return _0x5342fd(_0x1ceefe);},'jddon':_0x3d94cf(0x122,0x156,0x158,0xf6)+_0x3d94cf(0x196,0x118,0x167,0x195),'fpWAI':'/api/sd/co'+_0x527efd(0x489,0x4cc,0x4ea,0x468)+'lers','TauuO':_0x527efd(0x43b,0x470,0x47a,0x470)+_0x527efd(0x491,0x444,0x48b,0x45e)+_0x3d94cf(0x1a4,0x16e,0x198,0x1a2),'ZUngE':function(_0x3e1c2f,_0x51042a){return _0x3e1c2f(_0x51042a);},'ltXwP':_0x3d94cf(0x121,0x114,0x157,0xea),'istNI':function(_0x3b68de){return _0x3b68de();},'mLLwi':function(_0x5a2043,_0xb954ee){return _0x5a2043===_0xb954ee;},'awNpS':_0x3d94cf(0x137,0x114,0x151,0x1ae),'htDsx':'MusIN','FNvue':_0x527efd(0x494,0x4f4,0x484,0x48e),'mPfHe':_0x3d94cf(0x204,0x1e2,0x1e8,0x246),'DVkKc':_0x3d94cf(0x164,0xcc,0x127,0xd5),'GaJhU':_0x3d94cf(0x17b,0x18c,0x130,0x100),'Dagjy':_0x527efd(0x464,0x49a,0x4c5,0x43d),'HdqAY':'required','cwWJA':_0x527efd(0x406,0x3d2,0x471,0x414)+'me','QjQsa':_0x527efd(0x42e,0x49e,0x435,0x449),'qQWzQ':'CLIPLoader','RsbYj':_0x3d94cf(0x22d,0x20e,0x1ee,0x18e),'CQSZw':'CLIPLoader'+_0x527efd(0x496,0x4af,0x4a0,0x4d3),'TcjhN':'lKnIc','wZfog':'连接失败，请检查地址'+_0x527efd(0x4d1,0x4d5,0x4de,0x53e),'rbQtN':function(_0x367a84,_0x47b3f2){return _0x367a84(_0x47b3f2);},'RmdSJ':function(_0x1e8f01,_0x3d7629){return _0x1e8f01(_0x3d7629);},'jZNaP':_0x3d94cf(0x1d1,0x150,0x19c,0x1d6)};function _0x527efd(_0x5b3f6f,_0x1d56ae,_0x2fe3c4,_0x566a43){return _0x4e89(_0x5b3f6f-0x286,_0x1d56ae);}const _0xfb5e40=extension_settings[extensionName];function _0x3d94cf(_0x5e9ed2,_0x39dc45,_0x427241,_0x20552a){return _0x4e89(_0x427241- -0x60,_0x20552a);}let _0xc6edb4=document[_0x3d94cf(0x1c4,0x1da,0x1d5,0x1e6)+_0x3d94cf(0x212,0x198,0x1e9,0x219)](_0x3d94cf(0x15e,0x1a9,0x18f,0x1b2)),_0x3d2bd4=_0x46c4e6['wuDOz'](removeTrailingSlash,_0xc6edb4['value']),_0x3b5d14=_0x46c4e6[_0x527efd(0x44b,0x3f6,0x41c,0x4af)](_0x3d2bd4,_0x46c4e6[_0x527efd(0x45c,0x418,0x44c,0x4bd)]);if(!_0xfb5e40['comfyuiCac'+'he']){if(_0x46c4e6[_0x3d94cf(0x188,0x210,0x1f0,0x1e7)](_0x527efd(0x428,0x467,0x495,0x48f),_0x46c4e6[_0x3d94cf(0x189,0x1f9,0x1c1,0x20e)])){if(!_0x181c76['ok'])throw new _0x2c9a42(_0x3d94cf(0x16d,0xf9,0x11e,0x18e)+_0x406c76[_0x3d94cf(0x11c,0x13f,0x182,0x177)]+'\x20'+_0x477857[_0x3d94cf(0x1e3,0x20f,0x1ef,0x1c8)]+_0x527efd(0x432,0x425,0x43c,0x471)+_0x5ecdc0[_0x527efd(0x438,0x411,0x42b,0x427)]);}else _0xfb5e40[_0x527efd(0x4da,0x4e8,0x51b,0x53d)+'he']={};}try{if(_0x46c4e6[_0x527efd(0x421,0x452,0x47b,0x3f4)](_0xfb5e40['client'],_0x46c4e6[_0x527efd(0x480,0x419,0x441,0x4eb)])){const _0x5aada8={};_0x5aada8[_0x527efd(0x438,0x49f,0x3db,0x463)]=_0x3d2bd4;const _0x2d8c67=await _0x46c4e6[_0x527efd(0x481,0x412,0x4a2,0x482)](fetch,_0x46c4e6[_0x527efd(0x414,0x477,0x3b3,0x45e)],{'method':_0x46c4e6[_0x3d94cf(0x1c6,0x150,0x16b,0x1c9)],'body':JSON['stringify'](_0x5aada8),'headers':_0x46c4e6[_0x527efd(0x419,0x3b2,0x3bd,0x3f0)](getRequestHeaders,window[_0x3d94cf(0x1d2,0x144,0x193,0x1a7)])});if(!_0x2d8c67['ok']){if(_0x46c4e6[_0x3d94cf(0xfd,0x170,0x16c,0x102)]===_0x527efd(0x41d,0x474,0x3dd,0x42b)){const _0x5c08b0=await _0x2d8c67[_0x527efd(0x435,0x460,0x40a,0x4a0)]();alert(_0x46c4e6['tNITK'](_0x3d94cf(0x16b,0x1ef,0x1ca,0x1b2)+'网址有误',_0x5c08b0)),_0x46c4e6[_0x3d94cf(0xb9,0x131,0x119,0xeb)](addLog,'\x22测试链接失败网址:'+_0x3d2bd4+_0x3d94cf(0x1f5,0x1c1,0x197,0x143)+JSON[_0x527efd(0x41f,0x46d,0x450,0x41e)](_0x5c08b0)+(',请求失败,状态码:'+'\x20')+_0x2d8c67[_0x3d94cf(0x147,0x1c3,0x182,0x143)]);throw new Error('请求失败,状态码:\x20'+_0x2d8c67[_0x527efd(0x468,0x414,0x4c8,0x3ff)]);}else{_0x46c4e6[_0x527efd(0x419,0x476,0x482,0x407)](_0x4d51c8,_0x46c4e6[_0x3d94cf(0x187,0x183,0x145,0x11f)]);return;}}const _0x340223={};_0x340223[_0x527efd(0x438,0x467,0x3e6,0x49e)]=_0x3d2bd4;const _0x49b530=await _0x46c4e6[_0x3d94cf(0xdc,0xe6,0x136,0x16f)](fetch,_0x46c4e6[_0x527efd(0x463,0x43b,0x41e,0x480)],{'method':_0x46c4e6[_0x3d94cf(0x15a,0x1ba,0x16b,0x174)],'body':JSON[_0x3d94cf(0x168,0xd3,0x139,0x176)](_0x340223),'headers':_0x46c4e6[_0x527efd(0x4d7,0x4e3,0x491,0x531)](getRequestHeaders,window['token'])}),_0x4f7757={};_0x4f7757[_0x527efd(0x438,0x3da,0x403,0x439)]=_0x3d2bd4;const _0x550f33=await fetch(_0x46c4e6[_0x527efd(0x453,0x409,0x490,0x4b2)],{'method':_0x527efd(0x46f,0x494,0x463,0x4b7),'body':JSON[_0x3d94cf(0x16a,0x119,0x139,0xd7)](_0x4f7757),'headers':_0x46c4e6[_0x527efd(0x419,0x451,0x405,0x422)](getRequestHeaders,window[_0x527efd(0x479,0x458,0x425,0x4c1)])}),_0x36ab6c={};_0x36ab6c[_0x527efd(0x438,0x415,0x49d,0x429)]=_0x3d2bd4;const _0x4446a5=await _0x46c4e6[_0x527efd(0x41c,0x433,0x45d,0x3d9)](fetch,_0x46c4e6['fpWAI'],{'method':_0x46c4e6[_0x527efd(0x451,0x438,0x4ab,0x430)],'body':JSON[_0x527efd(0x41f,0x442,0x3b6,0x3f6)](_0x36ab6c),'headers':_0x46c4e6[_0x527efd(0x419,0x445,0x3f5,0x46b)](getRequestHeaders,window[_0x527efd(0x479,0x42e,0x4cd,0x4cc)])});if(!_0x49b530['ok']||!_0x550f33['ok']||!_0x4446a5['ok'])throw new Error(_0x46c4e6[_0x3d94cf(0x205,0x19a,0x1e4,0x221)]);_0x46c4e6[_0x3d94cf(0x1a0,0x1d9,0x17b,0x120)](alert,_0x46c4e6[_0x527efd(0x4b9,0x4de,0x477,0x46e)]);const _0x26ec29=await _0x2d8c67[_0x527efd(0x4d3,0x501,0x537,0x53e)](),_0x3fd3d3=await _0x49b530['json'](),_0x1de200=await _0x550f33[_0x3d94cf(0x24c,0x235,0x1ed,0x1d4)](),_0x13cd60=await _0x4446a5[_0x3d94cf(0x209,0x21a,0x1ed,0x209)]();_0xfb5e40[_0x527efd(0x4da,0x46d,0x4a3,0x4dd)+'he'][_0x527efd(0x41e,0x480,0x410,0x464)]=_0x26ec29,_0xfb5e40[_0x3d94cf(0x1b4,0x1f3,0x1f4,0x193)+'he'][_0x3d94cf(0x19a,0x1b6,0x1c7,0x1c6)]=_0x3fd3d3,_0xfb5e40['comfyuiCac'+'he'][_0x3d94cf(0x17c,0x1e4,0x191,0x142)]=_0x1de200,_0xfb5e40[_0x3d94cf(0x263,0x263,0x1f4,0x1d4)+'he'][_0x3d94cf(0x1d2,0x15e,0x1ad,0x1f4)]=_0x13cd60,_0xfb5e40[_0x527efd(0x4da,0x482,0x541,0x4e1)+'he'][_0x3d94cf(0x1bb,0x1c2,0x1a8,0x199)]=[],_0x46c4e6[_0x527efd(0x43c,0x451,0x410,0x48f)](saveSettingsDebounced);}else{if(_0x46c4e6['mLLwi'](_0x46c4e6[_0x3d94cf(0x18f,0x1f3,0x1b1,0x153)],_0x46c4e6['htDsx']))_0x34ba7a[_0x527efd(0x426,0x3fd,0x3e0,0x482)]=_0x61a801;else{const _0x136fa5=await _0x46c4e6['yJVmu'](fetch,_0x3b5d14);if(_0x136fa5['ok']){if(_0x46c4e6[_0x3d94cf(0x182,0x1ad,0x13e,0x130)]!==_0x527efd(0x494,0x48c,0x4cf,0x45e)){if(_0xaae83e){const _0x28f86c=_0x463f62[_0x3d94cf(0x22b,0x192,0x1d6,0x20d)](_0x51f17d,arguments);return _0x486ea9=null,_0x28f86c;}}else{_0x46c4e6[_0x3d94cf(0x175,0x1c8,0x180,0x11a)](alert,_0x46c4e6[_0x527efd(0x4b9,0x4b6,0x4b2,0x474)]);const _0x49e6f0=await _0x136fa5[_0x527efd(0x4d3,0x542,0x53e,0x47e)](),_0x16b00b=_0x49e6f0[_0x46c4e6[_0x3d94cf(0x179,0x1c6,0x169,0x175)]][_0x46c4e6[_0x527efd(0x42c,0x465,0x445,0x3cb)]]['required'][_0x46c4e6[_0x527efd(0x4aa,0x45b,0x4de,0x4f7)]][0x200b+-0x1ba9+0x11*-0x42],_0x4b23d0=_0x49e6f0[_0x527efd(0x486,0x484,0x4c6,0x4c6)+'LoaderSimp'+'le']['input']['required'][_0x527efd(0x4c7,0x4b6,0x492,0x513)][0x24fe+0x5*0x67+0x5*-0x7cd][_0x3d94cf(0x21d,0x215,0x1dc,0x244)](_0xc8cb83=>({'value':_0xc8cb83,'text':_0xc8cb83}))||[],_0xd5685e=_0x49e6f0[_0x3d94cf(0x1cc,0x116,0x183,0x1c6)][_0x3d94cf(0x10b,0x175,0x127,0x144)][_0x3d94cf(0x1d6,0x14b,0x1b8,0x18e)][_0x3d94cf(0x121,0x179,0x13d,0x133)][-0x1730+-0x2*-0x3ae+-0x1*-0xfd4]['map'](_0x233c39=>({'value':_0x233c39,'text':_0x3d94cf(0x142,0x142,0x1a9,0x152)+_0x233c39}))||[],_0x4226c2=_0x49e6f0[_0x527efd(0x457,0x431,0x4a7,0x401)+_0x527efd(0x496,0x4bb,0x4f6,0x4db)]?.['input'][_0x3d94cf(0x216,0x1f5,0x1b8,0x19d)][_0x527efd(0x423,0x3d1,0x436,0x47c)][-0x53a+0x3cd*-0x3+0x10a1][_0x3d94cf(0x24b,0x1d9,0x1dc,0x220)](_0xfae39c=>({'value':_0xfae39c,'text':'GGUF:\x20'+_0xfae39c}))||[],_0x4b98b6=[..._0x4b23d0,..._0xd5685e,..._0x4226c2],_0x368d46=_0x49e6f0[_0x46c4e6[_0x527efd(0x4a4,0x43e,0x448,0x4ab)]][_0x46c4e6[_0x527efd(0x42c,0x3ea,0x3df,0x447)]][_0x46c4e6[_0x3d94cf(0x12a,0x10d,0x11c,0x133)]][_0x46c4e6[_0x3d94cf(0x1f8,0x1b2,0x1b9,0x1a0)]][-0x61c+0x1*0xa77+0x1*-0x45b],_0x3d12e4=_0x49e6f0[_0x46c4e6[_0x527efd(0x4a4,0x4b8,0x441,0x4cd)]][_0x46c4e6[_0x527efd(0x42c,0x3c0,0x457,0x42f)]][_0x46c4e6[_0x3d94cf(0x122,0xbc,0x11c,0xd4)]][_0x527efd(0x40e,0x47b,0x44e,0x3c6)][0x3*0xc59+-0x10f6+-0x1415],_0x730f51=_0x49e6f0['VAELoader'][_0x527efd(0x40d,0x40a,0x47c,0x3fc)][_0x3d94cf(0x21e,0x16d,0x1b8,0x1a5)][_0x46c4e6[_0x527efd(0x476,0x484,0x427,0x4de)]][0x1158+0x2ba*0x9+-0x29e2],_0x40b21c=_0x49e6f0[_0x46c4e6['qQWzQ']][_0x46c4e6[_0x3d94cf(0x15c,0xd9,0x146,0x18a)]][_0x46c4e6[_0x527efd(0x402,0x39a,0x472,0x44a)]][_0x46c4e6[_0x527efd(0x4ac,0x459,0x4d8,0x4c5)]][-0x1277+0x1*0x3e4+0xe93],_0x3bb850=_0x49e6f0[_0x46c4e6[_0x3d94cf(0x16a,0x1ac,0x16e,0x143)]]?.['input']?.[_0x3d94cf(0x193,0x1ed,0x1b8,0x1e0)]?.['clip_name']?.[-0x11e9+-0x1083+0x89b*0x4]?.[_0x527efd(0x4c2,0x50d,0x47d,0x4a1)](_0x3d939c=>_0x527efd(0x436,0x414,0x417,0x412)+_0x3d939c)||[],_0x53e1ac=[..._0x40b21c,..._0x3bb850];_0xfb5e40[_0x527efd(0x4da,0x543,0x50d,0x4d1)+'he']['loras']=_0x16b00b,_0xfb5e40[_0x3d94cf(0x1e4,0x252,0x1f4,0x22d)+'he']['models']=_0x4b98b6,_0xfb5e40[_0x3d94cf(0x254,0x194,0x1f4,0x1f6)+'he'][_0x527efd(0x4ad,0x494,0x456,0x48c)]=_0x368d46,_0xfb5e40[_0x527efd(0x4da,0x4bf,0x4da,0x46f)+'he'][_0x3d94cf(0x1c2,0x1c9,0x1ad,0x15e)]=_0x3d12e4,_0xfb5e40['comfyuiCac'+'he'][_0x527efd(0x477,0x4d2,0x467,0x479)]=_0x730f51,_0xfb5e40[_0x3d94cf(0x216,0x212,0x1f4,0x21b)+'he'][_0x3d94cf(0x1f1,0x1dd,0x1a4,0x1f0)]=_0x53e1ac,_0xfb5e40[_0x3d94cf(0x1f1,0x1ca,0x1f4,0x1b5)+'he'][_0x527efd(0x455,0x3ed,0x425,0x4bf)]=_0x49e6f0,_0x46c4e6[_0x3d94cf(0x169,0x1a1,0x156,0x160)](saveSettingsDebounced);}}else{if(_0x46c4e6['TcjhN']===_0x46c4e6[_0x527efd(0x4b8,0x449,0x4d4,0x4c1)])_0x46c4e6[_0x527efd(0x419,0x414,0x3b7,0x43f)](alert,_0x46c4e6[_0x3d94cf(0x1b3,0x215,0x1ec,0x1fe)]);else return _0x12e237[_0x527efd(0x490,0x4a9,0x48c,0x4ab)]()[_0x527efd(0x427,0x47a,0x479,0x42a)](_0x527efd(0x4b4,0x4a0,0x51e,0x449)+'+$')[_0x527efd(0x490,0x464,0x48f,0x445)]()[_0x3d94cf(0x1f1,0x1b6,0x195,0x1bd)+'r'](_0x2d7e62)['search'](xkFrol[_0x3d94cf(0x174,0x1e5,0x17a,0x16d)]);}}}window[_0x527efd(0x409,0x454,0x414,0x399)+_0x527efd(0x492,0x4b9,0x4f1,0x434)+'u8Settings']();}catch(_0x232f83){_0x46c4e6[_0x527efd(0x467,0x4d4,0x426,0x44f)](alert,'请求错误，请检查地址'+_0x3d94cf(0x1f1,0x25d,0x1f3,0x22f)),_0x46c4e6[_0x527efd(0x3fb,0x3ff,0x3b0,0x402)](addLog,_0x3d94cf(0x106,0x14f,0x166,0x13c)+_0x3d94cf(0x143,0x14b,0x117,0x187)+_0x3b5d14+('\x20,请求错误，请检查'+_0x527efd(0x4b1,0x4ea,0x45f,0x450)+'接\x22')),console['error'](_0x46c4e6[_0x527efd(0x445,0x42b,0x4ac,0x452)],_0x232f83);}}async function testSd(){const _0x56f3aa={'pKRzr':_0x5fbb2b(-0xd5,-0x99,-0x64,-0x69)+_0x5fbb2b(-0x16,-0x38,-0x5b,-0xa8),'Rgofk':_0x4785e9(0x33a,0x2cc,0x304,0x315),'rgkOV':function(_0x2c27c9,_0x77ae8){return _0x2c27c9(_0x77ae8);},'moZnc':function(_0x3cbf49,_0x32f87e){return _0x3cbf49(_0x32f87e);},'yUZVM':_0x5fbb2b(-0x8c,-0x8c,-0x5a,-0xc3),'lMPwE':function(_0x4c8421,_0x466e1f){return _0x4c8421(_0x466e1f);},'ZWtcX':function(_0x177f62,_0x4c77f2){return _0x177f62==_0x4c77f2;},'iiImD':'jiuguan','pzJjV':function(_0x2dde6d,_0x254394){return _0x2dde6d!==_0x254394;},'FJBou':_0x5fbb2b(-0x35,-0x52,-0x37,-0xbb),'XKZgB':_0x4785e9(0x2fe,0x2f4,0x28f,0x331)+_0x4785e9(0x378,0x32d,0x30c,0x39c),'ivajO':_0x5fbb2b(-0x68,-0x4b,-0x19,-0x7)+_0x5fbb2b(-0xca,-0x76,-0xd2,-0x9d),'PmBNT':_0x5fbb2b(-0x42,-0x79,-0x52,-0x41)+_0x5fbb2b(-0xce,-0xa6,-0x3f,-0x9e),'Bingi':function(_0x2d3d09,_0x11531f){return _0x2d3d09!==_0x11531f;},'QFMSP':_0x5fbb2b(-0x4d,-0xa7,-0xa3,-0xcc),'waWBf':function(_0x4c0773){return _0x4c0773();},'bDioP':_0x4785e9(0x2f5,0x2ec,0x34b,0x2e8),'ctURz':function(_0xf0e29e,_0xd6c531){return _0xf0e29e+_0xd6c531;},'OXgvi':_0x4785e9(0x367,0x3d7,0x330,0x318)+_0x5fbb2b(-0xcb,-0xff,-0x116,-0x121),'Xinov':function(_0x565109,_0x1db679){return _0x565109===_0x1db679;},'oyfWj':'aCbKz','SGRGg':_0x4785e9(0x2e1,0x280,0x339,0x2a6)+_0x5fbb2b(-0x3a,-0x64,-0xce,-0x27),'gPrSj':_0x5fbb2b(-0xf2,-0xe8,-0xe5,-0x156)+_0x5fbb2b(-0xbd,-0x106,-0xe3,-0x104),'CoXhT':_0x5fbb2b(-0x88,-0xe8,-0xaf,-0x98)+_0x5fbb2b(-0x55,-0xb9,-0xef,-0xd3),'GDuRq':_0x5fbb2b(-0x14d,-0xe8,-0xa3,-0xcd)+'latent-ups'+_0x4785e9(0x33f,0x35d,0x2d7,0x394),'DytBr':'/sdapi/v1/'+_0x5fbb2b(-0xd3,-0x83,-0x65,-0x94),'qOQkX':_0x4785e9(0x381,0x38a,0x378,0x397),'pSSlA':function(_0x331aaf){return _0x331aaf();},'HHXhj':function(_0x2d403c,_0x2cf551){return _0x2d403c===_0x2cf551;},'OIJda':_0x5fbb2b(-0xbf,-0x5f,-0xad,0x1),'EEjRJ':_0x5fbb2b(-0x3e,-0x6c,-0x70,-0xbe),'aHjqk':function(_0x57a57c,_0x452629){return _0x57a57c(_0x452629);},'UGnsy':_0x4785e9(0x393,0x345,0x3d3,0x3d1)+_0x4785e9(0x35e,0x34d,0x33f,0x3bf)+_0x4785e9(0x2e9,0x310,0x30c,0x2be)},_0x3842ca=extension_settings[extensionName],_0x2f0e5b=document[_0x5fbb2b(-0x73,-0x56,-0xc2,-0x9f)+_0x5fbb2b(0x3,-0x42,-0x23,-0x21)](_0x56f3aa['yUZVM']);function _0x4785e9(_0x2976ae,_0x497edc,_0x2e85dd,_0x2f1023){return _0x4e89(_0x2976ae-0x13e,_0x497edc);}const _0x35ec5f=_0x56f3aa[_0x5fbb2b(0x2d,-0x41,-0x9c,-0xc)](removeTrailingSlash,_0x2f0e5b['value']);if(!_0x56f3aa[_0x5fbb2b(-0xcb,-0x111,-0xca,-0x178)](isValidUrl,_0x35ec5f)){_0x56f3aa[_0x5fbb2b(-0xa7,-0x41,-0xb,-0x10)](alert,'请输入有效的\x20Sta'+_0x5fbb2b(-0x124,-0x10c,-0x11e,-0x116)+_0x5fbb2b(-0x97,-0x5c,-0xb5,-0x7c)+'。');return;}!_0x3842ca[_0x5fbb2b(-0xa0,-0xa0,-0xaf,-0xe5)]&&(_0x3842ca[_0x5fbb2b(-0x100,-0xa0,-0x10d,-0xfd)]={});function _0x5fbb2b(_0x48b497,_0x53e122,_0x502631,_0x57017f){return _0x4e89(_0x53e122- -0x28b,_0x57017f);}if(_0x56f3aa[_0x4785e9(0x351,0x371,0x306,0x2e1)](_0x3842ca[_0x4785e9(0x2c4,0x2e2,0x2b8,0x2e7)],_0x56f3aa[_0x5fbb2b(-0xa4,-0xc3,-0xe2,-0x9a)])){if(_0x56f3aa['pzJjV'](_0x56f3aa[_0x4785e9(0x352,0x2fb,0x3a0,0x367)],_0x56f3aa[_0x5fbb2b(-0x20,-0x77,-0xe0,-0x69)]))_0x3d8d2d(_0x56f3aa[_0x4785e9(0x2e2,0x277,0x280,0x2f7)]),_0x23acd6(_0x4785e9(0x304,0x2ce,0x2b7,0x323)+'链接失败网址:'+_0x180c42+('\x20,请求错误，请检查'+_0x5fbb2b(-0xa5,-0x60,-0x38,-0x3d)+'接\x22')),_0x119347[_0x5fbb2b(-0xb1,-0xc9,-0xf8,-0xd4)](_0x56f3aa['Rgofk'],_0x3b4d1a);else{const _0x419d4c={};_0x419d4c[_0x4785e9(0x365,0x385,0x376,0x36a)]=_0x56f3aa[_0x4785e9(0x337,0x341,0x2cf,0x301)],_0x419d4c[_0x5fbb2b(-0xde,-0xf3,-0xb8,-0x8e)]=_0x56f3aa[_0x4785e9(0x33c,0x341,0x383,0x333)],_0x419d4c['vaes']=_0x4785e9(0x2dd,0x32d,0x297,0x2d8)+'es',_0x419d4c[_0x5fbb2b(-0x59,-0x7e,-0x2f,-0xca)]=_0x56f3aa[_0x4785e9(0x325,0x324,0x371,0x2fa)],_0x419d4c[_0x4785e9(0x313,0x2b8,0x371,0x2f1)]=_0x5fbb2b(-0x9e,-0xac,-0x113,-0x5e)+_0x5fbb2b(-0xaa,-0x74,-0x80,-0x7b);const _0x408d77=_0x419d4c;try{if(_0x56f3aa['Bingi']('mzsNI',_0x56f3aa[_0x5fbb2b(-0xa0,-0xe4,-0x112,-0x155)])){const _0xa554df={};_0xa554df[_0x4785e9(0x2f0,0x282,0x340,0x301)]=_0x35ec5f,_0xa554df[_0x4785e9(0x311,0x315,0x2d1,0x2a4)]=_0x3842ca[_0x4785e9(0x326,0x33a,0x2d3,0x35f)+_0x5fbb2b(-0xb2,-0x46,-0x51,-0x5b)]||'';const _0x2e0f61=await Promise[_0x5fbb2b(-0x10a,-0x9d,-0xee,-0x99)](Object[_0x5fbb2b(0x3,-0x69,-0x76,-0x2)](_0x408d77)[_0x5fbb2b(-0x8,-0x4f,-0xb2,-0x9d)](_0x3b4b33=>fetch(_0x3b4b33,{'method':_0x4785e9(0x327,0x2b7,0x386,0x301),'body':JSON[_0x4785e9(0x2d7,0x2d4,0x270,0x30e)](_0xa554df),'headers':getRequestHeaders(window[_0x4785e9(0x331,0x2d1,0x2f4,0x396)])})));for(const _0x31e316 of _0x2e0f61){if(!_0x31e316['ok'])throw new Error(_0x5fbb2b(-0x15b,-0x10d,-0x121,-0xf1)+_0x31e316['status']+'\x20'+_0x31e316[_0x5fbb2b(-0x2d,-0x3c,-0x8f,-0x8c)]+_0x5fbb2b(-0xe3,-0xdf,-0x101,-0xb2)+_0x31e316[_0x4785e9(0x2f0,0x331,0x2df,0x2f1)]);}const [_0x590f8e,_0x2630b8,_0x584f3b,_0x171892,_0x1703df]=await Promise[_0x4785e9(0x32c,0x39b,0x336,0x341)](_0x2e0f61[_0x5fbb2b(-0x19,-0x4f,-0x51,0x6)](_0x35f7e1=>_0x35f7e1['json']()));_0x3842ca['sdCache'][_0x4785e9(0x365,0x2f7,0x386,0x3b8)]=_0x590f8e,_0x3842ca[_0x4785e9(0x329,0x35e,0x376,0x2f7)][_0x4785e9(0x2d6,0x2d4,0x2bb,0x2d0)]=_0x2630b8[_0x4785e9(0x37a,0x33e,0x31b,0x342)](_0x6519fa=>_0x6519fa['value']),_0x3842ca[_0x5fbb2b(-0xa2,-0xa0,-0x75,-0xec)][_0x5fbb2b(-0x59,-0x9a,-0x9c,-0x4d)]=_0x584f3b,_0x3842ca[_0x4785e9(0x329,0x305,0x2ed,0x321)]['schedulers']=_0x171892,_0x3842ca[_0x4785e9(0x329,0x389,0x396,0x2d4)][_0x5fbb2b(-0xa0,-0xb6,-0xa2,-0x91)]=_0x1703df,_0x3842ca[_0x4785e9(0x329,0x378,0x32d,0x323)][_0x4785e9(0x346,0x335,0x307,0x366)]=[],_0x56f3aa['waWBf'](saveSettingsDebounced),alert(_0x56f3aa[_0x4785e9(0x328,0x38a,0x31a,0x33a)]),_0x56f3aa[_0x5fbb2b(-0x12c,-0x111,-0x181,-0x110)](addLog,_0x4785e9(0x390,0x3a5,0x3ec,0x3fb)+':'+_0x35ec5f);}else{const _0x7913e0=_0x5124a9[_0x4785e9(0x374,0x3b7,0x361,0x3b7)](_0x608e5a,arguments);return _0x45482e=null,_0x7913e0;}}catch(_0x336086){_0x56f3aa[_0x5fbb2b(-0xae,-0x41,-0x61,-0x7c)](alert,_0x56f3aa['ctURz'](_0x56f3aa[_0x4785e9(0x32b,0x369,0x2fa,0x33b)],_0x336086)),addLog(_0x5fbb2b(-0x3,-0x4e,0x7,-0x29)+':'+_0x35ec5f+'\x20错误详情:\x22'+JSON[_0x4785e9(0x2d7,0x307,0x2e4,0x2d2)](_0x336086));}}}else{if(_0x56f3aa[_0x4785e9(0x2f7,0x2ec,0x2b9,0x2bd)](_0x56f3aa[_0x5fbb2b(-0x33,-0x4d,-0x63,0x1b)],_0x4785e9(0x2eb,0x2f8,0x290,0x336)))_0x56f3aa[_0x5fbb2b(-0x40,-0x41,-0x56,-0x44)](_0x47522a,_0x4785e9(0x367,0x3b5,0x34b,0x370)+'查网址或者网络连接'+_0x29aa7e),_0x56f3aa[_0x4785e9(0x388,0x3c0,0x36b,0x3ce)](_0x167147,_0x4785e9(0x37b,0x365,0x3aa,0x347)+':'+_0x4fddbc+_0x5fbb2b(-0x100,-0x94,-0xb5,-0x4a)+_0x4de571[_0x4785e9(0x2d7,0x2c2,0x2ea,0x2f2)](_0x356140));else{const _0x398a24={};_0x398a24[_0x5fbb2b(-0xca,-0x64,-0x47,-0x96)]=_0x56f3aa['SGRGg'],_0x398a24[_0x5fbb2b(-0xa5,-0xf3,-0xa4,-0xf5)]=_0x56f3aa[_0x4785e9(0x2da,0x32d,0x2fc,0x282)],_0x398a24[_0x5fbb2b(-0xd1,-0x9a,-0xb4,-0xbf)]=_0x56f3aa['CoXhT'],_0x398a24[_0x4785e9(0x34b,0x32c,0x3b5,0x3b8)]=_0x5fbb2b(-0x14d,-0xe8,-0xd5,-0x92)+'schedulers',_0x398a24['upscalers']='/sdapi/v1/'+_0x4785e9(0x313,0x2b9,0x2dd,0x2d1),_0x398a24[_0x4785e9(0x375,0x39d,0x3ac,0x36a)+_0x5fbb2b(-0x88,-0xaf,-0x5c,-0x55)]=_0x56f3aa['GDuRq'],_0x398a24['loras']=_0x56f3aa[_0x5fbb2b(-0xb4,-0x6f,-0x71,-0x3d)];const _0x180b33=_0x398a24;try{const _0x337df7=await Promise[_0x5fbb2b(-0xd7,-0x68,-0x8d,-0xa9)](Object['values'](_0x180b33)[_0x4785e9(0x37a,0x35a,0x31e,0x3eb)](_0x206d06=>fetch(_0x35ec5f+_0x206d06,{'headers':{'Authorization':getsdAuth()}}))),_0x55a370=_0x337df7[_0x5fbb2b(-0x62,-0x4f,-0xaa,-0x57)](_0x335f2d=>_0x335f2d['status']==='fulfilled'&&_0x335f2d[_0x5fbb2b(-0xf9,-0xeb,-0x8f,-0x81)]['ok']?_0x335f2d[_0x5fbb2b(-0xb6,-0xeb,-0xa1,-0xc3)]:null);if(_0x55a370['every'](_0x15c2aa=>_0x15c2aa===null)){const _0x16560f=_0x337df7['find'](_0x13b15b=>_0x13b15b[_0x4785e9(0x320,0x379,0x379,0x33c)]===_0x5fbb2b(-0x6e,-0x7c,-0x19,-0xe0))?.[_0x4785e9(0x2c8,0x27a,0x2cb,0x2ff)]?.['message']||_0x337df7[_0x5fbb2b(-0xf9,-0xfc,-0x12c,-0x11f)](_0x364356=>_0x364356['status']===_0x5fbb2b(-0x106,-0xce,-0xcd,-0x137)&&!_0x364356[_0x5fbb2b(-0x98,-0xeb,-0x101,-0xc2)]['ok'])?.['value']?.[_0x4785e9(0x38d,0x356,0x37c,0x3c6)]||_0x56f3aa[_0x4785e9(0x317,0x2ec,0x2dd,0x32d)];throw new Error(_0x5fbb2b(-0x34,-0x84,-0xa6,-0xcb)+_0x5fbb2b(-0x119,-0xca,-0xea,-0x5f)+_0x16560f);}const _0x1510a2=_0x55a370[_0x5fbb2b(-0x79,-0x4f,0x15,-0x51)](_0x19c00d=>_0x19c00d?_0x19c00d[_0x4785e9(0x38b,0x34f,0x3e4,0x36e)]():Promise['resolve'](null)),[_0x1a9154,_0x57c3bc,_0x402562,_0x243e28,_0x332249,_0x2f75e9,_0x110bd5]=await Promise[_0x5fbb2b(-0xd7,-0x9d,-0x2f,-0xd4)](_0x1510a2);let _0x2d0d71=_0x332249?_0x332249[_0x5fbb2b(-0x4d,-0x4f,-0xc,-0x98)](_0x2bb968=>_0x2bb968[_0x5fbb2b(-0xe3,-0xa5,-0xf3,-0x35)]):[],_0x2cac0e=_0x2f75e9?_0x2f75e9[_0x4785e9(0x37a,0x327,0x389,0x360)](_0x14f36d=>_0x14f36d['name']):[];_0x2d0d71[_0x5fbb2b(-0x28,-0x49,-0x74,-0x4f)](0x1678*-0x1+0x1*0x94f+0xd2a,0x2*-0x61c+-0x7*-0x3dd+-0x3*0x4f1,..._0x2cac0e),_0x3842ca['sdCache'][_0x5fbb2b(-0x9e,-0x64,-0x3c,-0x36)]=_0x1a9154?_0x1a9154[_0x4785e9(0x37a,0x352,0x3d9,0x36b)](_0x521363=>_0x521363['name']):[],_0x3842ca[_0x4785e9(0x329,0x2c1,0x2e1,0x2ba)][_0x5fbb2b(-0xfe,-0xf3,-0x15f,-0x15b)]=_0x57c3bc?_0x57c3bc['map'](_0x42a6b3=>_0x42a6b3[_0x5fbb2b(-0xdf,-0xe2,-0xde,-0xe6)]):[],_0x3842ca[_0x5fbb2b(-0x6c,-0xa0,-0x77,-0x2f)]['vaes']=_0x402562?_0x402562[_0x5fbb2b(-0x73,-0x4f,-0x6d,-0x30)](_0x29238f=>_0x29238f[_0x4785e9(0x2cf,0x2f9,0x2c3,0x310)]):[],_0x3842ca[_0x4785e9(0x329,0x325,0x314,0x386)][_0x4785e9(0x34b,0x318,0x3b5,0x316)]=_0x243e28?_0x243e28['map'](_0x37875a=>_0x37875a['name']):[],_0x3842ca[_0x4785e9(0x329,0x2da,0x308,0x343)][_0x4785e9(0x313,0x2b7,0x35d,0x37b)]=_0x2d0d71,_0x3842ca['sdCache'][_0x4785e9(0x346,0x344,0x33f,0x376)]=_0x110bd5?_0x110bd5[_0x5fbb2b(-0xab,-0x4f,-0xa,-0x6a)](_0x3a9727=>_0x3a9727[_0x4785e9(0x324,0x2f5,0x385,0x37f)]):[],_0x56f3aa['pSSlA'](saveSettingsDebounced),alert(_0x56f3aa['bDioP']);}catch(_0x2ead7c){_0x56f3aa[_0x4785e9(0x2f9,0x293,0x348,0x2b5)](_0x56f3aa[_0x5fbb2b(-0x76,-0x44,-0x9a,-0x7e)],_0x56f3aa['EEjRJ'])?_0x56f3aa[_0x5fbb2b(-0x86,-0xf1,-0x81,-0x11d)](_0x3f7195,_0x5fbb2b(-0x5c,-0x95,-0xd4,-0xfc)+_0x4785e9(0x389,0x3ae,0x3ca,0x3f4)):(_0x56f3aa[_0x4785e9(0x2e8,0x2c8,0x317,0x348)](alert,_0x56f3aa[_0x4785e9(0x301,0x32b,0x2bf,0x2fa)](_0x56f3aa[_0x5fbb2b(-0xf0,-0x109,-0x171,-0x130)],_0x2ead7c[_0x5fbb2b(-0x99,-0x5a,-0xc5,-0x6b)])),_0x56f3aa[_0x5fbb2b(-0xfe,-0xe1,-0x74,-0xca)](addLog,_0x4785e9(0x2f1,0x322,0x2be,0x291)+'址:'+_0x35ec5f+_0x4785e9(0x335,0x366,0x34f,0x2f4)+JSON[_0x5fbb2b(-0x101,-0xf2,-0xa6,-0xee)](_0x2ead7c)));}}}window[_0x5fbb2b(-0x164,-0x108,-0x16e,-0x135)+'TavernChat'+'u8Settings']();}export function initApiConnectionTests(_0x3b586c){function _0x2f1155(_0x12c55d,_0x1461d7,_0x50b98a,_0x47ee6a){return _0x4e89(_0x1461d7-0x14c,_0x12c55d);}const _0x1624f4={};_0x1624f4[_0x2f1155(0x308,0x324,0x32e,0x312)]=_0x2f1155(0x39f,0x371,0x392,0x30d),_0x1624f4[_0x2f1155(0x31d,0x2e1,0x2a3,0x336)]='click';const _0x3ac81c=_0x1624f4;_0x3b586c[_0x195db8(0xf2,0x107,0x11f,0x10b)](_0x3ac81c[_0x2f1155(0x2f4,0x324,0x364,0x2ed)])['on'](_0x3ac81c[_0x195db8(0xf8,0xe7,0x11a,0x98)],testSd);function _0x195db8(_0x102002,_0x36cad6,_0x4a1ef1,_0x3ee3f6){return _0x4e89(_0x102002- -0x9d,_0x36cad6);}_0x3b586c[_0x2f1155(0x2ac,0x2db,0x2d0,0x2c9)](_0x2f1155(0x279,0x2cd,0x278,0x287)+'ui')['on'](_0x195db8(0x179,0x125,0x19b,0x1cf),testComfyui);}
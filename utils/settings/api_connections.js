(function(_0x14dbd6,_0x5ba973){const _0x42e24e=_0x14dbd6();function _0x4b5b36(_0x40fbf3,_0x23dc3d,_0x1b5aaa,_0x14ba93){return _0x5d5e(_0x40fbf3-0x315,_0x1b5aaa);}function _0x48d600(_0x377a57,_0x338ab5,_0x40d6f5,_0x57d44c){return _0x5d5e(_0x57d44c- -0x2c9,_0x40d6f5);}while(!![]){try{const _0xb46a7c=parseInt(_0x48d600(-0x8a,-0xdc,-0x44,-0x7f))/(-0x481*0x1+0x263c*-0x1+0x2abe)+parseInt(_0x4b5b36(0x5d2,0x618,0x590,0x5a9))/(-0xff4+-0x1ec5+-0x7*-0x6ad)*(parseInt(_0x48d600(0x27,0xd,-0x23,-0x26))/(-0xfbf+-0x1414+-0x11eb*-0x2))+parseInt(_0x4b5b36(0x512,0x4f4,0x4ff,0x4e2))/(0xf2a+-0x2*0x2ea+0x952*-0x1)+-parseInt(_0x48d600(-0x57,-0x86,0x14,-0x35))/(0x4*0x212+0x1e00+-0x2643)+-parseInt(_0x48d600(-0x48,-0x66,-0x4e,-0x9e))/(-0x1751+0xdff*0x2+-0x1*0x4a7)*(parseInt(_0x48d600(-0xad,-0x103,-0x8c,-0xc2))/(-0x11f6+-0x1*0x199c+0x2b99))+parseInt(_0x4b5b36(0x557,0x590,0x55a,0x575))/(0x1072+-0x25e5+0x27*0x8d)*(parseInt(_0x4b5b36(0x56b,0x527,0x57c,0x528))/(0x19*-0x14f+-0x5*-0x416+0xc52))+-parseInt(_0x48d600(-0x7f,-0x1e,-0x20,-0x1a))/(-0x4*0x80b+-0x1*-0xced+0x1349*0x1)*(parseInt(_0x4b5b36(0x5b3,0x55a,0x565,0x608))/(0xa*0x248+0x1*0x79f+-0x1e64));if(_0xb46a7c===_0x5ba973)break;else _0x42e24e['push'](_0x42e24e['shift']());}catch(_0x42ae4f){_0x42e24e['push'](_0x42e24e['shift']());}}}(_0x1f39,0x38d96+0x691*0x155+0x3f1eb*-0x2));function _0x5d5e(_0x5bd9fd,_0x3c2910){_0x5bd9fd=_0x5bd9fd-(-0x1c1f*0x1+-0x1*0xe9+-0x52a*-0x6);const _0x2e1bdd=_0x1f39();let _0x316b5d=_0x2e1bdd[_0x5bd9fd];if(_0x5d5e['DsfuNh']===undefined){var _0x4c5dcb=function(_0x228c44){const _0x4a6192='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x5d0c67='',_0x471ccd='',_0x33de17=_0x5d0c67+_0x4c5dcb;for(let _0x5cd0a4=-0x4b*0x77+-0x283*0x1+0x2560,_0x5a305c,_0x27ea82,_0xb76567=0xc5b*-0x3+0x8a9+0x1c68;_0x27ea82=_0x228c44['charAt'](_0xb76567++);~_0x27ea82&&(_0x5a305c=_0x5cd0a4%(0x9*-0x1fb+0x1*-0xdf6+0x1fcd*0x1)?_0x5a305c*(-0x21fa+0x177d+0xabd)+_0x27ea82:_0x27ea82,_0x5cd0a4++%(0x1cf4+-0xd4f+-0x1*0xfa1))?_0x5d0c67+=_0x33de17['charCodeAt'](_0xb76567+(0x22d2+-0x2372+0xaa*0x1))-(0x1*-0x586+0x8b5+0x325*-0x1)!==-0x1*0xb57+-0x7ae+0x9*0x21d?String['fromCharCode'](0x1*-0x2363+-0x140c+0x386e&_0x5a305c>>(-(-0x25d7+0xac1*-0x3+0x2*0x230e)*_0x5cd0a4&0x4*0x786+-0x241*-0x1+-0x2053)):_0x5cd0a4:0x265b+0x3e6+-0x2a41){_0x27ea82=_0x4a6192['indexOf'](_0x27ea82);}for(let _0x1eaec9=-0x3*0x23+-0x5*-0x6f4+-0x225b*0x1,_0x334cf2=_0x5d0c67['length'];_0x1eaec9<_0x334cf2;_0x1eaec9++){_0x471ccd+='%'+('00'+_0x5d0c67['charCodeAt'](_0x1eaec9)['toString'](0x1*0x1357+-0x1*-0x2683+0x1a*-0x239))['slice'](-(0x1*-0x13e7+-0x26be+-0xe7*-0x41));}return decodeURIComponent(_0x471ccd);};_0x5d5e['MVGDfj']=_0x4c5dcb,_0x5d5e['cBWYqn']={},_0x5d5e['DsfuNh']=!![];}const _0x3c4f76=_0x2e1bdd[0x1a55+0x1*0x2187+0x4*-0xef7],_0xc7f9d3=_0x5bd9fd+_0x3c4f76,_0x31d9b9=_0x5d5e['cBWYqn'][_0xc7f9d3];if(!_0x31d9b9){const _0x2daf7e=function(_0x4db220){this['krfNyL']=_0x4db220,this['gKsqzN']=[-0xaa7+0x2*0x1039+0x1*-0x15ca,0x2006+-0x14b*-0x5+-0x267d,0x19d2+0x1*-0x2336+0x964],this['mDsscs']=function(){return'newState';},this['RYIaBs']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['przpwV']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x2daf7e['prototype']['PIymRw']=function(){const _0x58f052=new RegExp(this['RYIaBs']+this['przpwV']),_0x35c0f0=_0x58f052['test'](this['mDsscs']['toString']())?--this['gKsqzN'][-0x5*-0x6fd+-0xa*-0x92+0x3*-0xd8c]:--this['gKsqzN'][-0x51e*-0x1+-0x157e+0x1060];return this['OxTkPu'](_0x35c0f0);},_0x2daf7e['prototype']['OxTkPu']=function(_0x3d5037){if(!Boolean(~_0x3d5037))return _0x3d5037;return this['oBZZff'](this['krfNyL']);},_0x2daf7e['prototype']['oBZZff']=function(_0x44eed8){for(let _0x42e973=0x1923+0x1*-0x25e5+0x47*0x2e,_0xe9a8bb=this['gKsqzN']['length'];_0x42e973<_0xe9a8bb;_0x42e973++){this['gKsqzN']['push'](Math['round'](Math['random']())),_0xe9a8bb=this['gKsqzN']['length'];}return _0x44eed8(this['gKsqzN'][0x1777+-0x1*0x20a7+0x930]);},new _0x2daf7e(_0x5d5e)['PIymRw'](),_0x316b5d=_0x5d5e['MVGDfj'](_0x316b5d),_0x5d5e['cBWYqn'][_0xc7f9d3]=_0x316b5d;}else _0x316b5d=_0x31d9b9;return _0x316b5d;}const _0x3a6965=(function(){let _0x34656a=!![];return function(_0x226570,_0x3ee193){const _0x3a658e=_0x34656a?function(){function _0x49905b(_0x14e152,_0x556765,_0x2e59ae,_0x38fbb8){return _0x5d5e(_0x2e59ae-0x378,_0x556765);}if(_0x3ee193){const _0x1fc0c6=_0x3ee193[_0x49905b(0x698,0x661,0x63a,0x64d)](_0x226570,arguments);return _0x3ee193=null,_0x1fc0c6;}}:function(){};return _0x34656a=![],_0x3a658e;};}()),_0x878126=_0x3a6965(this,function(){const _0x3f0164={};function _0x359f6f(_0x413d66,_0x401be5,_0x5ca7a3,_0x25a595){return _0x5d5e(_0x25a595-0x312,_0x413d66);}_0x3f0164['aaRKi']=_0x359f6f(0x545,0x4bc,0x508,0x521)+'+$';function _0x1c4369(_0x7c97ce,_0x29c6b4,_0x4ac17d,_0x571156){return _0x5d5e(_0x29c6b4- -0x19a,_0x571156);}const _0x4c9586=_0x3f0164;return _0x878126[_0x359f6f(0x610,0x5a9,0x5d7,0x5bb)]()['search'](_0x4c9586[_0x359f6f(0x60c,0x5cd,0x5df,0x5aa)])[_0x359f6f(0x593,0x5c5,0x606,0x5bb)]()[_0x1c4369(0x153,0x11b,0x136,0x137)+'r'](_0x878126)[_0x359f6f(0x627,0x5fa,0x61c,0x5c0)](_0x359f6f(0x52a,0x4f7,0x529,0x521)+'+$');});_0x878126();import{extension_settings}from'../../../../../extensions.js';import{saveSettingsDebounced}from'../../../../../../script.js';import{extensionName}from'../config.js';import{removeTrailingSlash,getRequestHeaders,getsdAuth,addLog}from'../utils.js';import{isValidUrl,showToast}from'../ui_common.js';function _0x1f39(){const _0x3e0c7a=['BMfTzq','5PIV5zcM5Q2J56gU','l2fWAs9Zzc9TBW','D1PZEuy','B2T4Bgy','zMzzAfO','q0Xjuhm','6l+u5zUE6zsz6k+V5y+V6io95PIV5l2G6l6t5ywL','qu9Ywg4','Cvfrrxe','q0XjueXVywrLCG','t25Lig9Yig1VCG','rKTtvwy','vvL1DwK','Avbsvxi','zNvSzMLSBgvK','Ce5ktNm','tNzjr2e','C3rHDhvZ','D25SugG','iUA1I+IVLEMtVUAoPEwKSEI0PEE9KEwDGdO','Bgf0zw50vxbZyW','DtHtzxr0Aw5NCW','Aw5Uzxjive1m','r0DvrJOG','q2Het3G','qM5Nwxq','AgvKDwXLCNm','vNDeDMe','ywrK','y2XPCf9Uyw1L','yMXLierPzMz1CW','DxbZy2fSzxjZ','y2XPzw50','C3bSAwnL','z2v0rwXLBwvUDa','6l+E5O6L5AsX6lsL77Ym6k+35Qoa5P+L5zYW5z2a','loIVT+AXGUwKSEI0PsZNIRBMGihNOie6','yKTcsMq','C3rYAw5NAwz5','DMfLCW','vu5LDdOG','su9cExy','C0Pcqxq','C2qTBw9KzwXZ','igzVCIa','BxbSzxjZ','l2fWAs9Zzc92yq','DML3rMO','572r5z2a5PYj6k+V','Cw10zgC','6k+36l6t5ywL5PYj5Pwi55Qeifn0yq','l3nKyxbPl3yXlW','De5xyuO','l2fWAs9Zzc9ZyW','Dgv4Da','6l+E5O6L5OIq5yQF','mJeYodi1EvH1Dwnm','Bg9Yyv9Uyw1L','r2flyK4','z3fcEve','ywfss2K','s1HUBxa','ue9tva','ywXLCNm','se1lseC','DMfSDwvZ','mZu4odi4ohPuAMHgua','C2qTDMfL','Bwz5l21VzgvSCW','vw5LDeXVywrLCG','Aw5WDxq','mtj0yvbbyva','ioMuMEIVR+IVPUAdHtOI','C2fTCgXLCNm','Bw9KzwXZ','5PIV5zcM5Q2J56gU5OIw572r57UC6l+E5O6L','zgv4','Dg9tDhjPBMC','sgfqAMG','zsbbueKGy2fSBa','r3zszLi','EfjNve0','C2vHCMnO','mJbVv3PKs3C','u0tOV57MJQxMTyVOR5xLPlhOTkxVViZOR7C','5OMa5PYjqvbj6k+35Rgc5z2h5AsX6lsL','z1DMzfa','C2vSzwn0zwrjBG','iUA1I+IVLvne6zo+5O6L5AsX6lsL572r','y29UC3rYDwn0BW','C2nHBgvYCW','B2jQzwn0sw5MBW','rhrPq3i','q0zgvxu','ChzYzfq','BNrID2W','CMvXDwLYzwq','mtm1mteYwMzsv3f2','CMvQzwn0zwq','qLrZD20','rwPxDLi','iMnWBwz5DwNMTyVOR5u','yxbWBhK','y29TzNL1AunHyW','Dg5otMm','ueXpqxG','Bwz5l3nHBxbSzq','6l+E5O6L44cccUMuMEIVRZOG','C2tMTyVOR5xPK77MJQxLPlhOTkxNVzhLNya','i3rLC3rtza','ANnVBG','CenoDxy','B3PKsNi','B3b0Aw9UCW','mJK5ntG4wxfuy2Lr','CYbMywLSzwq','reHkvxa','tKrSAfq','5Qoa5P+Lqvbj5zYW5z2a5zkm572r57UC','sg5Nq0e','AhPkzKO','y2fSzs1TB2rLCW','DMfLx25HBwu','icZOR7FMSylPLjNOR6/VViZOR7FMO4dMN6u','mtyWnZGZquHlDK1e','vw5uvM8','tg9YyuXVywrLCG','v0riteS','C2tMTyVOR5xPK77MJQxLPlhOTkxOR7FMO4a','r1fwCfm','u25kt1q','DMfcA2i','kcGOlISPkYKRkq','Bhb3Exm','C29Tzq','C2rdywnOzq','wuToqvK','DxjS','Aw9UiefqssdLNldLNya','Bg9Yyxm','s1nHBxbSzxi','vfH6CgC','Bwz5l3nJAgvKDq','Bw9KzwXFBMfTzq','C3rHDhvZvgv4Da','qMrQugG','zMLUza','CMvHC29U','sezWDwq','Dfrswuy','Bg9HzfnPBhrLCG','C2nOzwr1BgvYCW','sKzZquK','tg9HzgvYu2LTCa','t3vLDeK','vu5fveXVywrLCG','wMn3s1m','zM9YrwfJAa','y2TWDf9Uyw1L','zKvjrK0','nK56z2nNza','thvSsvC','r0DvrG','6l+E5O6L5Rwl6k+v5AsX6lsLoG','sK5kBKi','vuXSwxy','vKfftg9HzgvY','qNLjza','5P+L572r5z2a5OIw6icf572r57UC6l+E5O6L','zKPuDuq','C2fTCgXLCL9Uyq','DgL0Bgu','zxjYB3i','v1PrveO','qvPfq3C','ywXS','BwfW','l2fWAs9Zzc9Zyq','BwvZC2fNzq','DMfSDwu','AML1z3vHBG','sNvWuNa','q2HLy2TWB2LUDa','mtC2D01WuKjJ','6k+35Rgc6zsz6k+V77Ym6k+35Qoa5P+L5zYW5z2a','q0zkAfa','l2fWAs9Zzc9JBW','Dg9Rzw4','6zo+5O6L5AsX6lsL572r5z2aoG','y2XPy2S','l29IAMvJDf9PBG','ndyZnda4uuflshvu','C3rFy2HHDhu4xW','5zYW5z2a5PIV5zcM5Q2J56gU5OIw572r57UC6l+E','BNvqCg0','AuHAExq','r0nIEgm','we9js2q','q2LVuxm','DvLhEKe','yK5LEgC','qvbjioIVT+AXGUwKSEI0PtOG','C2nOzwr1BgvY','odeXnZfOCLbyt2W','C2tMTyVOR5xPK77MJQxMIjdLIP/NVzhLNya','zgHyAfO','svndyw4','sfvwwfm'];_0x1f39=function(){return _0x3e0c7a;};return _0x1f39();}function populateSelect(_0x430ef3,_0x52cb19,_0x2a9c70){const _0x765d5a={};_0x765d5a['wnlPh']=function(_0x11d5fe,_0x3e4b0b){return _0x11d5fe===_0x3e4b0b;},_0x765d5a[_0x4f7b09(0x4b0,0x4fb,0x561,0x49a)]='PGgbs';const _0x2dd470=_0x765d5a;if(!_0x430ef3)return;function _0x3678f8(_0x512993,_0x4c2d45,_0x4bf59a,_0x6e2c77){return _0x5d5e(_0x4bf59a-0x98,_0x6e2c77);}const _0x395446=_0x430ef3['value'];function _0x4f7b09(_0x2456e6,_0x317d33,_0x31720f,_0x478028){return _0x5d5e(_0x317d33-0x2c3,_0x2456e6);}_0x430ef3[_0x3678f8(0x2c1,0x350,0x30a,0x316)]='',_0x52cb19[_0x3678f8(0x258,0x26e,0x2c0,0x2e3)](_0x206fdb=>{const _0x3c90f1=new Option(_0x206fdb[_0x726d64(0x3b5,0x417,0x419,0x445)],_0x206fdb[_0x1a55d3(0x3e8,0x3e1,0x37e,0x42d)]);function _0x1a55d3(_0x425c7c,_0x10a1e9,_0x4588b1,_0x74d8d1){return _0x4f7b09(_0x74d8d1,_0x10a1e9- -0x120,_0x4588b1-0x90,_0x74d8d1-0x152);}function _0x726d64(_0x153748,_0x32580a,_0x193616,_0x1b67be){return _0x4f7b09(_0x153748,_0x32580a- -0x13e,_0x193616-0x96,_0x1b67be-0xc);}_0x3c90f1[_0x1a55d3(0x3df,0x3d9,0x438,0x43e)]=_0x206fdb[_0x1a55d3(0x452,0x435,0x433,0x400)],_0x430ef3[_0x726d64(0x3f7,0x3fd,0x40b,0x438)](_0x3c90f1);});if(_0x52cb19[_0x4f7b09(0x506,0x4d4,0x4de,0x502)](_0x23de26=>_0x23de26['value']===_0x395446))_0x430ef3[_0x3678f8(0x297,0x2bd,0x2d6,0x28f)]=_0x395446;else{if(_0x2a9c70&&_0x52cb19[_0x3678f8(0x276,0x287,0x2a9,0x2da)](_0xbf1e59=>_0xbf1e59[_0x3678f8(0x2dd,0x316,0x2d6,0x2d2)]===_0x2a9c70))_0x430ef3[_0x4f7b09(0x4de,0x501,0x4b8,0x543)]=_0x2a9c70;else _0x430ef3[_0x4f7b09(0x479,0x4bf,0x49a,0x47a)]['length']>-0x65b*-0x5+-0x4f*-0x47+0x6b6*-0x8&&(_0x2dd470[_0x3678f8(0x354,0x318,0x306,0x31d)](_0x3678f8(0x2a1,0x34d,0x2ea,0x31b),_0x2dd470[_0x3678f8(0x277,0x31c,0x2d0,0x2e2)])?_0x1d6b61['comfyuiCac'+'he']={}:_0x430ef3[_0x4f7b09(0x5b9,0x576,0x5d0,0x5b2)+_0x4f7b09(0x5a6,0x56b,0x578,0x527)]=-0x13*-0x31+-0xfeb+-0x83*-0x18);}}async function testComfyui(){const _0x2f8d97={'qmtdg':_0x13ce1b(0x173,0x126,0xd0,0x166),'JFsAI':_0x13ce1b(0x1a8,0x176,0x16b,0x1ae),'fJTuD':_0x13ce1b(0x195,0x1ad,0x1b4,0x1ee)+_0x13ce1b(0x1ba,0x18a,0x131,0x169),'bKBJd':_0x13ce1b(0x18a,0x1bc,0x163,0x1bb)+'ble\x20Diffus'+_0x4d8eb0(0x457,0x488,0x46a,0x455)+'。','SuReO':'comfyuiUrl','HMKHG':function(_0x2645a8,_0x4e1a05){return _0x2645a8(_0x4e1a05);},'wZsyF':function(_0x5e7b58,_0x4acf8f){return _0x5e7b58+_0x4acf8f;},'PLOAx':_0x13ce1b(0x114,0x177,0x19d,0x193)+'fo','IHeYT':function(_0x5e1314,_0x1226fd){return _0x5e1314===_0x1226fd;},'NkoWD':'jiuguan','yZMru':function(_0x191458,_0x53770f){return _0x191458===_0x53770f;},'pmclO':_0x4d8eb0(0x4d9,0x4d8,0x4e7,0x4d3),'EjWvR':_0x4d8eb0(0x44c,0x47a,0x41e,0x3e4),'NhBFD':function(_0x39d167,_0x5b6742,_0x37c338){return _0x39d167(_0x5b6742,_0x37c338);},'tCqPf':'/api/sd/co'+_0x13ce1b(0x227,0x1ce,0x1c7,0x233),'JNJnB':function(_0x180b1d,_0x35be05){return _0x180b1d+_0x35be05;},'GxPAl':_0x4d8eb0(0x4a4,0x4c5,0x4e4,0x48e)+_0x13ce1b(0x217,0x1ba,0x1f8,0x1b8),'okxlf':function(_0x3c4fd0,_0x30ae31){return _0x3c4fd0(_0x30ae31);},'iHZyt':function(_0x1eee09,_0x3c27b6,_0x72c323){return _0x1eee09(_0x3c27b6,_0x72c323);},'SnJOT':'/api/sd/co'+_0x13ce1b(0x182,0x123,0x124,0x180)+'rs','YKNAY':'POST','JPXXM':_0x4d8eb0(0x487,0x4ef,0x4dc,0x480)+'mfy/vaes','IOByv':function(_0x1ff32b,_0x2d0b31,_0x2e91de){return _0x1ff32b(_0x2d0b31,_0x2e91de);},'GAJlI':_0x13ce1b(0x113,0x173,0x1a5,0x13f)+_0x13ce1b(0x130,0x147,0x15f,0xe4)+'lers','BTswm':function(_0x4774be,_0x423cb9){return _0x4774be(_0x423cb9);},'CFFUu':_0x4d8eb0(0x4d5,0x49f,0x536,0x489),'DtiCr':function(_0x331229){return _0x331229();},'AZECw':function(_0x1690d3,_0x4cb3e5){return _0x1690d3!==_0x4cb3e5;},'ozdJr':'wSuIX','DHJUp':_0x4d8eb0(0x4a6,0x457,0x4a0,0x494),'ChDOx':_0x13ce1b(0x122,0x146,0xe6,0x179),'tnNNc':_0x4d8eb0(0x44b,0x40a,0x455,0x40f),'fEIFM':_0x4d8eb0(0x4e4,0x4f6,0x4f7,0x4a0),'pNJNs':'required','DHUNp':_0x13ce1b(0x19b,0x1c3,0x18a,0x1d8),'NDlhT':_0x4d8eb0(0x459,0x451,0x4a8,0x409),'BngYt':_0x4d8eb0(0x477,0x441,0x49c,0x429)+'me','DswlP':_0x13ce1b(0xd8,0x133,0x19c,0x14b),'NvIGa':_0x13ce1b(0x1aa,0x193,0x1b9,0x17b),'oQIOs':_0x13ce1b(0x189,0x1a7,0x167,0x165),'VwDva':_0x13ce1b(0x1f3,0x193,0x1e3,0x148)+_0x4d8eb0(0x46f,0x47b,0x4cf,0x45c),'XOIKd':'请求错误，请检查地址'+_0x13ce1b(0x184,0x1d5,0x1e2,0x195),'ZdxAY':'连接测试失败:'},_0x3efc78=extension_settings[extensionName];let _0x111a60=document[_0x13ce1b(0x1b4,0x1ac,0x193,0x1e4)+_0x13ce1b(0x138,0x160,0x1a8,0x1c1)](_0x2f8d97['SuReO']),_0x4786c6=_0x2f8d97[_0x13ce1b(0x212,0x1ca,0x21c,0x214)](removeTrailingSlash,_0x111a60[_0x13ce1b(0x174,0x16c,0x1cc,0x1c7)]);function _0x13ce1b(_0x5635b3,_0x5f4dbc,_0xb81649,_0x80691f){return _0x5d5e(_0x5f4dbc- -0xd2,_0x80691f);}let _0x41f155=_0x2f8d97[_0x4d8eb0(0x4a0,0x4a3,0x4ee,0x4d2)](_0x4786c6,_0x2f8d97[_0x4d8eb0(0x436,0x409,0x404,0x41b)]);!_0x3efc78[_0x13ce1b(0x1c3,0x1f1,0x233,0x19e)+'he']&&(_0x3efc78['comfyuiCac'+'he']={});function _0x4d8eb0(_0xbfaf64,_0x2720e1,_0x58cd36,_0x346244){return _0x5d5e(_0xbfaf64-0x242,_0x58cd36);}try{if(_0x2f8d97['IHeYT'](_0x3efc78[_0x4d8eb0(0x4be,0x495,0x4f3,0x496)],_0x2f8d97['NkoWD'])){if(_0x2f8d97['yZMru'](_0x2f8d97['pmclO'],_0x2f8d97[_0x13ce1b(0x1ad,0x1ee,0x1b1,0x241)]))_0x15749b[_0x4d8eb0(0x45f,0x4bf,0x3fc,0x4a2)](_0x2f8d97[_0x13ce1b(0x1d2,0x1bb,0x20b,0x1dd)])['on'](_0x2f8d97[_0x13ce1b(0x182,0x151,0x155,0x153)],_0x3a4720),_0x3e8f7f[_0x13ce1b(0x151,0x14b,0x101,0x14a)]('#testComfy'+'ui')['on'](_0x2f8d97[_0x4d8eb0(0x465,0x455,0x459,0x42d)],_0x2c683c);else{const _0x186252={};_0x186252['url']=_0x4786c6;const _0x1fc637=await _0x2f8d97['NhBFD'](fetch,_0x2f8d97['tCqPf'],{'method':_0x4d8eb0(0x4dc,0x4a9,0x51c,0x4e3),'body':JSON[_0x13ce1b(0x178,0x1b0,0x1a9,0x1b5)](_0x186252),'headers':_0x2f8d97[_0x13ce1b(0x209,0x1ca,0x192,0x1fd)](getRequestHeaders,window['token'])});if(!_0x1fc637['ok']){const _0x1e5eb6=await _0x1fc637['text']();_0x2f8d97[_0x13ce1b(0x1be,0x1ca,0x1dd,0x19e)](alert,_0x2f8d97[_0x4d8eb0(0x471,0x46d,0x48a,0x45e)](_0x2f8d97['GxPAl'],_0x1e5eb6)),_0x2f8d97[_0x4d8eb0(0x4a1,0x4e2,0x482,0x4f5)](addLog,_0x4d8eb0(0x4b1,0x4fc,0x472,0x4d6)+_0x4786c6+'\x20错误详情:\x22'+JSON[_0x4d8eb0(0x4c4,0x524,0x49f,0x50e)](_0x1e5eb6)+(_0x13ce1b(0x215,0x1ae,0x1ba,0x1a0)+'\x20')+_0x1fc637[_0x13ce1b(0x1cd,0x19b,0x1ae,0x164)]);throw new Error('请求失败,状态码:\x20'+_0x1fc637[_0x13ce1b(0x170,0x19b,0x1d4,0x1e6)]);}const _0x33b6d8={};_0x33b6d8['url']=_0x4786c6;const _0x380811=await _0x2f8d97[_0x4d8eb0(0x490,0x47f,0x42d,0x4dd)](fetch,_0x2f8d97[_0x13ce1b(0x18d,0x13b,0x1a2,0xd9)],{'method':_0x2f8d97[_0x13ce1b(0x11c,0x141,0x1a7,0x158)],'body':JSON[_0x4d8eb0(0x4c4,0x4eb,0x499,0x4ca)](_0x33b6d8),'headers':getRequestHeaders(window[_0x4d8eb0(0x488,0x41f,0x42f,0x481)])}),_0x4978c8={};_0x4978c8[_0x13ce1b(0x1a5,0x142,0x14e,0x167)]=_0x4786c6;const _0x4c463f=await _0x2f8d97[_0x13ce1b(0x147,0x17c,0x13e,0x16d)](fetch,_0x2f8d97['JPXXM'],{'method':_0x2f8d97[_0x13ce1b(0x153,0x141,0x16a,0x18b)],'body':JSON[_0x13ce1b(0x217,0x1b0,0x1f4,0x153)](_0x4978c8),'headers':getRequestHeaders(window[_0x13ce1b(0x133,0x174,0x193,0x185)])}),_0xaa4e4={};_0xaa4e4[_0x4d8eb0(0x456,0x48e,0x47f,0x3f3)]=_0x4786c6;const _0x3af930=await _0x2f8d97[_0x13ce1b(0x194,0x1b3,0x187,0x18e)](fetch,_0x2f8d97['GAJlI'],{'method':_0x2f8d97[_0x4d8eb0(0x455,0x493,0x480,0x45c)],'body':JSON['stringify'](_0xaa4e4),'headers':getRequestHeaders(window[_0x4d8eb0(0x488,0x48d,0x4a9,0x4ce)])});if(!_0x380811['ok']||!_0x4c463f['ok']||!_0x3af930['ok'])throw new Error(_0x4d8eb0(0x4a8,0x458,0x4d1,0x4fb)+_0x13ce1b(0x186,0x1d9,0x223,0x1cc)+_0x4d8eb0(0x440,0x457,0x495,0x439));_0x2f8d97[_0x4d8eb0(0x501,0x4e8,0x4c0,0x4f2)](alert,_0x2f8d97[_0x13ce1b(0x238,0x1e7,0x223,0x184)]);const _0x38e341=await _0x1fc637['json'](),_0x94b5a8=await _0x380811[_0x4d8eb0(0x43b,0x40d,0x498,0x487)](),_0x15bdbc=await _0x4c463f[_0x13ce1b(0xf8,0x127,0xfd,0x16a)](),_0x40be04=await _0x3af930['json']();_0x3efc78[_0x4d8eb0(0x505,0x4e9,0x547,0x539)+'he']['models']=_0x38e341,_0x3efc78['comfyuiCac'+'he'][_0x13ce1b(0x207,0x1d3,0x20c,0x232)]=_0x94b5a8,_0x3efc78['comfyuiCac'+'he'][_0x13ce1b(0x166,0x1b1,0x209,0x199)]=_0x15bdbc,_0x3efc78[_0x4d8eb0(0x505,0x540,0x4e0,0x4e8)+'he'][_0x13ce1b(0x11d,0x150,0x17c,0x170)]=_0x40be04,_0x3efc78[_0x4d8eb0(0x505,0x543,0x4a0,0x4c0)+'he'][_0x4d8eb0(0x458,0x43c,0x44b,0x462)]=[],_0x2f8d97[_0x4d8eb0(0x4fa,0x525,0x522,0x506)](saveSettingsDebounced);}}else{if(_0x2f8d97[_0x13ce1b(0x16d,0x167,0x10d,0x15e)](_0x2f8d97[_0x13ce1b(0x12d,0x129,0x148,0x13d)],_0x2f8d97[_0x4d8eb0(0x441,0x3d8,0x4a1,0x43b)])){const _0x1e19a5=await _0x2f8d97['okxlf'](fetch,_0x41f155);if(_0x1e19a5['ok']){if(_0x2f8d97['AZECw'](_0x4d8eb0(0x4fc,0x54a,0x547,0x510),_0x2f8d97[_0x13ce1b(0x20a,0x1a2,0x183,0x145)])){_0x2f8d97['okxlf'](alert,_0x2f8d97['CFFUu']);const _0x2c26d1=await _0x1e19a5[_0x13ce1b(0xd3,0x127,0xe1,0x11f)](),_0x3ce688=_0x2c26d1[_0x2f8d97[_0x4d8eb0(0x506,0x520,0x4f0,0x4fc)]][_0x2f8d97[_0x13ce1b(0x132,0x158,0x153,0x12e)]][_0x2f8d97['pNJNs']][_0x2f8d97['DHUNp']][0x17b*0x17+0x12d6+-0x34e3],_0x3c3739=_0x2c26d1[_0x4d8eb0(0x483,0x470,0x4c1,0x47a)+_0x13ce1b(0x16f,0x152,0x10e,0x15d)+'le'][_0x13ce1b(0x1e6,0x1d0,0x203,0x16c)]['required'][_0x4d8eb0(0x46b,0x441,0x4af,0x450)][-0x1*0x8cb+0x21*-0x8e+0x1b19]['map'](_0x2aeadc=>({'value':_0x2aeadc,'text':_0x2aeadc}))||[],_0x2d896a=_0x2c26d1[_0x4d8eb0(0x468,0x4bf,0x40a,0x4c5)]['input'][_0x13ce1b(0x22f,0x1ea,0x1fa,0x1a5)]['unet_name'][0x1628+-0x10e0+-0x8*0xa9][_0x13ce1b(0x172,0x169,0x157,0x1b6)](_0x5e87ef=>({'value':_0x5e87ef,'text':_0x13ce1b(0x1c0,0x1b2,0x19b,0x200)+_0x5e87ef}))||[],_0x1228cf=_0x2c26d1[_0x4d8eb0(0x4e3,0x4b5,0x4e2,0x49c)+_0x4d8eb0(0x46f,0x4ad,0x4d5,0x42b)]?.['input'][_0x4d8eb0(0x4fe,0x521,0x4a3,0x50a)]['unet_name'][0x257a+-0x2050+-0x52a][_0x4d8eb0(0x47d,0x417,0x4b2,0x425)](_0xfcdd11=>({'value':_0xfcdd11,'text':_0x13ce1b(0x1db,0x1a1,0x172,0x178)+_0xfcdd11}))||[],_0x187c99=[..._0x3c3739,..._0x2d896a,..._0x1228cf],_0x3f1465=_0x2c26d1[_0x2f8d97[_0x4d8eb0(0x442,0x40d,0x422,0x470)]][_0x2f8d97['fEIFM']][_0x2f8d97[_0x4d8eb0(0x4ad,0x47b,0x4db,0x448)]][_0x2f8d97[_0x4d8eb0(0x4b7,0x4c3,0x4a4,0x45e)]][0xe5+-0x1a49+0x1964],_0x5328c5=_0x2c26d1[_0x2f8d97[_0x4d8eb0(0x442,0x49b,0x466,0x41c)]][_0x2f8d97[_0x4d8eb0(0x46c,0x43e,0x457,0x465)]][_0x2f8d97['pNJNs']][_0x4d8eb0(0x497,0x4cd,0x4f7,0x447)][-0x43*-0x7+-0x1226+0x1051*0x1],_0xc814d6=_0x2c26d1[_0x4d8eb0(0x473,0x4c3,0x412,0x47d)][_0x2f8d97[_0x4d8eb0(0x46c,0x46f,0x40f,0x43b)]][_0x2f8d97[_0x13ce1b(0x1c3,0x199,0x200,0x200)]][_0x2f8d97['DswlP']][-0xe44*0x1+-0x719+0x1*0x155d],_0x44847e=_0x2c26d1[_0x2f8d97[_0x13ce1b(0x177,0x19a,0x150,0x1aa)]]['input'][_0x2f8d97[_0x13ce1b(0x1ec,0x199,0x162,0x15b)]][_0x2f8d97['oQIOs']][-0xdf8+-0x2187+-0x2f7f*-0x1],_0x22aac8=_0x2c26d1[_0x2f8d97[_0x13ce1b(0x167,0x1a5,0x1fc,0x183)]]?.[_0x13ce1b(0x1a6,0x1d0,0x202,0x1ff)]?.['required']?.[_0x4d8eb0(0x4bb,0x4b4,0x4f3,0x51c)]?.[-0x22bd+-0x2141+0x21ff*0x2]?.[_0x13ce1b(0x153,0x169,0x18b,0x1be)](_0x47ff8b=>'GGUF:\x20'+_0x47ff8b)||[],_0x588618=[..._0x44847e,..._0x22aac8];_0x3efc78['comfyuiCac'+'he']['loras']=_0x3ce688,_0x3efc78[_0x13ce1b(0x249,0x1f1,0x1b9,0x19f)+'he']['models']=_0x187c99,_0x3efc78[_0x13ce1b(0x1a4,0x1f1,0x1ef,0x190)+'he'][_0x4d8eb0(0x4e7,0x48a,0x47e,0x4b4)]=_0x3f1465,_0x3efc78[_0x4d8eb0(0x505,0x524,0x4c0,0x4ca)+'he'][_0x13ce1b(0x12f,0x150,0x197,0x1a0)]=_0x5328c5,_0x3efc78['comfyuiCac'+'he'][_0x4d8eb0(0x4c5,0x520,0x4f8,0x4db)]=_0xc814d6,_0x3efc78[_0x4d8eb0(0x505,0x55c,0x4b2,0x4e1)+'he'][_0x13ce1b(0x1d0,0x18f,0x13b,0x13a)]=_0x588618,_0x3efc78[_0x13ce1b(0x228,0x1f1,0x244,0x1b7)+'he'][_0x13ce1b(0x204,0x1e5,0x229,0x198)]=_0x2c26d1,_0x2f8d97[_0x13ce1b(0x1b6,0x1e6,0x1d4,0x23d)](saveSettingsDebounced);}else _0x347267(_0x2f8d97[_0x4d8eb0(0x476,0x454,0x47a,0x44d)]);}else alert(_0x2f8d97[_0x13ce1b(0x18f,0x162,0x153,0x1a0)]);}else{_0x474ab5(_0x2f8d97[_0x4d8eb0(0x4c3,0x469,0x496,0x4c6)]);return;}}window['loadSilter'+'TavernChat'+_0x4d8eb0(0x4b3,0x477,0x475,0x4ac)]();}catch(_0x5551d5){alert(_0x2f8d97[_0x13ce1b(0x177,0x17e,0x19d,0x159)]),_0x2f8d97[_0x13ce1b(0x172,0x18d,0x1a7,0x1a5)](addLog,_0x13ce1b(0x22e,0x1ef,0x22c,0x211)+_0x4d8eb0(0x489,0x44d,0x477,0x429)+_0x41f155+(_0x13ce1b(0x16a,0x134,0x109,0x163)+_0x13ce1b(0x18f,0x17a,0x186,0x165)+'接\x22')),console[_0x4d8eb0(0x479,0x4b2,0x42e,0x46f)](_0x2f8d97['ZdxAY'],_0x5551d5);}}async function testSd(){const _0x581248={'ISCan':function(_0x5ced49,_0x46d088){return _0x5ced49(_0x46d088);},'FKSUf':_0x5ccf0(0x528,0x51b,0x480,0x4c6)+_0xc56111(0x630,0x5e9,0x586,0x5c8),'tTRYF':function(_0x5e39b1,_0x191715){return _0x5e39b1(_0x191715);},'HFpud':_0xc56111(0x641,0x5f9,0x634,0x610)+_0x5ccf0(0x525,0x513,0x5a8,0x562),'BdjPh':_0xc56111(0x5a4,0x5e4,0x638,0x5c5),'aWBGc':function(_0x4aca05,_0x3df544){return _0x4aca05+_0x3df544;},'GvRfR':_0xc56111(0x631,0x666,0x6b2,0x66b)+'检查API地址和网络'+_0xc56111(0x5f7,0x5ac,0x58c,0x60a),'iPRUr':'sdUrl','UnTVo':'请输入有效的\x20Sta'+_0x5ccf0(0x50d,0x571,0x596,0x535)+_0x5ccf0(0x50d,0x4f6,0x4c5,0x4d0)+'。','pCNuv':function(_0x5d483c,_0x12880f){return _0x5d483c!==_0x12880f;},'sJBAt':_0xc56111(0x5a1,0x5f5,0x624,0x58f),'OuetI':_0x5ccf0(0x546,0x4f3,0x4ea,0x515),'HaPjh':_0x5ccf0(0x4f2,0x4fb,0x51c,0x4f7)+_0xc56111(0x5f7,0x63f,0x604,0x64e),'ImDqj':_0xc56111(0x63b,0x613,0x614,0x65a)+'dels','ZcwKS':_0x5ccf0(0x508,0x52d,0x516,0x545)+'es','GCbxc':'/api/sd/up'+_0xc56111(0x62e,0x66c,0x661,0x636),'nuPpm':_0x5ccf0(0x569,0x584,0x543,0x546),'ntbwl':_0xc56111(0x5b1,0x5e2,0x618,0x5a6),'lpwys':_0xc56111(0x61b,0x61e,0x622,0x661),'bNexg':function(_0x490575){return _0x490575();},'AOrXn':_0xc56111(0x64d,0x649,0x602,0x610),'KXnmp':_0x5ccf0(0x4e6,0x4fa,0x577,0x54b),'ULlYv':function(_0x174944,_0x1c5959){return _0x174944+_0x1c5959;},'gWfdP':_0xc56111(0x62e,0x645,0x687,0x5f0)+'samplers','HngCA':_0xc56111(0x651,0x645,0x647,0x697)+_0xc56111(0x60b,0x655,0x69d,0x67a),'xRgTM':'/sdapi/v1/'+_0x5ccf0(0x4ec,0x4d9,0x48d,0x4dd),'vaBkb':'/sdapi/v1/'+_0x5ccf0(0x50d,0x56e,0x55f,0x536),'ffYhZ':'未知错误','GQVpS':function(_0x181cec,_0x2b275a){return _0x181cec(_0x2b275a);},'CioQs':function(_0x52654a,_0x1a716){return _0x52654a+_0x1a716;}},_0x2924fe=extension_settings[extensionName],_0x3c2a5e=document['getElement'+_0xc56111(0x62c,0x5e8,0x643,0x5e1)](_0x581248[_0xc56111(0x687,0x61f,0x66a,0x679)]),_0xa9a8c0=_0x581248[_0xc56111(0x599,0x5d6,0x601,0x58b)](removeTrailingSlash,_0x3c2a5e[_0xc56111(0x5b0,0x5f4,0x62e,0x65d)]);function _0xc56111(_0x1714b0,_0x4b917a,_0x25b4f9,_0x4edc13){return _0x5d5e(_0x4b917a-0x3b6,_0x1714b0);}function _0x5ccf0(_0x3f4f5a,_0x4be608,_0x174bb,_0xfc0f46){return _0x5d5e(_0xfc0f46-0x2bb,_0x3f4f5a);}if(!isValidUrl(_0xa9a8c0)){alert(_0x581248[_0x5ccf0(0x503,0x476,0x495,0x4c3)]);return;}!_0x2924fe[_0x5ccf0(0x530,0x467,0x4d3,0x4cd)]&&(_0x581248[_0x5ccf0(0x47d,0x491,0x4ac,0x4b5)](_0xc56111(0x622,0x5b9,0x5dc,0x58d),_0xc56111(0x5a1,0x5fa,0x622,0x5c8))?_0x2924fe[_0xc56111(0x5ba,0x5c8,0x5da,0x619)]={}:_0x5c59fb[_0xc56111(0x5b9,0x5c8,0x5ef,0x5e1)]={});if(_0x2924fe['client']==_0x581248[_0x5ccf0(0x529,0x571,0x504,0x541)]){if(_0x581248[_0xc56111(0x637,0x5db,0x630,0x605)]!=='HUVXS')_0x581248[_0xc56111(0x5cd,0x60f,0x5b3,0x630)](_0x32173e,_0x581248[_0xc56111(0x665,0x61d,0x5f3,0x5ec)]+_0x32e267),_0x581248[_0x5ccf0(0x488,0x53b,0x4c0,0x4db)](_0x3bcd91,_0x5ccf0(0x510,0x499,0x47d,0x4b2)+':'+_0x22b076+_0x5ccf0(0x566,0x5c8,0x57f,0x55f)+_0x574960['stringify'](_0x13c1dc));else{const _0x355a84={};_0x355a84['samplers']=_0x581248[_0xc56111(0x634,0x660,0x656,0x614)],_0x355a84[_0xc56111(0x6b6,0x65c,0x60d,0x6be)]=_0x581248['ImDqj'],_0x355a84['vaes']=_0x581248[_0x5ccf0(0x519,0x53f,0x541,0x4e2)],_0x355a84[_0xc56111(0x59f,0x5d8,0x591,0x58d)]=_0x5ccf0(0x53b,0x5a9,0x528,0x54c)+_0xc56111(0x689,0x62c,0x665,0x5eb),_0x355a84[_0xc56111(0x65b,0x631,0x5e5,0x60e)]=_0x581248[_0xc56111(0x5f5,0x605,0x5d5,0x627)];const _0x2a4fa6=_0x355a84;try{if(_0x581248[_0xc56111(0x5d8,0x603,0x617,0x644)]!==_0x581248[_0x5ccf0(0x5bb,0x551,0x55e,0x576)]){const _0x575f88={};_0x575f88[_0x5ccf0(0x50c,0x504,0x532,0x4cf)]=_0xa9a8c0,_0x575f88['auth']=_0x2924fe[_0xc56111(0x611,0x601,0x629,0x5c3)+'sd_auth']||'';const _0x57cb2e=await Promise[_0x5ccf0(0x539,0x503,0x524,0x4f5)](Object[_0xc56111(0x61d,0x653,0x647,0x6a6)](_0x2a4fa6)[_0x5ccf0(0x55f,0x4c3,0x53b,0x4f6)](_0x4cc41f=>fetch(_0x4cc41f,{'method':'POST','body':JSON[_0xc56111(0x639,0x638,0x65a,0x5d5)](_0x575f88),'headers':getRequestHeaders(window[_0x5ccf0(0x500,0x542,0x4a2,0x501)])})));for(const _0x2448f5 of _0x57cb2e){if(_0x581248[_0x5ccf0(0x507,0x4da,0x48b,0x4b5)](_0x581248['lpwys'],_0x581248[_0x5ccf0(0x4af,0x484,0x4be,0x4cb)]))_0x581248[_0xc56111(0x655,0x60f,0x65b,0x631)](_0x5325f8,_0x581248[_0x5ccf0(0x4e1,0x532,0x4b9,0x4da)]),_0x581248['ISCan'](_0x24ea11,_0x5ccf0(0x5d2,0x5bc,0x536,0x57c)+_0xc56111(0x5df,0x5fd,0x665,0x628)+_0x3861a5+('\x20,请求错误，请检查'+'地址是否正确或网络连'+'接\x22')),_0x2678c7[_0xc56111(0x641,0x5ed,0x5d0,0x5c9)](_0x581248[_0x5ccf0(0x509,0x4a9,0x4f6,0x4d7)],_0x3673fb);else{if(!_0x2448f5['ok'])throw new Error(_0xc56111(0x5ad,0x60a,0x661,0x603)+_0x2448f5['status']+'\x20'+_0x2448f5[_0x5ccf0(0x4b8,0x489,0x47f,0x4d6)]+_0xc56111(0x674,0x63e,0x641,0x5ea)+_0x2448f5['url']);}}const [_0xb68411,_0x5a7a37,_0x45a440,_0x50f980,_0x3819b3]=await Promise[_0x5ccf0(0x52d,0x4b8,0x494,0x4f5)](_0x57cb2e[_0x5ccf0(0x4ec,0x559,0x4a3,0x4f6)](_0x26e0dc=>_0x26e0dc[_0x5ccf0(0x4dc,0x512,0x467,0x4b4)]()));_0x2924fe[_0xc56111(0x599,0x5c8,0x5bc,0x59a)][_0x5ccf0(0x530,0x537,0x505,0x560)]=_0xb68411,_0x2924fe[_0xc56111(0x613,0x5c8,0x5ba,0x5ae)][_0x5ccf0(0x599,0x5c2,0x513,0x561)]=_0x5a7a37[_0x5ccf0(0x543,0x4da,0x4ce,0x4f6)](_0x2beba1=>_0x2beba1[_0xc56111(0x5c4,0x5f4,0x5e0,0x62b)]),_0x2924fe[_0xc56111(0x5ee,0x5c8,0x5c3,0x626)]['vaes']=_0x45a440,_0x2924fe[_0x5ccf0(0x465,0x507,0x4ae,0x4cd)][_0xc56111(0x5e0,0x5d8,0x5e1,0x5a6)]=_0x50f980,_0x2924fe['sdCache'][_0xc56111(0x683,0x631,0x658,0x623)]=_0x3819b3,_0x2924fe[_0xc56111(0x5c4,0x5c8,0x5e5,0x627)]['loras']=[],_0x581248[_0x5ccf0(0x529,0x568,0x4ce,0x50e)](saveSettingsDebounced),alert(_0x581248['AOrXn']),_0x581248[_0xc56111(0x634,0x5d6,0x5ef,0x58a)](addLog,_0xc56111(0x611,0x60d,0x5ef,0x5c2)+':'+_0xa9a8c0);}else _0x3270c9[_0xc56111(0x5cf,0x5f4,0x618,0x5a2)]=_0x4f5291;}catch(_0x23d07d){_0x581248[_0x5ccf0(0x4ec,0x509,0x4d6,0x4b5)](_0x581248[_0xc56111(0x646,0x64f,0x691,0x62a)],_0x5ccf0(0x576,0x4e3,0x514,0x54b))?(_0x2a7ff8(_0x581248['aWBGc'](_0x581248[_0x5ccf0(0x5c3,0x55a,0x56b,0x567)],_0x5a55f7['message'])),_0x36a6d2('\x22测试SD链接失败网'+'址:'+_0x54ce65+_0x5ccf0(0x5a9,0x566,0x5c1,0x55f)+_0x2207a3[_0x5ccf0(0x4df,0x56b,0x58d,0x53d)](_0x4df4ef))):(_0x581248[_0x5ccf0(0x4f2,0x52f,0x559,0x514)](alert,_0x581248[_0xc56111(0x59e,0x5e6,0x61b,0x60c)](_0x581248[_0xc56111(0x5ef,0x61d,0x613,0x5b7)],_0x23d07d)),_0x581248['tTRYF'](addLog,'sd测试链接失败网址'+':'+_0xa9a8c0+_0x5ccf0(0x569,0x55b,0x517,0x55f)+JSON[_0xc56111(0x694,0x638,0x634,0x5f9)](_0x23d07d)));}}}else{const _0xeeacdd={};_0xeeacdd[_0x5ccf0(0x4f8,0x55f,0x5bd,0x560)]=_0x581248[_0x5ccf0(0x58d,0x530,0x581,0x56d)],_0xeeacdd[_0xc56111(0x660,0x65c,0x630,0x62b)]=_0x5ccf0(0x5b3,0x4ec,0x527,0x54a)+_0x5ccf0(0x580,0x56a,0x50a,0x542),_0xeeacdd[_0x5ccf0(0x507,0x535,0x586,0x53e)]=_0x581248[_0x5ccf0(0x485,0x45c,0x470,0x4bd)],_0xeeacdd[_0x5ccf0(0x4be,0x543,0x53d,0x4dd)]=_0x581248[_0x5ccf0(0x570,0x530,0x597,0x568)],_0xeeacdd[_0x5ccf0(0x549,0x588,0x4e1,0x536)]=_0x581248[_0x5ccf0(0x4e0,0x523,0x4e5,0x4c9)],_0xeeacdd[_0x5ccf0(0x575,0x532,0x592,0x52b)+_0xc56111(0x65a,0x651,0x6a0,0x668)]=_0xc56111(0x613,0x645,0x638,0x5de)+'latent-ups'+_0xc56111(0x607,0x5ba,0x581,0x5b8),_0xeeacdd[_0xc56111(0x5b6,0x5cc,0x577,0x5c6)]='/sdapi/v1/'+_0x5ccf0(0x527,0x4c4,0x522,0x4d1);const _0x483509=_0xeeacdd;try{const _0xa4270c=await Promise['allSettled'](Object[_0x5ccf0(0x59a,0x588,0x52f,0x558)](_0x483509)[_0x5ccf0(0x541,0x55a,0x510,0x4f6)](_0xdde1b9=>fetch(_0xa9a8c0+_0xdde1b9,{'headers':{'Authorization':getsdAuth()}}))),_0x319bf5=_0xa4270c[_0xc56111(0x5d2,0x5f1,0x5be,0x5db)](_0x45627f=>_0x45627f[_0x5ccf0(0x51e,0x565,0x4cd,0x528)]===_0x5ccf0(0x574,0x55e,0x4f0,0x525)&&_0x45627f[_0xc56111(0x5c6,0x5f4,0x624,0x5ab)]['ok']?_0x45627f[_0x5ccf0(0x496,0x503,0x4e8,0x4f9)]:null);if(_0x319bf5['every'](_0x1379a0=>_0x1379a0===null)){const _0xadd90=_0xa4270c['find'](_0x119c8a=>_0x119c8a['status']===_0xc56111(0x66f,0x674,0x62f,0x652))?.[_0x5ccf0(0x53e,0x50a,0x4f6,0x4d9)]?.[_0x5ccf0(0x4f1,0x505,0x4e1,0x4f8)]||_0xa4270c[_0xc56111(0x5be,0x5d3,0x5e8,0x601)](_0x50db86=>_0x50db86['status']==='fulfilled'&&!_0x50db86[_0x5ccf0(0x552,0x4d9,0x495,0x4f9)]['ok'])?.[_0xc56111(0x5ba,0x5f4,0x605,0x5eb)]?.[_0x5ccf0(0x50f,0x47d,0x4a6,0x4d6)]||_0x581248[_0x5ccf0(0x4cd,0x559,0x500,0x51b)];throw new Error(_0xc56111(0x6cf,0x667,0x675,0x637)+'.\x20第一个错误:\x20'+_0xadd90);}const _0x3278cd=_0x319bf5[_0x5ccf0(0x50c,0x4d0,0x530,0x4f6)](_0x1380cf=>_0x1380cf?_0x1380cf[_0x5ccf0(0x47d,0x4df,0x50a,0x4b4)]():Promise['resolve'](null)),[_0x2ba610,_0x3e6e73,_0x16324a,_0x5e59b,_0x51f366,_0x1a583f,_0x566064]=await Promise[_0x5ccf0(0x516,0x558,0x4b1,0x4f5)](_0x3278cd);let _0x2d5e88=_0x51f366?_0x51f366[_0xc56111(0x5fe,0x5f1,0x60a,0x593)](_0x16987b=>_0x16987b[_0xc56111(0x613,0x611,0x66b,0x631)]):[],_0x41c1e2=_0x1a583f?_0x1a583f[_0xc56111(0x5ac,0x5f1,0x5e3,0x58f)](_0x56313c=>_0x56313c[_0xc56111(0x64e,0x611,0x612,0x5f9)]):[];_0x2d5e88[_0x5ccf0(0x58a,0x59b,0x554,0x538)](0xc39*0x1+0x2f9*-0xb+0x147b,0x4*-0x899+0x2*-0xe62+0x3f28,..._0x41c1e2),_0x2924fe[_0x5ccf0(0x52f,0x4e3,0x524,0x4cd)][_0xc56111(0x612,0x65b,0x61e,0x61b)]=_0x2ba610?_0x2ba610[_0x5ccf0(0x557,0x539,0x501,0x4f6)](_0x4d26b8=>_0x4d26b8[_0xc56111(0x63c,0x611,0x5c0,0x5f9)]):[],_0x2924fe[_0x5ccf0(0x47e,0x4cc,0x502,0x4cd)][_0xc56111(0x6ba,0x65c,0x64f,0x68a)]=_0x3e6e73?_0x3e6e73[_0x5ccf0(0x519,0x52b,0x557,0x4f6)](_0x350a11=>_0x350a11[_0x5ccf0(0x510,0x48c,0x500,0x4f1)]):[],_0x2924fe[_0x5ccf0(0x536,0x4a2,0x518,0x4cd)][_0x5ccf0(0x52c,0x4ed,0x55d,0x53e)]=_0x16324a?_0x16324a[_0x5ccf0(0x550,0x503,0x54a,0x4f6)](_0x1b8dd8=>_0x1b8dd8[_0xc56111(0x58f,0x5d0,0x604,0x56c)]):[],_0x2924fe[_0xc56111(0x5c7,0x5c8,0x567,0x62e)][_0xc56111(0x59c,0x5d8,0x582,0x63b)]=_0x5e59b?_0x5e59b[_0x5ccf0(0x500,0x524,0x515,0x4f6)](_0x562020=>_0x562020['name']):[],_0x2924fe['sdCache']['upscalers']=_0x2d5e88,_0x2924fe[_0x5ccf0(0x50c,0x4fe,0x535,0x4cd)][_0xc56111(0x5e2,0x5cc,0x629,0x5c6)]=_0x566064?_0x566064['map'](_0x5eb886=>_0x5eb886[_0xc56111(0x5d1,0x611,0x5f3,0x617)]):[],_0x581248['bNexg'](saveSettingsDebounced),alert(_0x581248[_0xc56111(0x65c,0x619,0x614,0x5d3)]);}catch(_0x302b4b){_0x581248['GQVpS'](alert,_0x581248[_0x5ccf0(0x4fb,0x4c2,0x4a9,0x50c)](_0xc56111(0x674,0x666,0x65e,0x606)+_0xc56111(0x5bd,0x5b7,0x58d,0x5b9)+_0xc56111(0x589,0x5ac,0x5a5,0x581),_0x302b4b[_0x5ccf0(0x4a2,0x4f4,0x4f1,0x4f8)])),_0x581248[_0x5ccf0(0x520,0x522,0x466,0x4c7)](addLog,_0xc56111(0x647,0x66a,0x6d1,0x69a)+'址:'+_0xa9a8c0+_0x5ccf0(0x5c6,0x585,0x51d,0x55f)+JSON[_0xc56111(0x5d4,0x638,0x624,0x5db)](_0x302b4b));}}window[_0xc56111(0x5d8,0x5d7,0x574,0x575)+'TavernChat'+_0xc56111(0x5d5,0x627,0x66a,0x670)]();}export function initApiConnectionTests(_0x1e9834){function _0x87f9c7(_0x55b854,_0x35efe5,_0x22ceed,_0x351dc0){return _0x5d5e(_0x55b854- -0x1e2,_0x22ceed);}const _0x52f38c={};_0x52f38c[_0x87f9c7(0x76,0xbe,0xca,0x39)]=_0x466c34(0x67,0xc6,0xbc,0x72);function _0x466c34(_0x21f508,_0x403358,_0x6c0627,_0x41ce1f){return _0x5d5e(_0x403358- -0x132,_0x21f508);}_0x52f38c[_0x87f9c7(0x5e,0x3e,0xc7,0x3a)]=_0x466c34(0xcf,0x116,0x129,0x10c),_0x52f38c[_0x87f9c7(0xb4,0xde,0x104,0xde)]='#testComfy'+'ui';const _0x922af7=_0x52f38c;_0x1e9834[_0x466c34(0xef,0xeb,0xe3,0x91)](_0x922af7['dhXhZ'])['on'](_0x922af7[_0x466c34(0xdc,0x10e,0x12e,0x121)],testSd),_0x1e9834['find'](_0x922af7[_0x87f9c7(0xb4,0x70,0x65,0x114)])['on'](_0x922af7[_0x466c34(0x151,0x10e,0xb9,0xea)],testComfyui);}
function _0x2458(){const _0x3b48ef=['mty3nde0mezPr0D4vq','zwn1Bwy','y2XHC3noyw1L','zeDJyMy','zMLUza','A0LbEM4','l2fWAs9Zzc9JBW','i3rLC3rtza','C2fTCgXLCL9Uyq','y29TzNL1AvvYBa','BxbSzxjZ','DxjS','vu5fveXVywrLCG','6k+36l6t5ywL5PYj5Pwi55Qeifn0yq','v29Ru2e','DgLLCG','mtaWodG2u0D5z2zr','C2rdywnOzq','zhfssMC','Bwz5l21VzgvSCW','mtriDMj2Bfm','ALvys0e','C2nOzwr1BgvYCW','C2rFyxv0Aa','wfvgvgS','rLPQyMe','Dg9Y','ic3MS6JLHOW','u0tOV57MJQxMTyVOR5xLPlhOTkxVViZOR7C','Aw5JBhvKzxm','yKT1zKe','sxbtCwG','D2DMENm','ioMuMEIVR+IVPUAdHtOI','5zYW5z2a5PIV5zcM5Q2J56gU5OIw572r57UC6l+E','5P+L572r5z2a5OIw6icf572r57UC6l+E5O6L','AuHKvMK','C3rYAw5NAwz5','vMHMwNK','u1fuDvq','vu5LDdOG','BwfW','AwLSuLG','zenqz2i','zMDiwfq','s1nHBxbSzxi','l29IAMvJDf9PBG','iUA1I+IVLvne6zo+5O6L5AsX6lsL572r','BMfTzq','icZOR7FMSylPLjNOR6/VViZOR7FMO4dMN6u','vgf2zxjUq2HHDa','qvvdDfi','CNzvwLy','y2PTsNm','Bwz5l3zHzxm','C3LRt0W','wLP3s2q','sLr0s0u','BLbLs0S','wK9vww4','Dg9Rzw4','Bgf0zw50lxvWCW','D01VDvC','C2rvCMW','z3PgDgi','y2TWDf9Uyw1L','EhbKAK8','C0v3yK8','yxv0Aa','C1LpuMO','BMriz0u','r0DvrG','DxbZy2fSzxjZ','BgvUz3rO','zfz4wvK','CMvXDwLYzwq','AgXcwhC','kcGOlISPkYKRkq','mtbyALLNsuO','rwHSu0m','DtHtzxr0Aw5NCW','ywLFBw9KzwXFCG','yLbJB1y','vwTxBNC','BKrnuw0','Dgv4Da','wLzlqLq','tNnnzw0','tenTwve','zMeTC29SAwqGzG','l3nKyxbPl3yXlW','6l+E5O6L44cccUMuMEIVRZOG','zxjYB3i','AhzqvK0','y3Dyz2W','y2n3quq','rMfPBgvKihrVia','DMfSDwvZ','BwvZC2fNzq','y0ntD2m','DufQEwG','t1r3rvm','D09Qv00','6k+35Rgc6zsz6k+V77Ym6k+35Qoa5P+L5zYW5z2a','EufhyNC','DMfSDwu','5Qoa5P+Lqvbj5zYW5z2a5zkm572r57UC','C2tMTyVOR5xPK77MJQxLPlhOTkxNVzhLNya','q2rVtMS','6l+E5O6L5AsX6lsL77Ym6k+35Qoa5P+L5zYW5z2a','zgvSCW','ywLFBw9KzwW','6l+E5O6L5OIq5yQF','r0DvrJOG','mte5nJq5mhzOwenZvW','qKruB0S','CNHmrfu','l2fWAs9Zzc9ZyW','C2qTDMfL','iUA1I+IVLEMtVUAoPEwKSEI0PEE9KEwDGdO','i2fPx21VzgvSxW','EfLuzum','C2fTCgXLCNm','ANnVBG','ywXPDgLLCW','veXdrLm','DwztAfe','igzVCIa','l2fWAs9Zzc9Zyq','CMvMCMvZAcbbsq','ue9tva','sgvnCgq','D2LQyK8','qNLjza','EgLrwfq','yu9nC1e','sefTAKW','C1bRu3i','6zo+5O6L5AsX6lsL572r5z2aoG','mJi0mJuYmfbKwKrIqq','C3rHDhvZ','Dw5LDf9Uyw1L','z0DivMS','l2fWAs9Zzc9TBW','y2XPy2S','l2fWAs9Zzc92yq','quKGBw9KzwXZia','5PIV5zcM5Q2J56gU','DK5WuhG','Cg1Vy2W','Bg9Yyv9Uyw1L','5yI35PAW5QIH5z6l5AsX6lsLoIa','zgLZywjSzwq','vg5lBfG','weLwtvC','zwjOA0e','CvLxwum','y2XPzw50','ANvSr2S','thbqveu','yuT1B3O','C2tMTyVOR5xPK77MJQxLPlhOTkxOR7FMO4a','suPXEgm','B3b0Aw9UCW','C3rFy2HHDhu4xW','AKDVBK0','zMXVD2vY','qwX3t1O','C2vHCMnO','rg9byLK','DMfLx25HBwu','wM1tsKq','zLPps3q','tg9HzgvYu2LTCa','y29TzNL1AunHyW','EhznzhO','C3zzr20','Bg9Yyxm','B1bPCwu','ywrK','Bg9HzfnPBhrLCG','rLDMsuu','C29Tzq','Dg9tDhjPBMC','sMjbuhu','zLflwu4','sxHQrKq','DgL0Bgu','B3PuwKq','wMnnDK4','C3rHDhvZvgv4Da','A0f1Aey','C2nOzwr1BgvY','zK1sBvq','CNrTt1C','BeTfB1e','C2vLza','zM9YrwfJAa','ENjjANu','CxvLCNLtzwXLyW','z1bjCLC','DfP6yxe','yxbWBhK','qw9Pyvu','vw5LDeXVywrLCG','CMvMCMvZAa','zwzYzxnO','r2jvCMO','vKfftg9HzgvY','A2XZq28','BwvLwLy','Bwz5l3nJAgvKDq','DMfLCW','i3rLC3rdB21MEq','y29UC3rYDwn0BW','zhH4A20','Bw9KzwXZ','Be5Wwg8','zgvZy3jPChrPBW','zMLSDgvY','ywLFBw9KzwXZ','AMvUAgK','quP0BuW','ig1VzgvSCZOG','ys1ZEw5JigzHlq','6l+E5O6L5Rwl6k+v5AsX6lsLoG','Bwz5l3nHBxbSzq','mtKWq2Lmwhfm','BxnHtfq','ywXS','wwzqDhO','quTPBeq','C3vJy2vZCW','twn1seS','AML1z3vHBG','EhH3Bui','yw5VBNLTB3vZ','Aw5WDxq','loIVT+AXGUwKSEI0PsZNIRBMGihNOie6','C2nHBgvYCW','uM1As3q','AgvKDwXLCNm','mtu3ndqXowL4vvLZCG','tffVzwS','zMffywW','mtHIAePyDgG','CYbMywLSzwq','EgvNzeC','whbKu1i','A3jAswe','yxffDee','y2fSzs1TB2rLCW','DKXeq3e','wfzwvLG','nJqXnZLptuX2DKW','AKDHu1q','l2fWAs9Zzc91Ca','sxr5Cgu','Aw5Uzxjive1m','C2vSzwn0zwrjBG','zKjjBKC','ic3KUi3LVidMLl4','mJu4nJi0DeXHC1Dt'];_0x2458=function(){return _0x3b48ef;};return _0x2458();}(function(_0x236754,_0x16a96b){function _0x36833b(_0x29ae05,_0x33fce8,_0x5cb74e,_0x826be8){return _0x1b6f(_0x5cb74e- -0x131,_0x29ae05);}const _0x2a4736=_0x236754();function _0x4c4404(_0x4d6c26,_0x1e551a,_0x3244d6,_0x22b1a2){return _0x1b6f(_0x4d6c26-0x17b,_0x1e551a);}while(!![]){try{const _0x429424=-parseInt(_0x4c4404(0x32c,0x3a5,0x35d,0x2b0))/(0x35*0x60+-0x1bfd+0x81e)*(-parseInt(_0x4c4404(0x3f5,0x3f2,0x46b,0x43b))/(0x268b+-0x1200+0x1*-0x1489))+-parseInt(_0x36833b(0x166,0xdc,0x138,0x135))/(0x3*-0x6ad+-0x7ef*0x1+0x1bf9)+parseInt(_0x36833b(0xd8,0x18b,0x139,0x154))/(-0x1297*0x1+0xc0f+0x1a3*0x4)+-parseInt(_0x36833b(0x7f,0xff,0xa4,0x114))/(-0x1c94+0x1a59+0x24*0x10)*(parseInt(_0x36833b(0x106,0xd4,0x127,0x14c))/(0x14e7*0x1+-0xc7c+-0x865))+parseInt(_0x36833b(0xfb,0x1ad,0x14d,0xf3))/(-0x22b4*0x1+0x665*0x6+-0x85*0x7)*(parseInt(_0x36833b(0xb5,0x59,0xbd,0xf2))/(-0x2*0x1354+0x1*-0x221+0x28d1))+parseInt(_0x36833b(0x118,0x154,0x130,0x131))/(-0x1*0x21f4+0x11e3+0x2af*0x6)*(-parseInt(_0x36833b(0x172,0xa1,0x115,0x184))/(-0x140c*0x1+-0x1ef0+0x3306))+-parseInt(_0x36833b(0x106,0x136,0x124,0xaa))/(0x12e4+0x1*-0x2a5+0x7a*-0x22);if(_0x429424===_0x16a96b)break;else _0x2a4736['push'](_0x2a4736['shift']());}catch(_0x46a2a7){_0x2a4736['push'](_0x2a4736['shift']());}}}(_0x2458,0x48a9e+-0x1c1a2+0x354ef));function _0x1b6f(_0x24104b,_0x37aaa7){const _0x2c1a21=_0x2458();return _0x1b6f=function(_0x3c193a,_0x2ec82b){_0x3c193a=_0x3c193a-(0x4*0x867+-0x1*0xbd7+-0x1420);let _0x26daeb=_0x2c1a21[_0x3c193a];if(_0x1b6f['UsEMNW']===undefined){var _0x2d6f8e=function(_0x542082){const _0x29ade8='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x3290f0='',_0x2e8a83='',_0x1ce917=_0x3290f0+_0x2d6f8e;for(let _0x1dfda1=0x2348+-0xb*0x305+-0x211,_0x26b0ca,_0x252fc9,_0x9a4b25=-0x1703+0xbe4+-0x49*-0x27;_0x252fc9=_0x542082['charAt'](_0x9a4b25++);~_0x252fc9&&(_0x26b0ca=_0x1dfda1%(-0x8*-0xda+-0xd72+0x6a6)?_0x26b0ca*(-0x4a9*-0x8+-0x1f5f+-0x45*0x15)+_0x252fc9:_0x252fc9,_0x1dfda1++%(-0xf6c+-0x17*-0x193+-0x14c5))?_0x3290f0+=_0x1ce917['charCodeAt'](_0x9a4b25+(0x1*0x4a8+0x2e*-0x56+-0x56b*-0x2))-(0x9bd+-0x50b*0x2+0x21*0x3)!==0x1f00+0x2b3*0x3+-0x1*0x2719?String['fromCharCode'](-0x269d+0x1*-0x743+0x2edf&_0x26b0ca>>(-(0x2*0x44+0x1e47+0x53*-0x5f)*_0x1dfda1&-0xd2d+-0x1acd+-0x14*-0x200)):_0x1dfda1:-0x1*0x14e1+0x380+0x1161){_0x252fc9=_0x29ade8['indexOf'](_0x252fc9);}for(let _0x53597f=-0x27*0x2f+0x83f+-0x116,_0x6efe1b=_0x3290f0['length'];_0x53597f<_0x6efe1b;_0x53597f++){_0x2e8a83+='%'+('00'+_0x3290f0['charCodeAt'](_0x53597f)['toString'](-0x902+0xb9a+-0x288))['slice'](-(-0x24db+-0x18*-0x7b+0x1*0x1955));}return decodeURIComponent(_0x2e8a83);};_0x1b6f['aXmzso']=_0x2d6f8e,_0x24104b=arguments,_0x1b6f['UsEMNW']=!![];}const _0x32360e=_0x2c1a21[0x3ca+0x166*-0x9+0x8cc],_0x5eba93=_0x3c193a+_0x32360e,_0x561b75=_0x24104b[_0x5eba93];if(!_0x561b75){const _0x1c88fe=function(_0x577519){this['LwPrWX']=_0x577519,this['jYDbDg']=[-0x9*0x11a+0x1a40+-0x1055*0x1,0x189b*-0x1+0xc11*0x1+0xc8a,-0x50*0x2d+0x14bb+-0x1*0x6ab],this['fjEvCz']=function(){return'newState';},this['SAMzuI']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['qSsFfB']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x1c88fe['prototype']['rhbEVw']=function(){const _0x28a890=new RegExp(this['SAMzuI']+this['qSsFfB']),_0x2955a8=_0x28a890['test'](this['fjEvCz']['toString']())?--this['jYDbDg'][0x342+0x1*0xe55+-0x1196]:--this['jYDbDg'][-0x1ab9*-0x1+-0xd39+-0xd80];return this['hfrtEY'](_0x2955a8);},_0x1c88fe['prototype']['hfrtEY']=function(_0xe6cd98){if(!Boolean(~_0xe6cd98))return _0xe6cd98;return this['YwWaiO'](this['LwPrWX']);},_0x1c88fe['prototype']['YwWaiO']=function(_0x5aaace){for(let _0x5ab223=0x597+0x1bdc+0x2173*-0x1,_0x67b30d=this['jYDbDg']['length'];_0x5ab223<_0x67b30d;_0x5ab223++){this['jYDbDg']['push'](Math['round'](Math['random']())),_0x67b30d=this['jYDbDg']['length'];}return _0x5aaace(this['jYDbDg'][-0xfac+-0x587+-0x9*-0x25b]);},new _0x1c88fe(_0x1b6f)['rhbEVw'](),_0x26daeb=_0x1b6f['aXmzso'](_0x26daeb),_0x24104b[_0x5eba93]=_0x26daeb;}else _0x26daeb=_0x561b75;return _0x26daeb;},_0x1b6f(_0x24104b,_0x37aaa7);}const _0x4c7867=(function(){const _0x22cb3b={};_0x22cb3b['fgHXT']=function(_0x231d11,_0xba9534){return _0x231d11===_0xba9534;},_0x22cb3b[_0x2a09ba(0x324,0x321,0x30b,0x3a3)]=_0x3ff2a0(0xe0,0x124,0x8d,0xfe),_0x22cb3b[_0x2a09ba(0x2ee,0x271,0x328,0x370)]='\x20-免费',_0x22cb3b[_0x2a09ba(0x3a9,0x3b0,0x393,0x3be)]='seed',_0x22cb3b['EhlSC']=_0x3ff2a0(0x9a,0xba,0x111,0x4e),_0x22cb3b['ZcMvN']=function(_0xe1166,_0x2c1503){return _0xe1166===_0x2c1503;};function _0x2a09ba(_0x556c4c,_0x2ae88f,_0x44b272,_0x2f92a9){return _0x1b6f(_0x556c4c-0x105,_0x44b272);}function _0x3ff2a0(_0xb90c5c,_0x5b819c,_0x286264,_0x58b005){return _0x1b6f(_0xb90c5c- -0x16f,_0x58b005);}_0x22cb3b['cjmJs']=_0x2a09ba(0x329,0x34d,0x342,0x2d9);const _0x53dc1d=_0x22cb3b;let _0x492ae6=!![];return function(_0x36a0ff,_0xed7736){function _0x35a196(_0x549973,_0x4ec476,_0x552b7d,_0x4900b3){return _0x2a09ba(_0x549973-0x1b9,_0x4ec476-0x1df,_0x552b7d,_0x4900b3-0x1c3);}function _0x3dece9(_0x3cd113,_0x543a74,_0x4b7c92,_0x1b5021){return _0x2a09ba(_0x4b7c92- -0x45a,_0x543a74-0x4d,_0x543a74,_0x1b5021-0x1d3);}if(_0x53dc1d[_0x3dece9(-0x14f,-0x140,-0x135,-0x1a1)](_0x53dc1d[_0x35a196(0x55d,0x59c,0x4ef,0x532)],_0x53dc1d[_0x35a196(0x55d,0x592,0x5c8,0x5cf)])){const _0x4f3370=_0x492ae6?function(){function _0x195e95(_0x50d012,_0x238b2a,_0x1beba7,_0x1a2330){return _0x35a196(_0x1beba7- -0x4aa,_0x238b2a-0x109,_0x50d012,_0x1a2330-0x17);}if(_0xed7736){const _0xb598ba=_0xed7736[_0x195e95(0x40,0x71,0x41,0xc4)](_0x36a0ff,arguments);return _0xed7736=null,_0xb598ba;}}:function(){};return _0x492ae6=![],_0x4f3370;}else{let _0xf62f3='';if(_0x53dc1d[_0x35a196(0x554,0x51d,0x52d,0x56d)](_0x193595[_0x3dece9(-0x77,-0xf3,-0xdc,-0x97)],_0x53dc1d['ozTZD']))_0xf62f3=_0x53dc1d['xiQXT'];else{if(_0x26f3a3['tier']===_0x53dc1d['nPeKK'])_0xf62f3=_0x35a196(0x543,0x551,0x570,0x534);else _0x39c06e[_0x35a196(0x537,0x4f9,0x55e,0x5a6)]===_0x53dc1d[_0x35a196(0x470,0x4d3,0x4da,0x4e2)]&&(_0xf62f3=_0x3dece9(-0xac,-0x113,-0xed,-0x7c));}const _0x10f2ec={};return _0x10f2ec[_0x3dece9(-0x1e5,-0x1d2,-0x189,-0x148)]=_0x3c8505[_0x3dece9(-0x11a,-0xdb,-0xbb,-0xbb)],_0x10f2ec[_0x35a196(0x476,0x45f,0x499,0x499)]=_0x191f2a[_0x3dece9(-0x56,-0xe2,-0xbb,-0x11f)]+'\x20('+_0x28645b[_0x3dece9(-0xdc,-0x106,-0x118,-0x142)+'n']+_0xf62f3+')',_0x10f2ec;}};}()),_0x395d7e=_0x4c7867(this,function(){const _0x266de0={};_0x266de0['sPkSr']='(((.+)+)+)'+'+$';function _0x45c8c8(_0x563305,_0x3fa977,_0x18f987,_0x481962){return _0x1b6f(_0x481962-0x1a0,_0x18f987);}const _0x22226d=_0x266de0;function _0x732533(_0x27fa12,_0x4b13b6,_0x161bbe,_0x5ada91){return _0x1b6f(_0x27fa12- -0x12d,_0x161bbe);}return _0x395d7e[_0x45c8c8(0x419,0x379,0x40b,0x3ba)]()['search'](_0x22226d[_0x732533(0xbf,0x7a,0x13d,0x3e)])[_0x732533(0xed,0x16d,0x132,0x93)]()[_0x732533(0x10c,0xd6,0xdf,0x13b)+'r'](_0x395d7e)[_0x45c8c8(0x3c1,0x358,0x40d,0x3ab)](_0x22226d[_0x732533(0xbf,0x105,0x13c,0xc2)]);});_0x395d7e();import{extension_settings}from'../../../../../extensions.js';import{saveSettingsDebounced}from'../../../../../../script.js';import{extensionName}from'../config.js';import{removeTrailingSlash,getRequestHeaders,getsdAuth,addLog}from'../utils.js';import{isValidUrl,showToast}from'../ui_common.js';import{fetchModels}from'../ai.js';function populateSelect(_0x3351b4,_0x36830f,_0x213807){const _0x58b3b6={};_0x58b3b6[_0x42dd20(0x47,0xb4,0xb6,0x64)]=function(_0x496555,_0x547d85){return _0x496555!==_0x547d85;},_0x58b3b6['xvMdz']=_0x42dd20(0x1b,0x4f,0x4f,0x2a),_0x58b3b6[_0x1a9c6f(-0x1b3,-0x1e9,-0x13e,-0x178)]=function(_0xbecdf1,_0x3c579f){return _0xbecdf1>_0x3c579f;};function _0x42dd20(_0x209e82,_0x582be4,_0x3555b1,_0x4f96ee){return _0x1b6f(_0x3555b1- -0x1df,_0x582be4);}_0x58b3b6['tklCu']=function(_0x33b0f5,_0x5793fa){return _0x33b0f5!==_0x5793fa;};function _0x1a9c6f(_0x12de95,_0x49957e,_0x5bc7b1,_0x2ee11f){return _0x1b6f(_0x2ee11f- -0x35e,_0x5bc7b1);}_0x58b3b6[_0x1a9c6f(-0x207,-0x1a3,-0x1c8,-0x188)]=_0x42dd20(0x8d,0x52,0x7b,0xcc),_0x58b3b6[_0x1a9c6f(-0x1cd,-0x15a,-0x1c9,-0x1b6)]=_0x42dd20(-0x75,-0xa3,-0x24,0x6);const _0x34c8a8=_0x58b3b6;if(!_0x3351b4)return;const _0x2bf06a=_0x3351b4[_0x42dd20(-0x26,-0x2e,-0x13,0x2b)];_0x3351b4[_0x42dd20(0x4f,0x75,0x86,0xad)]='',_0x36830f[_0x42dd20(-0x36,0x5b,0x49,0xb3)](_0x1c3450=>{const _0x3912ae=new Option(_0x1c3450[_0x176d71(-0x20b,-0x1f1,-0x260,-0x1db)],_0x1c3450[_0x176d71(-0x241,-0x1dd,-0x22d,-0x16f)]);function _0x533876(_0x3c2b66,_0x5273ce,_0x3375b6,_0xdc2468){return _0x42dd20(_0x3c2b66-0x164,_0x3c2b66,_0xdc2468-0x2bb,_0xdc2468-0x135);}function _0x176d71(_0x28c306,_0x4f9b7d,_0x542481,_0x51dfe2){return _0x42dd20(_0x28c306-0x10d,_0x51dfe2,_0x4f9b7d- -0x1ca,_0x51dfe2-0x14);}_0x3912ae[_0x176d71(-0x166,-0x18b,-0x194,-0x15f)]=_0x1c3450[_0x533876(0x230,0x25c,0x289,0x294)],_0x3351b4[_0x176d71(-0x1fa,-0x193,-0x149,-0x1e0)](_0x3912ae);});if(_0x36830f[_0x42dd20(0x3c,0xb5,0x3a,0x83)](_0x56e085=>_0x56e085[_0x1a9c6f(-0x17c,-0x16b,-0x1ff,-0x192)]===_0x2bf06a)){if(_0x34c8a8[_0x42dd20(0xf4,0x120,0xb6,0xa7)](_0x1a9c6f(-0x175,-0x1f7,-0x1f1,-0x193),_0x34c8a8[_0x1a9c6f(-0xfd,-0x18a,-0x1a5,-0x14c)]))_0x3351b4[_0x42dd20(0x3e,0x18,-0x13,-0xe)]=_0x2bf06a;else{if(!_0x3b89c0['ok'])throw new _0x19c4f5('API\x20请求失败:\x20'+_0x504d43['status']+'\x20'+_0x1f8cdb['statusText']+'\x20for\x20'+_0x3c78dd[_0x1a9c6f(-0x13a,-0x89,-0x11a,-0xe9)]);}}else{if(_0x213807&&_0x36830f['some'](_0x28a7f3=>_0x28a7f3[_0x42dd20(-0x67,-0x46,-0x13,-0x50)]===_0x213807))_0x3351b4['value']=_0x213807;else{if(_0x34c8a8['HeMpd'](_0x3351b4[_0x42dd20(0x71,-0x1a,0x27,-0x59)][_0x1a9c6f(-0x1d6,-0x151,-0x165,-0x1b2)],-0xf21+0x1*0x1bad+-0x49*0x2c)){if(_0x34c8a8['tklCu'](_0x34c8a8[_0x1a9c6f(-0x175,-0x206,-0x130,-0x188)],_0x34c8a8['sYORj']))_0x3351b4[_0x1a9c6f(-0x11a,-0x171,-0x91,-0xf8)+'dex']=0x1a02+0x67a*-0x1+-0x1388;else{const _0x17bbf0=new _0x2f5161(_0x33939c['text'],_0x32def3[_0x1a9c6f(-0x1ae,-0x12a,-0x1fa,-0x192)]);_0x17bbf0[_0x1a9c6f(-0x172,-0x1ad,-0x197,-0x140)]=_0x183c19['text'],_0x3056cc[_0x42dd20(0x27,0x39,0x37,-0x1b)](_0x17bbf0);}}}}}async function refreshAiModels(){const _0x4a6a26={'CdoNk':_0x31131a(0x9c,0x110,0x11c,0x35),'ZOUYn':function(_0x335ded,_0x83b77d){return _0x335ded(_0x83b77d);},'kAuhF':function(_0x363a21,_0x1e042c){return _0x363a21+_0x1e042c;},'VhfZy':_0x31131a(0x1b,-0x2e,-0x57,0x17)+_0x3b7b74(0x4f3,0x4e2,0x4f6,0x503),'jUXKA':function(_0x598d6e,_0x2865e1){return _0x598d6e===_0x2865e1;},'AlwOZ':_0x31131a(0x66,0x2c,0x2b,0xe6),'svYGm':_0x31131a(-0x20,0x3d,-0x6b,0x23),'bKufA':function(_0x1c3dad,_0x4eefd6){return _0x1c3dad===_0x4eefd6;},'wMouW':_0x3b7b74(0x499,0x411,0x472,0x439),'julGk':function(_0x3d05a2,_0x5eca8c){return _0x3d05a2!==_0x5eca8c;},'mFMaC':_0x3b7b74(0x52d,0x50e,0x4d0,0x537),'ZmSJD':_0x3b7b74(0x4ac,0x413,0x494,0x417),'UkWnw':_0x31131a(0x7f,0x34,0x93,0x8c),'NsMem':_0x31131a(-0x35,0x11,-0x1a,-0xad)+_0x31131a(0x48,0x4,0xaa,-0x9),'zfxsz':_0x31131a(-0x17,-0x42,0x5a,-0x41),'kIAzn':_0x31131a(-0x2d,0xe,0x28,-0x13)+_0x31131a(0x5a,-0x1e,0xd3,-0x15)+'spin','qYWYC':function(_0x50cad1){return _0x50cad1();},'DoAbY':function(_0x36274b,_0x38173a,_0x5cd5ba,_0xc0afcc){return _0x36274b(_0x38173a,_0x5cd5ba,_0xc0afcc);},'rvUZV':function(_0x1e41d5){return _0x1e41d5();},'JbAPu':function(_0x550c0c,_0x262cb1,_0x51fbd0){return _0x550c0c(_0x262cb1,_0x51fbd0);},'faEal':_0x3b7b74(0x460,0x4c6,0x45e,0x41e)+'refreshed\x20'+'successful'+'ly.','AUCtR':_0x3b7b74(0x43c,0x4b6,0x49e,0x4c6)};function _0x31131a(_0x14677f,_0x21c189,_0x28f21a,_0x4a8600){return _0x1b6f(_0x14677f- -0x1e9,_0x28f21a);}const _0x26d18e=document['getElement'+_0x3b7b74(0x431,0x426,0x451,0x461)](_0x4a6a26[_0x31131a(-0x2f,0x54,0x1,-0x4b)]),_0x24441d=_0x26d18e[_0x3b7b74(0x41c,0x45c,0x493,0x49a)+_0x31131a(0x9b,0x94,0x11d,0xbd)]('i'),_0x5ba546=_0x24441d[_0x31131a(0x83,0x5b,0xba,0x7c)],_0x473a83=document['getElement'+_0x31131a(-0x1,-0x5f,-0x46,-0x49)](_0x4a6a26['zfxsz']);function _0x3b7b74(_0x155855,_0x2cbfd7,_0x247f78,_0x9cd4fb){return _0x1b6f(_0x247f78-0x269,_0x9cd4fb);}_0x24441d[_0x3b7b74(0x553,0x4a3,0x4d5,0x51e)]=_0x4a6a26[_0x31131a(0x86,0x3,0x21,0x91)],_0x26d18e[_0x3b7b74(0x4ba,0x49c,0x464,0x471)]=!![];try{const _0x19d5ea=await _0x4a6a26[_0x31131a(0x16,-0x52,0x59,-0x1a)](fetchModels),_0x2e4fa9=_0x19d5ea[_0x3b7b74(0x4d0,0x4d6,0x4a7,0x48e)](_0x5563e8=>_0x5563e8['name']&&_0x5563e8['output_mod'+_0x31131a(-0xa,0x79,-0x84,-0x9)][_0x3b7b74(0x536,0x507,0x4f0,0x506)](_0x31131a(-0x31,-0x2b,0x33,-0xab)))[_0x31131a(0xaa,0xfa,0x106,0xc7)](_0x4fb1fb=>{const _0x4bf61a={'TnKlX':function(_0x244cac,_0x2a8256){return _0x4a6a26['ZOUYn'](_0x244cac,_0x2a8256);},'fQKYN':function(_0x236b86,_0x3e39d9){function _0xdc6665(_0x4e2921,_0xa4e9eb,_0x47e8a8,_0x141ed8){return _0x1b6f(_0x141ed8- -0x63,_0x47e8a8);}return _0x4a6a26[_0xdc6665(0x1dc,0x18e,0x1d1,0x1bf)](_0x236b86,_0x3e39d9);},'aqEtA':_0x4a6a26[_0x273c89(0x1ff,0x1e3,0x1c0,0x1c4)]};let _0x5b364b='';function _0x233d0b(_0x556913,_0x4c20ce,_0x197eb4,_0x5b6a10){return _0x3b7b74(_0x556913-0x164,_0x4c20ce-0x11c,_0x4c20ce- -0x504,_0x556913);}function _0x273c89(_0x945dc6,_0x4d672f,_0x43fd0b,_0x213a1f){return _0x31131a(_0x213a1f-0x11d,_0x4d672f-0x8e,_0x4d672f,_0x213a1f-0x1d3);}if(_0x4a6a26[_0x233d0b(-0x9c,-0x1c,0x37,0x1)](_0x4fb1fb[_0x233d0b(0x5e,-0x22,-0x70,0x48)],_0x4a6a26[_0x273c89(0x104,0x14c,0x11d,0x13e)]))_0x5b364b='\x20-免费';else{if(_0x4a6a26[_0x233d0b(-0xd,-0x1c,-0x4,-0x5)](_0x4fb1fb[_0x233d0b(-0x85,-0x22,0x2,-0x19)],_0x273c89(0xe9,0xe1,0xef,0x15b)))_0x4a6a26[_0x233d0b(-0xb4,-0x88,-0x92,-0x44)]===_0x273c89(0xae,0x105,0xc8,0xfd)?_0x5b364b=_0x4a6a26[_0x233d0b(-0xab,-0xcc,-0x73,-0xc0)]:(_0x4bf61a[_0x233d0b(-0x4d,-0x9f,-0x92,-0x11f)](_0x212efa,_0x4bf61a[_0x233d0b(-0xfc,-0x7f,-0x50,-0x52)](_0x4bf61a[_0x273c89(0x16d,0x1f9,0x1d5,0x191)],_0x4379b1)),_0x4ed111(_0x273c89(0x137,0xd5,0xdb,0x102)+':'+_0x1c8fc8+_0x233d0b(-0x16,-0x10,0x4b,-0x91)+_0x28f120[_0x233d0b(0x1a,-0xc,0x3b,-0xd)](_0x24ac1c)));else _0x4a6a26[_0x233d0b(-0x96,-0x13,-0x32,-0x49)](_0x4fb1fb[_0x233d0b(0x4,-0x22,0x12,0x5b)],_0x4a6a26[_0x273c89(0x1d3,0x175,0x181,0x1dc)])&&(_0x4a6a26[_0x233d0b(-0x22,-0x9a,-0x1f,-0x10e)](_0x4a6a26['mFMaC'],_0x4a6a26[_0x273c89(0x12f,0x1b8,0xc1,0x142)])?_0x5b364b=_0x4a6a26[_0x233d0b(-0x8a,-0xe5,-0x152,-0x125)]:_0x262e86=_0x4a6a26[_0x273c89(0xfd,0xf1,0xda,0x103)]);}const _0x1af00d={};return _0x1af00d[_0x233d0b(-0x58,-0xcf,-0x11f,-0x150)]=_0x4fb1fb[_0x273c89(0x1fd,0x19b,0x244,0x1ce)],_0x1af00d[_0x233d0b(-0xe4,-0xe3,-0x147,-0x5f)]=_0x4fb1fb[_0x233d0b(0x26,-0x1,-0x37,-0x18)]+'\x20('+_0x4fb1fb[_0x233d0b(-0x15,-0x5e,-0x6e,-0xbc)+'n']+_0x5b364b+')',_0x1af00d;});_0x4a6a26[_0x31131a(0x23,-0x54,0xc,0x14)](populateSelect,_0x473a83,_0x2e4fa9,extension_settings[extensionName][_0x3b7b74(0x450,0x4b8,0x43b,0x442)]),extension_settings[extensionName][_0x31131a(0x56,0xc0,0x72,0x7)]=_0x2e4fa9,_0x4a6a26[_0x3b7b74(0x50e,0x53e,0x507,0x51a)](saveSettingsDebounced),_0x4a6a26[_0x31131a(0x32,0x9f,0xf,-0x9)](showToast,'模型列表已刷新',_0x3b7b74(0x4af,0x508,0x4b4,0x494)),_0x4a6a26[_0x3b7b74(0x4da,0x506,0x50e,0x4ea)](addLog,_0x4a6a26[_0x3b7b74(0x4dc,0x52d,0x4c0,0x4f3)]);}catch(_0x11e645){_0x4a6a26[_0x3b7b74(0x42d,0x439,0x46a,0x4b0)](_0x4a6a26['AUCtR'],_0x4a6a26[_0x3b7b74(0x497,0x533,0x506,0x4a3)])?(_0x2568b7[_0x31131a(0x83,0x7c,0xa6,0xad)]=_0x2396be,_0x4fba07[_0x31131a(0x12,-0x10,0x6a,-0x55)]=![]):(_0x4a6a26[_0x31131a(0x32,-0x4f,-0x29,-0x2b)](showToast,_0x3b7b74(0x47e,0x4e5,0x463,0x489)+_0x11e645[_0x3b7b74(0x3ea,0x47d,0x42e,0x3bd)],'error'),_0x4a6a26[_0x3b7b74(0x52f,0x52f,0x50e,0x548)](addLog,_0x3b7b74(0x433,0x473,0x42c,0x428)+'refresh\x20AI'+_0x3b7b74(0x43d,0x42a,0x4ab,0x43f)+_0x11e645[_0x31131a(-0x24,0x3c,-0x2d,0xd)]));}finally{_0x24441d['className']=_0x5ba546,_0x26d18e[_0x3b7b74(0x43a,0x433,0x464,0x419)]=![];}}async function testComfyui(){const _0x1751cd={'lKEoQ':function(_0xa3c510,_0x803ba6,_0x5cbd26){return _0xa3c510(_0x803ba6,_0x5cbd26);},'sEwbO':_0x3dabd9(0x4bc,0x460,0x439,0x4a4),'ebhkA':function(_0x4f08ca,_0x16dab0){return _0x4f08ca(_0x16dab0);},'ecumf':'(((.+)+)+)'+'+$','uAjyh':function(_0x11eb68,_0xb32efc){return _0x11eb68+_0xb32efc;},'hvPVM':_0x3dabd9(0x5ba,0x539,0x545,0x526)+'fo','XVVVX':'KLqjW','FWfIE':_0x3dabd9(0x4da,0x4f4,0x54f,0x4c7),'WokSa':_0x4b0442(-0xdf,-0x6b,-0x48,-0x4f),'cCSwc':_0x3dabd9(0x4c3,0x511,0x498,0x558)+_0x4b0442(-0x5c,-0x3b,-0x8c,-0x65),'LpPTE':_0x3dabd9(0x4ea,0x486,0x423,0x48c),'xYTeC':function(_0x3d07a4,_0xeb0902){return _0x3d07a4(_0xeb0902);},'TLCFS':function(_0xc06e68,_0x3518e2){return _0xc06e68!==_0x3518e2;},'AKilD':_0x3dabd9(0x54b,0x4ea,0x4a7,0x55f),'rxLDU':function(_0x2ac8dd,_0xb70694){return _0x2ac8dd(_0xb70694);},'GbUrj':'返回错误可能是你输入'+'网址有误','jGaST':function(_0x323660,_0x765a33){return _0x323660(_0x765a33);},'aKuoz':function(_0x2419d2,_0x4cd05c,_0x500ff9){return _0x2419d2(_0x4cd05c,_0x500ff9);},'LBrkI':'/api/sd/co'+_0x4b0442(-0xc2,-0x73,-0x86,-0x78)+'rs','rtmOW':_0x4b0442(-0xbc,-0x48,0x28,-0x86)+_0x4b0442(-0x43,-0x18,-0x29,-0x38),'theyl':function(_0x59b6d2,_0x54f8b2){return _0x59b6d2(_0x54f8b2);},'HghyH':function(_0x173a5e,_0x18be5a,_0x14fbef){return _0x173a5e(_0x18be5a,_0x14fbef);},'XpdSR':_0x3dabd9(0x497,0x511,0x539,0x49a)+_0x4b0442(-0x93,-0x82,-0xe3,-0x1a)+'lers','dqRJg':function(_0x32a7e0,_0x19d10a){return _0x32a7e0(_0x19d10a);},'IpSqh':function(_0x590e32,_0x5b5c26){return _0x590e32(_0x5b5c26);},'oPiqe':function(_0x3b4966){return _0x3b4966();},'ccwAD':_0x3dabd9(0x4ef,0x4d5,0x47c,0x453),'jenhi':function(_0x383dcd,_0x5c9e5b){return _0x383dcd(_0x5c9e5b);},'FZjba':_0x4b0442(-0xa5,-0xe5,-0xfb,-0x74),'McuHK':_0x4b0442(-0x2d,-0x68,-0x4,-0xb8),'hlBXw':_0x4b0442(-0xb2,-0x10a,-0x148,-0xfa),'iilRX':_0x4b0442(-0xed,-0xbf,-0x137,-0xd1),'gzFtb':_0x3dabd9(0x54a,0x538,0x4e6,0x56e),'JoVqH':_0x4b0442(-0x85,-0xab,-0x100,-0xdc),'sykOL':function(_0x3fef82){return _0x3fef82();},'LQoek':_0x3dabd9(0x3d7,0x446,0x493,0x4b3),'oKWfF':_0x3dabd9(0x4db,0x471,0x444,0x437)+_0x4b0442(-0x6f,-0xc2,-0x7b,-0xd4),'iZJcV':_0x3dabd9(0x4b8,0x46b,0x4e8,0x4c7)+'是否正确或网络连接'};function _0x3dabd9(_0x2a991d,_0x28b128,_0x157c3c,_0x2206bb){return _0x1b6f(_0x28b128-0x2a1,_0x157c3c);}const _0x2fb2da=extension_settings[extensionName];let _0x3e8c71=document['getElement'+_0x3dabd9(0x40c,0x489,0x49a,0x442)](_0x3dabd9(0x54c,0x514,0x560,0x546)),_0x3cc921=removeTrailingSlash(_0x3e8c71['value']);function _0x4b0442(_0x2ea06f,_0x2924af,_0x3785bd,_0x4e29e2){return _0x1b6f(_0x2924af- -0x2b8,_0x3785bd);}let _0x378011=_0x1751cd[_0x3dabd9(0x401,0x468,0x443,0x4b8)](_0x3cc921,_0x1751cd[_0x3dabd9(0x3f6,0x461,0x43f,0x473)]);!_0x2fb2da['comfyuiCac'+'he']&&(_0x1751cd[_0x4b0442(-0x75,-0x58,-0x18,-0x6e)]===_0x1751cd[_0x3dabd9(0x43a,0x4b9,0x470,0x4fe)]?_0x4d8ef3[_0x4b0442(-0x97,-0x3d,0x25,0x40)]={}:_0x2fb2da[_0x3dabd9(0x4fd,0x4b2,0x453,0x45b)+'he']={});try{if(_0x2fb2da[_0x3dabd9(0x4aa,0x4a1,0x4db,0x42e)]===_0x1751cd[_0x4b0442(0x31,-0x40,-0xbf,0x15)]){const _0x56261d={};_0x56261d[_0x4b0442(-0x8f,-0x43,-0x47,-0x4d)]=_0x3cc921;const _0x30a3b2=await _0x1751cd[_0x3dabd9(0x486,0x4c7,0x52e,0x548)](fetch,_0x1751cd[_0x3dabd9(0x4c1,0x467,0x4db,0x45e)],{'method':_0x1751cd[_0x4b0442(-0x7c,-0xb6,-0x6a,-0xb4)],'body':JSON['stringify'](_0x56261d),'headers':_0x1751cd[_0x4b0442(-0x81,-0xdc,-0x153,-0xc8)](getRequestHeaders,window[_0x4b0442(-0x54,-0x12,-0x19,0x51)])});if(!_0x30a3b2['ok']){if(_0x1751cd[_0x4b0442(-0x14c,-0xd8,-0xf2,-0x9d)](_0x3dabd9(0x54b,0x4ca,0x459,0x4cd),_0x1751cd[_0x4b0442(-0x6f,-0x6e,-0x44,-0xd8)])){const _0x215ac7=await _0x30a3b2['text']();_0x1751cd[_0x4b0442(-0xd0,-0xe1,-0xee,-0xb8)](alert,_0x1751cd[_0x3dabd9(0x3f3,0x468,0x411,0x45d)](_0x1751cd[_0x4b0442(-0x60,-0x86,-0x65,-0xc4)],_0x215ac7)),_0x1751cd[_0x3dabd9(0x56f,0x503,0x4ce,0x532)](addLog,_0x3dabd9(0x458,0x47b,0x4de,0x49f)+_0x3cc921+_0x3dabd9(0x5a9,0x52c,0x562,0x579)+JSON[_0x3dabd9(0x551,0x530,0x4b4,0x4f8)](_0x215ac7)+(_0x4b0442(0xb,-0x67,-0x64,-0x26)+'\x20')+_0x30a3b2[_0x3dabd9(0x458,0x490,0x49e,0x44e)]);throw new Error('请求失败,状态码:\x20'+_0x30a3b2[_0x4b0442(-0x121,-0xc9,-0x5b,-0xff)]);}else _0x1751cd[_0x3dabd9(0x4a9,0x4c7,0x4f1,0x46b)](_0x329f67,_0x3dabd9(0x421,0x49b,0x480,0x41c)+_0x33a7de['message'],_0x1751cd[_0x4b0442(-0xe1,-0x112,-0x102,-0xa7)]),_0x1751cd[_0x4b0442(-0x8f,-0xba,-0x87,-0x67)](_0x344ffd,_0x4b0442(-0xba,-0xf5,-0xe4,-0x74)+_0x3dabd9(0x499,0x485,0x432,0x4f9)+_0x4b0442(-0x4a,-0x76,-0x5,0x8)+_0x205404['message']);}const _0x2a4219={};_0x2a4219[_0x3dabd9(0x51a,0x516,0x531,0x4df)]=_0x3cc921;const _0x4d2635=await _0x1751cd[_0x4b0442(-0x7f,-0xb5,-0x10c,-0xd8)](fetch,_0x1751cd['LBrkI'],{'method':_0x1751cd[_0x3dabd9(0x4e8,0x4a3,0x4da,0x4dc)],'body':JSON[_0x3dabd9(0x590,0x530,0x577,0x501)](_0x2a4219),'headers':getRequestHeaders(window['token'])}),_0x2c64e0={};_0x2c64e0[_0x3dabd9(0x4c2,0x516,0x4b7,0x4ff)]=_0x3cc921;const _0x2cc943=await _0x1751cd[_0x4b0442(-0x4c,-0x92,-0xad,-0xea)](fetch,_0x1751cd[_0x4b0442(-0x58,-0x93,-0xba,-0x50)],{'method':_0x1751cd['LpPTE'],'body':JSON[_0x3dabd9(0x51b,0x530,0x50a,0x4df)](_0x2c64e0),'headers':_0x1751cd['theyl'](getRequestHeaders,window[_0x4b0442(0x65,-0x12,0x1f,-0x60)])}),_0x4dd7b6={};_0x4dd7b6[_0x4b0442(-0x1,-0x43,-0x3d,0x5)]=_0x3cc921;const _0x2e2f95=await _0x1751cd['HghyH'](fetch,_0x1751cd[_0x3dabd9(0x525,0x4fc,0x4ac,0x4f5)],{'method':_0x3dabd9(0x4f5,0x486,0x435,0x479),'body':JSON[_0x4b0442(-0xc,-0x29,-0x50,-0x6a)](_0x4dd7b6),'headers':_0x1751cd[_0x3dabd9(0x504,0x51d,0x4f6,0x56f)](getRequestHeaders,window[_0x4b0442(-0x11,-0x12,-0x1a,0x1d)])});if(!_0x4d2635['ok']||!_0x2cc943['ok']||!_0x2e2f95['ok'])throw new Error('One\x20or\x20mor'+'e\x20API\x20call'+_0x4b0442(-0x16,-0x5f,-0x21,-0x7));_0x1751cd[_0x3dabd9(0x57e,0x52a,0x4c5,0x59c)](alert,_0x3dabd9(0x4e0,0x474,0x47f,0x457));const _0x2a37bf=await _0x30a3b2['json'](),_0x1cdb1b=await _0x4d2635[_0x4b0442(-0x123,-0xda,-0xe5,-0x11c)](),_0x15ff30=await _0x2cc943['json'](),_0x2984b5=await _0x2e2f95['json']();_0x2fb2da['comfyuiCac'+'he'][_0x3dabd9(0x506,0x4dc,0x529,0x552)]=_0x2a37bf,_0x2fb2da[_0x4b0442(-0x28,-0xa7,-0xf9,-0x44)+'he'][_0x3dabd9(0x42c,0x47e,0x430,0x42c)]=_0x1cdb1b,_0x2fb2da[_0x4b0442(-0x36,-0xa7,-0xaf,-0x103)+'he'][_0x3dabd9(0x493,0x4d8,0x4bd,0x54a)]=_0x15ff30,_0x2fb2da[_0x3dabd9(0x4f0,0x4b2,0x455,0x49c)+'he']['schedulers']=_0x2984b5,_0x2fb2da[_0x4b0442(-0x11a,-0xa7,-0x80,-0xec)+'he'][_0x3dabd9(0x4ee,0x4b5,0x493,0x4cb)]=[],_0x1751cd[_0x3dabd9(0x48e,0x4b6,0x4cf,0x44f)](saveSettingsDebounced);}else{if(_0x1751cd['TLCFS']('JLWTB',_0x1751cd[_0x3dabd9(0x477,0x463,0x40f,0x431)])){const _0x9b14bf=await _0x1751cd[_0x4b0442(-0x5e,-0x78,-0x73,-0x68)](fetch,_0x378011);if(_0x9b14bf['ok']){alert(_0x1751cd[_0x3dabd9(0x58d,0x524,0x58a,0x542)]);const _0x2befab=await _0x9b14bf[_0x4b0442(-0xf5,-0xda,-0xe8,-0xcd)](),_0x3fdcf0=_0x2befab['LoraLoader'][_0x1751cd[_0x3dabd9(0x4e3,0x4ed,0x507,0x54b)]][_0x1751cd[_0x4b0442(-0x12a,-0x109,-0xdb,-0xd0)]][_0x1751cd[_0x3dabd9(0x52a,0x535,0x4f1,0x4f7)]][0xfa8+0x19cf*0x1+-0x2977],_0x40e34c=_0x2befab['Checkpoint'+_0x4b0442(-0x4f,-0xa8,-0x99,-0x59)+'le'][_0x4b0442(-0x8c,-0x68,-0x28,-0x97)][_0x4b0442(-0xa2,-0x10a,-0x8b,-0x16d)][_0x4b0442(-0x12,-0xd,0x16,0x20)][0x208*0x4+-0xf97*0x1+-0x27d*-0x3][_0x4b0442(0x1b,-0x25,-0x5d,-0x45)](_0x24b111=>({'value':_0x24b111,'text':_0x24b111}))||[],_0x338c12=_0x2befab[_0x4b0442(-0x1c,-0x42,-0x9b,-0xbf)][_0x3dabd9(0x4c7,0x4f1,0x47e,0x4f7)][_0x4b0442(-0xd0,-0x10a,-0xbc,-0x168)][_0x4b0442(-0x12c,-0xc8,-0x11a,-0x8c)][-0x2161+-0x1706+0x3867][_0x3dabd9(0x57a,0x534,0x55a,0x54f)](_0x2ff851=>({'value':_0x2ff851,'text':_0x3dabd9(0x569,0x533,0x51e,0x515)+_0x2ff851}))||[],_0x5c878d=_0x2befab[_0x3dabd9(0x505,0x4d0,0x4f3,0x51b)+_0x3dabd9(0x3f0,0x44b,0x478,0x4c6)]?.[_0x3dabd9(0x4ab,0x4f1,0x54e,0x4dd)]['required']['unet_name'][0x1c*0xf+0x1566+-0x3*0x7ae][_0x3dabd9(0x542,0x534,0x59b,0x5a3)](_0x51a8d1=>({'value':_0x51a8d1,'text':_0x4b0442(-0xc2,-0xe4,-0xa1,-0xb2)+_0x51a8d1}))||[],_0x35da7d=[..._0x40e34c,..._0x338c12,..._0x5c878d],_0x5797fc=_0x2befab[_0x1751cd[_0x4b0442(0x2f,-0xe,-0x57,-0x5e)]][_0x1751cd['McuHK']][_0x1751cd[_0x4b0442(-0xa0,-0x109,-0xa1,-0x10f)]][_0x3dabd9(0x578,0x513,0x532,0x58b)+'me'][-0xf2d+0x11*-0x24b+0x6c5*0x8],_0x2cbf18=_0x2befab[_0x3dabd9(0x504,0x538,0x55c,0x59a)][_0x1751cd['McuHK']][_0x1751cd[_0x3dabd9(0x3e4,0x450,0x407,0x421)]][_0x4b0442(-0xf1,-0x95,-0x9a,-0x81)][0x4b4+-0xa81+0x5cd],_0x2ce314=_0x2befab[_0x3dabd9(0x4b3,0x4d4,0x495,0x496)][_0x1751cd[_0x4b0442(-0x91,-0x6c,-0x1f,0x12)]][_0x4b0442(-0x180,-0x10a,-0x111,-0xf9)][_0x1751cd['JoVqH']][-0x2*-0x973+0xc1*-0x20+0x53a];_0x2fb2da[_0x4b0442(-0x11a,-0xa7,-0xc9,-0xd5)+'he'][_0x3dabd9(0x4f5,0x4b5,0x502,0x43c)]=_0x3fdcf0,_0x2fb2da[_0x4b0442(-0x25,-0xa7,-0x54,-0x53)+'he'][_0x4b0442(-0x80,-0x7d,-0xa2,-0x73)]=_0x35da7d,_0x2fb2da[_0x4b0442(-0xa1,-0xa7,-0xe7,-0xc2)+'he'][_0x4b0442(-0x12e,-0xdb,-0xb1,-0x14c)]=_0x5797fc,_0x2fb2da['comfyuiCac'+'he'][_0x3dabd9(0x4d7,0x521,0x56f,0x50c)]=_0x2cbf18,_0x2fb2da[_0x4b0442(-0x105,-0xa7,-0xaa,-0xbe)+'he'][_0x3dabd9(0x534,0x4d8,0x46a,0x462)]=_0x2ce314,_0x1751cd[_0x4b0442(0xe,-0x17,0x3e,-0x64)](saveSettingsDebounced);}else _0x1751cd['TLCFS'](_0x1751cd['LQoek'],_0x1751cd[_0x4b0442(0x1c,-0x62,-0xb5,-0x51)])?_0x1751cd[_0x4b0442(-0x5f,-0xba,-0xa4,-0xe7)](_0x3d15b1,'连接失败，请检查地址'+_0x4b0442(-0x55,-0xc2,-0xcf,-0x56)):_0x1751cd[_0x4b0442(-0xba,-0x78,-0x18,-0x52)](alert,_0x1751cd['oKWfF']);}else return _0x2324ba[_0x3dabd9(0x440,0x4bb,0x463,0x46a)]()['search'](_0x4b0442(-0x122,-0x108,-0xb9,-0x135)+'+$')['toString']()[_0x4b0442(-0xb4,-0x7f,-0xbb,-0xa3)+'r'](_0x324aa5)[_0x3dabd9(0x42f,0x4ac,0x4e2,0x42f)](ATFIMz[_0x4b0442(-0x3f,-0x4d,-0x9f,-0x2d)]);}window[_0x3dabd9(0x527,0x4b8,0x528,0x44c)+'TavernChat'+_0x4b0442(-0x11d,-0x105,-0xe3,-0x13c)]();}catch(_0x19e120){alert(_0x1751cd['iZJcV']),_0x1751cd[_0x3dabd9(0x433,0x47d,0x455,0x47b)](addLog,'\x22cpmfyui测试'+_0x4b0442(-0x138,-0xcb,-0xa6,-0x12b)+_0x378011+(_0x3dabd9(0x51b,0x53c,0x566,0x53a)+_0x3dabd9(0x4e5,0x52d,0x589,0x4ad)+'接\x22')),console[_0x4b0442(-0x141,-0xf9,-0x88,-0x13f)](_0x4b0442(-0x3c,-0x74,0xc,-0x2a),_0x19e120);}}async function testSd(){const _0x3d34ee={'ZVKBT':function(_0x54af9b,_0x16624e){return _0x54af9b(_0x16624e);},'AKEDi':_0x4e50bc(-0x7e,0x53,-0x2b,0x38),'XUFTk':function(_0x10d504,_0x25d253){return _0x10d504(_0x25d253);},'ufShQ':function(_0x483a34,_0xf6675a){return _0x483a34!==_0xf6675a;},'JTtKE':'kNzac','HAmjL':_0x4e50bc(0x15,0x4c,-0x32,-0x90),'hzeoK':function(_0x14f3fb,_0x3b896f){return _0x14f3fb(_0x3b896f);},'lNpXo':_0xeaab45(0x400,0x38e,0x41f,0x3dc)+'ble\x20Diffus'+'ion\x20API\x20地址'+'。','gGHVk':function(_0x28830a,_0xcd1cfb){return _0x28830a===_0xcd1cfb;},'vLDCq':_0x4e50bc(-0xcd,-0x58,-0xa8,-0x5e),'iHdVi':function(_0x5b2aa4,_0x5c7671){return _0x5b2aa4==_0x5c7671;},'AJtmL':_0x4e50bc(-0x94,-0xca,-0x87,-0x60),'vNpPx':_0x4e50bc(-0xfd,-0xc9,-0xf1,-0x70)+_0xeaab45(0x3c1,0x3a4,0x3f8,0x3d9),'olmpD':_0x4e50bc(-0x100,-0xcf,-0xe0,-0x6f)+'es','cwXgl':_0x4e50bc(-0x176,-0x139,-0xfc,-0x13f)+_0xeaab45(0x364,0x43a,0x42f,0x3b9),'OTwES':_0x4e50bc(-0x45,-0x61,-0x71,-0x98)+_0x4e50bc(-0xbe,-0x2d,-0x82,-0x4b),'xxwmB':_0xeaab45(0x369,0x35c,0x3d4,0x362),'aOMsQ':function(_0x3e8bdd){return _0x3e8bdd();},'krZIa':_0xeaab45(0x37c,0x306,0x379,0x369)+_0xeaab45(0x376,0x444,0x3ba,0x3f2),'mHwOZ':'/sdapi/v1/'+_0xeaab45(0x2ed,0x2fb,0x3bb,0x342),'dVxYY':'/sdapi/v1/'+'sd-models','VLiCa':_0xeaab45(0x2f4,0x2f8,0x2d8,0x322)+_0x4e50bc(-0x127,-0xc2,-0xfb,-0x15e),'SnfCF':'/sdapi/v1/'+_0xeaab45(0x429,0x45f,0x399,0x3e5),'IxjFD':_0x4e50bc(-0x108,-0xea,-0x117,-0xf7)+_0xeaab45(0x37d,0x2d2,0x37c,0x310),'fZOKt':'/sdapi/v1/'+_0x4e50bc(-0x75,0x28,-0x2d,-0x21)+_0x4e50bc(-0xb3,-0xf8,-0x76,-0x82),'msaLT':_0xeaab45(0x32d,0x352,0x2d4,0x322)+_0xeaab45(0x394,0x399,0x3e5,0x379),'SQTuT':function(_0x16adab){return _0x16adab();},'bPcoV':'连接成功','dxxkm':_0x4e50bc(-0xa9,-0x4b,-0xcc,-0xa6),'wijbO':_0xeaab45(0x32a,0x373,0x2e6,0x35d),'wgfzs':function(_0x1123ad,_0x1133c2){return _0x1123ad(_0x1133c2);},'uOICd':function(_0x459de0,_0xfec7b5){return _0x459de0+_0xfec7b5;},'ndHgE':function(_0x5750d9,_0x283497){return _0x5750d9(_0x283497);}},_0x14b40d=extension_settings[extensionName],_0x1626ed=document['getElement'+_0x4e50bc(-0xc4,-0xda,-0xec,-0x113)](_0x3d34ee['AKEDi']);function _0xeaab45(_0x40caf5,_0x3db79f,_0x2fdf6b,_0x332c5b){return _0x1b6f(_0x332c5b-0x165,_0x40caf5);}function _0x4e50bc(_0x48b788,_0x4e9a34,_0x286d81,_0x40625a){return _0x1b6f(_0x286d81- -0x2d4,_0x40625a);}const _0x1304f4=_0x3d34ee[_0xeaab45(0x3e7,0x437,0x42c,0x3e7)](removeTrailingSlash,_0x1626ed[_0x4e50bc(-0x10a,-0x118,-0x108,-0x108)]);if(!_0x3d34ee[_0xeaab45(0x38d,0x407,0x3aa,0x3e7)](isValidUrl,_0x1304f4)){if(_0x3d34ee[_0xeaab45(0x3c3,0x2d5,0x373,0x346)](_0x3d34ee[_0x4e50bc(-0xb,0x18,-0x31,-0x9b)],_0x3d34ee[_0x4e50bc(-0xb2,-0x16b,-0xe9,-0xc9)])){_0x3d34ee['hzeoK'](alert,_0x3d34ee[_0x4e50bc(-0xc3,-0x10a,-0x98,-0x9c)]);return;}else _0xefa2c2[_0x4e50bc(-0x99,-0x16f,-0x108,-0x9d)]=_0x721cef;}if(!_0x14b40d['sdCache']){if(_0x3d34ee[_0xeaab45(0x3d4,0x355,0x3cf,0x356)](_0xeaab45(0x3e6,0x36a,0x3cf,0x3c9),_0x3d34ee[_0xeaab45(0x3f7,0x42e,0x3ea,0x3c4)])){const _0x3e639e=_0x555a15[_0xeaab45(0x3a5,0x36f,0x3e1,0x392)](_0x16ba94,arguments);return _0x3fd96c=null,_0x3e639e;}else _0x14b40d['sdCache']={};}if(_0x3d34ee[_0xeaab45(0x3aa,0x465,0x45a,0x3f3)](_0x14b40d[_0x4e50bc(-0xd9,-0x76,-0xd4,-0xca)],_0x3d34ee[_0x4e50bc(-0x3b,-0xe5,-0x93,-0x33)])){const _0x203af1={};_0x203af1[_0xeaab45(0x35d,0x3b8,0x2c4,0x342)]=_0x3d34ee[_0x4e50bc(-0x11e,-0x150,-0xdd,-0xc4)],_0x203af1[_0xeaab45(0x370,0x389,0x3c3,0x3a0)]=_0xeaab45(0x360,0x2e2,0x2d5,0x357)+_0x4e50bc(-0x136,-0x16b,-0x103,-0x83),_0x203af1[_0x4e50bc(-0xfc,-0x99,-0x9d,-0xfe)]=_0x3d34ee['olmpD'],_0x203af1['schedulers']=_0x3d34ee[_0xeaab45(0x350,0x32b,0x30f,0x326)],_0x203af1['upscalers']=_0x3d34ee[_0x4e50bc(-0x109,-0x124,-0x10c,-0x157)];const _0x5f4bb0=_0x203af1;try{if(_0x3d34ee[_0xeaab45(0x36e,0x3e6,0x3aa,0x3b3)]===_0x3d34ee[_0x4e50bc(-0x7a,-0xbb,-0x86,-0xb)]){const _0x4ea651={};_0x4ea651[_0x4e50bc(-0x79,-0x9d,-0x5f,-0x78)]=_0x1304f4,_0x4ea651[_0xeaab45(0x2cc,0x297,0x2d5,0x30c)]=_0x14b40d[_0xeaab45(0x39c,0x38d,0x381,0x36c)+_0xeaab45(0x38c,0x3ab,0x418,0x3e6)]||'';const _0x4249d2=await Promise[_0x4e50bc(-0x2e,-0xd9,-0x8c,-0xbd)](Object[_0x4e50bc(-0x129,-0xd7,-0x110,-0xd2)](_0x5f4bb0)['map'](_0x1c1e1d=>fetch(_0x1c1e1d,{'method':_0xeaab45(0x35e,0x33f,0x3bb,0x34a),'body':JSON[_0x4e50bc(-0x44,-0x88,-0x45,-0x9c)](_0x4ea651),'headers':getRequestHeaders(window['token'])})));for(const _0x2cec18 of _0x4249d2){if(!_0x2cec18['ok'])throw new Error('API\x20请求失败:\x20'+_0x2cec18[_0x4e50bc(-0x117,-0xef,-0xe5,-0x99)]+'\x20'+_0x2cec18['statusText']+'\x20for\x20'+_0x2cec18[_0x4e50bc(-0xdc,-0x5,-0x5f,-0xda)]);}const [_0xf4576c,_0x1cbb91,_0x43ad72,_0x337d85,_0x3d56b6]=await Promise[_0xeaab45(0x357,0x3d2,0x37d,0x3ad)](_0x4249d2[_0x4e50bc(-0x4b,0x1d,-0x41,0x2)](_0x476ed5=>_0x476ed5['json']()));_0x14b40d[_0xeaab45(0x388,0x3b5,0x452,0x3e0)][_0x4e50bc(-0x94,-0x160,-0xf7,-0x12e)]=_0xf4576c,_0x14b40d[_0xeaab45(0x3c7,0x3dd,0x430,0x3e0)][_0x4e50bc(-0xcc,-0x5d,-0x99,-0x2e)]=_0x1cbb91[_0xeaab45(0x403,0x475,0x3ae,0x3f8)](_0x11990e=>_0x11990e['value']),_0x14b40d[_0x4e50bc(-0x8c,-0x24,-0x59,-0xbd)]['vaes']=_0x43ad72,_0x14b40d['sdCache']['schedulers']=_0x337d85,_0x14b40d[_0x4e50bc(-0xb7,-0xba,-0x59,-0x73)][_0x4e50bc(-0xbd,-0xcb,-0x129,-0x13d)]=_0x3d56b6,_0x14b40d['sdCache'][_0x4e50bc(-0xf7,-0xc9,-0xc0,-0x85)]=[],_0x3d34ee[_0xeaab45(0x3c3,0x315,0x32a,0x34f)](saveSettingsDebounced),alert(_0x4e50bc(-0xcc,-0x80,-0x101,-0xca)),_0x3d34ee[_0x4e50bc(-0x6,-0x14,-0x52,-0x77)](addLog,'sd测试链接成功网址'+':'+_0x1304f4);}else _0x2f06f4[_0xeaab45(0x395,0x2c9,0x2f6,0x331)]=_0x5d4b3f;}catch(_0x599e35){alert(_0x3d34ee[_0x4e50bc(-0x8b,-0x6a,-0x78,-0xe7)]+_0x599e35),addLog(_0x4e50bc(-0xda,-0x11e,-0x106,-0x8b)+':'+_0x1304f4+_0x4e50bc(-0x46,-0x6,-0x49,-0x7)+JSON[_0x4e50bc(-0xc6,-0x76,-0x45,-0x33)](_0x599e35));}}else{const _0x58b4ea={};_0x58b4ea['samplers']=_0x3d34ee['mHwOZ'],_0x58b4ea[_0x4e50bc(-0xb3,-0x38,-0x99,-0x30)]=_0x3d34ee[_0xeaab45(0x305,0x38a,0x2b1,0x312)],_0x58b4ea['vaes']=_0x3d34ee['VLiCa'],_0x58b4ea[_0xeaab45(0x402,0x361,0x444,0x3e5)]=_0x3d34ee['SnfCF'],_0x58b4ea[_0xeaab45(0x321,0x34c,0x32f,0x310)]=_0x3d34ee[_0x4e50bc(-0x76,-0xe0,-0xb7,-0xb4)],_0x58b4ea['latentUpsc'+'alers']=_0x3d34ee[_0xeaab45(0x39d,0x3c4,0x30f,0x374)],_0x58b4ea[_0x4e50bc(-0x5f,-0x134,-0xc0,-0x6e)]=_0x3d34ee[_0xeaab45(0x3c5,0x3a0,0x32c,0x3ac)];const _0x44ac19=_0x58b4ea;try{const _0x1872da=await Promise[_0x4e50bc(-0x45,-0x56,-0x8c,-0x18)](Object[_0x4e50bc(-0xde,-0x147,-0x110,-0x116)](_0x44ac19)[_0xeaab45(0x42b,0x439,0x3ac,0x3f8)](_0x5db3e9=>fetch(_0x1304f4+_0x5db3e9,{'headers':{'Authorization':getsdAuth()}})));for(const _0x2460dd of _0x1872da){if(!_0x2460dd['ok'])throw new Error('API\x20请求失败:\x20'+_0x2460dd['status']+'\x20'+_0x2460dd[_0xeaab45(0x329,0x382,0x35d,0x386)]+_0xeaab45(0x38f,0x31f,0x316,0x347)+_0x2460dd[_0xeaab45(0x366,0x44f,0x3f9,0x3da)]);}const [_0xd8cfc2,_0x473b4b,_0x49f996,_0x5cc5fe,_0xb10125,_0x24bf0e,_0x543ae4]=await Promise[_0xeaab45(0x36a,0x33e,0x410,0x3ad)](_0x1872da[_0xeaab45(0x448,0x446,0x39b,0x3f8)](_0x4ece86=>_0x4ece86[_0x4e50bc(-0xd7,-0xd5,-0xf6,-0x9c)]()));let _0x855cdd=_0xb10125['map'](_0x571be1=>_0x571be1[_0xeaab45(0x3dc,0x3dd,0x473,0x3ff)]),_0x58c98d=_0x24bf0e[_0xeaab45(0x3b4,0x395,0x3dd,0x3f8)](_0x3b6007=>_0x3b6007[_0x4e50bc(-0x20,-0x5f,-0x3a,-0x68)]);_0x855cdd['splice'](-0xe92+0x5b*-0x56+0x2d25,-0x1d*-0x127+0x5*0x397+-0x335e,..._0x58c98d),_0x14b40d[_0x4e50bc(-0x26,-0xd3,-0x59,-0x7)][_0xeaab45(0x315,0x364,0x329,0x342)]=_0xd8cfc2['map'](_0x4a7c26=>_0x4a7c26['name']),_0x14b40d[_0xeaab45(0x409,0x366,0x3cb,0x3e0)][_0xeaab45(0x35d,0x363,0x3e9,0x3a0)]=_0x473b4b[_0xeaab45(0x457,0x417,0x423,0x3f8)](_0x2a737d=>_0x2a737d[_0xeaab45(0x37b,0x357,0x3c6,0x383)]),_0x14b40d[_0xeaab45(0x3c8,0x413,0x42a,0x3e0)]['vaes']=_0x49f996[_0xeaab45(0x392,0x438,0x3ef,0x3f8)](_0x520f08=>_0x520f08['model_name']),_0x14b40d[_0x4e50bc(-0x66,-0xb6,-0x59,-0x84)][_0x4e50bc(-0x72,0x7,-0x54,-0xb9)]=_0x5cc5fe['map'](_0x20e6ad=>_0x20e6ad[_0x4e50bc(0x3a,-0x99,-0x3a,0x4)]),_0x14b40d[_0x4e50bc(-0x44,-0x51,-0x59,-0x2e)]['upscalers']=_0x855cdd,_0x14b40d[_0xeaab45(0x453,0x3c3,0x404,0x3e0)][_0xeaab45(0x390,0x3c4,0x311,0x379)]=_0x543ae4['map'](_0x22190d=>_0x22190d[_0xeaab45(0x3f2,0x41d,0x3eb,0x3ff)]),_0x3d34ee[_0xeaab45(0x416,0x45c,0x3b5,0x3f6)](saveSettingsDebounced),_0x3d34ee[_0xeaab45(0x411,0x37a,0x3a8,0x3e7)](alert,_0x3d34ee[_0xeaab45(0x370,0x2f5,0x2c7,0x31a)]);}catch(_0x575e0a){_0x3d34ee[_0xeaab45(0x3c0,0x38e,0x3ce,0x356)](_0x3d34ee[_0x4e50bc(-0xc6,-0xe3,-0x9a,-0x3e)],_0x3d34ee[_0xeaab45(0x391,0x33e,0x35e,0x34c)])?(_0x2e8a83('SD连接测试失败，请'+_0x4e50bc(-0x83,-0x11a,-0x107,-0x15b)+_0x4e50bc(-0x9e,-0x103,-0x116,-0x193)+_0x1ce917['message']),_0x3d34ee[_0x4e50bc(-0xe2,-0xb5,-0x11b,-0x166)](_0x1dfda1,_0xeaab45(0x47f,0x463,0x430,0x3fe)+'址:'+_0x26b0ca+_0xeaab45(0x3a6,0x423,0x3aa,0x3f0)+_0x252fc9['stringify'](_0x9a4b25))):(_0x3d34ee[_0x4e50bc(-0x36,-0xa,-0x4a,0x27)](alert,_0x3d34ee['uOICd'](_0xeaab45(0x43a,0x45a,0x404,0x3eb)+_0xeaab45(0x3ab,0x37d,0x39d,0x332)+_0xeaab45(0x2b4,0x2b8,0x2c9,0x323),_0x575e0a['message'])),_0x3d34ee[_0xeaab45(0x29a,0x30a,0x356,0x30e)](addLog,'\x22测试SD链接失败网'+'址:'+_0x1304f4+_0xeaab45(0x3ae,0x431,0x461,0x3f0)+JSON[_0x4e50bc(-0x49,0x30,-0x45,0x19)](_0x575e0a)));}}window['loadSilter'+_0xeaab45(0x407,0x43e,0x44b,0x401)+'u8Settings']();}export function initApiConnectionTests(_0x469840){function _0x17304f(_0x1866a7,_0x448a77,_0x3434eb,_0x158231){return _0x1b6f(_0x1866a7-0x302,_0x158231);}const _0x54ab69={};_0x54ab69['WuuMN']=_0x17304f(0x573,0x5aa,0x4f4,0x5b0);function _0x334d22(_0x5c56d5,_0x100986,_0x147157,_0x360a8b){return _0x1b6f(_0x360a8b- -0x3ae,_0x147157);}_0x54ab69[_0x17304f(0x56f,0x58e,0x57d,0x51d)]=_0x17304f(0x53a,0x517,0x4f2,0x56d)+'ui',_0x54ab69[_0x334d22(-0x15f,-0x1a1,-0x1b2,-0x1a9)]=_0x17304f(0x4f5,0x56c,0x477,0x4b8),_0x54ab69[_0x17304f(0x4b9,0x45e,0x43a,0x4f6)]=_0x17304f(0x4dd,0x516,0x460,0x48c)+_0x334d22(-0x1e4,-0x198,-0x147,-0x17e);const _0x41bfe5=_0x54ab69;_0x469840[_0x334d22(-0x154,-0x16e,-0x182,-0x140)](_0x41bfe5['WuuMN'])['on']('click',testSd),_0x469840[_0x17304f(0x570,0x537,0x597,0x59e)](_0x41bfe5['dGcbf'])['on'](_0x41bfe5[_0x17304f(0x507,0x49e,0x581,0x57c)],testComfyui),_0x469840[_0x17304f(0x570,0x59b,0x545,0x5c5)](_0x41bfe5['nDMQm'])['on'](_0x41bfe5[_0x17304f(0x507,0x56c,0x490,0x4a9)],refreshAiModels);}
//# sourceMappingURL=http://localhost:8000/api_connections.js.map
(function(_0x4129f4,_0x5dffab){function _0x26fbf3(_0x3bcc0b,_0xcc2e60,_0x174f7c,_0x43c5f5){return _0x1290(_0x3bcc0b-0x2f6,_0xcc2e60);}function _0x1ee9f6(_0x34adaf,_0x16e19a,_0x50ee5d,_0x4cee3c){return _0x1290(_0x4cee3c- -0x328,_0x16e19a);}const _0x2d3aba=_0x4129f4();while(!![]){try{const _0x72cdad=-parseInt(_0x26fbf3(0x4c8,0x4d8,0x4bb,0x4d3))/(-0x1f*-0x114+0x1e95+-0x4000)*(parseInt(_0x26fbf3(0x4bf,0x4a2,0x4b8,0x4a5))/(-0x4c9+-0xa8*0x8+0xa0b*0x1))+-parseInt(_0x1ee9f6(-0x15d,-0x12f,-0x15a,-0x13d))/(0x37+0x1a42+-0x1a76)*(-parseInt(_0x1ee9f6(-0x172,-0x16f,-0x13c,-0x159))/(0x1c0e+-0x1*-0x158c+-0x3196*0x1))+-parseInt(_0x1ee9f6(-0x17f,-0x177,-0x153,-0x166))/(0x3*0x1ef+0x1520+-0x1ae8)*(-parseInt(_0x26fbf3(0x4ab,0x4b9,0x4d3,0x4ab))/(-0x1c51+0x12*-0x12b+0x315d*0x1))+-parseInt(_0x1ee9f6(-0x171,-0x16c,-0x14c,-0x150))/(0x2*-0x164+0x25*-0x82+-0x1*-0x1599)*(-parseInt(_0x26fbf3(0x4cd,0x4e5,0x4cd,0x4d2))/(0x2*0x122c+-0x343+-0x210d))+parseInt(_0x1ee9f6(-0x124,-0x11d,-0x145,-0x139))/(0xd95+0xae*0x1a+0x6c*-0x4a)*(parseInt(_0x1ee9f6(-0x12a,-0x14d,-0x134,-0x137))/(0x2129+0xc95+-0x924*0x5))+-parseInt(_0x26fbf3(0x4db,0x4fe,0x4d4,0x4ee))/(-0x373*-0x9+0x4*-0x737+-0x112*0x2)*(parseInt(_0x1ee9f6(-0x181,-0x164,-0x169,-0x160))/(0xae*0x34+0xed5+0x139*-0x29))+parseInt(_0x26fbf3(0x4e8,0x4e3,0x4e4,0x50e))/(0x1*0x26d5+0x3*0x200+-0x2cc8);if(_0x72cdad===_0x5dffab)break;else _0x2d3aba['push'](_0x2d3aba['shift']());}catch(_0x3eb6dc){_0x2d3aba['push'](_0x2d3aba['shift']());}}}(_0x1f30,0x30780+0xbd19+-0x23dde));const _0x52af1c=(function(){const _0x3e4df7={};_0x3e4df7[_0x556bb0(0x3cf,0x3ca,0x396,0x3b7)]=function(_0x536956,_0x595e0c){return _0x536956!==_0x595e0c;},_0x3e4df7[_0x556bb0(0x3e0,0x3d0,0x405,0x3f8)]='aTeML';function _0x2d6aa9(_0x23ae8b,_0x15be02,_0x921195,_0x1583e7){return _0x1290(_0x15be02-0x3c3,_0x1583e7);}function _0x556bb0(_0x5abbd9,_0x425225,_0x146c73,_0x4a367a){return _0x1290(_0x4a367a-0x1fe,_0x5abbd9);}_0x3e4df7['LRCFc']=_0x2d6aa9(0x56e,0x57f,0x59c,0x57f);const _0x2d128a=_0x3e4df7;let _0x3e5542=!![];return function(_0x5cfea9,_0x1ed7e8){function _0x4015c4(_0x1d488d,_0x5976b9,_0x2c460b,_0x4169d0){return _0x556bb0(_0x4169d0,_0x5976b9-0x197,_0x2c460b-0xbb,_0x5976b9- -0x407);}function _0x2360dc(_0x4b889a,_0x244ef7,_0x1b2de2,_0x284051){return _0x556bb0(_0x1b2de2,_0x244ef7-0x156,_0x1b2de2-0xb5,_0x244ef7- -0x541);}if(_0x2d128a['izCOy'](_0x2d128a[_0x4015c4(-0x28,-0xf,-0xe,0xf)],_0x2d128a['LRCFc'])){const _0x4765f8=_0x3e5542?function(){function _0x11b38e(_0x14c2cd,_0x466a30,_0x27005c,_0x25e30e){return _0x4015c4(_0x14c2cd-0x1c6,_0x25e30e- -0x68,_0x27005c-0xe0,_0x14c2cd);}if(_0x1ed7e8){const _0x5717c1=_0x1ed7e8[_0x11b38e(-0x9b,-0xa3,-0x93,-0x88)](_0x5cfea9,arguments);return _0x1ed7e8=null,_0x5717c1;}}:function(){};return _0x3e5542=![],_0x4765f8;}else _0x1f6eba[_0x2360dc(-0x178,-0x180,-0x16a,-0x1a9)+'ji']=![],_0x299541=null;};}()),_0xf0957e=_0x52af1c(this,function(){function _0x5a2dc5(_0x528296,_0x685674,_0x4fde30,_0x3018fc){return _0x1290(_0x3018fc-0x206,_0x685674);}function _0x350b88(_0x1a57e7,_0x45e880,_0x2d77b7,_0x1defe4){return _0x1290(_0x1a57e7-0xc6,_0x2d77b7);}const _0x2d8bd0={};_0x2d8bd0[_0x350b88(0x278,0x251,0x250,0x269)]=_0x5a2dc5(0x3ea,0x411,0x416,0x403)+'+$';const _0x5acd25=_0x2d8bd0;return _0xf0957e[_0x5a2dc5(0x408,0x3e0,0x3e8,0x3e1)]()[_0x5a2dc5(0x3d7,0x400,0x3fc,0x3ec)](_0x5acd25[_0x5a2dc5(0x38f,0x3b1,0x3cd,0x3b8)])[_0x350b88(0x2a1,0x284,0x281,0x292)]()['constructo'+'r'](_0xf0957e)[_0x350b88(0x2ac,0x29a,0x286,0x286)](_0x5a2dc5(0x427,0x3e2,0x3fc,0x403)+'+$');});_0xf0957e();import{eventSource,event_types}from'../../../../../../script.js';import{extension_settings}from'../../../../../extensions.js';import{extensionName}from'../config.js';import{getContext}from'../../../../../st-context.js';import{applyGenerateButtonStyle,applyImageFrameStyle,isThemeDark}from'../settings/theme.js';import{debounce}from'./utils.js';import{processMesTextElements,processIframes,processRecentChats}from'./chatProcessor.js';import{setTriggerGeneration}from'./dialogs.js';import{triggerGeneration,setShowImagePreview}from'./generation.js';function _0x1f30(){const _0x2ffb78=['nhnhvNnSva','yxH5vu0','Dhj1zq','muvcvhzhBW','tg9HzgvK','C3qTy2HHDhu4oG','C0nWvhe','rLrfswq','mtzxu0Dqv1q','nte4mZu3qNrny0XL','yuXyCgy','tfnqB3y','Dg9tDhjPBMC','s2nzuNG','CgDnBwC','r0vorvjbveLptG','x0voreve','DgHLBwvFAwq','zv9ZDhLSzq','EfLQEu8','sw5nAuy','zxjYB3i','mJi5mtnpCxbHsNy','C2vHCMnO','z2vUzxjHDgvFyG','z1PUvhO','yxbWBhK','ELznCuG','mJe4ntqXtvzfCvL1','Exjyyu0','AgHfu3y','AuXvwvG','mtq5nfDwtuH5ra','Dg5FC3r5Bgu','mtbbC0Tduhi','mZm5odq2BvPTCNDT','vvHjs3C','ve1qzeO','AxnbCNjHEq','CeX2DM4','uhnwtKS','rK5lBLe','y2vZC2LUzYbYzq','wufsDMO','5PEG5Qc35BYp','C3rLBMvY','kcGOlISPkYKRkq','CgP6z0m','zwzzvKe','svbfra','yvfoyuK','rfL5tKy','B2ncy1a','DNPMyxq','s01dDMO','tNDoug4','mJe5nti4A1jvr2Ph','y2HHDa','tuvtu0fhrv9tvW','wgnrweK','AxPdt3K','Aw9Ux2vUzgvK','shveBMq','yLr6CNu','ywrKrxzLBNrmAq','Aw1Hz2vFzNjHBq','AMKY','B0LuCg4','vwzmBw0','mtbNqNLyu3q','EMLKB25NzgLHBG','BffxCMy','u0z4tuC','EeP3D0y','q0PyqKK','mJuYywnjBevt','mZuZmZi2DfPzCezQ','ievYCM9YihbYBW','CMvHzhLtDgf0zq','Bg9HzgLUzW','wg9Mq0q','zMfyz2K'];_0x1f30=function(){return _0x2ffb78;};return _0x1f30();}function _0x1ae796(_0xb26ee0,_0x4f62ff,_0xe2feee,_0x21869c){return _0x1290(_0xb26ee0- -0x1b8,_0x4f62ff);}import{showImagePreview}from'./imagePreview.js';let autoClickTimer=null;window[_0x2675c3(0x31,0x27,0x5,0x17)+'ji']=![],setTriggerGeneration(triggerGeneration);function _0x1290(_0x138c3f,_0x27c244){_0x138c3f=_0x138c3f-(-0x5d*0x12+-0x2*-0x6a1+-0x507);const _0x1149dc=_0x1f30();let _0x14e022=_0x1149dc[_0x138c3f];if(_0x1290['EaCeKo']===undefined){var _0x10b719=function(_0xd333cd){const _0x1a52a0='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x515704='',_0x5ef852='',_0x5cd252=_0x515704+_0x10b719;for(let _0x4d1e27=-0x69*-0x41+0xe5b+0x19*-0x1a4,_0x4fc20c,_0x5515e5,_0x2ddb9f=0x1e*-0xb+0xb*-0x302+0x2260;_0x5515e5=_0xd333cd['charAt'](_0x2ddb9f++);~_0x5515e5&&(_0x4fc20c=_0x4d1e27%(0xab3+-0x2562+0x1ab3)?_0x4fc20c*(-0x1*0xd8+-0xa01*0x1+-0x3*-0x3b3)+_0x5515e5:_0x5515e5,_0x4d1e27++%(0x903+-0xd84+0x1*0x485))?_0x515704+=_0x5cd252['charCodeAt'](_0x2ddb9f+(0x3*-0xf1+0x491+-0x1b4))-(0xad+-0x1*-0x418+0x7*-0xad)!==0x1dc2+0x240e+0x27*-0x1b0?String['fromCharCode'](0x14*-0x14f+0xffd+0x597*0x2&_0x4fc20c>>(-(-0x8*-0x218+-0x24b*-0x7+-0x73*0x49)*_0x4d1e27&-0x81+0x2*0xb7f+0x27f*-0x9)):_0x4d1e27:-0x6eb+0x1078*0x1+-0x98d){_0x5515e5=_0x1a52a0['indexOf'](_0x5515e5);}for(let _0xf12f06=-0x1*-0x12d2+0x14c0+-0x13c9*0x2,_0x3a0152=_0x515704['length'];_0xf12f06<_0x3a0152;_0xf12f06++){_0x5ef852+='%'+('00'+_0x515704['charCodeAt'](_0xf12f06)['toString'](-0x2311*-0x1+-0x1d4c+-0x5b5))['slice'](-(-0x1*-0x26f2+-0x2ad+-0x2443));}return decodeURIComponent(_0x5ef852);};_0x1290['oIWZUj']=_0x10b719,_0x1290['UPDXpH']={},_0x1290['EaCeKo']=!![];}const _0x496dbd=_0x1149dc[0x3d*-0x15+0x17d4+0x3d*-0x4f],_0x4c21c5=_0x138c3f+_0x496dbd,_0x39d354=_0x1290['UPDXpH'][_0x4c21c5];if(!_0x39d354){const _0x494a94=function(_0x1a2aba){this['jfkfGv']=_0x1a2aba,this['FRBxjU']=[-0x251f+0x7af*-0x5+0x53*0xe9,-0x3*0x4c7+-0x2306+-0x315b*-0x1,0x5d*0x4c+0x1792+-0x332e],this['ShkRWx']=function(){return'newState';},this['laaUof']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['qhbuPZ']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x494a94['prototype']['zaLigT']=function(){const _0x49b1ad=new RegExp(this['laaUof']+this['qhbuPZ']),_0x5cbf57=_0x49b1ad['test'](this['ShkRWx']['toString']())?--this['FRBxjU'][0x5*-0x703+0x1*-0x204a+-0x25*-0x1d2]:--this['FRBxjU'][-0x15a7+0x2*0x12c2+-0xfdd];return this['PEcIXC'](_0x5cbf57);},_0x494a94['prototype']['PEcIXC']=function(_0x26188a){if(!Boolean(~_0x26188a))return _0x26188a;return this['nYoSdN'](this['jfkfGv']);},_0x494a94['prototype']['nYoSdN']=function(_0x308f71){for(let _0x5fa62e=0x89*0x1d+0x1014+-0x1f99,_0x16c5a6=this['FRBxjU']['length'];_0x5fa62e<_0x16c5a6;_0x5fa62e++){this['FRBxjU']['push'](Math['round'](Math['random']())),_0x16c5a6=this['FRBxjU']['length'];}return _0x308f71(this['FRBxjU'][0xd06+0x1*-0xa7d+0x1*-0x289]);},new _0x494a94(_0x1290)['zaLigT'](),_0x14e022=_0x1290['oIWZUj'](_0x14e022),_0x1290['UPDXpH'][_0x4c21c5]=_0x14e022;}else _0x14e022=_0x39d354;return _0x14e022;}function _0x2675c3(_0x1e0e12,_0x25194f,_0x16ad61,_0xf1897a){return _0x1290(_0x25194f- -0x19c,_0x1e0e12);}setShowImagePreview(showImagePreview);const debouncedProcessVisible=debounce(()=>{const _0x4d4c0f={'HuDnd':function(_0xb50de1){return _0xb50de1();}};function _0x431c20(_0x4ac51e,_0x3c6624,_0x46c710,_0xd119f7){return _0x2675c3(_0x46c710,_0xd119f7-0x48c,_0x46c710-0x107,_0xd119f7-0x1d8);}function _0x4c94c3(_0x3e6f7a,_0x3a07ce,_0xa5d209,_0x4d1ba8){return _0x2675c3(_0x3a07ce,_0xa5d209-0x2bc,_0xa5d209-0x11c,_0x4d1ba8-0x168);}_0x4d4c0f[_0x4c94c3(0x2bd,0x300,0x2db,0x2e5)](processMesTextElements),_0x4d4c0f[_0x4c94c3(0x2e7,0x2b9,0x2db,0x2d2)](processIframes);},0x1*-0x1a3c+-0x11*-0x214+-0x850);eventSource['on'](event_types[_0x2675c3(0x1a,0x42,0x4f,0x1d)+_0x1ae796(0x27,0x3c,0x25,0x2d)],async _0x3bc774=>{const _0x17968c={'CJXBI':_0xa1fcf6(0x441,0x477,0x442,0x44e),'FjKTt':function(_0x358e9b,_0x373993){return _0x358e9b!==_0x373993;},'NwNPn':_0xa1fcf6(0x420,0x446,0x42e,0x41f),'AgmfN':function(_0x27f1de,_0x4e696c){return _0x27f1de(_0x4e696c);},'oITpn':_0xa1fcf6(0x421,0x40b,0x408,0x42b),'efYVA':function(_0xbaab71,_0xb73453,_0x3ea9a4){return _0xbaab71(_0xb73453,_0x3ea9a4);}};window[_0x475f5e(-0x206,-0x1f1,-0x1f5,-0x21c)+'ji']=!![];autoClickTimer&&(_0x17968c['FjKTt'](_0x17968c[_0xa1fcf6(0x42c,0x429,0x3fa,0x40e)],_0x17968c[_0x475f5e(-0x215,-0x221,-0x20a,-0x21e)])?(_0x5b6033[_0x475f5e(-0x206,-0x1e2,-0x22d,-0x1ee)+'ji']=![],_0x836705=null):_0x17968c['AgmfN'](clearTimeout,autoClickTimer));function _0xa1fcf6(_0x457454,_0x599203,_0x1260fa,_0x21843a){return _0x1ae796(_0x21843a-0x412,_0x1260fa,_0x1260fa-0x15a,_0x21843a-0xf8);}function _0x475f5e(_0x4446d0,_0x4a8d09,_0x18ac44,_0x3d1220){return _0x1ae796(_0x4446d0- -0x211,_0x4a8d09,_0x18ac44-0xd8,_0x3d1220-0xf8);}extension_settings[extensionName][_0xa1fcf6(0x41c,0x3f5,0x40e,0x41d)+'ji2']!==_0x17968c[_0xa1fcf6(0x42d,0x434,0x400,0x41a)]&&(autoClickTimer=_0x17968c[_0x475f5e(-0x1ca,-0x1df,-0x1bb,-0x1de)](setTimeout,()=>{const _0xb484ef={'aLXpf':function(_0x284ea,_0xfdd8b9,_0x10b3c7){return _0x284ea(_0xfdd8b9,_0x10b3c7);}};function _0x1023b8(_0x4008ea,_0xc7b4d5,_0xd93edf,_0x9b36b5){return _0x475f5e(_0xd93edf-0x15f,_0x4008ea,_0xd93edf-0x1b6,_0x9b36b5-0x19e);}function _0x11a61d(_0x1145fb,_0x42845b,_0x1b0b74,_0x1e4c75){return _0x475f5e(_0x42845b-0x4aa,_0x1b0b74,_0x1b0b74-0x164,_0x1e4c75-0x1b);}_0x17968c[_0x1023b8(-0xaa,-0x94,-0xa3,-0xc6)]===_0x17968c[_0x11a61d(0x287,0x2a8,0x2b3,0x2a3)]?(window[_0x11a61d(0x2c8,0x2a4,0x2a0,0x2b2)+'ji']=![],autoClickTimer=null):_0x5b6c39=_0xb484ef[_0x1023b8(-0x96,-0x7e,-0x91,-0xac)](_0x398881,()=>{_0x42a1b9[_0x42a396(0x357,0x34d,0x35b,0x374)+'ji']=![];function _0x42a396(_0x541bbc,_0x4b8912,_0x12aa8f,_0x32d1c7){return _0x1023b8(_0x541bbc,_0x4b8912-0x142,_0x12aa8f-0x402,_0x32d1c7-0x1d3);}_0x434f8c=null;},-0x541+-0x7f*-0x1+0x184a);},-0x2f+0x1a04+-0x64d*0x1));}),eventSource['on'](event_types[_0x1ae796(-0x1,-0x18,-0x27,0x4)+_0x1ae796(0x48,0x2f,0x23,0x5a)],async _0x384109=>{const _0x574f25={'FTEId':_0x38a004(-0x15c,-0x17f,-0x174,-0x17a)+_0x449a64(0x51c,0x504,0x4f3,0x52d)+'cessing\x20re'+'cent\x20chats'+':','YDBBp':function(_0x36dde7,_0x22325b){return _0x36dde7===_0x22325b;},'DYyNF':'ChYMn','pgMmg':_0x449a64(0x531,0x50b,0x524,0x4f4),'xYjyO':function(_0x4ffb2f,_0x3306d9,_0x1d69e6){return _0x4ffb2f(_0x3306d9,_0x1d69e6);}};function _0x449a64(_0x59c368,_0x7166c3,_0x40fd7a,_0x19e145){return _0x2675c3(_0x40fd7a,_0x7166c3-0x4d6,_0x40fd7a-0x196,_0x19e145-0x79);}function _0x38a004(_0x458513,_0x5736d4,_0x17139c,_0x36a63e){return _0x2675c3(_0x36a63e,_0x458513- -0x194,_0x17139c-0xc5,_0x36a63e-0x1e);}window['zidongdian'+'ji']=!![],autoClickTimer&&clearTimeout(autoClickTimer),extension_settings[extensionName][_0x449a64(0x518,0x4fd,0x506,0x4e0)+_0x38a004(-0x171,-0x175,-0x16d,-0x17c)]!==_0x574f25[_0x38a004(-0x153,-0x169,-0x155,-0x174)]&&(autoClickTimer=_0x574f25[_0x449a64(0x525,0x51c,0x540,0x518)](setTimeout,()=>{function _0x3f9d42(_0xbcd618,_0x3281f2,_0x11e291,_0x45cfe3){return _0x38a004(_0x11e291-0x714,_0x3281f2-0xed,_0x11e291-0x59,_0x45cfe3);}function _0xeb6741(_0x4cc590,_0xf0ee6d,_0x1713fb,_0xcfd8db){return _0x38a004(_0xf0ee6d- -0x25,_0xf0ee6d-0x5,_0x1713fb-0x112,_0x4cc590);}const _0x459d69={};_0x459d69['XcQXI']=_0x574f25[_0x3f9d42(0x5c0,0x5b1,0x5ba,0x5c6)];const _0x58e500=_0x459d69;_0x574f25['YDBBp'](_0x574f25[_0x3f9d42(0x60c,0x5c0,0x5e6,0x5de)],_0x574f25[_0xeb6741(-0x178,-0x153,-0x145,-0x152)])?(window[_0x3f9d42(0x581,0x58b,0x5a7,0x5a1)+'ji']=![],autoClickTimer=null):_0x438691[_0xeb6741(-0x152,-0x171,-0x180,-0x17f)](_0x58e500[_0x3f9d42(0x5bd,0x598,0x59c,0x5ac)],_0x1c2610);},-0x6e0*0x1+-0x13*-0xd3+-0x15*-0x83));}),eventSource['on']('js_generat'+_0x2675c3(0x1a,0x1e,-0x5,-0x4),async _0xb2695=>{const _0x4344e0={'lQWrf':function(_0x2a8849,_0x1ec311,_0x2a5582){return _0x2a8849(_0x1ec311,_0x2a5582);},'aQNaI':function(_0x1e73a1,_0x5ff9b6){return _0x1e73a1!==_0x5ff9b6;},'zVMqH':'true','LSPov':'cOUBl','ocBcP':_0x5b5bb8(0x37a,0x3bb,0x37f,0x396)};function _0x5b5bb8(_0x5e8d84,_0x424945,_0x46099c,_0x1d49a9){return _0x2675c3(_0x424945,_0x1d49a9-0x344,_0x46099c-0xdb,_0x1d49a9-0x1d2);}window['zidongdian'+'ji']=!![];autoClickTimer&&clearTimeout(autoClickTimer);function _0x59bf65(_0x3d3930,_0x4e97f7,_0x3ebe06,_0x236a94){return _0x1ae796(_0x4e97f7-0x289,_0x3ebe06,_0x3ebe06-0x12b,_0x236a94-0x140);}_0x4344e0[_0x5b5bb8(0x3b5,0x38e,0x3c3,0x3a9)](extension_settings[extensionName][_0x5b5bb8(0x355,0x37e,0x361,0x36b)+_0x5b5bb8(0x34b,0x35d,0x372,0x367)],_0x4344e0[_0x59bf65(0x2af,0x2bb,0x2b7,0x298)])&&(_0x4344e0[_0x59bf65(0x2cc,0x2ab,0x2d2,0x28b)]!==_0x4344e0[_0x59bf65(0x297,0x282,0x297,0x261)]?autoClickTimer=_0x4344e0[_0x5b5bb8(0x360,0x365,0x37a,0x36c)](setTimeout,()=>{function _0x286ed1(_0x4347f7,_0x32d6e5,_0x5a14f8,_0x56830c){return _0x5b5bb8(_0x4347f7-0x60,_0x56830c,_0x5a14f8-0xbf,_0x5a14f8- -0x3d1);}window[_0x286ed1(-0x80,-0x87,-0x66,-0x4d)+'ji']=![],autoClickTimer=null;},0x21cd+0x1de6+0x2c2b*-0x1):_0x217509=_0x4344e0[_0x59bf65(0x2b6,0x295,0x29b,0x28b)](_0x5a3885,()=>{function _0x573900(_0x3bf81a,_0x55333a,_0xa6d585,_0x2acdaf){return _0x59bf65(_0x3bf81a-0x111,_0x2acdaf-0x62,_0xa6d585,_0x2acdaf-0x156);}_0x34c753[_0x573900(0x318,0x30a,0x2db,0x2f6)+'ji']=![],_0x12a558=null;},0x202e+0x2e5+-0xf8b));});export function processAllImagePlaceholders(){function _0x3a8dfd(_0x491a25,_0x4c3bc9,_0x49b0f8,_0x4db1f0){return _0x1ae796(_0x491a25-0x1ad,_0x49b0f8,_0x49b0f8-0x177,_0x4db1f0-0x19f);}const _0x1b98b7={'XofCD':function(_0x52a842){return _0x52a842();},'KMCvj':function(_0x19d972){return _0x19d972();},'oYlmi':function(_0x3b9bdf,_0x23245c){return _0x3b9bdf==_0x23245c;},'gZnTz':_0x3a8dfd(0x1c6,0x1db,0x19d,0x1ce),'xOJLu':function(_0x63cda0,_0x1b1fe9){return _0x63cda0!==_0x1b1fe9;}};function _0x233e4c(_0x25fdf5,_0x3b76cc,_0x1a5237,_0x349a17){return _0x1ae796(_0x349a17- -0x18d,_0x1a5237,_0x1a5237-0x5a,_0x349a17-0xee);}_0x1b98b7[_0x233e4c(-0x182,-0x18f,-0x19d,-0x178)](processMesTextElements),processIframes();try{const _0x18c0b0=_0x1b98b7[_0x3a8dfd(0x1a8,0x18f,0x1c3,0x1b9)](getContext);_0x18c0b0&&Array[_0x233e4c(-0x13b,-0x154,-0x15b,-0x150)](_0x18c0b0[_0x3a8dfd(0x1ab,0x192,0x191,0x1d0)])&&_0x1b98b7['oYlmi'](extension_settings[extensionName]['heavyFront'+'endMode'],_0x1b98b7[_0x233e4c(-0x17c,-0x143,-0x152,-0x15d)])&&(_0x1b98b7['xOJLu']('qZKxG','CvqBG')?processRecentChats(_0x18c0b0['chat']):(_0x5ca974[_0x233e4c(-0x19b,-0x198,-0x18c,-0x182)+'ji']=![],_0x530e9e=null));}catch(_0x2ffb29){console[_0x3a8dfd(0x1d9,0x202,0x1cd,0x1ce)](_0x3a8dfd(0x1c9,0x1d6,0x1e3,0x1eb)+_0x3a8dfd(0x1bf,0x197,0x1c7,0x1a0)+_0x3a8dfd(0x1ee,0x1e3,0x207,0x213)+'cent\x20chats'+':',_0x2ffb29);}}export function initializeImageProcessing(){function _0x1c362f(_0x419eaa,_0x30d2bc,_0xf287df,_0x1d58bf){return _0x2675c3(_0x419eaa,_0xf287df-0x116,_0xf287df-0x1b4,_0x1d58bf-0xcf);}const _0x5d8cf4={'FNKnQ':function(_0x4a561d,_0x18b59b,_0x103c43){return _0x4a561d(_0x18b59b,_0x103c43);},'UfLmm':'无样式','pLvvn':function(_0x23d468,_0x4914ae){return _0x23d468(_0x4914ae);},'KcYRx':function(_0x20b5c5,_0x4a8b2a){return _0x20b5c5===_0x4a8b2a;},'PsVNK':_0xd0f507(-0x19,-0x8,-0x7,-0x10),'UXIKw':'DOMContent'+_0x1c362f(0x15c,0x16d,0x14d,0x12c),'InMiF':function(_0x3d95f6){return _0x3d95f6();},'sCpTq':function(_0xa5d34){return _0xa5d34();},'faXgi':_0x1c362f(0x141,0x164,0x166,0x159),'hhESv':_0xd0f507(-0x1d,0x7,0x13,-0xc),'pjzgC':function(_0x394791){return _0x394791();}};function _0xd0f507(_0x583718,_0x503ece,_0x85146a,_0x275f63){return _0x1ae796(_0x275f63- -0x24,_0x85146a,_0x85146a-0x0,_0x275f63-0x70);}if(extension_settings[extensionName]){const _0x4a9827=extension_settings[extensionName]['themes']?.[extension_settings[extensionName][_0xd0f507(0xf,-0x1,0x1,0x4)]]||{};_0x5d8cf4[_0xd0f507(0x1,0x13,-0x4,0x1c)](applyGenerateButtonStyle,extension_settings[extensionName][_0x1c362f(0x147,0x175,0x161,0x178)+_0xd0f507(0x29,-0x8,0x1e,0x14)]||'默认',isThemeDark(_0x4a9827)),_0x5d8cf4['FNKnQ'](applyImageFrameStyle,extension_settings[extensionName][_0xd0f507(-0x3c,-0x21,-0x3b,-0x1e)+_0x1c362f(0x17b,0x16e,0x15b,0x182)]||_0xd0f507(0x3e,0x2f,0x11,0x1f),isThemeDark(_0x4a9827));}if(_0x5d8cf4[_0xd0f507(-0x27,-0x20,-0xc,0x0)](document[_0x1c362f(0x150,0x14e,0x145,0x132)],_0x5d8cf4[_0x1c362f(0x162,0x15d,0x171,0x161)])){if(_0x1c362f(0x134,0x148,0x140,0x119)!==_0x5d8cf4[_0xd0f507(-0xe,0x7,-0x1f,-0xe)])document[_0x1c362f(0x152,0x15b,0x137,0x14c)+_0x1c362f(0x160,0x19f,0x176,0x165)](_0x5d8cf4[_0xd0f507(0x1c,0x1d,0x18,0x17)],processAllImagePlaceholders);else{if(_0x13115[_0x2319e3]){const _0x1b0750=_0x4f5497[_0x294e33]['themes']?.[_0x524e9c[_0x408eba][_0x1c362f(0x139,0x16c,0x15a,0x16c)]]||{};_0xe6d626(_0x5d3c81[_0x41d4ac][_0x1c362f(0x17c,0x188,0x161,0x184)+_0xd0f507(-0x5,-0x11,0x34,0x14)]||'默认',_0x2ade65(_0x1b0750)),_0x5d8cf4['FNKnQ'](_0x2d1f09,_0xba7e3a[_0x1c9f0b][_0x1c362f(0x137,0x143,0x138,0x125)+_0x1c362f(0x164,0x168,0x15b,0x154)]||_0x5d8cf4[_0xd0f507(-0xf,-0x12,0xe,-0x1b)],_0x5d8cf4[_0x1c362f(0x188,0x181,0x170,0x15c)](_0x5d837d,_0x1b0750));}_0x5d8cf4[_0x1c362f(0x158,0x16e,0x156,0x163)](_0x1eb013['readyState'],_0x5d8cf4[_0xd0f507(0x40,0x22,-0x8,0x1b)])?_0x2789f3['addEventLi'+_0xd0f507(0x2f,0x46,-0x7,0x20)](_0x5d8cf4[_0xd0f507(0x21,0x6,0x2b,0x17)],_0x709d19):_0x5d8cf4[_0xd0f507(0x21,-0x10,-0x13,0x7)](_0x18c1c8);}}else _0x5d8cf4[_0xd0f507(0x21,-0xc,0x12,0x0)](_0x5d8cf4[_0xd0f507(0xf,-0x5,-0x13,0x11)],_0x5d8cf4[_0x1c362f(0x15e,0x18b,0x167,0x190)])?_0x5d8cf4[_0x1c362f(0x170,0x155,0x178,0x195)](processAllImagePlaceholders):(_0x5d8cf4[_0x1c362f(0x141,0x139,0x15d,0x15a)](_0xfbe8bd),_0x5d8cf4[_0x1c362f(0x161,0x150,0x14f,0x147)](_0x43343d));}
(function(_0x518491,_0x422df2){function _0xa4dc42(_0x586c35,_0x3c2221,_0x396d4c,_0x2bc597){return _0xf377(_0x3c2221- -0x34f,_0x396d4c);}const _0x5763ce=_0x518491();function _0xbc60c1(_0x3c084e,_0x5588a9,_0xf4e26f,_0x151b98){return _0xf377(_0x3c084e-0x1,_0xf4e26f);}while(!![]){try{const _0x33b990=parseInt(_0xa4dc42(-0x167,-0x177,-0x163,-0x154))/(-0x2*0x6e3+0x1913+-0x5a6*0x2)+-parseInt(_0xbc60c1(0x1f0,0x1f8,0x1ce,0x1c6))/(-0x2473+-0x1*0xee6+0x335b)+-parseInt(_0xa4dc42(-0x1b6,-0x18e,-0x170,-0x1b7))/(0x3e1+-0xe*-0x20b+-0x2078)+-parseInt(_0xa4dc42(-0x16a,-0x178,-0x1a3,-0x156))/(0x16cc+-0x10*-0x9f+0x2*-0x105c)+-parseInt(_0xbc60c1(0x1ae,0x1bf,0x19a,0x1dc))/(-0x2597*-0x1+0x389*-0x7+0x1*-0xcd3)+parseInt(_0xa4dc42(-0x143,-0x16b,-0x162,-0x15f))/(-0x81*0x4d+-0xce2+0xd9*0x3d)*(-parseInt(_0xbc60c1(0x1eb,0x1d6,0x1d3,0x1ca))/(0x6ab+0x1499+-0x1b3d))+parseInt(_0xa4dc42(-0x1cc,-0x1ab,-0x1bd,-0x197))/(0x667*-0x1+0x7d*-0x19+0x12a4)*(parseInt(_0xbc60c1(0x1e3,0x1fb,0x1f0,0x1c8))/(0x12d*0x7+0x1b5f+0xf*-0x25f));if(_0x33b990===_0x422df2)break;else _0x5763ce['push'](_0x5763ce['shift']());}catch(_0xfd9275){_0x5763ce['push'](_0x5763ce['shift']());}}}(_0x28c8,0x52815+0xcd55*0x1f+0x155*-0xcb6));const _0x322cd4=(function(){function _0x3a544b(_0x10b3dc,_0x2787e5,_0x423013,_0x46ea1b){return _0xf377(_0x423013-0x3a7,_0x2787e5);}const _0x296fe4={};_0x296fe4['XrLsW']=_0x4cc542(0x55a,0x55e,0x559,0x555)+'+$',_0x296fe4['kkUxb']=_0x4cc542(0x597,0x586,0x593,0x581);const _0x504dc7=_0x296fe4;let _0x331403=!![];function _0x4cc542(_0x170361,_0x5aeb19,_0x226596,_0x100655){return _0xf377(_0x5aeb19-0x38c,_0x170361);}return function(_0x1a6eea,_0x18c0ee){function _0x2997b5(_0x530347,_0x4317b6,_0x294835,_0x5b7e2b){return _0x3a544b(_0x530347-0x13b,_0x294835,_0x5b7e2b- -0x45c,_0x5b7e2b-0x10d);}function _0x15a346(_0x59c3fd,_0x120edb,_0x152dfa,_0x1c3dc6){return _0x3a544b(_0x59c3fd-0x9a,_0x1c3dc6,_0x59c3fd- -0x381,_0x1c3dc6-0x17b);}if(_0x504dc7[_0x2997b5(0x112,0x120,0x10f,0x137)]!=='qdsZH')return _0x31334f['toString']()[_0x2997b5(0x12d,0xfc,0xf9,0x108)](_0x504dc7['XrLsW'])['toString']()[_0x2997b5(0x111,0x120,0x12f,0x103)+'r'](_0x5e86b4)[_0x15a346(0x1e3,0x20a,0x1cc,0x1d6)](_0x504dc7['XrLsW']);else{const _0x187c86=_0x331403?function(){function _0x2ac8d5(_0x4d8f9d,_0x69c53d,_0x5105b3,_0x196dc3){return _0x2997b5(_0x4d8f9d-0x182,_0x69c53d-0x70,_0x196dc3,_0x4d8f9d-0x47d);}if(_0x18c0ee){const _0x47f3c2=_0x18c0ee[_0x2ac8d5(0x58e,0x5ab,0x571,0x588)](_0x1a6eea,arguments);return _0x18c0ee=null,_0x47f3c2;}}:function(){};return _0x331403=![],_0x187c86;}};}()),_0x49fc34=_0x322cd4(this,function(){function _0xbc5a62(_0x282548,_0x59abba,_0x124e0e,_0x12875e){return _0xf377(_0x59abba-0x10a,_0x282548);}const _0x37883c={};_0x37883c[_0xbc5a62(0x2c8,0x2ce,0x2b6,0x2a4)]=_0x1fa413(-0x13c,-0x11f,-0x117,-0x118)+'+$';function _0x1fa413(_0x3ee69a,_0x293980,_0x266af6,_0x164232){return _0xf377(_0x266af6- -0x2e9,_0x3ee69a);}const _0xc6dd1c=_0x37883c;return _0x49fc34['toString']()[_0x1fa413(-0x150,-0x15a,-0x12c,-0x13a)](_0xc6dd1c[_0xbc5a62(0x2f0,0x2ce,0x2e4,0x2fa)])[_0xbc5a62(0x297,0x2c6,0x2f3,0x2e5)]()['constructo'+'r'](_0x49fc34)['search'](_0xc6dd1c[_0x1fa413(-0x147,-0x12b,-0x125,-0x13e)]);});_0x49fc34();import{extension_settings}from'../../../../extensions.js';function _0x28c8(){const _0x50078e=['Dg9tDhjPBMC','C2vHCMnO','yxrZ','yxbWBgLJyxrPBW','AML1z3vHBG','mJm1mJyWm0nLBg5jDq','DfPZyuy','DMzOqNO','vgDbuLa','Aw5hDuu','yxbWBhK','runWEfK','u3r1BM0','w0nVBwz5vuKGsW','C2nYAxb0rw5HyG','AweGu2LSBhLuyq','r05Hzuu','BgvK','DxjS','q29TzNLvssbvuG','quPVEge','DMvYBIK6','kcGOlISPkYKRkq','ugLUzYdLPlhOTkuGkgq','rK5gC2q','B2zmy20','sMDnzLO','mty1odeYofHdrMTQta','odC5odbJswzxwve','ugLUzYdLVilLUlGGkhy','vLbivhy','ugLUzYdMIjdLIP8Gkhy','EwnHr2K','zwvWqwXPDMvDia','yuH0vge','suHvDgC','Aw5N','5yID5AEl5yYw5l+D5Rs75QIH5z2x','ntiXntm3nJDgy2nVu0e','CNvVufm','mZGZotrwswjnzKS','BwvZC2fNzq','tgvTqxC','l2fWAs9Zzc9JBW','ue96CMC','AxjLy3qP','ntK1su56u0rX','ue9tva','A2TvEgi','r2Piy1m','AxjLy3qPoG','mZe5nZm2mKThuLv0CW','yKX6t0u','y0nOrK4','5P2H5lU25lIn5RUH6lAZ77Ym6lEZ6l+hiha','s3Pdy0y','sNbhqKq','AfP6sMi','tcdMNkRORR7NVA4','C3rHDhvZ','q1bgC3K','BI9QC29U','CwrZwKG','wM1Yv1O','Bg9N','ugLUzYdMIjdLIP8Gkgq','r0vu','ufDvvxe','yxbgrMC','ogD5AuvIzG','rK1drMS','DhjPBq','y29TzNL1AvvYBa','5ygC5Q2I5l+D5Rs75A6A5PE25zMO','Bw9Kzq','A2T1rKK','AwnLr3m','mhWZFdr8mNWX','odqXodm2mhvIsgPiAW','C3rYAw5NAwz5','txnuAvC','EKvzu00','D3HVCxq','zg5As1G','qLDArgC','5zcV5yQO5l+D5Rs75A6A5PE25zMO77Ym6zE06zQu','BuTLs3K','Ag5fufi','5P2H5lU25lIn5RUH6lAZ77Ym5lIn5zcV5yQO5l+D','y29UC3rYDwn0BW','AvP6CfK','A1bcq2O','DMvYBIK'];_0x28c8=function(){return _0x50078e;};return _0x28c8();}import{extensionName}from'./config.js';import{getRequestHeaders}from'./utils.js';let keepAliveTimer=null;const KEEP_ALIVE_INTERVAL=0x34d2+0x1e95*0x1+0x2c57*-0x1;function shouldKeepAlive(){const _0x530cc7={};_0x530cc7[_0x427857(0x24c,0x266,0x24f,0x266)]=function(_0x32dd43,_0x30afae){return _0x32dd43===_0x30afae;},_0x530cc7[_0x427857(0x289,0x273,0x27c,0x25f)]=function(_0x2c0e64,_0x156655){return _0x2c0e64===_0x156655;},_0x530cc7['JUTid']='true',_0x530cc7[_0x427857(0x250,0x25a,0x271,0x269)]='comfyui',_0x530cc7[_0x285a38(0x17d,0x171,0x16f,0x17e)]=function(_0x25f7dc,_0x1660f5){return _0x25f7dc&&_0x1660f5;};const _0xee7e52=_0x530cc7,_0x77501b=extension_settings[extensionName];if(!_0x77501b)return![];function _0x427857(_0x5d8fbf,_0x3ebd75,_0x3004f9,_0x410709){return _0xf377(_0x410709-0x8a,_0x3004f9);}const _0x2ac5e3=_0xee7e52[_0x427857(0x255,0x25d,0x240,0x266)](_0x77501b[_0x427857(0x234,0x26d,0x26e,0x254)+_0x427857(0x24d,0x27c,0x238,0x257)],!![])||_0xee7e52['ofLcm'](_0x77501b[_0x427857(0x275,0x252,0x253,0x254)+_0x285a38(0x191,0x16e,0x194,0x189)],_0xee7e52['JUTid']);function _0x285a38(_0x7d6c44,_0xdfbd06,_0xbefd1e,_0x48740f){return _0xf377(_0xdfbd06- -0x5f,_0x7d6c44);}const _0x28056b=_0xee7e52[_0x285a38(0x197,0x17d,0x1aa,0x197)](_0x77501b[_0x427857(0x207,0x239,0x22a,0x233)],_0xee7e52['IHUtg']);return _0xee7e52[_0x285a38(0x14d,0x171,0x17b,0x145)](_0x2ac5e3,_0x28056b);}function _0xf377(_0x55cee6,_0x50beeb){_0x55cee6=_0x55cee6-(0x65*-0x27+-0x1*-0x56d+0xb98);const _0x421a59=_0x28c8();let _0x4e091e=_0x421a59[_0x55cee6];if(_0xf377['QKqQFP']===undefined){var _0xc6bec9=function(_0x1ee52b){const _0x6eef01='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x217aac='',_0x5e9fe3='',_0x3e570d=_0x217aac+_0xc6bec9;for(let _0x27786c=-0x1*0x5ff+0x1fa2+0x19a3*-0x1,_0x4aae86,_0x31a68a,_0x4acabf=0x155*-0x1a+-0x973+-0x8d1*-0x5;_0x31a68a=_0x1ee52b['charAt'](_0x4acabf++);~_0x31a68a&&(_0x4aae86=_0x27786c%(-0xbf7*-0x2+0x77a+0xa4*-0x31)?_0x4aae86*(-0x1*0x46f+-0x1373*0x2+0x2b95*0x1)+_0x31a68a:_0x31a68a,_0x27786c++%(0xe8+0x5*0x6da+-0x2326))?_0x217aac+=_0x3e570d['charCodeAt'](_0x4acabf+(0x526+-0x47*-0x4b+-0x19e9))-(-0x1abf+-0x185*0x2+0x5f7*0x5)!==0x13d+0x2660+-0x279d?String['fromCharCode'](-0x1*0x1925+0x14f5+0x52f&_0x4aae86>>(-(-0x2074*0x1+-0x1352+-0x8*-0x679)*_0x27786c&0x1ea6+0x1c44+-0x3ae4)):_0x27786c:0x2655*0x1+-0x2550+-0x105){_0x31a68a=_0x6eef01['indexOf'](_0x31a68a);}for(let _0x29268b=0x584*-0x2+0x72f+-0xc5*-0x5,_0x3afbbe=_0x217aac['length'];_0x29268b<_0x3afbbe;_0x29268b++){_0x5e9fe3+='%'+('00'+_0x217aac['charCodeAt'](_0x29268b)['toString'](-0xfff+0x1c1*0xd+-0x6be))['slice'](-(0x1*-0x11f2+-0x6f5+0x18e9));}return decodeURIComponent(_0x5e9fe3);};_0xf377['AkKscN']=_0xc6bec9,_0xf377['LzfoWz']={},_0xf377['QKqQFP']=!![];}const _0xfe5375=_0x421a59[0x317+0x1ca8*-0x1+0x1991],_0x497791=_0x55cee6+_0xfe5375,_0x30f69a=_0xf377['LzfoWz'][_0x497791];if(!_0x30f69a){const _0x317b7d=function(_0x4c49ad){this['bBLLdZ']=_0x4c49ad,this['OLdeQy']=[0x197d+-0x9*0x382+0x13*0x52,-0x80*0x1f+0xe0c+0x1*0x174,-0x2*-0x1f1+0x2027*0x1+0xf*-0x267],this['VXxkcU']=function(){return'newState';},this['YskJpG']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['tZmZXq']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x317b7d['prototype']['aixbIe']=function(){const _0x17f2e0=new RegExp(this['YskJpG']+this['tZmZXq']),_0x39934c=_0x17f2e0['test'](this['VXxkcU']['toString']())?--this['OLdeQy'][0x13*0x20a+-0x15ab*-0x1+-0x3c68]:--this['OLdeQy'][0xcb*0x29+0x2*0x7fa+-0x3077];return this['wvtYQJ'](_0x39934c);},_0x317b7d['prototype']['wvtYQJ']=function(_0x1c6019){if(!Boolean(~_0x1c6019))return _0x1c6019;return this['FLTcJG'](this['bBLLdZ']);},_0x317b7d['prototype']['FLTcJG']=function(_0x45f890){for(let _0x49aeeb=0x6*-0x58b+-0xb4b*0x1+-0x8e9*-0x5,_0x301c39=this['OLdeQy']['length'];_0x49aeeb<_0x301c39;_0x49aeeb++){this['OLdeQy']['push'](Math['round'](Math['random']())),_0x301c39=this['OLdeQy']['length'];}return _0x45f890(this['OLdeQy'][-0x17d+-0x116b+-0x25d*-0x8]);},new _0x317b7d(_0xf377)['aixbIe'](),_0x4e091e=_0xf377['AkKscN'](_0x4e091e),_0xf377['LzfoWz'][_0x497791]=_0x4e091e;}else _0x4e091e=_0x30f69a;return _0x4e091e;}async function pingViaSillyTavern(){const _0x5d771d={'lvShs':_0x38d2d7(-0xd6,-0xe9,-0xfb,-0xbd)+_0x4686bb(0x41c,0x446,0x42a,0x426)+_0x4686bb(0x413,0x418,0x41c,0x406)+_0x38d2d7(-0xd3,-0xbc,-0x9c,-0x92),'asYbh':function(_0x2f9d44,_0x3ee7ab,_0x42284a){return _0x2f9d44(_0x3ee7ab,_0x42284a);},'ZmrWZ':_0x38d2d7(-0xbd,-0xcb,-0xf1,-0xd8)+'mfy/ping','hvCsy':_0x38d2d7(-0xe7,-0xc7,-0xc4,-0xa3),'MsTiW':_0x38d2d7(-0x109,-0xe9,-0xde,-0x10e)+_0x38d2d7(-0xa6,-0xd5,-0xdd,-0xdb)+'Ping\x20失败\x20(v'+_0x38d2d7(-0xbc,-0xe7,-0xe9,-0xba)+_0x38d2d7(-0xbf,-0xe1,-0xc8,-0xfc),'hnEPR':_0x38d2d7(-0xd9,-0xe9,-0x104,-0xd0)+'eepAlive]\x20'+_0x38d2d7(-0xc1,-0xd9,-0xf9,-0xed)+_0x38d2d7(-0xe0,-0xe7,-0xc7,-0xd0)+'vern):'};function _0x38d2d7(_0x236738,_0x4dea26,_0x313112,_0x4b46ec){return _0xf377(_0x4dea26- -0x2b2,_0x236738);}function _0x4686bb(_0x10d509,_0x9fb9cb,_0x461fd3,_0x13f7cf){return _0xf377(_0x461fd3-0x24d,_0x13f7cf);}try{const _0xbddf0e=extension_settings[extensionName]?.['comfyuiUrl']?.[_0x4686bb(0x3d9,0x3ff,0x3f3,0x40c)]();if(!_0xbddf0e){console[_0x38d2d7(-0x9d,-0xb6,-0x8f,-0x8d)](_0x5d771d['lvShs']);return;}const _0x4cfd21={};_0x4cfd21[_0x38d2d7(-0xf5,-0xe4,-0xf0,-0xd0)]=_0xbddf0e;const _0xbf91c3=await _0x5d771d['asYbh'](fetch,_0x5d771d[_0x4686bb(0x428,0x444,0x448,0x46f)],{'method':_0x5d771d['hvCsy'],'headers':getRequestHeaders(window['token']),'body':JSON[_0x4686bb(0x400,0x3fe,0x3fb,0x3e5)](_0x4cfd21)});_0xbf91c3['ok']?console[_0x4686bb(0x42e,0x472,0x449,0x468)](_0x4686bb(0x3fb,0x436,0x416,0x42b)+_0x4686bb(0x448,0x409,0x42a,0x41f)+_0x38d2d7(-0xd4,-0xd7,-0xeb,-0xea)+_0x4686bb(0x441,0x3ee,0x418,0x406)+_0x4686bb(0x3f5,0x3ec,0x408,0x3f7)):console['log'](_0x5d771d[_0x4686bb(0x422,0x3f7,0x3fc,0x421)],_0xbf91c3['status']);}catch(_0x13b7b9){console[_0x4686bb(0x45d,0x42e,0x449,0x44c)](_0x5d771d[_0x4686bb(0x42f,0x40b,0x403,0x40a)],_0x13b7b9[_0x38d2d7(-0xa2,-0xcd,-0xee,-0xad)]);}}async function pingDirect(){function _0x22356e(_0x14fe29,_0x25e3bd,_0x4d630c,_0x32a2bf){return _0xf377(_0x32a2bf-0x128,_0x14fe29);}function _0x24f6ad(_0x30f327,_0x1d028f,_0x28ba40,_0x3a5e38){return _0xf377(_0x30f327-0x2fb,_0x3a5e38);}const _0x4aed83={'GNaeE':_0x24f6ad(0x4c4,0x4ed,0x4d6,0x4ac)+_0x22356e(0x2f2,0x31f,0x2f6,0x305)+_0x24f6ad(0x4b2,0x4c7,0x48f,0x4af)+'活','vfhBz':function(_0x33fe4e,_0x42d71a){return _0x33fe4e(_0x42d71a);},'FMCFk':function(_0x540b03){return _0x540b03();},'zEYSM':'IRxkA','XekQu':'[ComfyUI\x20K'+_0x22356e(0x2f0,0x324,0x331,0x305)+_0x24f6ad(0x4ca,0x4ab,0x4c3,0x4ac)+_0x22356e(0x2f9,0x346,0x311,0x31e),'GjHcS':function(_0x2be1a1,_0x59becf,_0xbc5681){return _0x2be1a1(_0x59becf,_0xbc5681);},'VPHTv':_0x22356e(0x33f,0x336,0x342,0x326),'jfODB':_0x24f6ad(0x4ba,0x4a3,0x498,0x4dc)+_0x22356e(0x341,0x301,0x310,0x321),'kkuFI':function(_0x1e9152,_0x18aeb9){return _0x1e9152===_0x18aeb9;},'kPBCj':_0x24f6ad(0x4bd,0x4ea,0x4d8,0x4a8),'scAcs':_0x22356e(0x2f8,0x319,0x301,0x2f1)+_0x22356e(0x2f0,0x315,0x2e0,0x305)+_0x22356e(0x33f,0x324,0x31a,0x325)+_0x24f6ad(0x4e4,0x4ce,0x4d6,0x4b6),'nqWte':_0x24f6ad(0x4c4,0x4c5,0x4bb,0x4d1)+_0x22356e(0x2ea,0x30b,0x333,0x305)+_0x22356e(0x31a,0x2d2,0x2f1,0x2fb)+_0x24f6ad(0x4e9,0x4ca,0x4db,0x4bf),'hZzJb':_0x22356e(0x300,0x30a,0x304,0x2f1)+'eepAlive]\x20'+'Ping\x20异常\x20(d'+_0x24f6ad(0x4e9,0x4f4,0x4d6,0x4e2)};try{if(_0x4aed83['zEYSM']!==_0x4aed83[_0x24f6ad(0x4ab,0x488,0x4cc,0x4d9)]){_0x58c2b6[_0x22356e(0x34d,0x314,0x32a,0x324)](_0x4aed83[_0x22356e(0x2d7,0x2db,0x2c5,0x2f4)]);return;}else{const _0x1c32d1=extension_settings[extensionName]?.[_0x24f6ad(0x4a2,0x4ac,0x4cc,0x4b1)]?.[_0x22356e(0x2f4,0x2ac,0x2a1,0x2ce)]();if(!_0x1c32d1){console['log'](_0x4aed83['XekQu']);return;}const _0x3360cf=await _0x4aed83[_0x24f6ad(0x4e8,0x4e7,0x4c3,0x4ea)](fetch,_0x1c32d1+('/system_st'+_0x24f6ad(0x4b9,0x4a8,0x4b8,0x4a7)),{'method':_0x4aed83[_0x24f6ad(0x4d5,0x4d8,0x4dd,0x4f8)],'headers':{'Content-Type':_0x4aed83['jfODB']}});_0x3360cf['ok']?_0x4aed83[_0x22356e(0x2fa,0x2f5,0x2c6,0x2d2)](_0x4aed83['kPBCj'],_0x4aed83[_0x24f6ad(0x4b5,0x4be,0x490,0x4db)])?console[_0x24f6ad(0x4f7,0x50b,0x502,0x4ec)](_0x4aed83['scAcs']):(_0x5ef9bc[_0x22356e(0x33c,0x308,0x31b,0x324)](_0x24f6ad(0x4c4,0x4d1,0x4ef,0x4c7)+_0x24f6ad(0x4d8,0x4e9,0x4bf,0x4c0)+_0x24f6ad(0x4a3,0x4b6,0x49c,0x4bb)),_0x4aed83[_0x24f6ad(0x4be,0x49e,0x4c4,0x4bf)](_0x4a21e2,_0x508438),_0x3d5aa8=null):console[_0x24f6ad(0x4f7,0x513,0x4f0,0x505)](_0x4aed83['nqWte'],_0x3360cf[_0x22356e(0x32d,0x30f,0x2f7,0x31f)]);}}catch(_0x765112){_0x24f6ad(0x4cf,0x4f4,0x4ae,0x4bf)!==_0x22356e(0x2e6,0x2f3,0x305,0x2fc)?_0x4aed83[_0x22356e(0x2f1,0x2cb,0x2b2,0x2cd)](_0x14718c):console[_0x24f6ad(0x4f7,0x515,0x4ca,0x4f3)](_0x4aed83[_0x24f6ad(0x4f0,0x505,0x4fd,0x4d7)],_0x765112[_0x22356e(0x328,0x339,0x2e2,0x30d)]);}}async function doPing(){const _0x2273a9={'QTbbd':_0x2d4cca(0x35c,0x380,0x355,0x37d)+_0x2d4cca(0x396,0x37f,0x379,0x391)+_0x2d4cca(0x393,0x38b,0x36e,0x395),'iZzpY':function(_0x19d54f){return _0x19d54f();},'dnZKX':_0x2d4cca(0x365,0x37e,0x372,0x37d)+_0x2d4cca(0x36f,0x3a2,0x396,0x391)+_0x2f51e2(0x13a,0x12a,0x12d,0x119)+_0x2f51e2(0x128,0x108,0x143,0x124),'NnVTi':function(_0x7aa6b6,_0x34ae88){return _0x7aa6b6===_0x34ae88;},'JgMfZ':function(_0x1d3df5,_0x16dc0d){return _0x1d3df5!==_0x16dc0d;},'bLzOE':'uoKDl','wxoqt':_0x2f51e2(0xeb,0xf6,0xf3,0xd5),'HHToG':function(_0x320992){return _0x320992();}};function _0x2d4cca(_0x3bc2bf,_0x3c6dc6,_0x2505b5,_0x430725){return _0xf377(_0x430725-0x1b4,_0x3c6dc6);}function _0x2f51e2(_0x2cd862,_0x3d0e9e,_0x55ed2d,_0x367628){return _0xf377(_0x2cd862- -0xb8,_0x3d0e9e);}if(!_0x2273a9[_0x2f51e2(0x101,0x102,0xeb,0x12f)](shouldKeepAlive)){console['log'](_0x2273a9[_0x2d4cca(0x382,0x36b,0x352,0x366)]);return;}const _0x232a73=extension_settings[extensionName]?.['client'];_0x2273a9['NnVTi'](_0x232a73,_0x2f51e2(0x108,0xef,0x12c,0x100))?_0x2273a9[_0x2d4cca(0x3a4,0x3ac,0x36d,0x38a)](_0x2273a9[_0x2d4cca(0x3b8,0x387,0x3b0,0x3a4)],_0x2273a9[_0x2f51e2(0xf9,0xe9,0x112,0xcc)])?await _0x2273a9[_0x2d4cca(0x392,0x362,0x353,0x36d)](pingViaSillyTavern):(_0x91d572['log'](_0x2273a9['QTbbd']),_0x2273a9[_0x2d4cca(0x34f,0x397,0x35f,0x36d)](_0x55cee6)):await _0x2273a9['HHToG'](pingDirect);}export function startKeepAlive(){const _0x3771ad={'bsQGn':_0x2ffb29(0x92,0x67,0x94,0x81),'Stunm':function(_0x1c1161){return _0x1c1161();},'iceGs':function(_0x2849b8,_0x4ad1df,_0x2ce551){return _0x2849b8(_0x4ad1df,_0x2ce551);},'inGuE':_0x2ffb29(0x88,0x8f,0xb1,0xa6)+'eepAlive]\x20'+_0xbedee7(0x212,0x23a,0x1e9,0x1e7)+'活','aHtTa':_0x2ffb29(0xbb,0x9b,0xb1,0x86)+_0x2ffb29(0xc2,0xda,0xc5,0xdf)+_0x2ffb29(0xc4,0x8a,0x9c,0x93)+':'},_0x41d96b=_0x3771ad['bsQGn']['split']('|');function _0x2ffb29(_0x3052c6,_0x2484e0,_0x36f468,_0x13a835){return _0xf377(_0x36f468- -0x118,_0x3052c6);}let _0x4e2688=-0x4*0x2bd+0x2265+0x11*-0x161;function _0xbedee7(_0x3a619e,_0x268a56,_0x4dfa73,_0x318ac8){return _0xf377(_0x3a619e-0x5b,_0x4dfa73);}while(!![]){switch(_0x41d96b[_0x4e2688++]){case'0':_0x3771ad[_0x2ffb29(0x89,0xc3,0xb0,0x9b)](stopKeepAlive);continue;case'1':keepAliveTimer=_0x3771ad[_0x2ffb29(0x71,0x82,0x93,0x8a)](setInterval,doPing,KEEP_ALIVE_INTERVAL);continue;case'2':_0x3771ad[_0x2ffb29(0x8e,0xa3,0xb0,0x8f)](doPing);continue;case'3':if(!_0x3771ad[_0xbedee7(0x223,0x24d,0x224,0x225)](shouldKeepAlive)){console['log'](_0x3771ad[_0x2ffb29(0xa9,0xb9,0xad,0x81)]);return;}continue;case'4':console[_0x2ffb29(0x105,0xd5,0xe4,0xb6)](_0x3771ad[_0x2ffb29(0xb5,0x9a,0xc6,0xe6)],KEEP_ALIVE_INTERVAL,'ms');continue;}break;}}export function stopKeepAlive(){function _0x4a3402(_0x2f6a3a,_0x7dade9,_0x434058,_0x381b78){return _0xf377(_0x434058- -0x31f,_0x2f6a3a);}const _0x2f0831={'PWUUq':_0x16d658(-0x4b,-0x38,-0x49,-0x49)+_0x4a3402(-0x11f,-0x160,-0x142,-0x139)+_0x4a3402(-0x152,-0x15d,-0x177,-0x159),'KzCcF':function(_0x1c9bc8,_0x52ef51){return _0x1c9bc8(_0x52ef51);}};function _0x16d658(_0x365a9a,_0x5cc249,_0x4f7cd6,_0x53ff02){return _0xf377(_0x4f7cd6- -0x212,_0x365a9a);}keepAliveTimer&&(console[_0x4a3402(-0x120,-0x118,-0x123,-0xfb)](_0x2f0831[_0x16d658(-0x83,-0x60,-0x70,-0x5b)]),_0x2f0831[_0x4a3402(-0x159,-0x111,-0x12c,-0x13c)](clearInterval,keepAliveTimer),keepAliveTimer=null);}export function updateKeepAliveStatus(){const _0x3e9a84={'JpGBD':function(_0x203bf6){return _0x203bf6();},'CPFsy':_0xeb1528(0x160,0x175,0x14d,0x167)+'eepAlive]\x20'+_0xeb1528(0x170,0x175,0x157,0x136)+_0xeb1528(0x184,0x195,0x172,0x186),'POzrg':_0xeb1528(0x151,0x128,0x14d,0x132)+_0x4b2675(0x298,0x2d0,0x2a5,0x2b1)+_0x4b2675(0x2ae,0x2a4,0x2b9,0x2d1)+_0x4b2675(0x2dc,0x2a4,0x2a5,0x2bd),'oumSU':function(_0x244eae,_0x4ed995){return _0x244eae===_0x4ed995;},'ECpxY':'ruoPS','cChFN':_0x4b2675(0x272,0x26c,0x2a2,0x287),'LemAw':function(_0x4ba499){return _0x4ba499();}};function _0xeb1528(_0x267b7a,_0x333e38,_0x5cca27,_0x1af26c){return _0xf377(_0x5cca27- -0x7c,_0x267b7a);}function _0x4b2675(_0x3f3102,_0x220c7c,_0x7c1185,_0xfc307f){return _0xf377(_0xfc307f-0xd4,_0x7c1185);}_0x3e9a84['JpGBD'](shouldKeepAlive)?_0x3e9a84['oumSU'](_0xeb1528(0x16d,0x13b,0x167,0x192),_0x3e9a84[_0xeb1528(0x134,0x154,0x14b,0x132)])?!keepAliveTimer&&(_0x3e9a84[_0x4b2675(0x2df,0x2a7,0x2ce,0x2c5)]===_0x3e9a84[_0xeb1528(0x157,0x156,0x175,0x17b)]?startKeepAlive():_0x4328e8()?!_0x37c507&&_0x3e9a84[_0x4b2675(0x2b1,0x2ed,0x2d0,0x2c8)](_0x71901b):_0x3e9a84[_0x4b2675(0x2e5,0x2be,0x2b6,0x2c8)](_0x21e7cb)):_0x1b902c[_0xeb1528(0x15c,0x1a2,0x180,0x168)](_0x3e9a84[_0xeb1528(0x197,0x162,0x17c,0x19f)],_0x2f1465[_0xeb1528(0x17e,0x17c,0x17b,0x170)]):_0xeb1528(0x133,0x123,0x139,0x11e)!==_0xeb1528(0x10f,0x128,0x139,0x12a)?_0x225edd['log'](_0x3e9a84[_0xeb1528(0x154,0x14c,0x16c,0x147)]):_0x3e9a84[_0x4b2675(0x2d6,0x28c,0x2da,0x2ba)](stopKeepAlive);}export function initializeKeepAlive(){function _0x26c1ee(_0x58d36b,_0x59e873,_0x49f402,_0x22a58f){return _0xf377(_0x58d36b- -0x2f8,_0x49f402);}const _0x2bc274={'gCINj':function(_0x3f5c9b){return _0x3f5c9b();}};function _0x3b32a3(_0x1a078d,_0x56901b,_0x179a5a,_0x20303f){return _0xf377(_0x56901b- -0x1c1,_0x20303f);}console['log'](_0x26c1ee(-0x12f,-0x142,-0x14a,-0x14e)+_0x3b32a3(0x21,0x1c,-0x12,0x2e)+_0x26c1ee(-0x117,-0x12d,-0x13f,-0x144)),_0x2bc274['gCINj'](updateKeepAliveStatus);}
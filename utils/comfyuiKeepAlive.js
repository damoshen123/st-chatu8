function _0x2cbd(_0xc50cb8,_0x4ba842){_0xc50cb8=_0xc50cb8-(-0x191b*-0x1+0x1*-0x1c95+0x47c);const _0x517faa=_0x2fe3();let _0x4b9de9=_0x517faa[_0xc50cb8];if(_0x2cbd['oWVJkP']===undefined){var _0x103bae=function(_0x1bc4b3){const _0x1892a4='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4dd2b8='',_0x4d2991='',_0x4402d6=_0x4dd2b8+_0x103bae;for(let _0xb23071=0x1*0x8e0+0x1616+-0x1ef6,_0x3ad055,_0x362876,_0x5745c9=0xd7c*-0x1+0x1902+-0xb86;_0x362876=_0x1bc4b3['charAt'](_0x5745c9++);~_0x362876&&(_0x3ad055=_0xb23071%(0x1*0x200+-0x25e9+0x23ed)?_0x3ad055*(-0x1*-0x270e+0x3*0x93f+0x1*-0x428b)+_0x362876:_0x362876,_0xb23071++%(-0x1*0x8a1+0x557*-0x3+0x18aa))?_0x4dd2b8+=_0x4402d6['charCodeAt'](_0x5745c9+(0xe81*-0x1+0x79c+-0x1*-0x6ef))-(-0x5*-0x71b+0x9*0x226+0x23*-0x191)!==0x2408+0x9ec+-0xad*0x44?String['fromCharCode'](0xcb6+-0xea*0x24+-0x5*-0x43d&_0x3ad055>>(-(0x1*-0x1d69+0xb47*-0x3+0xfd0*0x4)*_0xb23071&-0xd*-0x2ed+0x1d5*0x9+0x8*-0x6d0)):_0xb23071:-0xe50+-0xad3+0x1923){_0x362876=_0x1892a4['indexOf'](_0x362876);}for(let _0x227574=-0x1*-0x1b6b+0x1422+-0x2f8d,_0x2d43aa=_0x4dd2b8['length'];_0x227574<_0x2d43aa;_0x227574++){_0x4d2991+='%'+('00'+_0x4dd2b8['charCodeAt'](_0x227574)['toString'](-0x424*0x9+-0x1*-0x8e0+0x1c74))['slice'](-(-0xe5*-0xd+-0x199b+0x2*0x6fe));}return decodeURIComponent(_0x4d2991);};_0x2cbd['HEbIPI']=_0x103bae,_0x2cbd['KSCvMy']={},_0x2cbd['oWVJkP']=!![];}const _0x4320a7=_0x517faa[0x1e78+0x19f2*-0x1+0xc1*-0x6],_0x49501a=_0xc50cb8+_0x4320a7,_0x3b192e=_0x2cbd['KSCvMy'][_0x49501a];if(!_0x3b192e){const _0x4bcd59=function(_0xf26361){this['SzXkyW']=_0xf26361,this['rcSTEZ']=[-0x7bc+0x193b*-0x1+0x20f8,0x2*-0x11f5+0x2*-0x1f7+0x27d8,-0xcd2+-0x1e0e+0x2ae0],this['pPWTuH']=function(){return'newState';},this['JjmsRC']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['jIoQPY']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x4bcd59['prototype']['sjXxqh']=function(){const _0xd8f880=new RegExp(this['JjmsRC']+this['jIoQPY']),_0x2f9cc2=_0xd8f880['test'](this['pPWTuH']['toString']())?--this['rcSTEZ'][-0x1a48+-0xd04+0x274d]:--this['rcSTEZ'][0x1b07+-0x77*0x13+-0x1232];return this['waYJyO'](_0x2f9cc2);},_0x4bcd59['prototype']['waYJyO']=function(_0x529f2c){if(!Boolean(~_0x529f2c))return _0x529f2c;return this['jqIsuw'](this['SzXkyW']);},_0x4bcd59['prototype']['jqIsuw']=function(_0x3d7faa){for(let _0x443727=-0xb45+-0x2*-0x956+0x17b*-0x5,_0x17b210=this['rcSTEZ']['length'];_0x443727<_0x17b210;_0x443727++){this['rcSTEZ']['push'](Math['round'](Math['random']())),_0x17b210=this['rcSTEZ']['length'];}return _0x3d7faa(this['rcSTEZ'][-0x125b*0x1+-0x4*0x432+0x707*0x5]);},new _0x4bcd59(_0x2cbd)['sjXxqh'](),_0x4b9de9=_0x2cbd['HEbIPI'](_0x4b9de9),_0x2cbd['KSCvMy'][_0x49501a]=_0x4b9de9;}else _0x4b9de9=_0x3b192e;return _0x4b9de9;}(function(_0x4b2c4e,_0xf8b0d5){function _0xb71d0b(_0x1c071e,_0x31facf,_0x7b4196,_0x281ec5){return _0x2cbd(_0x281ec5- -0x3c,_0x1c071e);}const _0x524421=_0x4b2c4e();function _0x16255d(_0x27815a,_0x146f46,_0x5c1de4,_0x42c0b3){return _0x2cbd(_0x146f46- -0x31,_0x42c0b3);}while(!![]){try{const _0x8d4f64=parseInt(_0xb71d0b(0x131,0x115,0x11c,0x103))/(-0x2453+-0x25de+0x1*0x4a32)+parseInt(_0xb71d0b(0xf9,0x105,0x140,0x122))/(-0x1ff2+0x16a4+0x1*0x950)+parseInt(_0x16255d(0x107,0x12a,0x10e,0x140))/(-0x1936+0x2*-0xd2e+-0x8b*-0x5f)+-parseInt(_0xb71d0b(0xd9,0xf4,0xcf,0xdc))/(0x14ca+0x19a7+-0x2e6d)*(parseInt(_0xb71d0b(0xef,0xbd,0xda,0xe6))/(0x214c+0x3*-0x819+0x5c*-0x19))+parseInt(_0xb71d0b(0xd7,0xcc,0xd4,0xde))/(0x1b28+-0x1444+-0x6de)+-parseInt(_0xb71d0b(0xd8,0x10a,0x12b,0xfc))/(-0x1*-0x4f3+0x3*-0x9a3+0x17fd)*(parseInt(_0x16255d(0x125,0x11a,0x136,0xf6))/(0x1628+0xc3*0x22+-0x3006))+-parseInt(_0xb71d0b(0xdf,0xea,0xbc,0xdd))/(-0xdca+-0x4*-0x67b+0xa3*-0x13)*(parseInt(_0xb71d0b(0xb3,0xc7,0xb6,0xcf))/(-0x262f+0x1*-0x1e9d+-0x216*-0x21));if(_0x8d4f64===_0xf8b0d5)break;else _0x524421['push'](_0x524421['shift']());}catch(_0x5d423f){_0x524421['push'](_0x524421['shift']());}}}(_0x2fe3,-0x8815*0xb+0x26945+0x65e2f));const _0x41e59f=(function(){function _0x21aeb1(_0x2b4ad7,_0x2135d2,_0x38ab7f,_0x5d256e){return _0x2cbd(_0x2135d2- -0x194,_0x38ab7f);}const _0x1ba3a3={'xjkcv':function(_0x77e47f,_0x3344fc){return _0x77e47f===_0x3344fc;},'CadUl':_0x3ccff1(0x0,0x50,0x21,0x4a),'aLREr':function(_0x5bcdf5,_0x88b986,_0x3d2a45){return _0x5bcdf5(_0x88b986,_0x3d2a45);},'JXnWY':function(_0x5d63de){return _0x5d63de();},'WJLDj':'[ComfyUI\x20K'+_0x21aeb1(-0x90,-0x73,-0x96,-0x47)+'启动保活定时器，间隔'+':'};let _0x2b8fae=!![];function _0x3ccff1(_0x9c8de8,_0x45727a,_0x1dae37,_0x2ffd8b){return _0x2cbd(_0x1dae37- -0x104,_0x45727a);}return function(_0x2a22f5,_0x567273){function _0x16b51e(_0x5abf64,_0xdafab7,_0x1716a4,_0x13d393){return _0x21aeb1(_0x5abf64-0x47,_0x13d393-0x180,_0xdafab7,_0x13d393-0x15f);}const _0x193a49={'nYwNG':_0x16b51e(0xf7,0x115,0x139,0x113),'ApFzp':function(_0xaf2527){return _0xaf2527();},'BsYyN':function(_0x24ee51,_0xf3f0d3,_0x21493d){function _0x459a3f(_0x4dd795,_0x34aeb1,_0x52ae2a,_0x2bfa15){return _0x16b51e(_0x4dd795-0xd2,_0x34aeb1,_0x52ae2a-0x198,_0x52ae2a-0x3b9);}return _0x1ba3a3[_0x459a3f(0x49c,0x49f,0x4b4,0x4b3)](_0x24ee51,_0xf3f0d3,_0x21493d);},'jRsxQ':function(_0x3e9007){function _0x23577a(_0x45a8b1,_0x30a362,_0x19c13b,_0x1284d8){return _0x16b51e(_0x45a8b1-0x142,_0x1284d8,_0x19c13b-0x1da,_0x45a8b1-0x89);}return _0x1ba3a3[_0x23577a(0x1b1,0x1ad,0x1b3,0x1b4)](_0x3e9007);},'JmqDI':_0x1ba3a3[_0x16b51e(0x155,0x10f,0x131,0x13a)]},_0x208368=_0x2b8fae?function(){function _0x263eea(_0x2fd867,_0x376cc6,_0x5347cc,_0x52678a){return _0x3c9cdd(_0x5347cc,_0x376cc6-0x184,_0x5347cc-0x1b0,_0x2fd867-0x12d);}function _0x264de2(_0x443a8f,_0x53cf48,_0x2845ce,_0x271b27){return _0x3c9cdd(_0x53cf48,_0x53cf48-0xa0,_0x2845ce-0x45,_0x271b27- -0x361);}if(_0x567273){if(_0x1ba3a3[_0x263eea(0x2f7,0x2ed,0x2d6,0x323)](_0x1ba3a3[_0x264de2(-0x196,-0x19a,-0x1a3,-0x1a0)],'clVZq')){const _0x1b75ec=_0x193a49['nYwNG']['split']('|');let _0x4f850f=0x468+0x27*0x41+-0x3*0x4c5;while(!![]){switch(_0x1b75ec[_0x4f850f++]){case'0':_0x193a49[_0x264de2(-0x19c,-0x15d,-0x166,-0x175)](_0x24050e);continue;case'1':_0x1b1f9d=_0x193a49[_0x263eea(0x2d3,0x2c9,0x2c0,0x2ad)](_0x372c4c,_0x29fe5d,_0x57eb5e);continue;case'2':if(!_0x193a49[_0x264de2(-0x1d8,-0x1d5,-0x1c0,-0x1b1)](_0x4a8144)){_0x4b2e48[_0x264de2(-0x1a5,-0x17a,-0x18a,-0x188)](_0x264de2(-0x16d,-0x16c,-0x14b,-0x166)+'eepAlive]\x20'+_0x264de2(-0x15c,-0x181,-0x15a,-0x184)+'活');return;}continue;case'3':_0x467ad8();continue;case'4':_0x1c409c['log'](_0x193a49[_0x263eea(0x32c,0x335,0x309,0x319)],_0x21eee3,'ms');continue;}break;}}else{const _0xeb5079=_0x567273['apply'](_0x2a22f5,arguments);return _0x567273=null,_0xeb5079;}}}:function(){};function _0x3c9cdd(_0x1a62b0,_0x2d649a,_0x373034,_0x5705d4){return _0x21aeb1(_0x1a62b0-0xd1,_0x5705d4-0x236,_0x1a62b0,_0x5705d4-0x60);}return _0x2b8fae=![],_0x208368;};}()),_0x13a4eb=_0x41e59f(this,function(){const _0x161c77={};function _0x1558af(_0x10ecf8,_0x8e677e,_0x3dfc5e,_0x1181e5){return _0x2cbd(_0x8e677e-0xf6,_0x10ecf8);}_0x161c77[_0x5ed29c(0x51d,0x506,0x4fc,0x4e1)]='(((.+)+)+)'+'+$';function _0x5ed29c(_0x1b381f,_0x5f0235,_0x1bd6c2,_0x4e8eb8){return _0x2cbd(_0x1bd6c2-0x3b3,_0x1b381f);}const _0x1353eb=_0x161c77;return _0x13a4eb[_0x1558af(0x248,0x23c,0x215,0x264)]()[_0x1558af(0x219,0x237,0x261,0x21a)](_0x1353eb[_0x5ed29c(0x4d0,0x4ea,0x4fc,0x501)])[_0x1558af(0x21a,0x23c,0x221,0x228)]()[_0x1558af(0x233,0x214,0x200,0x231)+'r'](_0x13a4eb)[_0x1558af(0x218,0x237,0x22d,0x253)]('(((.+)+)+)'+'+$');});function _0x2fe3(){const _0x4b3e8b=['CLv3z2O','DhjPBq','zenmB2W','qNnzEu4','Bw9Kzq','t0rHrNu','r0r2ywS','DezptMO','yxrZ','DvjPDvy','nZuWCuTRz2LW','DgvXC3y','qM5Ht0y','ALjZEfe','yuXsrxi','C2LNBMfS','y29TzNL1AvvYBa','tfj4wum','AMfYy28','Ehnlq3O','5zcV5yQO5l+D5Rs75A6A5PE25zMO77Ym6zE06zQu','q29ODNG','l3n5C3rLBv9ZDa','nfPXww5twq','ntm5nJrfC0TTwwG','mtu2mJCZnKDRwLDmuG','DLz1yNG','zeDsuw4','sMTdyKO','y29UC3rYDwn0BW','q2fKvwW','ChrzuM0','zwvWqwXPDMvDia','nZmYmJe1Cu9uq3nt','wMz1zKC','wuzftNC','v3DODfm','ue9tva','mhWYFdr8m3WX','EgPRy3y','ywjVCNq','BI9QC29U','A3fVCLm','yu9xzvy','sM5rA1a','Exrjqw8','C3rYAw5NAwz5','DwDAy2m','BK1QweO','y2f0y2G','z3neCNO','r1DmvLe','EwXMrw0','se9vq3K','Bg9N','otfqwe9JruG','r2fjtK4','vfjMD3G','5P2H5lU25lIn5RUH6lAZ77Ym5lIn5zcV5yQO5l+D','sLHUv1K','C1DSzLO','yxbWBhK','mtu0mJiXr2Doz3zu','r0nJyw4','C2vHCMnO','ExDyt1i','z3DtEgq','zMLUywXSEq','C2nYAxb0rw5HyG','Dg9tDhjPBMC','yuHYBg0','BhHqr2q','vfHfEK0','qxbgENa','mZiZntjUCM5JA2O','Dhj1zq','rfnkDvO','v0PmrgO','5ygC5Q2I5l+D5Rs75A6A5PE25zMO','uw9QCNC','yxbWBgLJyxrPBW','tvvUzMK','shbRBwi','Bwz5l3bPBMC','BMXdEei','qLrHEfi','BgvK','r0vu','w0nVBwz5vuKGsW','CNvLru8','ndiZmtu5v256ANnw','q3PPELe','sM1XreK','ntCWmJuYreDTwujt'];_0x2fe3=function(){return _0x4b3e8b;};return _0x2fe3();}_0x13a4eb();import{extension_settings}from'../../../../extensions.js';import{extensionName}from'./config.js';import{getRequestHeaders}from'./utils.js';let keepAliveTimer=null;const KEEP_ALIVE_INTERVAL=0x2c75+0x1*0x4b99+-0x2*0x287f,PING_TIMEOUT=-0x1b95+-0x1d9d+0x2*0x265d;function shouldKeepAlive(){const _0x136781={};_0x136781['tPubr']=function(_0x4e6bce,_0xc03951){return _0x4e6bce===_0xc03951;},_0x136781[_0x365886(-0x55,-0x90,-0x7e,-0x97)]=function(_0x450bfc,_0xe1a8eb){return _0x450bfc===_0xe1a8eb;},_0x136781[_0x365886(-0xae,-0xb0,-0x9e,-0xbf)]='comfyui';function _0x365886(_0x20972f,_0x29f66e,_0x3b4259,_0xfcae27){return _0x2cbd(_0x3b4259- -0x1c1,_0x20972f);}_0x136781[_0x365886(-0x71,-0x95,-0x8c,-0xa0)]=function(_0x1ddd1d,_0x3d5ef9){return _0x1ddd1d&&_0x3d5ef9;};function _0x5bfe37(_0x3c34ac,_0x19dea6,_0x25e8b3,_0x4c5d3e){return _0x2cbd(_0x3c34ac-0x1ce,_0x25e8b3);}const _0x332398=_0x136781,_0x215c72=extension_settings[extensionName];if(!_0x215c72)return![];const _0x37e0d6=_0x215c72[_0x5bfe37(0x313,0x2fb,0x302,0x318)+_0x365886(-0x50,-0x8c,-0x6a,-0x8b)]===!![]||_0x332398['tPubr'](_0x215c72[_0x365886(-0x96,-0x4d,-0x7c,-0x5d)+_0x5bfe37(0x325,0x2fa,0x2fd,0x329)],_0x5bfe37(0x31a,0x327,0x321,0x329)),_0x1b7c7a=_0x332398[_0x5bfe37(0x311,0x32c,0x327,0x2f6)](_0x215c72[_0x365886(-0xea,-0x92,-0xbc,-0xae)],_0x332398[_0x365886(-0x75,-0x74,-0x9e,-0x99)]);return _0x332398[_0x365886(-0x66,-0x7b,-0x8c,-0x72)](_0x37e0d6,_0x1b7c7a);}function pingViaSillyTavern(){const _0x5e7379={'xEVTI':function(_0x30ae6f,_0x58cd8d,_0x523cae){return _0x30ae6f(_0x58cd8d,_0x523cae);},'ODaFu':function(_0x2ffb66,_0x302fda,_0x1e7678){return _0x2ffb66(_0x302fda,_0x1e7678);},'aHrlm':'GET','oouEM':_0x20f69f(0xe2,0xf1,0xf6,0xe9)+'n/json','Qojrw':function(_0x44849d,_0x3605fc){return _0x44849d===_0x3605fc;},'nlCxB':_0x387fda(0x389,0x388,0x390,0x364),'CzizQ':function(_0xfacdee,_0x1aaffc){return _0xfacdee(_0x1aaffc);},'xsKCz':function(_0x286b40,_0x463770){return _0x286b40!==_0x463770;},'BTaxR':'veIBT','ywXOR':_0x387fda(0x3cd,0x3b5,0x3a6,0x3db),'vVubx':function(_0x1c3e5c,_0x4622a6,_0x109e39){return _0x1c3e5c(_0x4622a6,_0x109e39);},'LRxYC':'/api/sd/co'+_0x20f69f(0xd9,0xf4,0xca,0xcd),'GaINN':_0x387fda(0x3b2,0x38e,0x395,0x370)},_0x2fa077=extension_settings[extensionName]?.[_0x387fda(0x39c,0x379,0x37a,0x375)]?.[_0x387fda(0x35f,0x36a,0x379,0x383)]();if(!_0x2fa077){if(_0x5e7379[_0x387fda(0x3a5,0x37c,0x365,0x36e)](_0x5e7379[_0x387fda(0x3bf,0x3be,0x3c4,0x3af)],_0x5e7379[_0x387fda(0x3c5,0x3aa,0x390,0x387)]))return;else{const _0x5a39a2={'JkCbJ':function(_0x12f39b,_0x1f1627){return _0x12f39b(_0x1f1627);}},_0x3f0142=_0x44c5df[_0x2bb8dc]?.[_0x387fda(0x386,0x379,0x381,0x360)]?.[_0x387fda(0x397,0x36a,0x35f,0x35e)]();if(!_0x3f0142)return;const _0x19d88e=new _0x208cb7(),_0x4c37f1=_0x5e7379['xEVTI'](_0x3de1ba,()=>_0x19d88e[_0x387fda(0x382,0x391,0x365,0x3c0)](),_0x107033);_0x5e7379[_0x387fda(0x374,0x36e,0x37f,0x38b)](_0x40bcf2,_0x3f0142+(_0x387fda(0x37b,0x37f,0x3a5,0x386)+_0x387fda(0x38e,0x371,0x3a0,0x38f)),{'method':_0x5e7379[_0x20f69f(0x10e,0xe7,0xd8,0xd3)],'headers':{'Content-Type':_0x5e7379['oouEM']},'signal':_0x19d88e['signal']})[_0x387fda(0x3bd,0x39a,0x3c0,0x39e)](()=>{})['finally'](()=>{function _0x115546(_0x3baaee,_0x14375b,_0x50f984,_0x47d10e){return _0x387fda(_0x14375b,_0x50f984- -0x43,_0x50f984-0xd7,_0x47d10e-0xf4);}_0x5a39a2[_0x115546(0x336,0x336,0x342,0x314)](_0x172b00,_0x4c37f1);});}}const _0x5804b6=new AbortController(),_0x342434=setTimeout(()=>_0x5804b6[_0x20f69f(0xed,0xc9,0xe4,0xe0)](),PING_TIMEOUT),_0xac91bb={};function _0x20f69f(_0x107ba8,_0xb64e68,_0x44eb3b,_0x3fb1eb){return _0x2cbd(_0xb64e68- -0x60,_0x44eb3b);}function _0x387fda(_0x14494a,_0x6486b,_0xd4c86a,_0x658fee){return _0x2cbd(_0x6486b-0x268,_0x14494a);}_0xac91bb['url']=_0x2fa077,_0x5e7379[_0x20f69f(0xe1,0xbb,0x9c,0xa2)](fetch,_0x5e7379[_0x20f69f(0x87,0xb2,0xa8,0x96)],{'method':_0x5e7379[_0x20f69f(0x108,0xd9,0xb1,0xf7)],'headers':getRequestHeaders(window['token']),'body':JSON[_0x20f69f(0xd6,0xcf,0xad,0xdc)](_0xac91bb),'signal':_0x5804b6[_0x20f69f(0xc3,0xb0,0xa7,0xd2)]})[_0x387fda(0x3c5,0x39a,0x3b0,0x373)](()=>{})[_0x20f69f(0xf0,0xe4,0xe1,0x104)](()=>{function _0x210958(_0x54703c,_0x5223b8,_0x1dc1f4,_0x4d242d){return _0x20f69f(_0x54703c-0x1b2,_0x5223b8-0x435,_0x54703c,_0x4d242d-0x1d8);}function _0x10bc18(_0x1655c3,_0x463e11,_0x1b06c0,_0x544947){return _0x387fda(_0x544947,_0x1b06c0- -0xe0,_0x1b06c0-0xd,_0x544947-0x190);}if(_0x5e7379[_0x210958(0x543,0x525,0x536,0x4fb)](_0x5e7379[_0x210958(0x508,0x52a,0x536,0x546)],_0x210958(0x4ef,0x4f5,0x4f9,0x50d)))_0x5e7379[_0x210958(0x548,0x531,0x514,0x53f)](clearTimeout,_0x342434);else{const _0x5d9a35=_0x3f926c[_0x10bc18(0x2d3,0x2ce,0x2c6,0x2c5)](_0x289057,arguments);return _0x5cae1d=null,_0x5d9a35;}});}function pingDirect(){const _0x28be89={'GWLVQ':'(((.+)+)+)'+'+$','EzmCV':_0x4062d7(0x4f7,0x522,0x514,0x509),'QGHeu':function(_0xb31502,_0x3cd12e,_0x50e366){return _0xb31502(_0x3cd12e,_0x50e366);},'twkCy':function(_0x489010,_0x5723a4,_0x3c1177){return _0x489010(_0x5723a4,_0x3c1177);},'aOWeV':_0x4062d7(0x54c,0x54b,0x532,0x55e)},_0x24271a=extension_settings[extensionName]?.['comfyuiUrl']?.[_0x4062d7(0x4c0,0x4d4,0x4dc,0x4c1)]();function _0x4062d7(_0x1bcbfe,_0xd6032a,_0x1d9c8e,_0x506e73){return _0x2cbd(_0x1d9c8e-0x3da,_0xd6032a);}if(!_0x24271a){if('voiIP'!==_0x28be89['EzmCV'])return;else return _0x5baab4[_0x4062d7(0x510,0x54c,0x520,0x525)]()[_0x4062d7(0x522,0x524,0x51b,0x52b)](jnYGpC[_0x4062d7(0x517,0x507,0x50e,0x505)])[_0x3a198a(0x41a,0x446,0x442,0x420)]()[_0x4062d7(0x4f3,0x4e3,0x4f8,0x4f2)+'r'](_0x3bcc0e)[_0x3a198a(0x415,0x416,0x3fc,0x41b)](jnYGpC[_0x3a198a(0x415,0x436,0x3fd,0x40e)]);}const _0x4e8a1e=new AbortController(),_0x5a9a6e=_0x28be89['QGHeu'](setTimeout,()=>_0x4e8a1e[_0x3a198a(0x416,0x430,0x3e8,0x403)](),PING_TIMEOUT);function _0x3a198a(_0x38c50a,_0x2f17d6,_0x43f645,_0x73adf3){return _0x2cbd(_0x73adf3-0x2da,_0x43f645);}const _0x346a69={};_0x346a69['Content-Ty'+'pe']=_0x4062d7(0x559,0x508,0x52b,0x54e)+_0x3a198a(0x40f,0x42b,0x420,0x404),_0x28be89['twkCy'](fetch,_0x24271a+(_0x4062d7(0x4e4,0x4f4,0x4f1,0x4fa)+'ats'),{'method':_0x28be89[_0x4062d7(0x521,0x4e3,0x506,0x51d)],'headers':_0x346a69,'signal':_0x4e8a1e[_0x4062d7(0x4cf,0x4f6,0x4ea,0x4d4)]})[_0x4062d7(0x513,0x4dd,0x50c,0x517)](()=>{})['finally'](()=>{clearTimeout(_0x5a9a6e);});}function doPing(){function _0x296fb9(_0x433b46,_0x1d21e0,_0x54ab21,_0x461072){return _0x2cbd(_0x433b46- -0x19a,_0x54ab21);}const _0x51c8e9={'sWlfZ':'[ComfyUI\x20K'+'eepAlive]\x20'+_0x241dcf(0x2c7,0x2c9,0x2db,0x2ec)+'活','wqeZU':'jiuguan','MUnfi':_0x241dcf(0x2a8,0x298,0x289,0x29f),'ytIAo':function(_0x4c70f8){return _0x4c70f8();},'JnQkP':function(_0x593f0d,_0xb4b025){return _0x593f0d!==_0xb4b025;},'rHYxC':_0x241dcf(0x2a2,0x2a0,0x29c,0x2aa),'ugZcc':'yOXRY','dCLol':function(_0x21f3bb){return _0x21f3bb();}};if(!shouldKeepAlive())return;const _0x5bb379=extension_settings[extensionName]?.['client'];function _0x241dcf(_0x112843,_0x130a7f,_0x1500a0,_0x2baaeb){return _0x2cbd(_0x112843-0x18c,_0x1500a0);}if(_0x5bb379===_0x51c8e9['wqeZU']){if(_0x51c8e9['MUnfi']!==_0x51c8e9[_0x241dcf(0x2de,0x30b,0x2d1,0x2d4)])return;else _0x51c8e9[_0x296fb9(-0x6c,-0x55,-0x86,-0x52)](pingViaSillyTavern);}else{if(_0x51c8e9[_0x296fb9(-0x6d,-0x6a,-0x6a,-0x7e)](_0x51c8e9['rHYxC'],_0x51c8e9[_0x241dcf(0x2bc,0x2aa,0x2d6,0x2d2)]))_0x51c8e9[_0x296fb9(-0x97,-0x97,-0xb0,-0xc1)](pingDirect);else{_0x1b34f3[_0x241dcf(0x2c3,0x2d8,0x2d4,0x2cf)](_0x51c8e9[_0x241dcf(0x2c9,0x2db,0x2d0,0x2f7)]);return;}}}export function startKeepAlive(){function _0x151be8(_0x373e08,_0x1ac1cf,_0x272187,_0x82915d){return _0x2cbd(_0x82915d-0x195,_0x373e08);}const _0x52dd91={'gsDrz':function(_0x26c220,_0x1de1fa){return _0x26c220(_0x1de1fa);},'lxPGd':function(_0x5dc8fb){return _0x5dc8fb();},'BOGSZ':function(_0x2b6bab,_0x5621b8){return _0x2b6bab===_0x5621b8;},'wdQwf':_0x151be8(0x2bf,0x2e0,0x2b7,0x2c6),'uRiuV':'[ComfyUI\x20K'+_0x151be8(0x2ae,0x2c1,0x2af,0x2b6)+_0x5a640c(0xfd,0xf1,0xe3,0x10a)+'活','QQVdl':_0x151be8(0x2d3,0x2c3,0x2de,0x2ee)+_0x5a640c(0xd6,0xd2,0xc9,0xa0)+_0x5a640c(0xd6,0xe1,0xbd,0xd4)+':','GDvak':function(_0x3fa53b){return _0x3fa53b();},'rUwgj':function(_0x27a422,_0x57af60,_0x5ef4ba){return _0x27a422(_0x57af60,_0x5ef4ba);}};function _0x5a640c(_0x56ee5f,_0x2ceed4,_0x41d5d1,_0x207064){return _0x2cbd(_0x41d5d1- -0x58,_0x56ee5f);}_0x52dd91[_0x5a640c(0xdb,0xea,0xf0,0xd0)](stopKeepAlive);if(!_0x52dd91[_0x151be8(0x2e6,0x2de,0x2c0,0x2dd)](shouldKeepAlive)){if(_0x52dd91['BOGSZ'](_0x5a640c(0x82,0xd7,0xb0,0xc4),_0x52dd91['wdQwf']))_0x52dd91[_0x151be8(0x2c5,0x2e6,0x2e8,0x2c8)](_0x3101b4,_0x5ef2d8);else{console['log'](_0x52dd91[_0x5a640c(0xd8,0x9f,0xb2,0xb1)]);return;}}console[_0x151be8(0x2c0,0x2a5,0x2ed,0x2cc)](_0x52dd91['QQVdl'],KEEP_ALIVE_INTERVAL,'ms'),_0x52dd91[_0x151be8(0x2b4,0x2bd,0x290,0x29c)](doPing),keepAliveTimer=_0x52dd91[_0x5a640c(0xf1,0x118,0x107,0x124)](setInterval,doPing,KEEP_ALIVE_INTERVAL);}export function stopKeepAlive(){function _0x44ef69(_0x5746df,_0x2f500d,_0x7dc679,_0x310017){return _0x2cbd(_0x2f500d-0x11b,_0x310017);}function _0x5e890d(_0x5224c0,_0x5421ac,_0x8c763f,_0x3dc872){return _0x2cbd(_0x8c763f- -0x1b7,_0x3dc872);}const _0x469aba={'teqsv':'[ComfyUI\x20K'+_0x44ef69(0x24d,0x23c,0x268,0x247)+_0x5e890d(-0x6d,-0x4b,-0x68,-0x85),'BnaOF':function(_0xa81bb9,_0x47c8af){return _0xa81bb9(_0x47c8af);}};keepAliveTimer&&(console[_0x44ef69(0x275,0x252,0x23d,0x263)](_0x469aba[_0x44ef69(0x213,0x227,0x218,0x23d)]),_0x469aba[_0x44ef69(0x226,0x228,0x21b,0x248)](clearInterval,keepAliveTimer),keepAliveTimer=null);}export function updateKeepAliveStatus(){function _0x456299(_0x58297b,_0x1e680c,_0x2cb509,_0x21fe3f){return _0x2cbd(_0x21fe3f- -0x1a1,_0x1e680c);}const _0x573350={'HOUCy':_0x5d11ae(0x27e,0x279,0x29a,0x280)+'eepAlive]\x20'+_0x5d11ae(0x297,0x26f,0x290,0x25f),'aUzim':function(_0x2c0a14,_0x202b9c){return _0x2c0a14(_0x202b9c);},'Hpkmb':function(_0x353129){return _0x353129();},'YFENw':function(_0x4c355a){return _0x4c355a();}};function _0x5d11ae(_0x106b3c,_0xd547af,_0x26027d,_0x494087){return _0x2cbd(_0xd547af-0x120,_0x106b3c);}_0x573350['Hpkmb'](shouldKeepAlive)?!keepAliveTimer&&_0x573350[_0x456299(-0x48,-0x76,-0x38,-0x4e)](startKeepAlive):_0x456299(-0x65,-0x82,-0x8a,-0x61)===_0x456299(-0x95,-0xa9,-0x76,-0x8e)?_0x53c30b&&(_0x103bae[_0x456299(-0x8a,-0x55,-0x5e,-0x6a)](_0x573350[_0x5d11ae(0x27f,0x256,0x237,0x230)]),_0x573350['aUzim'](_0x4320a7,_0x49501a),_0x3b192e=null):_0x573350[_0x5d11ae(0x249,0x244,0x257,0x22c)](stopKeepAlive);}export function initializeKeepAlive(){const _0x52406d={'kqorS':_0x142099(0x180,0x154,0x16f,0x150)+'eepAlive]\x20'+'初始化保活模块','rueEO':function(_0x16c461){return _0x16c461();}};function _0x142099(_0x159aaf,_0x3a7f9d,_0x3eba2c,_0x23ae4f){return _0x2cbd(_0x3eba2c-0x16,_0x3a7f9d);}console[_0x142099(0x13c,0x14c,0x14d,0x122)](_0x52406d[_0x142099(0x12e,0x15e,0x141,0x13c)]);function _0x3ae5a6(_0xac0091,_0x2b1524,_0x8d69c3,_0x4c389b){return _0x2cbd(_0xac0091-0x20c,_0x2b1524);}_0x52406d[_0x142099(0x19b,0x17f,0x170,0x156)](updateKeepAliveStatus);}
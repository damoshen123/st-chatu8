(function(_0xcfc69c,_0x3010b){function _0x5aea2e(_0x192cd3,_0x20ad41,_0x208203,_0x4bf208){return _0xa3d0(_0x4bf208- -0x30,_0x20ad41);}function _0x5d89cd(_0x31a95a,_0x4cdc78,_0x308864,_0x45fb84){return _0xa3d0(_0x4cdc78- -0x14d,_0x31a95a);}const _0x309551=_0xcfc69c();while(!![]){try{const _0x1169fe=-parseInt(_0x5aea2e(0x1da,0x11c,0x11c,0x147))/(0x61f*-0x1+0x2341*0x1+-0x1d21)*(-parseInt(_0x5aea2e(0x11d,0x165,0x8,0xd8))/(-0x1df2+-0x26d5*-0x1+-0x8e1))+-parseInt(_0x5aea2e(0x6f,0x6d,0x13d,0xff))/(-0x1281+-0x2f3+0x1577)*(parseInt(_0x5aea2e(0x1be,0x26d,0x1c4,0x1f2))/(0x1d06+0x19*0x145+-0x3cbf*0x1))+parseInt(_0x5d89cd(0x3b,-0x40,-0xb,-0x4c))/(-0x1b74+-0x7d*0x1a+-0x5b*-0x71)*(-parseInt(_0x5d89cd(-0x45,-0x65,0x66,-0x1))/(0x135d+-0x1fd7+0xc80))+-parseInt(_0x5aea2e(0xc4,0x60,0x1e9,0x120))/(-0xa79*-0x1+0x2*0x114a+-0x2d06)+parseInt(_0x5aea2e(0x78,0x134,0xce,0x150))/(-0x1d4b+-0xa*-0x1b5+0xc41)*(parseInt(_0x5aea2e(0x87,0xfd,0x160,0x11b))/(0x128*0xc+0x2bb+-0x1092))+-parseInt(_0x5d89cd(0x1bd,0x119,0x185,0x1ed))/(-0x9cb+0x23c6+-0x19f1)*(parseInt(_0x5d89cd(0x9c,0x11a,0xd7,0x174))/(-0x823+-0xc6a+0x1498))+-parseInt(_0x5d89cd(0x10,0xa8,0xbc,0x12))/(-0x9d5+0x13bd+-0x9dc)*(-parseInt(_0x5aea2e(0x16f,0x5e,0x155,0xec))/(0x5*0x365+0x7f*-0xb+0xb77*-0x1));if(_0x1169fe===_0x3010b)break;else _0x309551['push'](_0x309551['shift']());}catch(_0x1ef4d4){_0x309551['push'](_0x309551['shift']());}}}(_0x2be3,-0xea*-0x314+0x116ba*0x1+0xf454));const _0x3bb6d6=(function(){function _0x4aff3b(_0x42ebce,_0x2c6d0f,_0x2c4100,_0x1e57d6){return _0xa3d0(_0x1e57d6-0xca,_0x2c4100);}const _0x2272ce={'qyzif':_0x11850d(-0x173,-0x1c1,-0xc8,-0x19a)+_0x11850d(-0x93,-0x1ec,-0x69,-0x124)+_0x4aff3b(0x162,0x14d,0x227,0x219),'haITq':function(_0x145eff,_0x589a1a){return _0x145eff(_0x589a1a);},'TqOkz':_0x11850d(-0x15b,-0x293,-0x181,-0x1eb)};function _0x11850d(_0x2e3c40,_0x489fab,_0x42c60b,_0x2468d0){return _0xa3d0(_0x2468d0- -0x2cd,_0x2e3c40);}let _0x58094a=!![];return function(_0x5b3745,_0x2aa9b3){const _0x1ee28a={'RJodI':_0x2272ce[_0xfd688(-0x3a,-0x8,0x35,-0x112)],'TpiVp':function(_0x10a02b,_0x2c79b0){function _0x5564a6(_0x238ec6,_0x3b6ddc,_0x26923b,_0x20dcdf){return _0xfd688(_0x3b6ddc-0x213,_0x3b6ddc-0x114,_0x238ec6,_0x20dcdf-0x2e);}return _0x2272ce[_0x5564a6(0x304,0x2cc,0x2c7,0x38c)](_0x10a02b,_0x2c79b0);},'cNsVf':'[Banana]\x20生'+_0xfd688(0xd6,0xfa,0x141,0x66),'SFbXE':'mGGQt','NdMZF':_0x2272ce[_0xfd688(0x141,0x8c,0x101,0x1fb)]},_0xd3f704=_0x58094a?function(){function _0x20caf0(_0x343b8b,_0x49e3c7,_0x39901a,_0x51646e){return _0x5719d4(_0x39901a- -0xcf,_0x343b8b,_0x39901a-0x20,_0x51646e-0x199);}const _0x4643ab={'MVtqd':_0x1ee28a[_0x20caf0(-0x76,-0x80,-0x144,-0x195)],'YXekZ':function(_0x2e34e3,_0x28d3d8){return _0x1ee28a['TpiVp'](_0x2e34e3,_0x28d3d8);},'NPlpL':_0x1ee28a['cNsVf']};function _0x42ccb2(_0x45f4d2,_0x43d127,_0x324591,_0x312fdc){return _0xfd688(_0x43d127-0x2a0,_0x43d127-0x1c,_0x312fdc,_0x312fdc-0x15);}if(_0x1ee28a[_0x42ccb2(0x357,0x357,0x40f,0x2e6)]!==_0x1ee28a[_0x42ccb2(0x327,0x3b5,0x3a9,0x422)]){if(_0x2aa9b3){const _0xbd90b7=_0x2aa9b3[_0x20caf0(-0x1e5,-0x246,-0x246,-0x1df)](_0x5b3745,arguments);return _0x2aa9b3=null,_0xbd90b7;}}else _0x51686c[_0x20caf0(-0x213,-0x156,-0x18c,-0x1bf)+'ener'](_0x111b55[_0x20caf0(-0xb1,-0x67,-0xd3,-0xbe)+'MAGE_REQUE'+'ST'],_0x563c3d),_0x14eb88[_0x20caf0(-0x157,-0xe0,-0x18c,-0xcd)+'ener'](_0x4643ab[_0x42ccb2(0x2f6,0x3a4,0x2d8,0x383)],_0x17ab6a),_0x2ab780[_0x42ccb2(0x2cb,0x342,0x35b,0x325)](_0x421242=>{function _0x1b650d(_0x2b9177,_0x299188,_0x5b8d7b,_0x5b4f72){return _0x20caf0(_0x2b9177,_0x299188-0x18a,_0x299188-0x44c,_0x5b4f72-0x7d);}_0x438ef7[_0x1b650d(0x310,0x2c0,0x1e8,0x1fd)+'ener'](_0x421242,_0xc9e3c);}),_0x272cc9[_0x42ccb2(0x2a3,0x307,0x36e,0x26a)+_0x20caf0(-0x130,-0x201,-0x177,-0xf3)+_0x20caf0(-0x23c,-0x2a4,-0x241,-0x235)]=![],_0x4643ab[_0x20caf0(-0xc0,-0x161,-0xe2,-0x6a)](_0x48468a,_0x4643ab[_0x42ccb2(0x44f,0x3ad,0x37b,0x409)]);}:function(){};function _0x5719d4(_0x40b17d,_0x2a6378,_0x187c97,_0x2953d7){return _0x11850d(_0x2a6378,_0x2a6378-0x128,_0x187c97-0x7e,_0x40b17d-0x6d);}function _0xfd688(_0x106746,_0x584b9a,_0x1f59ed,_0x1d0c08){return _0x4aff3b(_0x106746-0x129,_0x584b9a-0x9f,_0x1f59ed,_0x106746- -0x201);}return _0x58094a=![],_0xd3f704;};}()),_0x53c7ab=_0x3bb6d6(this,function(){function _0x2fa257(_0x114a47,_0xbd00ff,_0x5a7f4b,_0x14a2b3){return _0xa3d0(_0x114a47- -0x22f,_0x14a2b3);}function _0x2c80ec(_0x463363,_0x52c3d8,_0x28c5d9,_0x2f5a8c){return _0xa3d0(_0x52c3d8- -0x37,_0x28c5d9);}const _0x35153a={};_0x35153a[_0x2c80ec(0xe5,0x1bd,0x14f,0x1ec)]=_0x2fa257(-0x98,-0x11a,-0x101,-0xa3)+'+$';const _0x46820a=_0x35153a;return _0x53c7ab[_0x2c80ec(0x2a,0xc8,0x168,0x88)]()[_0x2c80ec(0x182,0x15f,0x1c1,0x8c)](_0x46820a[_0x2fa257(-0x3b,-0x30,-0x69,0x2c)])[_0x2fa257(-0x130,-0x107,-0x11a,-0x1b5)]()['constructo'+'r'](_0x53c7ab)[_0x2c80ec(0x15e,0x15f,0x160,0x8f)](_0x2fa257(-0x98,-0x24,-0x127,-0xba)+'+$');});_0x53c7ab();import{extension_settings}from'../../../../extensions.js';import{eventSource}from'../../../../../script.js';import{extensionName,EventType}from'./config.js';import{sleep,generateRandomSeed,zhengmian,fumian,getRequestHeaders,prompt_replace,addLog,clearLog,parsePromptStringWithCoordinates,prompt_replace_for_character,stripChineseAnnotations,convertImageToJpeg}from'./utils.js';import{initializeImageProcessing}from'./iframe.js';function _0xa3d0(_0x1e147f,_0x47908f){_0x1e147f=_0x1e147f-(0xf76*-0x2+-0x1*0x472+0x2439);const _0x306016=_0x2be3();let _0x375e53=_0x306016[_0x1e147f];if(_0xa3d0['HYuDYZ']===undefined){var _0xc31334=function(_0x182fc2){const _0x11f9fd='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x5c5426='',_0x5cea7c='',_0xeb8274=_0x5c5426+_0xc31334;for(let _0x4c34bb=-0x1f0+0xe7d*0x1+-0xc8d,_0x4da331,_0x3e1f8d,_0x338fcb=-0x153f+-0x1244+0x1*0x2783;_0x3e1f8d=_0x182fc2['charAt'](_0x338fcb++);~_0x3e1f8d&&(_0x4da331=_0x4c34bb%(-0x4ed*0x1+-0xd4c+-0x17*-0xcb)?_0x4da331*(-0x2*-0xc0a+-0xb64*0x1+-0xc70)+_0x3e1f8d:_0x3e1f8d,_0x4c34bb++%(-0x19*0xad+0x20e*0x10+-0xff7*0x1))?_0x5c5426+=_0xeb8274['charCodeAt'](_0x338fcb+(-0xb*-0x224+-0x24b7*-0x1+0x3*-0x1413))-(0xce2*0x1+0x133b+-0x495*0x7)!==0x16eb+0x1*-0xc89+0x3*-0x376?String['fromCharCode'](0x57b*-0x2+0x1*0x25d9+-0x19e4&_0x4da331>>(-(0xbd*-0x20+-0x1*0x1a65+0x3207)*_0x4c34bb&0x8f6*0x3+0x2218*-0x1+0x73c)):_0x4c34bb:-0x20e*0xd+-0x1*-0x11d2+0x8e4){_0x3e1f8d=_0x11f9fd['indexOf'](_0x3e1f8d);}for(let _0x39c0df=-0x55d*0x3+-0x15ed*0x1+0x2604*0x1,_0x4102a5=_0x5c5426['length'];_0x39c0df<_0x4102a5;_0x39c0df++){_0x5cea7c+='%'+('00'+_0x5c5426['charCodeAt'](_0x39c0df)['toString'](-0x164+0x13*-0x9e+0xd2e))['slice'](-(-0x2141*-0x1+0xbef+0x1*-0x2d2e));}return decodeURIComponent(_0x5cea7c);};_0xa3d0['CiqbfA']=_0xc31334,_0xa3d0['HsJUpd']={},_0xa3d0['HYuDYZ']=!![];}const _0x5cb65c=_0x306016[0x1669*-0x1+0x2*-0xcf1+0x304b],_0x121387=_0x1e147f+_0x5cb65c,_0x18fdfe=_0xa3d0['HsJUpd'][_0x121387];if(!_0x18fdfe){const _0x5bad67=function(_0x324433){this['RxQAgH']=_0x324433,this['TUeNBJ']=[0x787*-0x1+-0x1a68+0x21f0,-0x1*0x755+-0x145*0x17+0x2488,0x101b+0x95c*-0x4+0x1555],this['NwNLxH']=function(){return'newState';},this['TAsUoH']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['Pxzftd']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x5bad67['prototype']['yhdzNB']=function(){const _0x43f288=new RegExp(this['TAsUoH']+this['Pxzftd']),_0x4804c3=_0x43f288['test'](this['NwNLxH']['toString']())?--this['TUeNBJ'][-0x7*-0x311+-0xe30+0x26*-0x31]:--this['TUeNBJ'][-0x1f*0x55+-0xf75+0x19c0];return this['SARSFm'](_0x4804c3);},_0x5bad67['prototype']['SARSFm']=function(_0x51d130){if(!Boolean(~_0x51d130))return _0x51d130;return this['SomTru'](this['RxQAgH']);},_0x5bad67['prototype']['SomTru']=function(_0x1325a7){for(let _0x111755=0x80e*0x1+0x455*0x1+-0xc63,_0x424970=this['TUeNBJ']['length'];_0x111755<_0x424970;_0x111755++){this['TUeNBJ']['push'](Math['round'](Math['random']())),_0x424970=this['TUeNBJ']['length'];}return _0x1325a7(this['TUeNBJ'][-0x1171+-0x17f0+-0x1*-0x2961]);},new _0x5bad67(_0xa3d0)['yhdzNB'](),_0x375e53=_0xa3d0['CiqbfA'](_0x375e53),_0xa3d0['HsJUpd'][_0x121387]=_0x375e53;}else _0x375e53=_0x18fdfe;return _0x375e53;}import{processCharacterPrompt}from'./characterprompt.js';import{setItemImg}from'./database.js';import{getConfigImage}from'./configDatabase.js';import{taskQueue,TaskType,TaskStatus}from'./taskQueue.js';function getDirectHeaders(_0x7526e8=null,_0x36b5c3=null){const _0x136047={};_0x136047[_0x240e06(0x5c6,0x5ba,0x4e4,0x5a9)]=function(_0x407fc1,_0x4eee22){return _0x407fc1+_0x4eee22;},_0x136047[_0x3b0324(0xac,0x156,0x166,0x146)]=_0x240e06(0x5f5,0x565,0x6c6,0x61f),_0x136047[_0x3b0324(0xb2,0xfb,0x10c,0x1bd)]='Content-Ty'+'pe',_0x136047[_0x240e06(0x585,0x4c6,0x42e,0x4f7)]=_0x3b0324(0x19b,0x247,0x1cc,0x29f),_0x136047[_0x3b0324(0x250,0x21e,0x184,0xdf)]=_0x240e06(0x71d,0x73a,0x671,0x664);function _0x240e06(_0x106ebc,_0x1c3c75,_0x43a7ee,_0x2de9dd){return _0xa3d0(_0x2de9dd-0x3da,_0x43a7ee);}_0x136047[_0x3b0324(0x253,0x1a5,0x193,0x268)]=_0x3b0324(0x25a,0x177,0x228,0x275)+_0x240e06(0x501,0x647,0x66a,0x5d1);const _0x5a0b31=_0x136047,_0x947d74={};_0x947d74[_0x3b0324(0x249,0x230,0x1d9,0x295)]='Mozilla/5.'+_0x240e06(0x49f,0x56f,0x595,0x4ca)+_0x240e06(0x4e9,0x51c,0x640,0x56d)+_0x3b0324(0x49,0xf9,0xfa,0x116)+')\x20AppleWeb'+_0x3b0324(0x2a9,0x203,0x20c,0x2e8)+'\x20(KHTML,\x20l'+'ike\x20Gecko)'+'\x20Chrome/12'+_0x240e06(0x553,0x58f,0x50f,0x535)+_0x240e06(0x557,0x3e4,0x476,0x4be)+'6',_0x947d74[_0x3b0324(0x241,0x13a,0x1a0,0x185)]=_0x5a0b31[_0x3b0324(0xeb,0x13e,0x166,0x223)];const _0x12cead=_0x947d74;_0x7526e8&&(_0x12cead[_0x5a0b31[_0x240e06(0x555,0x53b,0x52d,0x532)]]=_0x7526e8);_0x36b5c3&&(_0x5a0b31[_0x3b0324(0x16e,0x6,0xd1,0x16c)]===_0x5a0b31[_0x3b0324(0x233,0x10e,0x184,0x183)]?_0x132aa5[_0x240e06(0x58b,0x680,0x54e,0x600)+_0x26808a+_0x3b0324(0x16c,0x1c3,0x142,0x145)]&&(_0x4b8197=_0x5a0b31[_0x3b0324(0x1ed,0x204,0x183,0xe7)](_0x26bd89,',\x20')+_0xc0cf2c[_0x240e06(0x6a3,0x576,0x648,0x600)+_0x5398c7+_0x3b0324(0xab,0xc0,0x142,0x18c)]):_0x12cead[_0x5a0b31[_0x3b0324(0x1c1,0x133,0x193,0x105)]]=_0x36b5c3);function _0x3b0324(_0x31a40c,_0x89f6f6,_0x1fb771,_0x44cad3){return _0xa3d0(_0x1fb771- -0x4c,_0x44cad3);}return _0x12cead;}let currentTaskId=null,currentRequestId=null,currentPrompt=null;async function getImageFromTurnData(_0x2e03a0){const _0x2eabff={'vfybD':function(_0x240112,_0x1df4e0){return _0x240112(_0x1df4e0);},'DPnFj':_0x44fb17(-0xb2,-0xe5,-0x170,-0x11d)+_0x702a24(0x522,0x4d0,0x597,0x4ab)+':','JOmHI':function(_0x36d59e,_0x23e589){return _0x36d59e===_0x23e589;},'uBOaz':'cfgimg_','CTucl':function(_0x44d853,_0x576e63){return _0x44d853!==_0x576e63;},'UIkzp':'GsGfX','YhAPs':_0x44fb17(-0x4,-0xd1,-0xd4,-0x18a),'Efynw':function(_0x1c4d1d,_0x3f2836){return _0x1c4d1d||_0x3f2836;},'awWQO':_0x702a24(0x378,0x36d,0x2d2,0x2da),'TIHne':function(_0x4bf796,_0x363944){return _0x4bf796===_0x363944;},'vmUqM':_0x44fb17(0x8e,0x9,-0x3,-0x6b),'KcGAE':_0x44fb17(-0xbd,0x19,0x8e,0x52)};if(!_0x2e03a0)return'';if(_0x2e03a0[_0x702a24(0x515,0x449,0x495,0x489)]&&_0x2e03a0[_0x44fb17(-0x8c,-0x2e,-0xf4,0x8)][_0x44fb17(0x40,-0x23,0xd,-0x20)](_0x2eabff[_0x44fb17(-0xb2,-0x12b,-0x1f4,-0x1c5)])){if(_0x2eabff[_0x702a24(0x338,0x363,0x3de,0x2b7)](_0x2eabff['UIkzp'],_0x2eabff['YhAPs'])){const _0x4edb8a=await _0x2eabff[_0x44fb17(-0x13d,-0xea,-0x131,-0x198)](getConfigImage,_0x2e03a0[_0x44fb17(-0x2a,-0x2e,-0x98,-0x97)]);return _0x2eabff[_0x702a24(0x2ba,0x371,0x367,0x43c)](_0x4edb8a,'');}else{if(_0x4ef23e){const _0x277ad4=_0x5c7f74[_0x702a24(0x2f5,0x32a,0x3a5,0x2a8)](_0x49098c,arguments);return _0x219bfa=null,_0x277ad4;}}}function _0x702a24(_0xba45bb,_0x17f942,_0x42da59,_0x24b521){return _0xa3d0(_0x17f942-0x241,_0x42da59);}function _0x44fb17(_0x38d0fb,_0x28ee75,_0x1dd238,_0x5299bc){return _0xa3d0(_0x28ee75- -0x236,_0x38d0fb);}if(_0x2e03a0[_0x702a24(0x348,0x401,0x342,0x4c3)]&&_0x2e03a0['image'][_0x702a24(0x4f2,0x454,0x3d1,0x3d0)](_0x2eabff[_0x702a24(0x4b0,0x48a,0x479,0x3e3)])){if(_0x2eabff['TIHne'](_0x2eabff['vmUqM'],_0x2eabff[_0x44fb17(0x2b,0x46,-0x32,0x4d)])){_0x2eabff['vfybD'](_0x14fb22,_0x702a24(0x3f2,0x392,0x2ef,0x39c)+_0x702a24(0x41e,0x4d0,0x46b,0x407)+':\x20'+_0x493ba7[_0x702a24(0x37a,0x348,0x409,0x2e9)]),_0x1b321a[_0x44fb17(0x85,-0x39,-0x4,0x85)](_0x2eabff['DPnFj'],_0x32df24);if(_0x2eabff['JOmHI'](_0x4727f4[_0x44fb17(-0x16c,-0x12f,-0x68,-0x194)],'任务已取消')){}else _0x1fc065[_0x44fb17(-0xc0,-0x4d,-0xf7,-0x6f)+'sk'](_0x53aaa4,![]);_0x1d3a99=null;throw _0x2c7773;}else return _0x2e03a0[_0x702a24(0x372,0x401,0x3c9,0x46c)];}return'';}async function generateBananaImage({prompt:_0x22f6dc,width:_0x11da75,height:_0x1c0e8d,change:_0x22653e,retouchPrompt:_0x32d704,retouchImage:_0x4bb008}){const _0x22c2da={'PhgvH':_0x1c0951(0x382,0x387,0x3ec,0x39f),'aGiTM':function(_0x42f0a5,_0x30e590){return _0x42f0a5(_0x30e590);},'ZhYJz':_0x358234(0x388,0x39b,0x36e,0x44a),'wFuPp':function(_0x38467b,_0x5e798b){return _0x38467b||_0x5e798b;},'bkNJN':function(_0x2dee6c,_0x2323f3){return _0x2dee6c===_0x2323f3;},'jXQjJ':function(_0x5a64ce,_0x402348){return _0x5a64ce+_0x402348;},'BWdlz':function(_0x2f76b8,_0x1aa1eb){return _0x2f76b8+_0x1aa1eb;},'zMWXw':function(_0x2ab4bd,_0x405481){return _0x2ab4bd(_0x405481);},'zIMzh':_0x1c0951(0x495,0x4b4,0x458,0x403),'OKHvA':function(_0x41bfd2,_0xfc0a32){return _0x41bfd2(_0xfc0a32);},'HXZTw':_0x358234(0x35a,0x28a,0x2bd,0x253),'MSjDP':function(_0x2e25eb,_0x20b253){return _0x2e25eb(_0x20b253);},'pgLVy':function(_0x4dea2c,_0x36c9ac,_0xf7b820){return _0x4dea2c(_0x36c9ac,_0xf7b820);},'FWShx':_0x358234(0x3d3,0x33e,0x3b8,0x303),'RlGPv':_0x358234(0x252,0x2a7,0x2cf,0x1f5),'itxDi':'后置前','uymLG':_0x1c0951(0x42e,0x45a,0x3a4,0x3f0),'GpCOL':'最后置','rAodb':function(_0xbe2715,_0x50a469){return _0xbe2715(_0x50a469);},'cloxl':function(_0xa00502,_0x2e90e9){return _0xa00502(_0x2e90e9);},'qXQRc':'(((.+)+)+)'+'+$','iOzSY':_0x1c0951(0x48b,0x387,0x3f9,0x3cd),'AVBla':_0x1c0951(0x2bc,0x427,0x350,0x3e9),'AQael':_0x358234(0x36e,0x2e0,0x3a9,0x3a4),'RuqdN':function(_0x494ba5,_0x19b03d){return _0x494ba5(_0x19b03d);},'YAMTy':_0x1c0951(0x4d3,0x559,0x4c1,0x408)+_0x1c0951(0x3a7,0x2b1,0x32f,0x343),'ZNkHx':_0x358234(0x40a,0x2f8,0x398,0x426)+'etected\x20Ma'+_0x1c0951(0x2d6,0x31c,0x376,0x3a8)+'edded\x20base'+'64\x20image.','dCbSi':_0x1c0951(0x4b0,0x4d0,0x483,0x42f)+_0x358234(0x341,0x31d,0x381,0x2e8)+_0x1c0951(0x42b,0x420,0x38f,0x38f)+_0x1c0951(0x460,0x334,0x3d1,0x4a0)+_0x1c0951(0x53e,0x3e8,0x4a8,0x4ac)+_0x358234(0x316,0x263,0x2b2,0x298),'Yxmsl':function(_0x120415,_0x5692cd){return _0x120415(_0x5692cd);},'kuTjM':_0x1c0951(0x496,0x404,0x3c3,0x3eb)+'esponse\x20co'+_0x358234(0x3d4,0x489,0x3f2,0x31e)+_0x1c0951(0x2e8,0x3d7,0x368,0x3ec)+_0x358234(0x326,0x3d2,0x3ac,0x422),'gBCow':function(_0x41d685,_0x245e05){return _0x41d685(_0x245e05);},'vancK':function(_0x163734){return _0x163734();},'UfwRf':function(_0x2e29db,_0x3991ae){return _0x2e29db||_0x3991ae;},'BYjbV':function(_0xd2c783,_0x2c41c2){return _0xd2c783>_0x2c41c2;},'Gbsid':_0x358234(0x1d8,0x2c7,0x2af,0x356),'ImGQy':function(_0x1c3bf5,_0x48f0d5){return _0x1c3bf5(_0x48f0d5);},'UZAmf':function(_0x29919a,_0x47633d){return _0x29919a||_0x47633d;},'tXqZS':function(_0x498f3c,_0x462a57){return _0x498f3c!==_0x462a57;},'DVPet':function(_0x38cb19,_0x1f609c){return _0x38cb19(_0x1f609c);},'GsrjQ':_0x358234(0x445,0x3fd,0x3f5,0x367)+_0x358234(0x298,0x1e9,0x2a8,0x2ff),'Jefqo':function(_0x3ef8f7,_0x1d4066){return _0x3ef8f7(_0x1d4066);},'gAWwl':function(_0x23ab67,_0x14351a){return _0x23ab67<=_0x14351a;},'iOfRI':function(_0x5dd0a0,_0x33a0e0){return _0x5dd0a0===_0x33a0e0;},'LlQwM':_0x358234(0x253,0x220,0x2cd,0x2ca),'iMPeb':'tMcZl','oRSXo':function(_0x44810a,_0x1e1fe0){return _0x44810a!==_0x1e1fe0;},'xJXiq':_0x358234(0x3ed,0x290,0x353,0x418),'FGBLw':'nBWjQ','EhdpN':function(_0x48fc94,_0x35c193){return _0x48fc94(_0x35c193);},'IsNUe':_0x1c0951(0x4b0,0x4bb,0x44d,0x481)+_0x1c0951(0x4f6,0x4a6,0x450,0x43e),'jpFtJ':function(_0x23134c,_0x24ef50,_0x2a672e){return _0x23134c(_0x24ef50,_0x2a672e);},'UglnW':function(_0x230ffa,_0x2a8929){return _0x230ffa<=_0x2a8929;},'AFsXP':function(_0xc437e6,_0x1356c9){return _0xc437e6===_0x1356c9;},'tmtja':'PaVAW','WMbTT':function(_0x58ed1a,_0x49cdd0){return _0x58ed1a+_0x49cdd0;},'DREMO':_0x358234(0x30e,0x29f,0x2e6,0x216),'OporB':function(_0x587871,_0x2a76d0){return _0x587871(_0x2a76d0);},'kjiDW':'imagen','hGMpB':_0x358234(0x2b4,0x262,0x270,0x213),'lbzmU':function(_0x1de9a7,_0x3d9541){return _0x1de9a7(_0x3d9541);},'jPPNx':_0x1c0951(0x33b,0x394,0x40a,0x473),'AColc':'[Banana]\x20启'+_0x358234(0x25f,0x30f,0x30a,0x35b)+'。','SEyyX':function(_0x373304,_0x4eb24f){return _0x373304||_0x4eb24f;},'YAkzr':function(_0x1cadfd,_0x2b8f44){return _0x1cadfd(_0x2b8f44);},'gqTjS':function(_0x4b5904,_0x13e986){return _0x4b5904!==_0x13e986;},'ANwOJ':_0x358234(0x306,0x2ae,0x2ec,0x276),'StgMK':function(_0x1f460f,_0x47df65){return _0x1f460f(_0x47df65);},'mxCED':'image_url','BEqiO':'assistant','wHPNE':_0x358234(0x407,0x3fd,0x374,0x3ed),'vVjbX':function(_0x4f05f7,_0x4c9747){return _0x4f05f7(_0x4c9747);},'FZoLr':'EqDSW','ClpFr':function(_0x7d2871,_0x40a24c){return _0x7d2871+_0x40a24c;},'HvBAe':_0x1c0951(0x453,0x336,0x3fd,0x476),'rQeEF':function(_0x22b0d5,_0xcbf7d7){return _0x22b0d5!==_0xcbf7d7;},'COfRq':_0x358234(0x314,0x37c,0x2a3,0x277),'ECzqY':_0x358234(0x425,0x2f8,0x395,0x3f1)+_0x1c0951(0x4b9,0x3d5,0x48b,0x3b5)+_0x1c0951(0x448,0x55a,0x4c0,0x3ee)+_0x358234(0x265,0x314,0x2db,0x22c),'IttrP':function(_0xd069a2,_0x4406be){return _0xd069a2(_0x4406be);},'hgdpN':_0x358234(0x18b,0x20b,0x257,0x1c9),'EVObZ':function(_0x3e290f,_0x55b08b,_0x5481e0){return _0x3e290f(_0x55b08b,_0x5481e0);},'OpZwV':function(_0x15342f,_0x627688,_0x1406d5){return _0x15342f(_0x627688,_0x1406d5);},'gzbJr':_0x358234(0x3ad,0x23d,0x2d9,0x21e),'slxLu':function(_0x201d9c,_0x127628){return _0x201d9c>_0x127628;},'rAHfo':'iImMm','DBdJA':function(_0xcd77a4,_0x25c99e){return _0xcd77a4!==_0x25c99e;},'TYHjK':_0x1c0951(0x471,0x314,0x3ef,0x370),'uHulo':_0x358234(0x3cd,0x28d,0x33f,0x30c),'OvnvE':function(_0x103e0f,_0x17e894){return _0x103e0f===_0x17e894;},'JMRNZ':_0x1c0951(0x385,0x3ae,0x330,0x3e6),'bMpPP':function(_0x160b59,_0x5c0c08){return _0x160b59===_0x5c0c08;},'ZJlXU':_0x358234(0x22d,0x350,0x27f,0x2b5),'AeJFj':function(_0x1af8f0,_0x4c392d){return _0x1af8f0===_0x4c392d;},'mMsjk':_0x358234(0x44f,0x309,0x3bb,0x3e1),'tZUDZ':_0x358234(0x334,0x38d,0x3de,0x447),'LZfWI':_0x358234(0x4d9,0x4cc,0x404,0x46a),'Zwbgf':'data:image'+'/','XmVxc':'oFDnm','IsCIT':function(_0x305379,_0xa7d75a){return _0x305379(_0xa7d75a);},'YMiot':'[Banana]\x20D'+_0x358234(0x265,0x271,0x2d7,0x35c)+_0x358234(0x2e2,0x395,0x39a,0x36d)+'ge\x20URL,\x20ex'+_0x358234(0x44b,0x3c2,0x3d2,0x3ec)+'.','uBYRT':function(_0xef1d50,_0x5d12d0){return _0xef1d50(_0x5d12d0);},'lCBDv':_0x358234(0x3e8,0x322,0x339,0x32f),'DFKBk':function(_0x3430de,_0x5ac0d6){return _0x3430de(_0x5ac0d6);},'LoFRg':_0x1c0951(0x53d,0x549,0x483,0x3d1)+'uccessfull'+_0x358234(0x468,0x423,0x39c,0x354)+_0x358234(0x322,0x27c,0x321,0x2e4)+_0x1c0951(0x2f9,0x320,0x339,0x3f5)+_0x358234(0x442,0x42a,0x3f1,0x428),'QOGjB':_0x1c0951(0x39c,0x438,0x418,0x436),'MVSSq':'aamft','QpEAE':function(_0xbe1fd5,_0x217e38){return _0xbe1fd5(_0x217e38);},'uSIkh':'[Banana]\x20U'+_0x1c0951(0x528,0x430,0x478,0x3fc)+_0x358234(0x3fb,0x347,0x36c,0x33c)+'allback.','Ztrlm':function(_0x4c1e45,_0x216a71){return _0x4c1e45(_0x216a71);},'EcKfZ':'tYCNF','UCeXl':_0x1c0951(0x423,0x4fe,0x4a5,0x50c),'ydMsf':_0x1c0951(0x35a,0x3b2,0x3d7,0x44c)+'se\x20did\x20not'+_0x358234(0x363,0x2b7,0x385,0x2d8)+_0x358234(0x3a5,0x3dc,0x3dd,0x485)+_0x1c0951(0x40f,0x554,0x4e1,0x4a8)+'t','KdZsa':function(_0xae1e83,_0x196691){return _0xae1e83||_0x196691;},'ItUsX':function(_0x3acda3,_0x4d8c6e){return _0x3acda3!==_0x4d8c6e;},'Ljdgb':_0x358234(0x269,0x29b,0x2e9,0x2e6),'qHRsL':_0x1c0951(0x3e8,0x443,0x3c1,0x332),'tqsBx':function(_0x1ca8d0,_0x1c53c1){return _0x1ca8d0(_0x1c53c1);},'fnrEu':function(_0x4ef28a,_0x652d9d){return _0x4ef28a===_0x652d9d;},'yPvLa':_0x358234(0x303,0x34e,0x2de,0x27b)};function _0x358234(_0x1c7930,_0xe14d90,_0x468eb6,_0x3752b3){return _0xa3d0(_0x468eb6-0x17b,_0x3752b3);}_0x22c2da[_0x1c0951(0x4ac,0x48c,0x3d2,0x47e)](clearLog);const _0x1791e3=taskQueue[_0x358234(0x3cf,0x2b0,0x34f,0x405)]({'name':_0x22c2da[_0x358234(0x2f0,0x358,0x2ba,0x200)](_0x22f6dc,'')[_0x1c0951(0x489,0x31b,0x3cb,0x35c)](0x1da5*0x1+-0x1a64+-0x341,0x966+-0x430+-0x518)+(_0x22f6dc&&_0x22c2da['BYjbV'](_0x22f6dc[_0x358234(0x37d,0x390,0x3a8,0x411)],-0x2035+-0x5e*0x5+0x5*0x6d5)?_0x22c2da['Gbsid']:''),'type':TaskType[_0x1c0951(0x549,0x468,0x4ce,0x4ca)],'prompt':_0x22f6dc});currentTaskId=_0x1791e3,_0x22f6dc=_0x22c2da[_0x358234(0x336,0x3bb,0x2f0,0x36d)](processCharacterPrompt,_0x22f6dc),_0x22f6dc=await stripChineseAnnotations(_0x22f6dc);let _0x3a1c0c=_0x22653e;_0x22653e=_0x22c2da['MSjDP'](processCharacterPrompt,_0x22653e),_0x22653e=await _0x22c2da[_0x358234(0x29d,0x310,0x2f0,0x3b4)](stripChineseAnnotations,_0x22653e),addLog(_0x358234(0x1d1,0x25b,0x285,0x31d)+'图流程。客户端为'+extension_settings[extensionName][_0x1c0951(0x35c,0x3a3,0x3ac,0x35c)]),_0x22c2da[_0x1c0951(0x468,0x52a,0x456,0x4f7)](addLog,_0x1c0951(0x32d,0x3a2,0x403,0x32d)+'\x20'+_0x22c2da[_0x358234(0x2ad,0x438,0x363,0x2b4)](_0x11da75,'默认')+',\x20高度\x20-\x20'+_0x22c2da[_0x358234(0x29d,0x283,0x2ba,0x224)](_0x1c0e8d,'默认')),_0x22f6dc=_0x22653e&&_0x22c2da[_0x1c0951(0x2f5,0x28a,0x366,0x2e9)](_0x22653e[_0x358234(0x33c,0x33a,0x3e3,0x495)](),'')?_0x22653e:_0x22f6dc,_0x22c2da['DVPet'](addLog,_0x1c0951(0x283,0x2b7,0x343,0x28a)+_0x22f6dc);let _0xc979c0=![];_0x22f6dc[_0x1c0951(0x498,0x3a0,0x460,0x3cc)](_0x22c2da[_0x358234(0x223,0x26b,0x2c8,0x319)])&&(_0xc979c0=!![]);addLog(_0x1c0951(0x542,0x424,0x4ba,0x4ac)+_0x1c0951(0x47a,0x523,0x482,0x547)+_0x1c0951(0x427,0x4f7,0x452,0x46e)+_0xc979c0);let _0x329a5b={},_0x23f766='',_0x409cfc='';if(_0xc979c0){_0x22c2da[_0x1c0951(0x312,0x370,0x3ce,0x48b)](addLog,_0x358234(0x464,0x3b2,0x38a,0x44a)+'坐标的提示词字符串。'),_0x329a5b=_0x22c2da['DVPet'](parsePromptStringWithCoordinates,_0x22f6dc),_0x23f766=_0x329a5b[_0x358234(0x3e1,0x3bf,0x3f5,0x387)+'osition'];for(let _0x2075b2=-0x1*0x2020+0x56a+-0x7*-0x3d1;_0x22c2da['gAWwl'](_0x2075b2,-0x1*-0x2548+-0x74*-0x2+-0x262c);_0x2075b2++){if(_0x329a5b[_0x1c0951(0x4a8,0x4bc,0x475,0x47e)+_0x2075b2+_0x358234(0x311,0x240,0x309,0x2f4)]){if(_0x22c2da[_0x1c0951(0x3b3,0x2cd,0x36a,0x29f)](_0x22c2da[_0x1c0951(0x444,0x3db,0x3d8,0x327)],_0x22c2da['iMPeb'])){const _0x53d3d8=_0x22c2da[_0x1c0951(0x342,0x3a4,0x392,0x466)][_0x1c0951(0x42b,0x389,0x389,0x3fd)]('|');let _0x55d100=0x3*-0x5ce+-0x1395+-0xb*-0x35d;while(!![]){switch(_0x53d3d8[_0x55d100++]){case'0':_0x3f6291=null;continue;case'1':_0x22c2da[_0x358234(0x236,0x233,0x2e5,0x2e9)](_0x171ba2,_0x1c0951(0x3c8,0x44f,0x3c9,0x49c)+'消当前任务，发送失败'+'响应\x20(ID:\x20'+_0x3e33d1+')');continue;case'2':_0x3eeba6=null;continue;case'3':_0x509f05=null;continue;case'4':_0x418187[_0x1c0951(0x3a5,0x2d7,0x3b1,0x45e)](_0x44ae43[_0x358234(0x3cc,0x3b4,0x3d7,0x434)+_0x358234(0x37d,0x27b,0x341,0x2b9)+_0x1c0951(0x46b,0x3e2,0x3ca,0x489)],{'id':_0x558e6e,'success':![],'error':_0x22c2da[_0x358234(0x324,0x282,0x276,0x26c)],'prompt':_0x22c2da[_0x1c0951(0x4ce,0x457,0x45a,0x4bd)](_0x548ec5,'')});continue;}break;}}else _0x409cfc=_0x22c2da[_0x1c0951(0x47a,0x329,0x3a2,0x442)](_0x409cfc+',\x20',_0x329a5b[_0x358234(0x3ce,0x2e4,0x3a1,0x417)+_0x2075b2+_0x1c0951(0x356,0x36c,0x3dd,0x463)]);}}}else{if(_0x22c2da[_0x358234(0x2e4,0x2e6,0x305,0x38f)](_0x22c2da['xJXiq'],_0x22c2da[_0x1c0951(0x47b,0x465,0x477,0x429)]))_0x22c2da[_0x358234(0x368,0x3c3,0x356,0x2aa)](addLog,_0x22c2da['IsNUe']),_0x23f766=_0x22f6dc;else{const {taskId:_0x24dfe9}=_0x44374a;_0x22c2da[_0x1c0951(0x37b,0x3f1,0x3b9,0x3fc)](_0x1c8095,_0x1c0951(0x31b,0x3f8,0x3b6,0x31d)+_0x1c0951(0x2c8,0x340,0x334,0x30f)+'askID:\x20'+_0x24dfe9+')'),_0x22c2da[_0x1c0951(0x515,0x46b,0x46f,0x442)](_0x296c8e,_0x24dfe9)&&_0x57b75f&&(_0x22c2da[_0x1c0951(0x2eb,0x2ff,0x3b9,0x40b)](_0x1be3d5,_0x358234(0x2e9,0x3a7,0x2f5,0x375)+'消当前任务，发送失败'+_0x1c0951(0x3f1,0x276,0x335,0x3f1)+_0xb5764d+')'),_0x764015['emit'](_0x1d7a80[_0x1c0951(0x538,0x528,0x4ab,0x461)+'MAGE_RESPO'+_0x1c0951(0x359,0x3a6,0x3ca,0x313)],{'id':_0x54fd5e,'success':![],'error':_0x22c2da[_0x1c0951(0x2f2,0x2df,0x34a,0x330)],'prompt':_0x22c2da[_0x1c0951(0x410,0x43f,0x45a,0x3d4)](_0x1cc3c9,'')}),_0x28898b=null,_0x47b804=null,_0x17efa9=null);}}let {modifiedPrompt:_0x29f40f,insertions:_0x7ba49b}=await _0x22c2da['jpFtJ'](prompt_replace,_0x23f766,_0x409cfc);if(_0xc979c0)for(let _0x113f69=-0xbd4+-0x2440+0x3015;_0x22c2da['UglnW'](_0x113f69,-0x6*-0x1a7+0x3*0x156+0x28*-0x59);_0x113f69++){if(_0x329a5b[_0x1c0951(0x404,0x4af,0x475,0x546)+_0x113f69+'\x20Prompt']){if(_0x22c2da[_0x1c0951(0x3e2,0x488,0x429,0x4e5)](_0x22c2da[_0x358234(0x2a0,0x33e,0x268,0x222)],_0x1c0951(0x45e,0x58e,0x4be,0x463)))_0x29f40f=_0x22c2da[_0x358234(0x38b,0x388,0x332,0x397)](_0x29f40f,_0x22c2da['DREMO'])+prompt_replace_for_character(_0x329a5b['Character\x20'+_0x113f69+_0x358234(0x2e2,0x2b3,0x309,0x3e3)]);else{const _0x22cbbf='[Banana]\x20G'+_0x1c0951(0x3f2,0x448,0x3c2,0x402)+_0x358234(0x332,0x309,0x266,0x1f2)+_0x1c0951(0x3dd,0x420,0x431,0x3f8)+_0x26ddb6+':\x20'+_0x19461b[_0x358234(0x231,0x32d,0x282,0x251)];_0x22c2da['aGiTM'](_0x490850,_0x22cbbf),_0x462b1b[_0x1c0951(0x451,0x3d6,0x44c,0x4bc)](_0x22cbbf);const _0x5e40ca={};_0x5e40ca['id']=_0x4139cf,_0x5e40ca[_0x1c0951(0x2f2,0x2d9,0x351,0x2c1)]=![],_0x5e40ca[_0x358234(0x2b7,0x450,0x378,0x2fc)]=_0x554ba3[_0x1c0951(0x301,0x425,0x356,0x420)],_0x5e40ca['prompt']=_0x4c0624,_0x472ba4[_0x1c0951(0x382,0x411,0x3b1,0x483)](_0x17f761[_0x358234(0x352,0x46c,0x3d7,0x307)+_0x358234(0x29b,0x2bd,0x341,0x316)+_0x358234(0x243,0x351,0x2f6,0x3c6)],_0x5e40ca),_0x3159ef(_0x1c0951(0x445,0x4d0,0x4dd,0x4a9)+'mitted\x20fai'+_0x358234(0x282,0x1e0,0x29b,0x312)+_0x358234(0x266,0x360,0x32b,0x394)+':\x20'+_0x34ef64);}}}const _0x2bf640=extension_settings[extensionName][_0x1c0951(0x2e6,0x3e5,0x32a,0x299)],{model:_0xea661e,apiUrl:_0x504b62,apiKey:_0x2cfcfa,conversationPresets:_0x42387e,conversationPresetId:_0x465e57,editPresetId:_0x292e48,aspectRatio:_0x1a56ba}=_0x2bf640;_0x22c2da[_0x358234(0x2d4,0x250,0x32a,0x2af)](addLog,_0x358234(0x2ff,0x3a1,0x3af,0x3df)+_0x358234(0x268,0x383,0x2f1,0x267)+_0x1c0951(0x3fd,0x53c,0x4c4,0x4e4)+'tion\x20with\x20'+_0x1c0951(0x3d1,0x4c3,0x4a0,0x431)+_0xea661e);let _0x33cf2c,_0x2cd4e6;if(_0xea661e[_0x1c0951(0x429,0x467,0x462,0x399)](_0x22c2da[_0x358234(0x328,0x37d,0x387,0x3dc)])){if(_0x22c2da[_0x358234(0x422,0x3ee,0x39b,0x43d)](_0x22c2da[_0x1c0951(0x3c6,0x45d,0x3ee,0x461)],_0x358234(0x2f0,0x34a,0x270,0x227))){_0x33cf2c=_0x1c0951(0x4b8,0x4c8,0x4a1,0x4e9)+_0x1c0951(0x33e,0x34c,0x3f7,0x39a)+_0xea661e;const _0x271edb={};_0x271edb[_0x1c0951(0x27d,0x376,0x32d,0x3c4)+'t']='';const _0x3082b7=_0x42387e[_0x465e57]||_0x271edb,_0x294ad2=[_0x3082b7['fixedPromp'+'t'],_0x7ba49b[_0x22c2da[_0x358234(0x4b3,0x461,0x406,0x350)]],_0x7ba49b[_0x22c2da[_0x358234(0x3a0,0x30b,0x306,0x36e)]],_0x29f40f,_0x7ba49b[_0x22c2da['itxDi']],_0x7ba49b[_0x22c2da[_0x1c0951(0x445,0x42f,0x3b5,0x35b)]],_0x3082b7[_0x358234(0x2a5,0x2d4,0x37f,0x393)+_0x1c0951(0x425,0x4eb,0x447,0x4e3)],_0x7ba49b[_0x22c2da['GpCOL']]][_0x1c0951(0x46f,0x34f,0x3b8,0x3c2)](Boolean)[_0x358234(0x1f7,0x1f8,0x2a5,0x254)](',\x20');_0x22c2da[_0x358234(0x39a,0x2ef,0x394,0x3ba)](addLog,_0x1c0951(0x382,0x47b,0x43e,0x4ed)+_0x294ad2);const _0x5611d4={};_0x5611d4['prompt']=_0x294ad2;const _0xce45a0={};_0xce45a0[_0x358234(0x2d5,0x2f1,0x291,0x1df)+'t']=0x1,_0xce45a0['aspectRati'+'o']=_0x1a56ba;const _0xfc0b3c={};_0xfc0b3c[_0x358234(0x3c8,0x343,0x33d,0x2f5)]=[_0x5611d4],_0xfc0b3c[_0x358234(0x44a,0x328,0x3a2,0x33b)]=_0xce45a0,_0x2cd4e6=_0xfc0b3c,_0x22c2da[_0x358234(0x27d,0x2dd,0x2e5,0x343)](addLog,_0x358234(0x2da,0x25e,0x2b9,0x31b)+_0x358234(0x4b9,0x46e,0x3e5,0x394)+_0x358234(0x42e,0x39e,0x390,0x364)+_0x1c0951(0x42e,0x3f0,0x3e3,0x41d)+'t:\x20'+_0x294ad2);}else _0x11d592=_0x20a3e6;}else{_0x33cf2c=_0x1c0951(0x513,0x4eb,0x439,0x512)+_0x358234(0x4ba,0x380,0x3ec,0x468);let _0x3172ac;if(_0x22653e[_0x358234(0x2f1,0x2cb,0x38c,0x42e)](_0x22c2da[_0x1c0951(0x32f,0x2fc,0x342,0x3b3)])){_0x22c2da[_0x1c0951(0x410,0x463,0x468,0x40a)](addLog,_0x22c2da[_0x1c0951(0x37a,0x433,0x3cc,0x413)]);const _0x353d33=_0x22c2da[_0x1c0951(0x43e,0x4c4,0x422,0x3a1)](_0x292e48,'默认'),_0x4ad4d0={};_0x4ad4d0['conversati'+'on']=[],_0x4ad4d0[_0x358234(0x293,0x2f9,0x259,0x222)+'t']='',_0x3172ac=_0x42387e[_0x353d33]||_0x4ad4d0,_0x22c2da[_0x358234(0x26f,0x292,0x2e5,0x2a4)](addLog,_0x1c0951(0x4aa,0x46a,0x492,0x541)+_0x1c0951(0x4af,0x354,0x419,0x47a)+_0x353d33+'\x22');}else{const _0x2a1431={};_0x2a1431['conversati'+'on']=[],_0x2a1431[_0x358234(0x1fb,0x2ec,0x259,0x306)+'t']='',_0x3172ac=_0x42387e[_0x465e57]||_0x2a1431;}const _0x241b5e=[_0x3172ac[_0x1c0951(0x3df,0x31e,0x32d,0x33d)+'t'],_0x7ba49b[_0x22c2da[_0x1c0951(0x5aa,0x47f,0x4da,0x451)]],_0x7ba49b[_0x22c2da[_0x1c0951(0x393,0x492,0x3da,0x35b)]],_0x29f40f,_0x7ba49b[_0x22c2da[_0x358234(0x325,0x36b,0x32c,0x2d8)]],_0x7ba49b[_0x22c2da[_0x1c0951(0x33a,0x3c8,0x3b5,0x488)]],_0x3172ac[_0x358234(0x2ba,0x2d5,0x37f,0x301)+_0x358234(0x35c,0x3fc,0x373,0x2b9)],_0x7ba49b[_0x22c2da[_0x1c0951(0x3ea,0x4a9,0x4a3,0x513)]]]['filter'](Boolean)[_0x358234(0x2d1,0x378,0x2a5,0x283)](',\x20');_0x22c2da['YAkzr'](addLog,_0x358234(0x2e3,0x2ea,0x36a,0x415)+_0x241b5e);const _0xfb3617={};_0xfb3617[_0x358234(0x2b0,0x324,0x28b,0x28f)]=_0x358234(0x321,0x255,0x2bd,0x2af),_0xfb3617['content']=[];const _0x47ea27={};_0x47ea27[_0x1c0951(0x418,0x3fb,0x35f,0x2d5)]=_0x358234(0x35b,0x382,0x359,0x2fb),_0x47ea27[_0x1c0951(0x49f,0x429,0x416,0x436)]=[];const _0x280790=_0x3172ac[_0x358234(0x3b9,0x34c,0x2f4,0x2f6)+'on'][_0x1c0951(0x4d8,0x387,0x426,0x38f)](_0x914ef6=>[_0xfb3617,_0x47ea27])[_0x1c0951(0x3ab,0x3f2,0x3df,0x358)]();let _0x313b31=0xf9b+0x455*-0x4+0x9*0x31;for(const _0x1afa43 of _0x3172ac[_0x358234(0x287,0x30b,0x2f4,0x27c)+'on']){if(_0x22c2da['gqTjS'](_0x22c2da[_0x358234(0x214,0x21b,0x290,0x21f)],_0x22c2da['ANwOJ'])){const _0x1c38f4={};_0x1c38f4[_0x1c0951(0x288,0x378,0x35f,0x2cd)]=_0x358234(0x39f,0x429,0x359,0x327),_0x1c38f4[_0x358234(0x2bc,0x30f,0x342,0x2f4)]=_0x557d2a,_0x372ed8[_0x358234(0x1d6,0x1f6,0x25a,0x18a)](_0x1c38f4);}else{if(_0x1afa43[_0x1c0951(0x464,0x316,0x391,0x3cb)]?.[_0x358234(0x2ea,0x3cc,0x384,0x3b2)])_0x280790[_0x313b31][_0x358234(0x378,0x2d1,0x342,0x2dc)][_0x1c0951(0x3cb,0x352,0x32e,0x3d8)]({'type':_0x22c2da[_0x1c0951(0x4cb,0x3f2,0x485,0x55c)],'text':_0x1afa43['user'][_0x358234(0x456,0x400,0x384,0x345)]});const _0x1e62ce=await _0x22c2da[_0x1c0951(0x377,0x4db,0x436,0x3b7)](getImageFromTurnData,_0x1afa43['user']);if(_0x1e62ce)_0x280790[_0x313b31][_0x358234(0x3dd,0x2b1,0x342,0x3cc)][_0x358234(0x1a3,0x331,0x25a,0x224)]({'type':_0x22c2da[_0x1c0951(0x273,0x314,0x336,0x3bb)],'image_url':{'url':_0x1e62ce}});_0x313b31++;if(_0x1afa43['model']?.['text'])_0x280790[_0x313b31][_0x358234(0x28b,0x3ce,0x342,0x2d2)][_0x1c0951(0x2fd,0x278,0x32e,0x394)]({'type':_0x22c2da['zIMzh'],'text':_0x1afa43[_0x1c0951(0x379,0x2cf,0x363,0x345)]['text']});const _0x5866be=await _0x22c2da[_0x1c0951(0x382,0x376,0x42a,0x482)](getImageFromTurnData,_0x1afa43[_0x1c0951(0x43c,0x429,0x363,0x3db)]);if(_0x5866be)_0x280790[_0x313b31][_0x358234(0x3c8,0x380,0x342,0x3ed)][_0x1c0951(0x2bf,0x2ef,0x32e,0x2dc)]({'type':_0x1c0951(0x40c,0x551,0x4aa,0x3dc),'image_url':{'url':_0x5866be}});_0x313b31++;}}if(!_0x22653e[_0x358234(0x3c2,0x3f7,0x38c,0x432)](_0x22c2da[_0x1c0951(0x2c0,0x2b9,0x342,0x3a6)])){const _0x1e2196=extension_settings[extensionName][_0x1c0951(0x3d2,0x4c2,0x449,0x4c0)+_0x358234(0x3d9,0x3e1,0x38d,0x304)+'ts']||{};for(const _0x325e27 in _0x1e2196){if(_0x22c2da[_0x1c0951(0x427,0x410,0x429,0x42e)](_0x1c0951(0x3d4,0x4c2,0x434,0x3a5),_0x358234(0x3aa,0x319,0x376,0x2f7)))_0x38d46d(_0x1c0951(0x410,0x26c,0x346,0x325)+'库');else{const _0x276b14=_0x1e2196[_0x325e27],_0x174b54=(_0x276b14[_0x1c0951(0x47b,0x44c,0x47e,0x42d)]||'')[_0x1c0951(0x2f4,0x36b,0x389,0x2d8)]('|')[_0x1c0951(0x3f3,0x41e,0x3b8,0x458)](_0x4855b4=>_0x4855b4['trim']()!=='');for(const _0x31b9c3 of _0x174b54){if(_0x241b5e[_0x1c0951(0x43b,0x3dc,0x41b,0x37e)+'e']()[_0x1c0951(0x4fb,0x39a,0x460,0x3b6)](_0x31b9c3[_0x1c0951(0x383,0x4ca,0x41b,0x3b1)+'e']())){_0x22c2da[_0x358234(0x3bd,0x328,0x356,0x283)](addLog,'[Banana]\x20F'+_0x1c0951(0x49d,0x431,0x495,0x4b6)+_0x1c0951(0x391,0x39e,0x35d,0x375)+_0x1c0951(0x51d,0x429,0x479,0x4f3)+_0x31b9c3+(_0x358234(0x299,0x32c,0x284,0x21c)+_0x1c0951(0x327,0x42f,0x394,0x2f6))+_0x325e27+'\x22.');const _0x561cd8=_0x276b14[_0x1c0951(0x452,0x30d,0x3c8,0x36d)+'on'];if(_0x561cd8){const _0xd28c3d=[];if(_0x561cd8[_0x358234(0x316,0x2e6,0x2bd,0x1f8)]&&_0x561cd8[_0x1c0951(0x427,0x420,0x391,0x415)][_0x358234(0x3c9,0x3aa,0x384,0x2f8)])_0xd28c3d[_0x358234(0x26a,0x308,0x25a,0x194)]({'type':_0x22c2da[_0x358234(0x321,0x3d8,0x3b1,0x39c)],'text':_0x561cd8[_0x1c0951(0x3d6,0x456,0x391,0x370)][_0x1c0951(0x42b,0x381,0x458,0x39d)]});const _0x5d5985=await _0x22c2da[_0x1c0951(0x56e,0x582,0x4af,0x438)](getImageFromTurnData,_0x561cd8[_0x358234(0x1ea,0x234,0x2bd,0x32d)]);if(_0x5d5985)_0xd28c3d[_0x1c0951(0x2c7,0x36a,0x32e,0x296)]({'type':_0x22c2da[_0x1c0951(0x2f8,0x3e2,0x336,0x290)],'image_url':{'url':_0x5d5985}});if(_0xd28c3d[_0x1c0951(0x3ab,0x3b3,0x47c,0x495)]>0x2*-0xceb+0x5f1+-0xb*-0x1cf){const _0x309665={};_0x309665[_0x358234(0x235,0x1d8,0x28b,0x2b1)]=_0x22c2da[_0x358234(0x28c,0x2ed,0x35c,0x3cd)],_0x309665[_0x358234(0x3d2,0x3d9,0x342,0x3a8)]=_0xd28c3d,_0x280790[_0x1c0951(0x266,0x374,0x32e,0x27d)](_0x309665);}const _0x8e4a5a=[];if(_0x561cd8[_0x358234(0x1f2,0x1c9,0x28f,0x271)]&&_0x561cd8[_0x358234(0x2b7,0x2b2,0x28f,0x32d)][_0x1c0951(0x3ac,0x49a,0x458,0x3a5)])_0x8e4a5a['push']({'type':_0x22c2da[_0x1c0951(0x4ab,0x533,0x485,0x3d0)],'text':_0x561cd8[_0x358234(0x33d,0x24f,0x28f,0x2bb)][_0x1c0951(0x426,0x494,0x458,0x3d0)]});const _0x31986e=await _0x22c2da[_0x358234(0x3a1,0x3ce,0x3c2,0x321)](getImageFromTurnData,_0x561cd8[_0x358234(0x2ba,0x303,0x28f,0x229)]);if(_0x31986e)_0x8e4a5a[_0x1c0951(0x3fe,0x3bf,0x32e,0x2f6)]({'type':_0x1c0951(0x465,0x580,0x4aa,0x3fb),'image_url':{'url':_0x31986e}});if(_0x22c2da[_0x358234(0x4bb,0x39c,0x3e0,0x479)](_0x8e4a5a[_0x1c0951(0x522,0x462,0x47c,0x48c)],0x64b+-0x1a*-0x125+-0x240d)){const _0x212f1d={};_0x212f1d[_0x1c0951(0x2f3,0x431,0x35f,0x365)]=_0x22c2da[_0x358234(0x385,0x2eb,0x3ad,0x3d2)],_0x212f1d[_0x358234(0x392,0x3e0,0x342,0x29c)]=_0x8e4a5a,_0x280790[_0x1c0951(0x3af,0x37c,0x32e,0x32c)](_0x212f1d);}}break;}}}}}if(!_0x22653e['includes'](_0x22c2da[_0x358234(0x1df,0x277,0x26e,0x329)])){const _0x2d9973={};_0x2d9973['type']=_0x1c0951(0x3f8,0x522,0x458,0x446),_0x2d9973['text']=_0x241b5e;const _0x318bae={};_0x318bae[_0x1c0951(0x354,0x3f8,0x35f,0x2b4)]=_0x22c2da['HXZTw'],_0x318bae[_0x358234(0x3a7,0x358,0x342,0x282)]=[_0x2d9973],_0x280790[_0x358234(0x2a1,0x1e3,0x25a,0x2ce)](_0x318bae);}else{const _0x3f4bfb=[],_0x59331b=_0x22c2da[_0x1c0951(0x440,0x47e,0x437,0x413)](_0x32d704,_0x241b5e),_0x271ac6=[_0x3172ac[_0x358234(0x184,0x272,0x259,0x197)+'t'],_0x59331b,_0x3172ac[_0x1c0951(0x3cf,0x469,0x453,0x3ca)+'mpt']][_0x358234(0x2c6,0x3b6,0x2e4,0x38b)](Boolean)[_0x1c0951(0x37b,0x2a6,0x379,0x2d3)](',\x20'),_0x182a91={};_0x182a91[_0x1c0951(0x3c6,0x3c2,0x373,0x3d4)]=_0x22c2da[_0x358234(0x43a,0x368,0x3b1,0x353)],_0x182a91[_0x1c0951(0x4e5,0x393,0x458,0x43e)]=_0x271ac6,_0x3f4bfb[_0x1c0951(0x2e2,0x3db,0x32e,0x393)](_0x182a91);if(_0x4bb008){if(_0x22c2da[_0x1c0951(0x416,0x4e0,0x46f,0x4e7)](_0x22c2da[_0x1c0951(0x44a,0x3ee,0x3d4,0x3e4)],_0x22c2da[_0x1c0951(0x3d8,0x494,0x3d4,0x302)])){const _0x368a2a={};_0x368a2a[_0x1c0951(0x4f9,0x507,0x491,0x498)]=_0x4bb008;const _0x55f271={};_0x55f271[_0x358234(0x236,0x373,0x29f,0x214)]=_0x358234(0x448,0x31f,0x3d6,0x315),_0x55f271['image_url']=_0x368a2a,_0x3f4bfb[_0x1c0951(0x341,0x3ae,0x32e,0x394)](_0x55f271),_0x22c2da[_0x1c0951(0x456,0x442,0x436,0x41e)](addLog,'[Banana]\x20修'+_0x1c0951(0x36e,0x269,0x341,0x41d)+_0x1c0951(0x34d,0x2bf,0x345,0x378));}else _0x49de80=_0x4cf2f9[_0x358234(0x2c1,0x19f,0x27b,0x2ef)](_0x358234(0x2be,0x38b,0x336,0x2cf),'');}const _0x503113={};_0x503113['role']=_0x1c0951(0x391,0x3fe,0x391,0x3ce),_0x503113[_0x1c0951(0x428,0x477,0x416,0x3c0)]=_0x3f4bfb,_0x280790[_0x358234(0x1db,0x1fc,0x25a,0x218)](_0x503113),_0x22c2da[_0x1c0951(0x373,0x403,0x42a,0x369)](addLog,_0x1c0951(0x3d5,0x463,0x3bc,0x3e7)+_0x1c0951(0x3c7,0x311,0x3e1,0x45a)+_0x271ac6);}const _0x3fbfae={};_0x3fbfae[_0x1c0951(0x4e7,0x442,0x4bb,0x554)+'o']=_0x1a56ba;const _0x4deb69={};_0x4deb69['imageConfi'+'g']=_0x3fbfae,_0x2cd4e6={'model':_0xea661e,'messages':_0x280790[_0x1c0951(0x393,0x3e8,0x3b8,0x3ad)](_0x4e1313=>_0x4e1313[_0x1c0951(0x3db,0x4a7,0x416,0x499)]['length']>0x29c+0x7f*-0x22+0xe42),'config':_0x4deb69},_0x22c2da['vVjbX'](addLog,_0x358234(0x277,0x265,0x2b9,0x2c3)+_0x358234(0x316,0x2b2,0x343,0x37c)+_0x1c0951(0x439,0x564,0x4cd,0x406)+_0x1c0951(0x353,0x359,0x397,0x45d)+_0x2cd4e6[_0x1c0951(0x2e5,0x455,0x3b0,0x3f2)]['length']+_0x358234(0x2d9,0x39f,0x391,0x427));}let _0x1b1f2a=_0x504b62['replace'](/\/$/,''),_0x4c3c10;_0x1b1f2a[_0x1c0951(0x3e6,0x2f6,0x381,0x31d)](_0x22c2da[_0x1c0951(0x2b8,0x3bd,0x384,0x2b1)])||_0x1b1f2a[_0x1c0951(0x3e3,0x452,0x460,0x4e5)](_0x22c2da[_0x358234(0x32b,0x46e,0x402,0x392)])?_0x22c2da[_0x358234(0x353,0x2da,0x39b,0x39b)]('YFPxS',_0x22c2da[_0x358234(0x3a3,0x46c,0x407,0x464)])?_0x2c7e27=_0x22c2da[_0x1c0951(0x374,0x466,0x3a2,0x33f)](_0x22c2da[_0x1c0951(0x3e9,0x360,0x3bb,0x331)](_0x3bd09e,_0x1c0951(0x3c0,0x30d,0x3ba,0x474)),_0x22c2da[_0x358234(0x22d,0x379,0x2c2,0x32f)](_0x46de12,_0x242fb6['Character\x20'+_0x264de0+_0x358234(0x2e0,0x370,0x309,0x37c)])):_0x4c3c10=_0x1b1f2a+_0x33cf2c:_0x4c3c10=_0x22c2da[_0x1c0951(0x434,0x342,0x41a,0x483)](_0x1b1f2a,_0x22c2da[_0x358234(0x2a4,0x375,0x2b0,0x21f)])+_0x33cf2c;function _0x1c0951(_0x376769,_0x2ac0d8,_0x9d3123,_0x4b7a26){return _0xa3d0(_0x9d3123-0x24f,_0x376769);}_0x4c3c10=_0x4c3c10[_0x358234(0x2a2,0x221,0x280,0x2b3)](/\/v1\/v1\//g,_0x22c2da['AVBla']);const _0xef3773=extension_settings[extensionName]['client'];let _0x4026d3,_0x1741d2,_0x2dbadb;if(_0x22c2da[_0x1c0951(0x4b5,0x46f,0x429,0x39e)](_0xef3773,_0x22c2da[_0x1c0951(0x4a6,0x478,0x410,0x4e2)])){let _0x12770f=_0x1b1f2a;!_0x12770f['endsWith'](_0x1c0951(0x3ba,0x346,0x3f9,0x469))&&!_0x12770f['includes'](_0x22c2da['AVBla'])&&(_0x22c2da[_0x1c0951(0x3a3,0x4da,0x466,0x51a)]('ZUbAr',_0x22c2da[_0x1c0951(0x3c6,0x328,0x370,0x364)])?_0x2e11eb=_0x22c2da[_0x1c0951(0x45c,0x3db,0x3a2,0x3c3)](_0x22c2da[_0x358234(0x204,0x22a,0x2ce,0x30a)](_0x3ef227,_0x1c0951(0x490,0x344,0x3f9,0x3ec)),_0x11f929):_0x12770f=_0x22c2da[_0x1c0951(0x44b,0x43f,0x3bb,0x3a0)](_0x12770f,_0x22c2da['iOzSY']));_0x12770f=_0x12770f[_0x1c0951(0x3c0,0x288,0x354,0x2e8)](/\/v1\/$/,_0x358234(0x2c2,0x2b1,0x325,0x2ce)),_0x4026d3=_0x22c2da['ECzqY'],_0x1741d2=_0x22c2da[_0x1c0951(0x48f,0x393,0x40b,0x3e2)](getRequestHeaders,window[_0x1c0951(0x3a9,0x4e1,0x47f,0x4ee)]);const _0x35c95a={};_0x35c95a[_0x358234(0x3b8,0x394,0x377,0x3e7)+_0x358234(0x36a,0x319,0x380,0x330)+'ce']=_0x22c2da[_0x358234(0x1c4,0x285,0x27e,0x32e)],_0x35c95a[_0x358234(0x25e,0x2f8,0x338,0x3ef)]=_0x12770f,_0x35c95a['custom_inc'+_0x1c0951(0x5bb,0x451,0x4df,0x5ab)+'rs']=_0x358234(0x41f,0x48b,0x3ef,0x3ee)+_0x1c0951(0x463,0x41d,0x405,0x492)+_0x358234(0x3b3,0x4c7,0x3eb,0x4a7)+_0x2cfcfa+'\x22',_0x35c95a['model']=_0xea661e,_0x35c95a['messages']=_0x2cd4e6[_0x358234(0x2c4,0x2a0,0x2dc,0x3a5)],_0x35c95a[_0x358234(0x31e,0x2da,0x34c,0x41c)]=![],_0x2dbadb=_0x35c95a;if(_0xea661e[_0x358234(0x341,0x2f2,0x38e,0x2bb)](_0x22c2da['kjiDW'])){if(_0x22c2da[_0x358234(0x2b4,0x2ed,0x305,0x3da)](_0x22c2da[_0x358234(0x33d,0x2c5,0x301,0x38e)],_0x22c2da['hgdpN'])){const _0x28c601=_0x3f6971[_0x1c0951(0x3b3,0x329,0x338,0x3ec)](_0x47294f,arguments);return _0x493f7d=null,_0x28c601;}else{addLog(_0x358234(0x265,0x215,0x2e3,0x2b7)+_0x1c0951(0x39f,0x43b,0x46d,0x45c)+_0x358234(0x492,0x463,0x3fc,0x459)+_0x358234(0x3c0,0x3af,0x3cb,0x3e1)),_0x4026d3=_0x4c3c10;const _0x5747ba={};_0x5747ba[_0x358234(0x362,0x40f,0x348,0x304)+'pe']=_0x22c2da[_0x358234(0x20c,0x1d6,0x293,0x32b)],_0x5747ba[_0x358234(0x39f,0x49c,0x3ef,0x4b0)+'ion']=_0x1c0951(0x3b5,0x3a4,0x46b,0x43b)+_0x2cfcfa,_0x1741d2=_0x5747ba,_0x2dbadb=_0x2cd4e6;}}addLog(_0x1c0951(0x3cb,0x4b3,0x492,0x4b7)+_0x1c0951(0x3f9,0x460,0x3dc,0x336));}else _0x4026d3=_0x4c3c10,_0x1741d2=_0x22c2da['EVObZ'](getDirectHeaders,_0x22c2da[_0x1c0951(0x2be,0x293,0x367,0x2ff)],'Bearer\x20'+_0x2cfcfa),_0x2dbadb=_0x2cd4e6,addLog('[Banana]\x20使'+_0x1c0951(0x387,0x30f,0x390,0x3f1));addLog(_0x358234(0x2e9,0x3b7,0x3af,0x465)+_0x358234(0x354,0x284,0x313,0x34d)+'uest\x20to:\x20'+_0x4026d3),addLog(_0x358234(0x3cf,0x296,0x368,0x2d0)+_0x1c0951(0x455,0x3ce,0x3fa,0x3a9)+JSON[_0x1c0951(0x475,0x3df,0x421,0x3dd)](_0x2dbadb,null,-0x623*0x5+-0xe77+-0x2d28*-0x1));try{taskQueue[_0x1c0951(0x343,0x396,0x360,0x3a3)+'us'](_0x1791e3,_0x1c0951(0x526,0x484,0x4d2,0x517));const _0x8a8e1e=await _0x22c2da[_0x358234(0x270,0x248,0x2ea,0x25c)](fetch,_0x4026d3,{'method':_0x22c2da[_0x358234(0x28c,0x220,0x2a4,0x2c7)],'headers':_0x1741d2,'body':JSON['stringify'](_0x2dbadb)});if(!_0x8a8e1e['ok']){const _0x593436=await _0x8a8e1e['text']();throw new Error('API\x20reques'+_0x1c0951(0x2fa,0x3fa,0x3c7,0x38d)+'ith\x20status'+'\x20'+_0x8a8e1e[_0x358234(0x387,0x3bb,0x357,0x30c)]+':\x20'+_0x593436);}const _0x4ff5e5=await _0x8a8e1e[_0x1c0951(0x47a,0x48f,0x4b0,0x42e)]();let _0x112b39='';const _0x2333b3=_0x4ff5e5['choices'];if(_0x2333b3&&_0x22c2da[_0x358234(0x2a7,0x2ac,0x328,0x284)](_0x2333b3['length'],0x18c+0x41b*-0x9+0x2367)){if(_0x22c2da['bkNJN'](_0x22c2da[_0x1c0951(0x314,0x31e,0x37d,0x405)],_0x22c2da[_0x1c0951(0x3eb,0x40f,0x37d,0x3ae)])){const _0x55ad66=_0x2333b3[-0x1af1+0x25*0x73+0xa52*0x1][_0x1c0951(0x294,0x347,0x356,0x2fe)]?.[_0x358234(0x28a,0x407,0x342,0x312)];if(Array[_0x358234(0x2b7,0x1ed,0x258,0x1bd)](_0x55ad66)){if(_0x22c2da[_0x1c0951(0x42d,0x4c0,0x486,0x3f3)](_0x22c2da[_0x358234(0x33d,0x1ec,0x275,0x282)],_0x22c2da[_0x358234(0x30e,0x203,0x25e,0x2d6)]))for(const _0x24d57d of _0x55ad66){if(_0x22c2da[_0x1c0951(0x2e1,0x31b,0x385,0x2b2)](_0x22c2da['JMRNZ'],_0x22c2da['JMRNZ'])){if(_0x22c2da[_0x1c0951(0x3fb,0x3de,0x47b,0x542)](_0x24d57d['type'],_0x22c2da[_0x358234(0x234,0x1fa,0x262,0x337)])&&_0x24d57d[_0x1c0951(0x55d,0x4aa,0x4aa,0x507)]){_0x112b39=typeof _0x24d57d['image_url']===_0x22c2da[_0x358234(0x3ee,0x48d,0x3c9,0x3bb)]?_0x24d57d[_0x358234(0x3b6,0x311,0x3d6,0x40b)]:_0x24d57d[_0x1c0951(0x574,0x4fa,0x4aa,0x567)][_0x1c0951(0x548,0x414,0x491,0x3d9)];break;}}else{const _0x17163a=[],_0x3fa8dc=_0x22c2da[_0x1c0951(0x467,0x46d,0x45a,0x51d)](_0x1af0b9,_0x345dcb),_0x5ae893=[_0x48ff9b[_0x358234(0x25e,0x291,0x259,0x30b)+'t'],_0x3fa8dc,_0x28ad73[_0x1c0951(0x4ff,0x3f9,0x453,0x45c)+_0x358234(0x3df,0x3b5,0x373,0x40c)]][_0x1c0951(0x2dd,0x47c,0x3b8,0x466)](_0xd266c9)['join'](',\x20'),_0x4bb7ee={};_0x4bb7ee[_0x358234(0x219,0x254,0x29f,0x2f9)]=_0x22c2da[_0x1c0951(0x3fe,0x500,0x485,0x455)],_0x4bb7ee[_0x1c0951(0x41a,0x4c2,0x458,0x3f1)]=_0x5ae893,_0x17163a['push'](_0x4bb7ee);if(_0xe61527){const _0x5b31bd={};_0x5b31bd[_0x1c0951(0x3d7,0x4b4,0x491,0x53f)]=_0x47fcba;const _0x4320fd={};_0x4320fd[_0x1c0951(0x447,0x332,0x373,0x440)]=_0x358234(0x317,0x300,0x3d6,0x4a6),_0x4320fd['image_url']=_0x5b31bd,_0x17163a[_0x1c0951(0x2a4,0x317,0x32e,0x301)](_0x4320fd),_0x22c2da[_0x1c0951(0x3f6,0x3f7,0x497,0x557)](_0x16b7b6,_0x1c0951(0x424,0x31a,0x3bc,0x403)+_0x358234(0x1a6,0x21b,0x26d,0x342)+_0x358234(0x2d9,0x21d,0x271,0x1f2));}const _0x50781e={};_0x50781e[_0x1c0951(0x3d3,0x3f3,0x35f,0x306)]=_0x22c2da[_0x358234(0x2ed,0x29c,0x35c,0x34a)],_0x50781e[_0x1c0951(0x395,0x4f1,0x416,0x40a)]=_0x17163a,_0xee60b[_0x358234(0x293,0x31a,0x25a,0x2c7)](_0x50781e),_0x22c2da[_0x1c0951(0x3c3,0x393,0x3a6,0x352)](_0x59f2b0,_0x358234(0x39c,0x39b,0x2e8,0x2b2)+_0x1c0951(0x457,0x41b,0x3e1,0x325)+_0x5ae893);}}else _0xfb87ca=_0x4ab972,_0x48f68a=_0x22c2da[_0x358234(0x3e8,0x36d,0x335,0x307)](_0x1353ab,_0x358234(0x36d,0x3ef,0x3ed,0x40b)+_0x358234(0x331,0x240,0x25b,0x2c6),_0x1c0951(0x47d,0x467,0x46b,0x4cd)+_0x33a183),_0x4a3818=_0x39283c,_0x3b8171('[Banana]\x20使'+_0x358234(0x24f,0x21c,0x2bc,0x2c9));}else{if(_0x22c2da[_0x358234(0x359,0x35c,0x3ff,0x3d6)](typeof _0x55ad66,_0x22c2da['ZJlXU'])){if(_0x22c2da[_0x1c0951(0x347,0x386,0x34b,0x2f4)]===_0x358234(0x2e2,0x2df,0x3bb,0x41b)){const _0x1d99ea=/!\[.*?\]\(((?:https?:\/\/|data:image\/[^;]+;base64,)[^\s\)]+)\)/,_0xdf516e=_0x55ad66[_0x1c0951(0x333,0x41f,0x39d,0x353)](_0x1d99ea);if(_0xdf516e&&_0xdf516e[0x238a*-0x1+0x24b0+-0x125*0x1]){if(_0x22c2da['tZUDZ']===_0x22c2da['LZfWI']){_0x5241f6=_0x358234(0x418,0x3cb,0x3cd,0x492)+_0x358234(0x377,0x398,0x323,0x3ee)+_0x2c471b;const _0x298036={};_0x298036[_0x1c0951(0x2c1,0x2ac,0x32d,0x3d2)+'t']='';const _0xeedcb8=_0x1eed00[_0x189e79]||_0x298036,_0x47aaa6=[_0xeedcb8[_0x1c0951(0x320,0x3c0,0x32d,0x323)+'t'],_0x3b7520[_0x22c2da[_0x358234(0x399,0x3a0,0x406,0x47f)]],_0x29bd2b[_0x22c2da['RlGPv']],_0x53395d,_0x19447b[_0x22c2da['itxDi']],_0x408a91[_0x22c2da['uymLG']],_0xeedcb8[_0x1c0951(0x494,0x485,0x453,0x46a)+_0x358234(0x401,0x322,0x373,0x3a7)],_0xf61ec1[_0x22c2da['GpCOL']]][_0x358234(0x2af,0x301,0x2e4,0x359)](_0x444a8b)['join'](',\x20');_0x22c2da[_0x358234(0x30f,0x36b,0x3db,0x363)](_0x362def,'正面提示词:\x20'+_0x47aaa6);const _0x266685={};_0x266685[_0x358234(0x41a,0x4b5,0x3f8,0x463)]=_0x47aaa6;const _0x1e671d={};_0x1e671d[_0x1c0951(0x313,0x3b4,0x365,0x293)+'t']=0x1,_0x1e671d[_0x1c0951(0x4f2,0x506,0x4bb,0x4af)+'o']=_0x27e162;const _0x4e65fe={};_0x4e65fe[_0x1c0951(0x43e,0x43a,0x411,0x339)]=[_0x266685],_0x4e65fe['parameters']=_0x1e671d,_0xd6833b=_0x4e65fe,_0x22c2da[_0x1c0951(0x365,0x312,0x396,0x34e)](_0x1f56cf,_0x1c0951(0x321,0x38f,0x38d,0x2d3)+'uilt\x20Image'+_0x1c0951(0x419,0x49a,0x464,0x415)+_0x1c0951(0x395,0x42e,0x3e3,0x43c)+'t:\x20'+_0x47aaa6);}else{const _0x293566=_0xdf516e[0x296+-0x8*-0xfb+-0xa6d];if(_0x293566['startsWith'](_0x22c2da['Zwbgf']))_0x22c2da[_0x358234(0x3a9,0x473,0x403,0x42d)](addLog,_0x22c2da[_0x358234(0x29d,0x303,0x2f9,0x235)]),_0x112b39=_0x293566,_0x22c2da[_0x358234(0x2ec,0x257,0x2fa,0x38a)](addLog,_0x1c0951(0x506,0x504,0x483,0x4c1)+'uccessfull'+'y\x20extracte'+_0x358234(0x3c5,0x361,0x2fd,0x2d9)+_0x358234(0x441,0x3d2,0x3d4,0x47f)+_0x1c0951(0x442,0x305,0x386,0x433));else{if(_0x22c2da[_0x1c0951(0x4c9,0x435,0x4d3,0x4d3)](_0x22c2da[_0x1c0951(0x303,0x3bf,0x399,0x3cf)],_0x22c2da[_0x358234(0x360,0x396,0x2c5,0x2d6)])){_0x22c2da[_0x1c0951(0x3ac,0x473,0x484,0x533)](addLog,_0x22c2da[_0x358234(0x31f,0x283,0x28e,0x27d)]),_0x22c2da[_0x358234(0x2d5,0x2b5,0x310,0x234)](addLog,_0x1c0951(0x3fd,0x2a9,0x347,0x403)+_0x1c0951(0x3b3,0x448,0x380,0x431)+_0x1c0951(0x3fa,0x525,0x46a,0x3d5)+_0x293566);try{const _0x3f5baa=await fetch(_0x293566,{'headers':_0x22c2da[_0x358234(0x2dc,0x35b,0x2fe,0x330)](getDirectHeaders)});if(!_0x3f5baa['ok']){if('fDxpe'===_0x1c0951(0x319,0x2ac,0x388,0x3b1)){const _0x4e342d={};_0x4e342d['url']=_0x206a62;const _0x14e92c={};_0x14e92c[_0x358234(0x2a0,0x34e,0x29f,0x27a)]=_0x358234(0x491,0x433,0x3d6,0x47e),_0x14e92c[_0x1c0951(0x4cd,0x3d6,0x4aa,0x483)]=_0x4e342d,_0x24e450['push'](_0x14e92c),_0x22c2da[_0x1c0951(0x3ef,0x2e9,0x3b9,0x398)](_0xb8818f,_0x358234(0x2d6,0x23a,0x2e8,0x2a4)+_0x358234(0x317,0x2b0,0x26d,0x320)+_0x358234(0x320,0x209,0x271,0x253));}else throw new Error(_0x358234(0x49e,0x43e,0x3f6,0x336)+_0x358234(0x2c9,0x3a1,0x37d,0x420)+'e:\x20'+_0x3f5baa['status']);}const _0x84848b=await _0x3f5baa[_0x358234(0x3de,0x354,0x3f4,0x40c)](),_0x4dcc51=await new Promise((_0x5696f6,_0x56d9bc)=>{const _0x23b64d=new FileReader();function _0x59ea20(_0x4a536e,_0x29447a,_0x1fce5d,_0x4dfb89){return _0x1c0951(_0x4dfb89,_0x29447a-0xf,_0x29447a- -0x17e,_0x4dfb89-0xf5);}function _0x13ab07(_0x33deec,_0x5e2cbe,_0x1e11e2,_0x122cf7){return _0x358234(_0x33deec-0x1a9,_0x5e2cbe-0x99,_0x122cf7-0x119,_0x33deec);}_0x23b64d[_0x13ab07(0x344,0x48e,0x4e0,0x41b)]=()=>_0x5696f6(_0x23b64d[_0x59ea20(0x2ac,0x20e,0x251,0x28f)]),_0x23b64d[_0x59ea20(0x1a3,0x1ef,0x149,0x118)]=_0x56d9bc,_0x23b64d[_0x59ea20(0x3d9,0x32e,0x2de,0x35c)+_0x13ab07(0x354,0x2d5,0x2df,0x38d)](_0x84848b);});_0x112b39=_0x4dcc51,_0x22c2da['AeJFj'](String(extension_settings[extensionName]['convertToJ'+'pegStorage']),'true')&&(_0x22c2da[_0x1c0951(0x3b8,0x4ec,0x47b,0x551)](_0x22c2da[_0x1c0951(0x3ea,0x38d,0x374,0x3b4)],_0x1c0951(0x359,0x358,0x40d,0x44f))?_0x112b39=await _0x22c2da[_0x358234(0x441,0x3b2,0x3c3,0x499)](convertImageToJpeg,_0x112b39):_0x4727da=!![]),_0x22c2da[_0x1c0951(0x4f2,0x4e3,0x4ae,0x44f)](addLog,_0x22c2da[_0x1c0951(0x33a,0x48d,0x414,0x37c)]);}catch(_0x2f2707){if(_0x22c2da['QOGjB']!==_0x22c2da[_0x1c0951(0x326,0x357,0x3d0,0x339)])_0x22c2da[_0x1c0951(0x491,0x3f0,0x484,0x4d9)](addLog,_0x1c0951(0x35a,0x3e2,0x3a0,0x375)+_0x1c0951(0x3f5,0x3c4,0x355,0x2d7)+'etch\x20Markd'+_0x1c0951(0x44b,0x51c,0x4d4,0x4a3)+'\x20'+_0x2f2707[_0x358234(0x2fe,0x2c7,0x282,0x1f5)]),_0x112b39=_0x293566,_0x22c2da[_0x358234(0x27f,0x3c9,0x330,0x2f9)](addLog,_0x22c2da[_0x1c0951(0x4b3,0x44c,0x402,0x43d)]);else{_0x22c2da[_0x1c0951(0x40b,0x437,0x4bd,0x56a)](_0x218be0,_0x358234(0x26a,0x241,0x2e3,0x3b1)+'magen\x20模型不支'+'持酒馆代理，切换为直'+_0x358234(0x3f1,0x310,0x3cb,0x359)),_0x3eedb6=_0x5b1858;const _0x57c468={};_0x57c468[_0x1c0951(0x348,0x46c,0x41c,0x351)+'pe']=_0x1c0951(0x543,0x4e6,0x4c1,0x4ba)+'n/json',_0x57c468[_0x358234(0x415,0x4aa,0x3ef,0x4b7)+_0x1c0951(0x3c3,0x3af,0x446,0x3d5)]=_0x1c0951(0x522,0x4e2,0x46b,0x52e)+_0x17b2fd,_0x2d22e5=_0x57c468,_0x1bf52a=_0xfc9d7f;}}}else return _0x79e586[_0x358234(0x2c8,0x1e4,0x27a,0x308)]()[_0x358234(0x241,0x3b3,0x311,0x38e)](MwKrqF[_0x1c0951(0x4bc,0x3bd,0x45f,0x3d2)])[_0x358234(0x238,0x1fe,0x27a,0x2f8)]()[_0x1c0951(0x475,0x41a,0x47a,0x547)+'r'](_0x4ba8a3)['search'](MwKrqF[_0x358234(0x3b8,0x44e,0x38b,0x42c)]);}}}else _0x22c2da[_0x358234(0x3e0,0x3f5,0x3d0,0x30e)](addLog,_0x1c0951(0x49e,0x3b2,0x3c3,0x417)+'esponse\x20co'+_0x358234(0x3bf,0x45a,0x3f2,0x41c)+'t\x20only,\x20no'+_0x1c0951(0x459,0x4fa,0x480,0x49c));}else{let _0xa8bcfb=_0x1f27a9;!_0xa8bcfb[_0x1c0951(0x40e,0x3d8,0x381,0x331)](_0x22c2da[_0x358234(0x385,0x2ec,0x2b0,0x200)])&&!_0xa8bcfb[_0x1c0951(0x4b1,0x47c,0x460,0x3a4)](_0x22c2da[_0x1c0951(0x58e,0x552,0x4d6,0x54b)])&&(_0xa8bcfb=_0x22c2da[_0x358234(0x241,0x2ba,0x2e7,0x3a0)](_0xa8bcfb,_0x22c2da[_0x1c0951(0x303,0x380,0x384,0x30f)]));_0xa8bcfb=_0xa8bcfb[_0x358234(0x32c,0x31b,0x280,0x261)](/\/v1\/$/,_0x22c2da[_0x1c0951(0x2c5,0x377,0x384,0x3d4)]),_0x232da0=_0x358234(0x30f,0x428,0x395,0x2f6)+_0x1c0951(0x408,0x3ef,0x48b,0x44d)+_0x1c0951(0x588,0x532,0x4c0,0x41d)+_0x1c0951(0x347,0x386,0x3af,0x3e6),_0x25a6c0=_0x22c2da[_0x1c0951(0x301,0x48c,0x3b9,0x465)](_0x558ea5,_0x2913ec['token']);const _0x2fbf51={};_0x2fbf51[_0x358234(0x2e7,0x381,0x377,0x409)+_0x358234(0x361,0x3a3,0x380,0x3a3)+'ce']=_0x22c2da[_0x1c0951(0x399,0x2cb,0x352,0x3a7)],_0x2fbf51[_0x358234(0x2a9,0x3a1,0x338,0x355)]=_0xa8bcfb,_0x2fbf51[_0x358234(0x2fe,0x35b,0x3b3,0x30b)+_0x358234(0x36b,0x45c,0x40b,0x449)+'rs']='Authorizat'+'ion:\x20\x22Bear'+_0x358234(0x467,0x3a7,0x3eb,0x4a7)+_0x384bb4+'\x22',_0x2fbf51[_0x358234(0x202,0x2fe,0x28f,0x223)]=_0x25281b,_0x2fbf51['messages']=_0x9b1c0d[_0x358234(0x23b,0x37e,0x2dc,0x2d4)],_0x2fbf51[_0x358234(0x289,0x2c1,0x34c,0x3ac)]=![],_0x16f750=_0x2fbf51;if(_0xd222c3[_0x1c0951(0x39a,0x444,0x462,0x42f)]('imagen')){_0x22c2da['RuqdN'](_0x66f7fe,_0x358234(0x322,0x2bd,0x2e3,0x2ea)+_0x358234(0x34a,0x329,0x399,0x37f)+'持酒馆代理，切换为直'+_0x358234(0x3d2,0x347,0x3cb,0x2f8)),_0x997c2f=_0xfa2098;const _0x4598ee={};_0x4598ee[_0x358234(0x345,0x3fc,0x348,0x372)+'pe']=_0x22c2da[_0x1c0951(0x41e,0x3b8,0x367,0x40b)],_0x4598ee[_0x1c0951(0x455,0x41b,0x4c3,0x4da)+_0x358234(0x2b6,0x3f6,0x372,0x380)]=_0x1c0951(0x3d7,0x3b1,0x46b,0x407)+_0x413b25,_0x114493=_0x4598ee,_0x5c8b3b=_0x5c0afc;}_0x22c2da[_0x1c0951(0x453,0x344,0x396,0x440)](_0x1d14ec,_0x358234(0x442,0x442,0x3be,0x407)+_0x358234(0x30c,0x27a,0x308,0x394));}}}}else _0x22c2da[_0x1c0951(0x48a,0x516,0x4bd,0x4f6)](_0x4680fd,_0x22c2da[_0x358234(0x2b6,0x34c,0x2f9,0x3cc)]),_0x1878fb=_0x1950f7,_0x2072b9(_0x22c2da[_0x1c0951(0x516,0x3e0,0x45d,0x505)]);}if(!_0x112b39){if(_0x22c2da['bMpPP'](_0x22c2da[_0x358234(0x360,0x24f,0x2df,0x23f)],_0x22c2da[_0x358234(0x3da,0x43c,0x37b,0x2dc)]))_0x22c2da[_0x358234(0x439,0x42b,0x3fd,0x4c0)](_0x145e25,_0x22c2da[_0x358234(0x2e5,0x2c3,0x35f,0x3aa)]);else throw new Error(_0x22c2da[_0x1c0951(0x401,0x2d8,0x375,0x351)]);}return _0x22c2da['gBCow'](addLog,_0x1c0951(0x44c,0x48a,0x3b7,0x366)+_0x1c0951(0x38c,0x32e,0x35e,0x301)+_0x358234(0x40e,0x2cf,0x371,0x32f)+_0x1c0951(0x3ea,0x4e9,0x4a9,0x4f3)),taskQueue['completeTa'+'sk'](_0x1791e3,!![]),currentTaskId=null,{'image':_0x112b39,'change':_0x22c2da[_0x358234(0x34c,0x2ce,0x2d4,0x30d)](_0x3a1c0c,'')};}catch(_0x2fe41f){if(_0x22c2da[_0x358234(0x25a,0x24d,0x29a,0x2b6)](_0x22c2da['Ljdgb'],_0x22c2da[_0x1c0951(0x3be,0x3e7,0x490,0x4db)])){_0x22c2da['tqsBx'](addLog,'[Banana]\x20F'+'etch\x20error'+':\x20'+_0x2fe41f[_0x358234(0x343,0x1b8,0x282,0x22e)]),console[_0x358234(0x442,0x2d6,0x378,0x389)](_0x1c0951(0x3f3,0x3eb,0x3a0,0x3cb)+'etch\x20error'+':',_0x2fe41f);if(_0x2fe41f[_0x358234(0x26b,0x252,0x282,0x26b)]===_0x22c2da[_0x1c0951(0x2d3,0x33d,0x34a,0x31e)]){}else _0x22c2da[_0x1c0951(0x389,0x30d,0x3d3,0x432)](_0x22c2da[_0x358234(0x2d4,0x23e,0x267,0x27f)],_0x22c2da[_0x358234(0x2be,0x22a,0x267,0x195)])?taskQueue[_0x1c0951(0x36d,0x4b0,0x438,0x4ba)+'sk'](_0x1791e3,![]):(_0x2cc0c7[_0x18021f][_0x1c0951(0x2c9,0x3cc,0x32a,0x3eb)][_0x1c0951(0x37a,0x460,0x398,0x39c)]=_0x22c2da[_0x1c0951(0x482,0x32a,0x3bb,0x3b0)](_0x473e05[_0x57985f][_0x1c0951(0x3f2,0x275,0x32a,0x339)]['cishu'],0x1d*0xc7+0x2a8+-0x1932),_0x22c2da[_0x358234(0x3bb,0x215,0x2f0,0x3a4)](_0xdcb1e8,'当前生图次数为\x20fo'+_0x1c0951(0x40a,0x574,0x4b8,0x476)+_0x220caa[_0x3b6de3][_0x358234(0x2fa,0x2be,0x256,0x1f9)]['cishu']));currentTaskId=null;throw _0x2fe41f;}else return _0x507f71['image'];}}export async function bananaGenerate(_0x1aac70){const _0xa396={'ZYQUc':_0xb0f372(-0xf2,-0x90,-0x33,-0x1f)+'se\x20did\x20not'+_0x265eef(0x442,0x4dd,0x489,0x599)+_0xb0f372(0xe5,0xe6,0xa7,0x15f)+_0xb0f372(0x90,0x13d,0xd7,0x1ab)+'t','VVuqi':function(_0x23ba5c){return _0x23ba5c();},'KubpP':function(_0x38ea26,_0x67c525){return _0x38ea26(_0x67c525);},'kntwB':function(_0x5d1d8e,_0x17c9db){return _0x5d1d8e===_0x17c9db;},'MGBlo':'ZUkHo','KpODT':_0x265eef(0x4a8,0x537,0x5f9,0x4f8),'SIsRJ':_0x265eef(0x4fa,0x48e,0x4b0,0x433),'KMEHv':function(_0x430317,_0x4d05c7){return _0x430317(_0x4d05c7);},'kNfFe':function(_0x429ec7,_0x533c6d){return _0x429ec7!=_0x533c6d;},'AmtKw':function(_0x27b79a,_0x4721b9){return _0x27b79a!==_0x4721b9;},'PvaOv':_0x265eef(0x535,0x4a9,0x483,0x401),'OoeMz':function(_0x100bdb,_0x593063,_0x5443e8,_0x2c1f65){return _0x100bdb(_0x593063,_0x5443e8,_0x2c1f65);},'qAyTV':function(_0x2b269b,_0x27f36f){return _0x2b269b(_0x27f36f);},'SgGdz':function(_0x19f395,_0x32dfaf){return _0x19f395(_0x32dfaf);},'CJjJb':'gGTar','jtTli':_0xb0f372(-0x23,-0x47,0x37,0x10c)};_0xa396[_0x265eef(0x3a8,0x477,0x4de,0x4bb)](clearLog);let {id:_0x4aa697,prompt:_0x52612b,width:_0x21493c,height:_0x320191,change:_0x201bbb,retouchPrompt:_0x1dac5e,retouchImage:_0x40545f}=_0x1aac70;currentRequestId=_0x4aa697;function _0xb0f372(_0x9126be,_0x49b73c,_0x4b0e61,_0x1f8d7e){return _0xa3d0(_0x4b0e61- -0x1bb,_0x49b73c);}currentPrompt=_0x52612b,_0xa396[_0xb0f372(-0x7e,0x39,0x8,0x93)](addLog,_0x265eef(0x4a4,0x447,0x48e,0x416)+_0x265eef(0x39e,0x40f,0x3fe,0x343)+'age\x20genera'+_0xb0f372(-0x168,-0x152,-0xcc,-0x11e)+_0x265eef(0x41e,0x4b6,0x58a,0x4c3)+_0x4aa697+')');let _0x1f952a='';function _0x265eef(_0x177b28,_0x27cf9b,_0x3f1b12,_0x31ca8f){return _0xa3d0(_0x27cf9b-0x2d3,_0x3f1b12);}if(_0x201bbb){if(_0xa396[_0x265eef(0x4a9,0x464,0x504,0x41e)](_0x265eef(0x459,0x4a8,0x567,0x447),_0xa396[_0xb0f372(-0xc2,-0x11,-0x4b,-0x71)]))_0x1f952a=_0x201bbb[_0x265eef(0x474,0x3d3,0x419,0x347)](_0x265eef(0x42d,0x48e,0x416,0x4bf),'');else throw new _0x33195b(_0xb0f372(0x30,0x14b,0xc0,0x65)+_0x265eef(0x45b,0x4d5,0x542,0x530)+'e:\x20'+_0x2fc16c['status']);}else{if(_0xa396['KpODT']!==_0xa396[_0xb0f372(-0x84,-0x8f,0x44,0x5)])throw new _0x124cd2(_0xa396[_0xb0f372(0x27,0x5e,-0x65,0x18)]);else _0x1f952a=_0x52612b;}if(_0x201bbb&&_0x201bbb[_0xb0f372(0x9d,0x15,0x56,0x12d)](_0xa396[_0xb0f372(0x80,0x110,0xc5,0x116)])){addLog(_0xb0f372(0x91,0x78,0x59,-0x21)+'启动');if(_0x1dac5e)_0xa396[_0x265eef(0x385,0x42d,0x49a,0x3ea)](addLog,'修图指令:\x20'+_0x1dac5e);if(_0x40545f)addLog(_0xb0f372(-0x8f,-0xea,-0x14,-0x4c)+']');}try{const {image:_0x5e9ad4,change:_0x309279}=await generateBananaImage({'prompt':_0x52612b,'width':_0x21493c,'height':_0x320191,'change':_0x201bbb,'retouchPrompt':_0x1dac5e,'retouchImage':_0x40545f});if(_0xa396[_0xb0f372(0x101,0x24,0x68,0x12a)](extension_settings[extensionName]['cache'],'0')){if(_0xa396['AmtKw'](_0xa396[_0x265eef(0x54e,0x478,0x3e1,0x3b3)],_0xa396['PvaOv'])){const _0x11012e={};_0x11012e[_0xb0f372(-0x144,-0xfa,-0xab,0x27)]=_0x265eef(0x490,0x415,0x359,0x43a),_0x11012e[_0xb0f372(-0xb5,0x64,0xc,-0x6b)]=_0x4e1837,_0x5dd7e3[_0xb0f372(-0x181,-0x168,-0xdc,-0x82)](_0x11012e);}else{const _0x46c8e={};_0x46c8e[_0x265eef(0x40f,0x40e,0x440,0x390)]=_0x1f952a,await _0xa396[_0x265eef(0x52a,0x46c,0x528,0x47d)](setItemImg,_0x52612b,_0x5e9ad4,_0x46c8e),_0xa396[_0x265eef(0x47c,0x42d,0x42a,0x484)](addLog,_0xb0f372(0xb5,0x13,0x25,0xc6)+_0xb0f372(0xb2,-0x9,-0x1a,-0x56)+'\x20'+_0x52612b),extension_settings[extensionName][_0xb0f372(-0xec,-0x196,-0xe0,-0xbf)]['cishu']?(extension_settings[extensionName][_0x265eef(0x434,0x3ae,0x387,0x2f0)][_0xb0f372(-0xb2,0x8,-0x72,-0x55)]=extension_settings[extensionName][_0xb0f372(-0x10e,-0xbc,-0xe0,-0x64)][_0xb0f372(0x36,-0x1c,-0x72,-0x99)]+(-0x1cbf+0x202a+-0x36a),addLog('当前生图次数为\x20fo'+_0x265eef(0x465,0x53c,0x481,0x5c1)+extension_settings[extensionName]['banana'][_0xb0f372(-0xad,0x4f,-0x72,-0x92)])):(extension_settings[extensionName]['banana'][_0x265eef(0x35e,0x41c,0x447,0x38c)]=-0x1da6+0xdcd+0xfda,_0xa396[_0x265eef(0x34f,0x3d1,0x3d7,0x3ea)](addLog,_0x265eef(0x5aa,0x4f7,0x59f,0x4af)+'r\x20prompt:\x20'+extension_settings[extensionName][_0xb0f372(-0x2d,-0x1b6,-0xe0,-0x8e)][_0xb0f372(-0x100,-0x148,-0x72,-0x104)]));}}else _0xa396[_0xb0f372(0x6e,-0x1c,0x90,-0xa)](addLog,_0x265eef(0x31a,0x3ca,0x497,0x3c5)+'库');const _0x25be95={};_0x25be95['id']=_0x4aa697,_0x25be95[_0x265eef(0x3c4,0x3d5,0x449,0x429)]=!![],_0x25be95[_0x265eef(0x37e,0x3e5,0x3e6,0x385)]=_0x5e9ad4,_0x25be95[_0x265eef(0x604,0x550,0x58d,0x61b)]=_0x52612b,_0x25be95[_0xb0f372(-0xa4,0x7,-0x80,-0x78)]=_0x1f952a,eventSource[_0x265eef(0x4e7,0x435,0x40d,0x4c1)](EventType[_0xb0f372(-0x28,0x3f,0xa1,0x82)+_0x265eef(0x559,0x499,0x507,0x48d)+'NSE'],_0x25be95),addLog(_0xb0f372(0x52,0x12e,0xd3,0x31)+_0x265eef(0x53a,0x475,0x3c1,0x508)+_0xb0f372(0x21,-0x16d,-0x98,0x0)+_0x265eef(0x442,0x483,0x4dd,0x456)+':\x20'+_0x4aa697);}catch(_0x759e92){if(_0xa396[_0xb0f372(-0x4b,-0xc1,-0x2a,-0xfd)](_0xa396[_0x265eef(0x3e6,0x3c4,0x480,0x3fc)],_0xa396['jtTli'])){const _0x1a0366=_0x29ad58?function(){if(_0x2136d8){const _0x26a533=_0x2853a3['apply'](_0x54758b,arguments);return _0x151cbe=null,_0x26a533;}}:function(){};return _0x59d515=![],_0x1a0366;}else{const _0x3076f6=_0x265eef(0x41a,0x46e,0x47e,0x3f3)+_0x265eef(0x4c5,0x446,0x4f2,0x501)+'failed\x20for'+_0xb0f372(0xa4,0x8b,0x27,-0x3c)+_0x4aa697+':\x20'+_0x759e92['message'];_0xa396[_0x265eef(0x3db,0x42d,0x37f,0x4ca)](addLog,_0x3076f6),console[_0xb0f372(-0xe,-0x98,0x42,0x10)](_0x3076f6);const _0xff56de={};_0xff56de['id']=_0x4aa697,_0xff56de[_0xb0f372(-0x124,-0x8f,-0xb9,-0x106)]=![],_0xff56de['error']=_0x759e92[_0x265eef(0x411,0x3da,0x3c6,0x323)],_0xff56de[_0x265eef(0x606,0x550,0x4e0,0x506)]=_0x52612b,eventSource[_0x265eef(0x481,0x435,0x3a1,0x38a)](EventType[_0x265eef(0x59f,0x52f,0x55c,0x5b9)+_0x265eef(0x429,0x499,0x52a,0x413)+_0xb0f372(-0x10,-0x7a,-0x40,-0xea)],_0xff56de),_0xa396['SgGdz'](addLog,'[Banana]\x20E'+_0x265eef(0x44d,0x4a1,0x559,0x4cc)+_0xb0f372(-0x10,-0x8f,-0x9b,-0x80)+'nse\x20for\x20ID'+':\x20'+_0x4aa697);}}}function handleCancelBananaTask(_0x2330d4){const _0x125257={'oXyNr':'Content-Ty'+'pe','voIuD':function(_0x35e042,_0x2085bf){return _0x35e042(_0x2085bf);},'mDvYv':function(_0x4dbdaa,_0x353cf2){return _0x4dbdaa===_0x353cf2;},'HLkMQ':function(_0xb7f73e,_0xf496bf){return _0xb7f73e!==_0xf496bf;},'mrvyd':_0x3e0d95(0x9d,0x84,-0x58,-0x50),'fzGTz':_0x3e0d95(-0x1a,0x2e,0x45,0xdc),'yTkfd':_0x3e0d95(0x69,0x96,0xfe,0x145),'TqBCw':function(_0x143561,_0x4cd6b8){return _0x143561(_0x4cd6b8);},'MwvYf':function(_0x3e45b0,_0x20db99){return _0x3e45b0||_0x20db99;}};function _0x3e0d95(_0x31c402,_0x561fec,_0x4ced21,_0x482149){return _0xa3d0(_0x561fec- -0x116,_0x482149);}const {taskId:_0x436297}=_0x2330d4;_0x125257[_0x3e0d95(0x1b6,0x148,0xb4,0x172)](addLog,'[Banana]\x20收'+'到取消任务事件\x20(T'+'askID:\x20'+_0x436297+')');function _0x52fe4c(_0x343b81,_0x3ce96b,_0x5bcfe0,_0x544d30){return _0xa3d0(_0x343b81- -0x2c4,_0x5bcfe0);}if(_0x125257[_0x52fe4c(-0xe7,-0x11d,-0x12e,-0x15a)](currentTaskId,_0x436297)&&currentRequestId){if(_0x125257['HLkMQ'](_0x125257[_0x52fe4c(-0x37,-0x75,-0x50,0x24)],_0x125257[_0x3e0d95(0xca,0x22,0xc2,0x0)])){const _0x2c3bbb=_0x125257['yTkfd']['split']('|');let _0x4b7b33=-0x1e95*-0x1+0x1892+-0x3727;while(!![]){switch(_0x2c3bbb[_0x4b7b33++]){case'0':_0x125257[_0x52fe4c(-0x3e,-0x64,0x1b,0x34)](addLog,_0x52fe4c(-0x14a,-0x12f,-0x208,-0x10c)+_0x3e0d95(-0x99,-0xa,0x76,-0x8f)+_0x3e0d95(-0xe8,-0x30,0x8b,0x97)+currentRequestId+')');continue;case'1':currentPrompt=null;continue;case'2':currentRequestId=null;continue;case'3':eventSource[_0x52fe4c(-0x162,-0x8f,-0x20c,-0xdb)](EventType[_0x3e0d95(0x219,0x146,0x21e,0xce)+'MAGE_RESPO'+_0x3e0d95(0x6e,0x65,0xb7,-0x25)],{'id':currentRequestId,'success':![],'error':_0x3e0d95(0x159,0xdd,0x1b5,0x101),'prompt':_0x125257['MwvYf'](currentPrompt,'')});continue;case'4':currentTaskId=null;continue;}break;}}else _0x12db20[_0x125257['oXyNr']]=_0xf78cfc;}}function initializeBananaListener(){const _0x2f12a6={'enTwW':_0x561536(0x1bd,0xfe,0x1d2,0x14c)+_0x51d522(0x28,0x135,0xfa,0xa0)+_0x561536(0x1d9,0x258,0x151,0x1aa),'GqwmO':function(_0x4e74ec,_0x2b3bff){return _0x4e74ec(_0x2b3bff);},'aXVWg':_0x561536(0x270,0x328,0x2c5,0x2ae)+_0x561536(0x1a4,0xcf,0x176,0x1ca)};eventSource['on'](EventType[_0x561536(0x2e6,0x276,0x312,0x2c1)+'MAGE_REQUE'+'ST'],bananaGenerate);function _0x561536(_0x3035cd,_0x54d1d3,_0x2511e7,_0x57c550){return _0xa3d0(_0x3035cd-0x8a,_0x54d1d3);}eventSource['on'](_0x2f12a6[_0x561536(0x2d4,0x3a9,0x209,0x28a)],handleCancelBananaTask);function _0x51d522(_0x2a8062,_0x8e6b44,_0x1f112a,_0x3efd7a){return _0xa3d0(_0x3efd7a- -0x109,_0x2a8062);}_0x2f12a6[_0x561536(0x2c4,0x252,0x367,0x24d)](addLog,_0x2f12a6[_0x51d522(0xc1,0x1c0,0x12a,0x130)]);}function _0x2be3(){const _0x392813=['zw1PDa','vNvRAfC','rwnlzLO','tLvUq0S','DxLTteC','w0jHBMfUyv0G5Ps2','w0jHBMfUyv0Gsq','zMLSDgvY','yuDPve0','ihWG','qLDKBhO','w0jHBMfUyv0G5l+U','q0nMEvO','t3bAD1y','tuDcBg8','yKv5suy','BgfPwfy','zw5LCMf0Aw9Uia','w0jHBMfUyv0GuG','z0jdB3C','DgfYDgLUzYbPBq','mtCXneTuEfHHuW','DcbMywLSzwqGDW','y29UDMvYC2f0Aq','w0jHBMfUyv0G5y+w','tLnf','C3vIC3rYAw5N','qunVBgm','wK5RshG','sMvMCw8','nZa4mdu2CLfTDM54','tvztu3e','zcbIyxnLnJqGAq','DMfUy0S','zM5Yrxu','D0HqtKu','AgDKCe4','B25SB2fKzw5K','qvbjihjLC3bVBG','tgXrD00','B1jtwg8','uMXhuhy','yKfmBKS','55sO6yws6AAg5lUJ55cg5QIH5BYp','ifbYB21WDa','55sO5lQgihVKV67LM759ioAGH+IVHG','zMXHDa','A250D0i','5zU+5QIH5BYp77YA5OYh5lUKid0G','ie5uideWlJa7ia','D2L0AcbWCM9TCa','DujzuLq','C2vHCMnO','kcGOlISPkYKRkq','zw5KAw5NihjLCq','t29LtxO','rwTACKy','w0jHBMfUyv0GrW','t1PYAfK','mxW0Fdn8mhWY','Aw5PDgLHBgL6zq','AeDnCei','CwHrzvG','B3iGChjVBxb0oG','BwL0DgvKihn1yW','CMvTB3zLtgLZDa','vLz1CwK','uhzHt3y','zcbnyxjRzg93BG','5l+U5zU+5zU+54MhoIbB5BEY5O+q5l6B','zgvSCY8','y2fUy2vSx2jHBG','l3yX','yxLSB2fKoIa','mhWZFdr8mNWX','C2X4thu','AML1z3vHBG','t3bVCKi','BNnLigzVCIbjra','Axr4rgK','rvPuu3q','DvnjA2G','6k+35Rgc5Bc65A+4oIdLRR3LUQyGlq','uxbfquu','Aw9UoIaIqMvHCG','v01Ivfq','qMfUyw5HtgLZDa','ENrdDxO','CgDmvNK','E+s/RUwBVN0','sxr0CLa','y3vZDg9Tx3vYBa','s0LdtM8','vev3CwS','Aw1Hz2u','shzcqwu','Aw5ZDgfUy2vZ','s3vICfa','Aun4wha','tg9guMC','tufhrv9srvnqtW','y29UDgvUDa','DwLSDcbTDwX0Aq','BvrcyLG','55sO5l+U5zU+6Ake6k6+oIaI','q2XWrNi','Dg9mB3DLCKnHCW','q29UDgvUDc1uEq','BwL0DgvKigzHAq','EfPquvO','u0PrEvu','C3rYzwfT','C3rYAw5NAwz5','u0v5EvG','ywrKvgfZAW','wLvRsg8','DNjrr04','BwfW','CvfHCeq','zM9YrwfJAa','quzZwfa','rwHKCe4','C3rHDhvZ','Bur2wxy','yxnZAxn0yw50','uujTzKK','5zU+5yop5BEY5A2y5ywL5PwW5O2U5BQtigy','sfHAvhC','ieLeia','C3qGkeLeoIa','A3vuAK0','tMzXyMm','yMfUyw5HioEuN+wBVUs6IW','u3rNtuS','vvPbBwy','y29TCgXLDgvuyq','l3yXl2nOyxqVyW','uKPVzeK','qwnJzxb0','w0jHBMfUyv0Gua','u0zIweu','5Q2J6z2I5O+q56s66k+noIa','Agfjvhe','DcbvuKWGyxmGzG','AwnptvC','5lU75yQH5BEY5y+w5RAi','qLvfEMi','mJrPte54whC','yxrLzcbZDwnJzq','Aw9U','Bxb0','Dezlsw0','yMfUyw5Hq2HHCG','zgz0uLm','y2HHDf9JB21WBa','zxjYB3i','5Qch5yEg5QIH5BYpoIdKVB/NLkJOR7FMSyi','s3bprfq','vunLwgW','5lIT55QeihbYB21WDooaGG','zMv0y2GGAw1HzW','BgvZktOG','Cg9ZDgzPEfbYBW','zxrPB25FC291CG','DwnJzxnZzNvSBa','sw1huxK','Aw1Hz2vjza','Dgv4Da','ignVBNrHAw4GAq','D0z1uha','A2PPrfC','5zU+5lQl5lU255Ur5zcS5zMO5BEY5ywZ6zET44cc','zenIu2K','5yIg6kEs6iMY5QIH5BYpoIdOP6pMNPdLUky','CvHruMm','Aw5JBhvKzxm','ywn0zxjqCMvZzq','C3rHCNrZv2L0Aa','qMfUyw5H5l+U5zU+5QIH5BYp','BIbWyxLSB2fKia','ig1LC3nHz2vZlG','CLfLruy','AK1dvwS','Bgj6Bvu','l2fWAs9IywnRzq','ywDLifvstdOG','qMvHCMvYia','w0jHBMfUyv0Gra','BwfNzw4G5QIH5z6l5lIn5PsV','CMTKB3DUigLTyq','yMTosK4','EsbJB252zxj0zq','mtaWmtzQCxflrg8','A05MrMu','5B2t5yMn55sF5zU+5QYH5PwW5lI6igzV','vxnLCI1bz2vUDa','q2HHCMfJDgvYia','CgfYyw1LDgvYCW','rKDcthC','C2LUzYbKAxjLyW','CIaI','y29UC3rYDwn0BW','yK1Wufa','BgvUz3rO','y3vZDg9T','DhjPz2DLCNm','Dg9Rzw4','igLTywDLlG','qKvXAu8','kerPDMLKzv9YBW','w0jHBMfUyv0GuW','sxndsvq','EKLnEMG','rejKsKe','y3vZDg9Tx2LUyW','yvHwv2C','r3f3Bu8','tvz0Cwq','BMrZl2nOyxqTyW','5yMn572U5yMn','Dundrhi','vgPcAvi','zenuBxC','CuHsC0W','DxjS','w0jHBMfUyv0G5l2/','tLbSCeW','kI8Q','B3vUzcbTyxrJAa','wufRENi','t0TiDKe','yxDxuu8','zw5uD1C','u2DhzhO','tMrnwKy','wvHLA1O','wKPSwfu','BwfWA2i','5O6L6k+35Rgc','Bw9KzwW6ia','l3yXyMv0ys9TBW','w0jHBMfUyv0G55sF','r3bdt0W','wNrYBg0','s3HvtKS','DhjHy3rPBMCUlG','s2L0lZuZnY4ZnG','BwfNzsbMCM9Tia','C3nMDwXSEs4','Aw1Hz2vFDxjS','r0vorvjbvevFsq','CMvHzefZrgf0yq','DM9jDuq','rezlqMS','CKfVzgi','ANnVBG','BwfNzsbPBIbpCa','yvb4BKS','whvJBhu','qLLQyLy','mtbPBhbcq00','ndi0nJq4ngLIBNrzBW','DhjPBq','CIbWCM9TChq6ia','DwLSDcbjBwfNzq','5PIV5zcM5zcV55sO5yIg6kEs6iMY5QIH5BYpia','yxnWzwn0uMf0Aq','zhrbwgO','y2XVEgW','ugfwqvC','zxiG','B21WBgv0Aw9UCW','yxbWBgLJyxrPBW','tufhrv9srvfvrq','qxv0Ag9YAxPHDa','ywDLigDLBMvYyq','yMfZzty0lG','BNrHAw5ZihrLEa','vhfpA3O','yMXVyG','u2nLBMuGq29TCa','rMfPBgvKihrVia','s2nhquu','ChjVBxb0','Bw9KywWGCgf5Ba','qKfoqu5b','u0LZuKO','5OYb6yws6AAg5lUJ55cg77Ym5yIh5O2I5lI655U0','wxHTC2W','CNvUBMLUzW','qwvkrMO','B3DUigLTywDLoG','vhfcq3C','qvzcBge','DLzQyLG','BgjYz28','q1DTz00','rLDtAhG','rLPVthi','Bxj2Ewq','w0jHBMfUyv0Grq','zxrJAcbLCNjVCG','BhvKzv9OzwfKzq','ANb1vgO','zw5bssbMB3jTyq','yMfUyw5H','yuj3Awu','AxnbCNjHEq','zML4zwrqCM9TCa','ChvZAa','BI9QC29U','ALz1yKK','v0HPr1m','DuH1Bg8','zMfYAs81mZCUmW','5yIW5y+w5RAi5lU75yQH5lQl5lU2icHu','5zon5BQuicHjrdOG','BxHdruq','nJmYntH1EKfkEuK','yxbWBhK','igLTywDLihrVia','zMfPBgvKigzVCG','Evb2tge','Dg10AMe','zw5LCG','DgLVBIbYzxf1zq','mcaOv2LUzg93CW','q0PQsMi','5zU+5QIH5BYp77YA5BEY5RE75yQG5B6f5l+U5Ps5','ALbqtNG','55sO5lQo55sF5OIq55QevgfNoIa','Evbuwgy','55Qe5zU+54Mh','57Yt5A2y6k6+572U5lI65lIn5A2y5ywL5PwW5O2U','w0jHBMfUyv0Gtq','vvjm','vfLiAKS','wMHzsNO','Bu1ZAMS','CxL6Awy','Cuf5vfy','Dg9tDhjPBMC','CMvWBgfJzufSBa','l3yXlW','C3vJy2vZCW','qvfHzwW','C3rYAw5N','CMvWBgfJzq','ywLSzwqGDg8GzG','BwvZC2fNzq','ndq4qxD0EgDi','iIbMCM9TihbYzq','5BYa5AEliejHBMfUyEEuNW','DujpyxO','5RAi5B2t5yMn5lU75yQH77Ym5y+r6ycb5AsX6lsL','mJeWrgLoC1vx','Aw5NihrYAwDNzq','BwfNzsbNzw5LCG','CM9Szq','DxbKyxrLu3rHDa','Aw1Hz2veyxrH','wu1PB3q','Bw9KzwW','qu53t0O','C2fTCgXLq291BG','DfHXwLm','wufnvhK','DcbVBMX5lcbUBW','5lU255Ur5zcS5zMO5BEY5yID5AEl5yYw44cc','Au9MuKK','odaXnJu2n3HZrwPwzW','wgLUrxC','B25LCNjVCG','sxrvC1G','BhvYzsbYzxnWBW','q09MuNe','q1r1y2W','y2vZCYbYzxnWBW','DhLWzq','Bencrhy','EwrnC2y','CMTKB3DUigvTyG','wLvIqxi','z3PIsNi','AM9PBG','zMvcALy','zgf0ytPPBwfNzq','B3nPDgLVBG','CKfizM8','nZa4ExbrqKTq','rwz5BNC','yxjRzg93BIbPBq','zw5KC1DPDgG','C3rFy2HHDhu4xW','lI4U','Au96u1K','t3zUDKu','twfYA2rVD24U','zNPhvhO','DuH3vNa','C3bSAxq','y2HHBMDL','zwnLAxzLzcbPBq','CMvZDwX0','w0jHBMfUyv0GqG','vwz3uMy','EsbLEhrYywn0zq','55sO55U05O6L6k+35Rgc5QIH5BYp','DxnLCG','ugHNDKG','tu5LvNi','C2v0ici','v2LUnJq7ihG2na','EK1xwhC','B2fKihDPDgGG','y2LZAhu','wg1wEgm','mJDitg9dDwq','DMz5yKq','r3nYALe','Bwf0y2G','yw5Hx3rHC2S','mtaXmJGWouTkC3HnCq','w0jHBMfUyv0GrG','BLnxuvq','ALHrAKO','5yMn572U5zco','5zco572U5zco','wLLrvwm','tvnQrfa','Ahv3D0O','s2rAC2e','s01fshy','mc4WlJaUmcbtyq','zxrLy3rLzcbnyq','y2XPzw50','ue9tva','Cuv3Cge','l2DLBMvYyxrL','BwvZC2fNzxm'];_0x2be3=function(){return _0x392813;};return _0x2be3();}export async function replaceWithBanana(){function _0x3ae38c(_0x16d13b,_0x2a60d1,_0x3298c1,_0x4cd630){return _0xa3d0(_0x2a60d1- -0x22d,_0x16d13b);}const _0x38f1fb={'uCCDr':function(_0x5f541f){return _0x5f541f();},'TEwqk':function(_0x2e7ef0,_0xa39568){return _0x2e7ef0!==_0xa39568;},'feBjV':_0x3ae38c(0x59,-0x74,-0xab,-0x96),'bALnK':_0x411c9c(0xf7,0x21f,0x1bb,0xe3),'jpuTj':function(_0x42a9ea){return _0x42a9ea();},'qEwpa':function(_0x37faf3){return _0x37faf3();},'dtAXj':_0x411c9c(0x14e,0x254,0x213,0x2d7)+_0x3ae38c(-0xb7,-0x84,-0x8,-0xeb)+'ana_task','OZrhY':function(_0x31d960,_0x36684c){return _0x31d960(_0x36684c);},'ejBwK':_0x3ae38c(0x3b,0x26,-0x94,0xc1)+_0x3ae38c(-0x20,-0x20,-0x60,0x1b)};function _0x411c9c(_0x42049c,_0x2ab7e2,_0x25d9bb,_0x3f70b0){return _0xa3d0(_0x25d9bb-0xe0,_0x3f70b0);}extension_settings[extensionName]['mode']==_0x38f1fb[_0x3ae38c(-0x13c,-0xa1,-0x69,-0x3a)]?(!window[_0x3ae38c(-0x85,-0x8f,-0x161,-0x149)+_0x3ae38c(0x22,-0x75,-0xa6,0x2a)+'ener']&&(window['initialize'+_0x411c9c(0x341,0x264,0x298,0x1ea)+_0x3ae38c(-0x1d5,-0x13f,-0x95,-0x7d)]=!![],_0x38f1fb[_0x3ae38c(-0x15,0x64,-0x77,-0x20)](initializeBananaListener)),_0x38f1fb[_0x411c9c(0x2e7,0x2bf,0x23f,0x1f3)](initializeImageProcessing)):window['initialize'+_0x411c9c(0x1db,0x32b,0x298,0x20f)+_0x3ae38c(-0x1d4,-0x13f,-0xd6,-0x189)]&&(eventSource['removeList'+_0x3ae38c(-0x145,-0x13f,-0xf7,-0x11a)](EventType[_0x3ae38c(-0x86,0x2f,0xff,-0x5f)+_0x3ae38c(-0x89,0x46,0x8a,0x82)+'ST'],bananaGenerate),eventSource[_0x3ae38c(-0x14c,-0x8a,-0x78,-0xd1)+_0x3ae38c(-0x94,-0x13f,-0x120,-0x7c)](_0x38f1fb[_0x3ae38c(0xcc,0x40,0xc2,-0x1e)],handleCancelBananaTask),LEGACY_EVENT_NAMES['forEach'](_0x5ebf15=>{function _0xf91137(_0x33b6df,_0xc09432,_0x305d77,_0x219228){return _0x411c9c(_0x33b6df-0x125,_0xc09432-0x15d,_0x305d77- -0x38b,_0xc09432);}function _0x5cf45f(_0x40f242,_0x2291e8,_0x230dce,_0x220ed9){return _0x411c9c(_0x40f242-0x188,_0x2291e8-0x91,_0x220ed9- -0xe3,_0x2291e8);}_0x38f1fb[_0xf91137(-0x14a,-0x42,-0xec,-0xa0)](_0x38f1fb[_0x5cf45f(0xae,0xcd,0x61,0x128)],_0xf91137(-0x37,-0x89,-0xf2,-0xab))?(!_0x2c19da['initialize'+'BananaList'+_0x5cf45f(0x152,0x48,0x1ad,0xeb)]&&(_0x2a4b87['initialize'+_0xf91137(-0x92,-0x86,-0xf3,-0x8c)+_0xf91137(-0x1d6,-0x294,-0x1bd,-0x186)]=!![],_0x38f1fb[_0x5cf45f(0x204,0x222,0x293,0x23b)](_0x21579a)),_0x38f1fb[_0xf91137(-0x30,0x14,-0x6d,0x3b)](_0x53353e)):eventSource[_0xf91137(-0x38,-0x48,-0x108,-0x38)+_0x5cf45f(0x153,0x1a7,0xf7,0xeb)](_0x5ebf15,bananaGenerate);}),window[_0x3ae38c(-0x3c,-0x8f,-0x138,0x23)+'BananaList'+_0x411c9c(0x245,0x2a9,0x1ce,0x1f9)]=![],_0x38f1fb[_0x411c9c(0x2a3,0x34d,0x27c,0x2a0)](addLog,_0x38f1fb['ejBwK']));}
(function(_0x45a6e3,_0x26cb0e){function _0x12083e(_0x4692a3,_0x45b5d3,_0x2e3fcb,_0x5b3587){return _0x2a86(_0x5b3587-0x32f,_0x2e3fcb);}const _0x16b06a=_0x45a6e3();function _0x38b03e(_0x5872f8,_0x153647,_0xe81e62,_0x2b2ac7){return _0x2a86(_0xe81e62- -0x3e5,_0x5872f8);}while(!![]){try{const _0x3360b4=-parseInt(_0x12083e(0x60d,0x548,0x59e,0x57f))/(0x122d+-0x1f69+0xd3d)+parseInt(_0x12083e(0x435,0x4f2,0x404,0x485))/(0x594+0x4*0x29f+-0x6*0x2ad)*(-parseInt(_0x12083e(0x582,0x64c,0x59d,0x571))/(0x1f0c+-0x9*-0x5+0x11*-0x1d6))+-parseInt(_0x38b03e(-0x319,-0x36c,-0x280,-0x291))/(0x23f2+-0x450*0x4+-0x12ae)*(-parseInt(_0x38b03e(-0x34e,-0x3d7,-0x2ec,-0x31a))/(-0x845+-0x20bb+0x2905))+-parseInt(_0x38b03e(-0x28e,-0x185,-0x1dd,-0x166))/(0x773+-0x1a91+0x19*0xc4)+parseInt(_0x38b03e(-0x2cb,-0x1e7,-0x25c,-0x1f0))/(-0x2*0x10b9+0x2*0xc24+0x931)*(parseInt(_0x12083e(0x6a8,0x659,0x659,0x5da))/(0x1*-0x445+-0x1ddb+0x2228))+parseInt(_0x12083e(0x42b,0x3fc,0x527,0x4bf))/(-0xa0a*-0x3+0x1d98+0x3bad*-0x1)+parseInt(_0x12083e(0x4ea,0x4d2,0x4d8,0x440))/(-0x303*0x1+-0x1*0x16ea+-0x19f7*-0x1);if(_0x3360b4===_0x26cb0e)break;else _0x16b06a['push'](_0x16b06a['shift']());}catch(_0x2ed2a1){_0x16b06a['push'](_0x16b06a['shift']());}}}(_0x1e67,-0x110ac5+0x294e1+-0x1fff*-0xc7));const _0x291dcc=(function(){function _0x495c88(_0x57f7a9,_0x36b861,_0x1eadf3,_0x30da37){return _0x2a86(_0x30da37-0x25d,_0x57f7a9);}const _0x5ee0b1={'joUHm':function(_0x264336,_0x442b47){return _0x264336(_0x442b47);},'rwjok':_0x495c88(0x2b7,0x353,0x3bc,0x3a3)};let _0x365195=!![];return function(_0x165197,_0x139cd2){function _0x5e69ac(_0x440a30,_0x1d985d,_0x12d2a3,_0x5d36c4){return _0x495c88(_0x5d36c4,_0x1d985d-0x105,_0x12d2a3-0x1e,_0x12d2a3- -0x3de);}function _0x374513(_0xc435e7,_0x264d34,_0x244d7c,_0x508057){return _0x495c88(_0x508057,_0x264d34-0xcb,_0x244d7c-0xcc,_0xc435e7-0x167);}if(_0x5ee0b1[_0x5e69ac(0x8a,0x86,0x116,0x3e)]!==_0x5ee0b1[_0x5e69ac(0x9b,0x127,0x116,0x12e)])_0x5ee0b1['joUHm'](_0x4203f7,_0x173f15[_0x5e69ac(0x166,0xcd,0x10d,0xa1)]);else{const _0x4511ff=_0x365195?function(){if(_0x139cd2){const _0x546df6=_0x139cd2['apply'](_0x165197,arguments);return _0x139cd2=null,_0x546df6;}}:function(){};return _0x365195=![],_0x4511ff;}};}()),_0x6cbd3b=_0x291dcc(this,function(){const _0x117888={};_0x117888[_0x35b40e(0x59,0xaa,0xcc,0x99)]=_0x1ff9f7(0x121,0x91,0x16f,0x141)+'+$';function _0x1ff9f7(_0x1c304a,_0x41fadc,_0x4eff74,_0x17f13d){return _0x2a86(_0x17f13d- -0x78,_0x4eff74);}function _0x35b40e(_0x52599e,_0x440cd7,_0x3ecc40,_0x8a93aa){return _0x2a86(_0x440cd7- -0x126,_0x8a93aa);}const _0x5c3345=_0x117888;return _0x6cbd3b[_0x1ff9f7(0xe4,0x1b0,0xf7,0xe3)]()['search'](_0x5c3345[_0x1ff9f7(0x14b,0xfe,0x21b,0x158)])[_0x35b40e(-0xb3,0x35,-0x58,0x78)]()[_0x1ff9f7(0x137,0x22e,0x1be,0x1cd)+'r'](_0x6cbd3b)[_0x35b40e(0xaa,0x188,0x197,0x24d)](_0x5c3345[_0x1ff9f7(0x238,0xbc,0xf1,0x158)]);});_0x6cbd3b();import{eventSource}from'../../../../../script.js';import{eventNames,extensionName}from'./config.js';import{extension_settings}from'../../../../extensions.js';import{getContext}from'../../../../st-context.js';function _0xdf69b1(_0xb7a00,_0x12a62c,_0x51895c,_0x3d8345){return _0x2a86(_0x51895c- -0x259,_0x12a62c);}import{saveSettingsDebounced}from'../../../../../script.js';import{generateCharacterListText,generateOutfitEnableListText,generateCommonCharacterListText}from'./settings/worldbook.js';import{updateCombinedPrompt}from'./settings/llm.js';import{buildPromptForRequestType}from'./settings/llmService.js';import{refreshCharacterSettings}from'./settings/character/index.js';function _0x1e67(){const _0x1d3fb6=['zNLDioATO+wCQowKHoEqHUINKUIjSG','DM1Ru2O','Agjcq2K','AgXcrhO','q2XNAMK','mJK5mhbgzKLmDa','DNPkC1q','v29YBgrcB29R','y2HHCMfJDgvYua','CNvOy0C','5lIk5y2k6lQRu0zx6iom6z2I','y3nKufC','zxLmsxC','EerVv1q','qw1fCue','ue9ou0u','svzVzvy','5lIk5y2k6lQRu0zx','y29UDgvUDa','sxLJzLG','Aw5NignOyxiGBq','vxnyChO','5A2x5Q61ici','5lQu5A6y5Asw6lkmoIa','v0n0Aha','q2nxq3a','B2jQzwn0','CwTPtgi','vwDHy3K','mtq5odKXmtbVvu5MD28','DffxuvG','BM93','igLUzgv4','DxbWzxjcB2r5qG','pos6UUEjQt4k','E3VLVzpLIy3OP5lOIBj9Fq','zNLDioINO+AEKowiSoEAHos6UUEjQq','A0vUEwW','BMfTzuvo','zuzQyxq','zNLDiow3SUABToAwSoINKUIjSUMIHa','CxfsANG','Bu1eALG','s2HrBeG','DwvZDc4UlG','D29YBgqGyM9VAW','5Qoa5Rwl5yIW5PAW5PYn6kofici','uM15q3y','t2Prv0W','yu5Ht1y','zfLUEeK','Dhb1DdO','zNLDioACJEIJHsaI','rwTZs3y','rvnu','y3zVyw8','5OM+5lIn5yIW5OYh5A6A55Qe6kEs6iMY6Ake6k6+','5lIk5y2k6lQR6iom6z2I','B3v0zML0uhjLCW','EK5htLa','A1DSBxe','zxf1AxjLBwvUDa','DhjPBq','CMfJDgvYl291Da','vuzODe0','5PYQ5zYOieXmtsdOVPpLH7RKUk0','DgLTzw91De1Z','pc/KURRNIAK+','DejAqNi','uK1tvvC','C3vJy2vZCW','CMvZzxrZ','yxv0BW','6kEs6iMY54M55B6boIa','suPnBNa','l3bUzZTIyxnLnG','zNvSBejVzhLtrG','B3PJsuy','y2HHCL9TB2rPzG','DgvYigXPC3qGDa','A0X0vue','5lIl5y2k6lQRtLngvZOG','y0PxDey','zLrVDge','DxbWzxjcB2r5uW','rxj6v1e','5lIk5y2k6lQRtLngvW','zxiGChjVBxb0ia','uwf1EvO','ELnRrfC','tgHnu1K','5lIl5y2k6lQRtLngv+IdJoMDOJO','q1P6Avm','B3iGzgvIDwDNAq','zNLDiev4DhjHyW','z3nZwK0','qNLjza','yxbWBhK','nLvJwgvUrG','Cg1vsfy','zw1PDa','u1LAwKK','5lIl5y2k6lQRu0zxoIa','Dg9tDhjPBMC','sM5mC1i','EwHmA1m','t0rjrLLFr0vuxW','6iUX5PAh5zcn56EW','zNLDifjHDYbmta','rfffAKu','rxHHwfm','5Rgc6lAf5PE2','iIdMSQhMNiNLJ5JMM7q','ntuYwwPhvxfX','tKDSywW','wfPTre8','vMfRENi','DxjLCW','DMfSDwu','C2L6zq','zNLDiow3SUwiM+w7UUACJEIJHEMIHa','zxrZ','shPjthm','DMfYAwfIBgvZoG','ufjptvbux1jfuW','Bw9ytNK','rfHTELO','teXnioI/LowBNUE7K+AENos4UUEPUG','rNjfA1q','yxvIEvC','yuzNq3C','BgTJyMS','zNLDifjLCxvLCW','6k6+ici','tgDvtve','B3vUzcbPBIbVDq','rLLWrKS','zgfKBMS','t05trq','B1jqr1m','DhjPz2DLCG','zennvNi','rhbwtvO','5lIT5PAh5zcn56EWoIa','teXnioIVT+AXGUwKSEI0Pq','5lIl5y2k6lQR','5lQu5A6y5Asw6lkm6iom6z2IoIa','5lIk5y2k6lQRtLngv+IdJoMDOJO','uKrAAxq','ntK2nZm5nwjSrKHHCq','Dvn6uwm','CKnzC0G','DgTNu28','AMzsq0S','s0Dsz0q','B2v6v0G','nJG4mJy1mvDcs3HNsW','yvjyu1m','Dfvqtwq','DKDAq1i','5lIl5y2k6lQRu0zx6iom6z2IoIa','DKzfD3i','teXnx0niqvjFtq','qMf1wvO','ywXHEKm','5lIk5y2k6lQRu0zx6iom6z2IoIa','y0r0Auu','ioMHUEABToAuUsZMMk/LKkBLUPtNLkG/','z0Potfu','BxnzyuS','iIdMNiKG','DxjS','5B2s5BgE5lQ6','rLDcywnR','whPovxO','6kEs6iMY5O+q56s66k+n5l+U5Ps55AsX6lsLoG','Axrmrhi','thvKvNi','ywnR','y29UDgv4DdO','5lIk5y2k6lQRtLngv+IdJoMDOG','y2HHCMfJDgvYCW','DgvKigrHDge6','sNv6vey','5lQu5A6y5Asw6lkm','zNLDifvZzxiGCG','qNjHDuq','vMnVsha','AM9PBG','wuHrtxy','reTgsfG','wgDLwuu','z2vzwxa','Aw5WDxq','q09Pve4','5lIk5y2k6lQR','DxbWzxjcB2r5tG','kcGOlISPkYKRkq','rKLuvwi','B3v0zML0','zMLSDgvY','v0j4reG','zNLDioACQUIVHUwiQ+EAHos6UUEjQq','ywLrwxC','uffzBvK','AxnbCNjHEq','zNLDioINO+AEKowiSoEAHoACJEIJHq','z2DLvNu','zNLDiev4zwn1Da','5lQu5A6y5Asw6lkm6iom6z2I','zxHLyW','ufjJt00','Bw9KAwz5ihbYBW','DwfSD1K','z0v3t0O','veDzBeG','Aw1Hz2vFDxjS','B3v0zML0CW','uLL0rNq','AvfYs2e','wLrJA1a','tKnREgu','CMfPDhm','uw1WtgK','vMfYAwfIBgvZ','y012q3i','zNLDienOyxjHyW','tMX6D0y','sKPVDLi','AK5sufG','ufrvr1e','BLLbzfa','wMDiCw0','DgLUzYbJAgfYia','wfHvsuW','5y+c6icd5zU+54Mh','wK1Ot28','zKjbvKi','ywrK','CMfUzg9T','Aw5KzxG','tg9sEum','ChjVBxb0','wNr1su4','5lIl5y2k6lQRtLngv+IdJoMDOG','Cg9ZAxrPB24','C3nNANa','t0rjrLLFuKvrvq','rw1zyKy','Bxzgz2m','BMC6','D1zHEMe','DvnLsgO','vuHRrwq','Bwveq1m','qvfJtLC','zML0CW','y2HHCMfJDgvY','rKPIEhu','sLzguvu','zK1xzfi','CMfUzg9Tvvvjra','vxzVsfu','v1HpreS','z2v0rwXLBwvUDa','C3vIC3rYAw5N','zNvSBejVzhK','CMvWBgfJzq','6iUX5PAh5zcn56EWoIa','t3D6ALm','5lIl5y2k6lQRu0zx6iom6z2I','BwvZC2fNzq','zgf0ytO','t3LXugO','CNDSDwe','5lIl5y2k6lQR6iom6z2I','nZeWodKWmLjWqwzosG','CMvWBgfJzufSBa','BKLWBw4','zw50CMLLCW','tuTosfi','ufjptvbux1jfuq','u0zxqMfJAW','v0jHy2S','sMvLA1i','EKzNAgi','zNLDievYCM9YoG','CMvTB3zLtgLZDa','vhLJsva','zxjYB3i','Bwf0y2HLze91Da','Ehn4Auu','vLfoDg4','zxjLzcK6','BKLTqxu','Dg9mB3DLCKnHCW','zgf0ytPPBwfNzq','zwvTAwG','DKjcA0q','Bhztvue','zw5LCG','BLbLugy','C0XnCfy','zK94tgG','DLn5v2K','rKnMAxC','DgvYihrYAwDNzq','BwvktfK','zNLDifn0yxj0Aq','wLLNCKC','zMD2C0m','rhnVwNO','6kEs6iMYl+ACJEIJHEApKoEKUUIVJEs/RUAuUq','DhLWzq','C2nVyxm','DMfYAwfIBgvZ','C3rYAw5N','D05uy0G','s1z3B0m','ig1LC3nHz2uGAq','CMvXDwvZDcaOsq','uNDouu4','C3bSAxq','y2HHDe1LDgfKyq','Aw1Hz2vZihrVia','sM51wfK','6kEs6iMY54M55B6b','swjYtMi','serOENu','AKLcExq','Defrs3e','uhjVBxb0tw9KAq','ALDcDge','iIdLT7lLVzlLSz7LIldOP5lOIBiGiG','nZe0otKZCMjsvgPq','AKPpuuK','BwvZC2fNzsbHDa','y29UC3rYDwn0BW','veX3EfG','B3DUzxi','zNLDief0DgfJAa','w2nOyxjHy3rLCG','tMDJBKC','ChvZAa','q0jzBeK','BMfTzuno','zNLDifnHDMvKia','5Qoa5Rwl5yIW5PYn6kofici','nJe2nti0uKrIC1rc','txrhDxG','vMfquue','6k+k5PAT77YA5Qoa5Rwl5yIW5lUL5lIl5y+y6yEp','v09qywW','iIZMMk/LKkBLVzxLHAu/','BKfpugy','yK1Ttue','i3n0lwnOyxr1oa','5Qoa5Rwl5yIW6kEs6iMYici','5lIl5y2k6lQRtLngvW','Aw5JBhvKzxm','5lIk5y2k6lQRu0zxoIa','DNboAue','t2rfyNm','6kEs6iMY5l+U5Ps5ieXmtsdOR7C','AMvNvLu','ueD4uKO','D09Ltuq','wLDeDwO','tsbVDxrWDxqGzG','BgvUz3rO','z2LztuK','BMfTzq','Bg9N','DMD0C00','yLncBxa','zhvjAxi','tKrJB0C','y3rLCG','EMvRtKO','Bxb0icHjrdOG','Aw5MBW','q29UDgv4Da','txHJr0K','zNLDieXmtsbVDq','DwvkuwW','AuH6vLy','D2PTDva','Bw9KAwz5ihjLCq','EuzvDeO','Dgv4Da','ywDcBKm','BwfW','zxH0icH0CMLNzW','tw9zAwO','zhz5z3q','zgPLBgy','y2HYB1K','5lIT5PAh5zcn56EW','EhvAAMy','BMTKAMu','ywr2sgi','t0rjrLLFuKvtua','z3Plv0G','sujPquW','wwHlzK4','zNvSBejVzhLcyq','rKHwyKi','zNLDie5VignOyq','uNz3Dwm','5PwW5O2UoG','CMvZDwX0','suvlwxq','5lIk5y2k6lQRtLngvZOG','lxrHyI1JAgfYyq','DxjLC0jHy2S','zNvSBejVzhLouW','vuvtva','wgjmzgK','DuXRsxu','CNDQB2S','t1fXrMK','wNrOChK','wg9rBg8','z2vUzxjHDgLVBG','zgf0yq','q21HD3m','zNLDioACQUIVHUwiQ+EAHoACJEIJHq','u0zx','Aw5KzxHpzG','5RkH5PYj5Qoa5Rwl5yIW6zYa6kAb5PU05PAW55Qe','D2rvu00','u2fjAK8','BeH1ALi','CMvZzxrjza','wuHuEve','6i635y+w6kEs6iMY5l+U5Ps55O+q56s66k+n6lAf','5lIl5y2k6lQRu0zx','rfrpv3i','t1nSruW','oeLfvwjqAG','yK1oqwi','cLVKU6xKUiVMMk/NLkJMIlFKUiRKVkdNMOq','C2vHCMnO','Bhbtuu8','EKzKteC','EMPhswO','twD2DuK','rhjrvMu','rdOG','vhPHtM0','rfvbyxu','Awn4rMu','vMLRuvi','6k+35ywi6ycj5OUP5lIa5lIQ6kEs6iMY6Ake6k6+','tvvkEeS','B3vvwuC','y2HHCMfJDgvYva','zM9YrwfJAa','tMnAzM0','t1PVweK','Dhb1Da','5A6m5OIq77Yb','u1vwBMK','y2HHCL8','tM9HtNO','DxbWzxjcB2r5','zMfJAwfSrMvHDa','zgT0s3K','zNLDiezPBMfSia','Dwv0Dxy','EezTExK','t1L4vfO'];_0x1e67=function(){return _0x1d3fb6;};return _0x1e67();}import{stylishConfirm}from'./ui_common.js';import{mergeAdjacentMessages,replaceAllPlaceholders,replacePlaceholder as _0x167157}from'./promptProcessor.js';function replacePlaceholder(_0x512d8e,_0x54b654,_0x54c279,_0x497ba6){const _0xa145c9={'NgcnG':function(_0x2724fc,_0x3468dd){return _0x2724fc(_0x3468dd);},'zjGIj':_0x4b245a(-0xe5,-0x1c1,-0x198,-0x19d),'IBiAL':function(_0x28ae50,_0x4eafe0){return _0x28ae50===_0x4eafe0;},'oxily':_0x4b245a(-0x1fa,-0x1cb,-0x207,-0x142),'JeekR':function(_0x3e59e1,_0x404fcf){return _0x3e59e1!==_0x404fcf;},'zSkDW':'NPtpp','aCcYl':_0x4704bf(0x22b,0x26a,0x1c5,0x17f),'wdUSM':_0x4704bf(0x117,0x1aa,0x19b,0x101),'jegVU':function(_0x130eea,_0x228525){return _0x130eea!==_0x228525;},'BauYZ':_0x4704bf(0x20f,0x201,0x2d0,0x256),'glWOw':_0x4704bf(0x181,0x104,0x191,0xfd),'wjmuP':function(_0x5909ed,_0xe73c24,_0x217bde,_0x382cfd,_0x4c34e6){return _0x5909ed(_0xe73c24,_0x217bde,_0x382cfd,_0x4c34e6);}};if(_0xa145c9['IBiAL'](typeof _0x512d8e,_0x4704bf(0x2ec,0x2fd,0x2bd,0x2bf))){if(_0xa145c9[_0x4704bf(0x353,0x33a,0x314,0x24a)](_0x4704bf(0x220,0x1cb,0x16d,0x259),_0xa145c9['oxily']))return _0x54c279&&_0x512d8e[_0x4704bf(0x225,0x2ed,0x2e8,0x30b)](_0x54b654)&&(_0x497ba6&&_0x497ba6[_0x4b245a(-0xf8,-0x95,-0x1d8,-0x10)](_0x54b654)),_0x512d8e[_0x4b245a(-0xd1,-0x178,-0x12c,-0x1bc)](_0x54b654,_0x54c279);else _0xa145c9[_0x4704bf(0x315,0x3a4,0x2d7,0x2fb)](_0x33d0e9,_0x2f14b0);}function _0x4704bf(_0x2161dc,_0x1b2f04,_0x69832,_0x2eb906){return _0x2a86(_0x69832-0x8d,_0x2161dc);}function _0x4b245a(_0xa8159a,_0x4a5f8c,_0x43b740,_0x49aba0){return _0x2a86(_0xa8159a- -0x2da,_0x43b740);}if(Array[_0x4704bf(0x1e5,0x26a,0x24e,0x172)](_0x512d8e)){if(_0xa145c9[_0x4704bf(0x388,0x1c3,0x29d,0x25f)](_0xa145c9[_0x4704bf(0x14e,0x159,0x1da,0x1e0)],_0xa145c9['aCcYl']))return _0x512d8e[_0x4b245a(-0x5f,-0x116,-0x2f,0x38)](_0x388c7b=>replacePlaceholder(_0x388c7b,_0x54b654,_0x54c279,_0x497ba6));else{const _0x1224fb={};_0x1224fb[_0x4b245a(-0xad,-0x12b,-0x58,-0xd9)]=_0xa145c9[_0x4704bf(0x99,0x130,0x166,0x96)],_0x1224fb[_0x4b245a(-0x3e,0x48,-0x32,-0xfe)]=_0x4cfca1,_0x1224fb[_0x4b245a(-0xf1,-0x8c,-0x173,-0xd0)]=_0x473d1b,_0x1224fb[_0x4b245a(-0xc4,-0x152,-0x1aa,-0x190)+_0x4704bf(0x274,0x1b4,0x281,0x25e)]=[],_0x174e9e['push'](_0x1224fb);}}if(_0x512d8e&&_0xa145c9[_0x4704bf(0x3a4,0x3b3,0x314,0x400)](typeof _0x512d8e,_0xa145c9[_0x4704bf(0x3bd,0x262,0x32f,0x2ba)])){if(_0xa145c9[_0x4704bf(0x240,0x299,0x2ed,0x206)](_0xa145c9[_0x4704bf(0x173,0x140,0x224,0x26c)],_0xa145c9['glWOw'])){const _0x32037b={};for(const _0x2ecdc0 in _0x512d8e){_0x32037b[_0x2ecdc0]=_0xa145c9[_0x4704bf(0x2a3,0x284,0x303,0x277)](replacePlaceholder,_0x512d8e[_0x2ecdc0],_0x54b654,_0x54c279,_0x497ba6);}return _0x32037b;}else _0x3f320a[_0x4704bf(0x23c,0x27b,0x2d8,0x358)](_0xdd2b62);}return _0x512d8e;}function attachImagesToMessage(_0x409712,_0x55d555,_0x24a5d3,_0x2c369e=_0xdf69b1(-0xd5,-0x14,-0x7a,-0x13b)){function _0x29141a(_0x42f545,_0x3d8df7,_0x1a5852,_0x7d886d){return _0xdf69b1(_0x42f545-0x138,_0x1a5852,_0x42f545-0x1cd,_0x7d886d-0x104);}const _0x468772={};_0x468772[_0x1001a4(0x291,0x204,0x1d6,0x27f)]=function(_0x4b61ed,_0x476b4b){return _0x4b61ed===_0x476b4b;},_0x468772['MKNHR']=_0x1001a4(0x3c7,0x3ad,0x3c2,0x49b),_0x468772[_0x29141a(0x14e,0x1f3,0x1af,0x1ab)]='object',_0x468772[_0x29141a(0x8f,-0x5,0x148,0x8f)]=function(_0x3a7d91,_0x14ebc2){return _0x3a7d91+_0x14ebc2;},_0x468772[_0x29141a(0x161,0x19c,0x1ca,0x89)]=_0x29141a(0x140,0x1fe,0x121,0xdb),_0x468772[_0x29141a(0x6a,0x37,0x9c,0x32)]=_0x29141a(0xb0,0x7f,0xb7,0x40);function _0x1001a4(_0x3c46b7,_0x302cc0,_0x4b07b9,_0x9c7371){return _0xdf69b1(_0x3c46b7-0x1ca,_0x9c7371,_0x3c46b7-0x3f0,_0x9c7371-0xd2);}_0x468772[_0x29141a(0x6c,0xba,-0x19,0x22)]=function(_0x54c4e1,_0x288a56){return _0x54c4e1>=_0x288a56;},_0x468772[_0x29141a(0x147,0xa7,0x220,0xbf)]=_0x29141a(0xc7,-0x5,0x15,0x5a),_0x468772[_0x29141a(0x14f,0x215,0x166,0x1a7)]=_0x29141a(0x13d,0x1f1,0x147,0xf7),_0x468772[_0x1001a4(0x3c5,0x44e,0x460,0x3be)]=function(_0x2884e7,_0x9134e8){return _0x2884e7===_0x9134e8;},_0x468772['aNaOV']=_0x1001a4(0x274,0x243,0x290,0x328),_0x468772['HDhzu']=_0x29141a(0x1da,0x20b,0x28d,0x235),_0x468772[_0x29141a(0x125,0xfd,0xb4,0x118)]=_0x29141a(0x1ed,0x268,0x107,0x281),_0x468772[_0x29141a(0x1fe,0x12c,0x2ab,0x159)]=function(_0x4d740c,_0x3d3446){return _0x4d740c>_0x3d3446;};const _0x1df893=_0x468772;if(!_0x24a5d3||_0x1df893[_0x29141a(0x6e,0x129,0xc1,0x44)](_0x24a5d3['length'],0x36*0x3f+0x1d*-0x13b+0x1665)||_0x55d555<0xd02+-0x6b*-0x3a+-0x12a*0x20||_0x1df893[_0x1001a4(0x28f,0x34c,0x288,0x256)](_0x55d555,_0x409712['length']))return _0x1df893[_0x1001a4(0x291,0x1b6,0x25e,0x286)](_0x1df893[_0x29141a(0x147,0x13c,0x172,0x1ec)],_0x1df893['nYAdP'])?null:_0x409712;const _0x173e24=[..._0x409712],_0x426943=_0x173e24[_0x55d555],_0x1f873f=[];if(_0x1df893[_0x29141a(0x1a2,0x167,0x15a,0xed)](typeof _0x426943[_0x1001a4(0x29d,0x373,0x1cf,0x2a6)],_0x1df893[_0x29141a(0x180,0x141,0x117,0x262)])){if(_0x1df893['vzJsT'](_0x1df893[_0x1001a4(0x2bc,0x1f7,0x34c,0x33f)],_0x1df893[_0x1001a4(0x3d3,0x45e,0x364,0x45d)]))_0x632e05[_0x29141a(0x1bf,0x161,0x1f6,0x12e)](_0x328696);else{const _0x1dde85={};_0x1dde85[_0x29141a(0x1a1,0x188,0x234,0x216)]=_0x1df893['YHQMv'],_0x1dde85[_0x1001a4(0x410,0x36e,0x4da,0x377)]=_0x426943['content'],_0x1f873f[_0x1001a4(0x3e2,0x442,0x304,0x398)](_0x1dde85);}}else Array[_0x29141a(0x135,0x1b3,0x218,0x55)](_0x426943[_0x29141a(0x7a,0x29,-0x5e,-0x4f)])&&_0x1f873f[_0x29141a(0x1bf,0x1e8,0x134,0xd4)](..._0x426943['content']);if(_0x1df893['FHVbB'](_0x24a5d3['length'],0x5*-0x5b9+0x25*-0x3a+0x24ff)){const _0xd3915d={};_0xd3915d[_0x29141a(0x1a1,0xe5,0x114,0x254)]=_0x1df893[_0x1001a4(0x348,0x2e9,0x3b1,0x347)],_0xd3915d[_0x29141a(0x1ed,0x10c,0x177,0x233)]=_0x1001a4(0x444,0x4ba,0x3c4,0x3cb)+_0x24a5d3['length']+'张'+_0x2c369e+']',_0x1f873f['push'](_0xd3915d);}_0x24a5d3[_0x29141a(0x59,0x5b,-0x5b,-0x5f)]((_0x24c56a,_0x2606b2)=>{const _0x40971b=_0x1df893[_0x1987f0(0x19a,0x20c,0x284,0x1d5)](typeof _0x24c56a,_0x1df893[_0x1987f0(0x2ac,0x2f5,0x323,0x30e)])?_0x24c56a:_0x24c56a['base64'],_0xfa3981=_0x1df893['vzJsT'](typeof _0x24c56a,_0x1df893[_0xcbcdc6(-0xe0,-0x45,-0x1ab,-0xe5)])&&_0x24c56a['name']?_0x24c56a[_0x1987f0(0x307,0x320,0x33b,0x297)]:''+_0x2c369e+_0x1df893[_0x1987f0(0x1bb,0xd1,0x22f,0x29d)](_0x2606b2,0x2f*-0x3b+-0x1e51+0x2927),_0x3d7785={};_0x3d7785[_0x1987f0(0x2cd,0x374,0x382,0x290)]=_0xcbcdc6(-0xe2,-0x3,-0xa3,-0x46),_0x3d7785['text']='['+_0xfa3981+']',_0x1f873f[_0xcbcdc6(-0x11f,0x52,-0xb0,-0x74)](_0x3d7785);function _0x1987f0(_0x56bf2c,_0x13b83c,_0x4c6106,_0x391485){return _0x29141a(_0x56bf2c-0x12c,_0x13b83c-0x36,_0x13b83c,_0x391485-0x79);}function _0xcbcdc6(_0x50b7dc,_0x1b7a12,_0x302845,_0x17dd62){return _0x1001a4(_0x17dd62- -0x456,_0x1b7a12-0x1f2,_0x302845-0x7a,_0x50b7dc);}let _0x5b37cb=_0x40971b;!_0x40971b['startsWith'](_0x1987f0(0x2a4,0x2b1,0x376,0x390))&&(_0x5b37cb=_0xcbcdc6(-0x108,-0x165,-0x8d,-0xa3)+_0x1987f0(0x1df,0x24a,0x10c,0x10b)+'4,'+_0x40971b);const _0x5ec62d={};_0x5ec62d[_0x1987f0(0x2cd,0x20a,0x27b,0x2b3)]=_0x1df893['mvFgc'],_0x5ec62d[_0xcbcdc6(-0x112,-0x13c,-0x6a,-0xf3)]={},_0x5ec62d[_0xcbcdc6(-0x112,-0x13c,-0x6a,-0xf3)][_0xcbcdc6(-0x59,-0x63,-0x18b,-0x120)]=_0x5b37cb,_0x5ec62d[_0xcbcdc6(-0x112,-0x13c,-0x6a,-0xf3)]['detail']=_0x1df893[_0x1987f0(0x196,0x1b9,0x1a4,0x135)],_0x1f873f[_0xcbcdc6(0x5a,-0x113,-0x9a,-0x74)](_0x5ec62d);});const _0x46f5c4={..._0x426943};return _0x46f5c4['content']=_0x1f873f,_0x173e24[_0x55d555]=_0x46f5c4,_0x173e24;}function findMessageIndexWithPlaceholder(_0xbe20f4,_0x21f396){const _0x4c7882={};_0x4c7882[_0x3617cf(0x3d6,0x302,0x4b8,0x347)]='rFrAQ',_0x4c7882[_0x3a0989(0x2f8,0x3d2,0x3a9,0x3ab)]='string';function _0x3a0989(_0x250ca7,_0x4d2803,_0x30b310,_0x16fb0d){return _0xdf69b1(_0x250ca7-0xa3,_0x250ca7,_0x30b310-0x460,_0x16fb0d-0x1c8);}_0x4c7882['xFmyy']=function(_0x3e24f5,_0x1e46a2){return _0x3e24f5===_0x1e46a2;},_0x4c7882[_0x3617cf(0x509,0x43a,0x4b0,0x538)]=_0x3617cf(0x44c,0x3c0,0x37e,0x525),_0x4c7882[_0x3a0989(0x403,0x3d8,0x43c,0x4c2)]=function(_0x5520a9,_0x2a023f){return _0x5520a9===_0x2a023f;},_0x4c7882[_0x3617cf(0x407,0x4aa,0x3d1,0x42e)]=_0x3617cf(0x4ed,0x4f9,0x513,0x5a8),_0x4c7882[_0x3617cf(0x464,0x42a,0x471,0x3a5)]=_0x3a0989(0x392,0x4e8,0x479,0x499);const _0xe0de4f=_0x4c7882;function _0x3617cf(_0x4b955d,_0x11e41a,_0x52a45c,_0x2ddc95){return _0xdf69b1(_0x4b955d-0x96,_0x2ddc95,_0x4b955d-0x4cd,_0x2ddc95-0xc9);}for(let _0x2f5a1f=0x176e+0x213c+-0x38aa;_0x2f5a1f<_0xbe20f4[_0x3617cf(0x4d9,0x459,0x553,0x5bc)];_0x2f5a1f++){if(_0xe0de4f[_0x3617cf(0x3d6,0x2f6,0x361,0x3de)]===_0x3617cf(0x4e0,0x42b,0x4fa,0x4e8))_0x2510eb++;else{const _0x16b032=_0xbe20f4[_0x2f5a1f];if(typeof _0x16b032[_0x3a0989(0x340,0x36c,0x30d,0x316)]===_0xe0de4f[_0x3a0989(0x3b2,0x3c9,0x3a9,0x3d0)]&&_0x16b032['content'][_0x3617cf(0x4cf,0x400,0x4a2,0x507)](_0x21f396))return _0x2f5a1f;else{if(Array['isArray'](_0x16b032[_0x3617cf(0x37a,0x463,0x38d,0x2e8)])){if(_0xe0de4f[_0x3a0989(0x21a,0x3a5,0x2f9,0x33a)](_0xe0de4f['XbLdi'],_0x3a0989(0x4a1,0x49a,0x4b3,0x554))){const _0x55d132=_0x4ecb44[_0x48db80],_0x2a0196=_0x55d132[_0x3a0989(0x363,0x33b,0x303,0x2ff)+_0x3a0989(0x41a,0x562,0x4ac,0x3c4)];if(!_0x2a0196||!_0x55d132[_0x3617cf(0x370,0x395,0x3fd,0x2fe)+_0x3617cf(0x3af,0x3fd,0x38f,0x2c4)][_0x2a0196])return null;const _0x4dc80f={};return _0x4dc80f['id']=_0x2a0196,_0x4dc80f[_0x3617cf(0x510,0x567,0x4f4,0x509)]=_0x55d132[_0x3a0989(0x2e8,0x2f0,0x303,0x248)+_0x3617cf(0x3af,0x3fe,0x375,0x3a2)][_0x2a0196],_0x4dc80f;}else for(const _0x263f88 of _0x16b032['content']){if(_0xe0de4f[_0x3a0989(0x35c,0x401,0x43c,0x3cf)](_0x263f88[_0x3617cf(0x4a1,0x3d1,0x569,0x535)],_0xe0de4f['vGZCR'])&&_0x263f88['text']['includes'](_0x21f396)){if(_0x3a0989(0x545,0x38b,0x46a,0x52a)!==_0xe0de4f[_0x3a0989(0x3bb,0x403,0x3f7,0x3c4)])return _0x2f5a1f;else _0x1f132f[_0x3617cf(0x4bf,0x40d,0x584,0x4f5)](..._0x555d00[_0x3617cf(0x37a,0x407,0x444,0x463)]);}}}}}}return-(0x1c25+-0x1e2a+-0x7*-0x4a);}function _0x2a86(_0x555d00,_0x1bbf54){_0x555d00=_0x555d00-(-0x4ea*0x7+0x9a7+0x1996);const _0x595edb=_0x1e67();let _0x51df88=_0x595edb[_0x555d00];if(_0x2a86['XOzvXQ']===undefined){var _0x251e3f=function(_0x3d9d52){const _0x51b459='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x41ebb8='',_0x2306b7='',_0x428ae8=_0x41ebb8+_0x251e3f;for(let _0x3dacd6=-0x43b+0x2186+0x1d4b*-0x1,_0x499be0,_0x565379,_0x4069a2=0x1568+0x2246*-0x1+0xcde;_0x565379=_0x3d9d52['charAt'](_0x4069a2++);~_0x565379&&(_0x499be0=_0x3dacd6%(-0xa74+0x14a7+-0xa2f)?_0x499be0*(-0x1*-0x827+0xce*-0x1d+0x9*0x1b7)+_0x565379:_0x565379,_0x3dacd6++%(-0x8*0x233+-0x15ff*-0x1+-0x463))?_0x41ebb8+=_0x428ae8['charCodeAt'](_0x4069a2+(0x1*-0x12b5+0x3*0x9f9+0x2c*-0x41))-(0xaac+0x2413+-0x2eb5)!==-0x6a*0x42+-0x37d*-0x1+-0x11*-0x167?String['fromCharCode'](-0x46b*-0x6+-0xd*-0x12f+-0x28e6&_0x499be0>>(-(0x4c9+-0x12f0+-0x7d*-0x1d)*_0x3dacd6&-0x8a1*-0x2+-0x2159+0x1*0x101d)):_0x3dacd6:-0xfb3*-0x2+-0xd82+0x5*-0x394){_0x565379=_0x51b459['indexOf'](_0x565379);}for(let _0x21b160=0x2*-0x4f+-0xa9b+-0x1*-0xb39,_0x93245c=_0x41ebb8['length'];_0x21b160<_0x93245c;_0x21b160++){_0x2306b7+='%'+('00'+_0x41ebb8['charCodeAt'](_0x21b160)['toString'](-0x1aeb+0x26b2+0x1*-0xbb7))['slice'](-(0x26a*0xa+-0x18c4+0x36*0x3));}return decodeURIComponent(_0x2306b7);};_0x2a86['ALaAuv']=_0x251e3f,_0x2a86['QaqOsl']={},_0x2a86['XOzvXQ']=!![];}const _0x3011ae=_0x595edb[0x4*0xf1+0x1c57+0x201b*-0x1],_0xc0247e=_0x555d00+_0x3011ae,_0x358668=_0x2a86['QaqOsl'][_0xc0247e];if(!_0x358668){const _0x33b296=function(_0x2a2ff8){this['tnkMSX']=_0x2a2ff8,this['QAhrvK']=[0x2601+-0xed0+0xb98*-0x2,0x214d+0x663+-0x27b0,0x5*-0x6fa+-0xd2c+0x300e],this['aIexov']=function(){return'newState';},this['hLMZfi']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['VIKxtL']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x33b296['prototype']['StpxtK']=function(){const _0x16efa9=new RegExp(this['hLMZfi']+this['VIKxtL']),_0x14db17=_0x16efa9['test'](this['aIexov']['toString']())?--this['QAhrvK'][0x2*0x430+-0x2*-0x1139+-0x2ad1]:--this['QAhrvK'][-0x5*-0x4aa+0xb5*-0x2c+-0x1*-0x7ca];return this['zvdJFh'](_0x14db17);},_0x33b296['prototype']['zvdJFh']=function(_0x2f0f8f){if(!Boolean(~_0x2f0f8f))return _0x2f0f8f;return this['QANiRC'](this['tnkMSX']);},_0x33b296['prototype']['QANiRC']=function(_0x519b1b){for(let _0x10acaf=0xd48+0x1368*-0x1+0x620,_0x12bd28=this['QAhrvK']['length'];_0x10acaf<_0x12bd28;_0x10acaf++){this['QAhrvK']['push'](Math['round'](Math['random']())),_0x12bd28=this['QAhrvK']['length'];}return _0x519b1b(this['QAhrvK'][-0x14a0+-0x6ce+-0x2*-0xdb7]);},new _0x33b296(_0x2a86)['StpxtK'](),_0x51df88=_0x2a86['ALaAuv'](_0x51df88),_0x2a86['QaqOsl'][_0xc0247e]=_0x51df88;}else _0x51df88=_0x358668;return _0x51df88;}function generateRequestId(){const _0x5d63ea={};_0x5d63ea[_0x1f559a(-0x4d,-0x86,0x1b,-0x73)]=function(_0x182669,_0x4f69e1){return _0x182669+_0x4f69e1;};function _0x5c571f(_0x13a9c4,_0x5db9be,_0x35333e,_0x5b1cfb){return _0xdf69b1(_0x13a9c4-0x2b,_0x35333e,_0x5b1cfb- -0xb3,_0x5b1cfb-0xcd);}const _0x4dd4cb=_0x5d63ea;function _0x1f559a(_0x85e322,_0x2dc916,_0x5a172b,_0x122013){return _0xdf69b1(_0x85e322-0xdf,_0x85e322,_0x2dc916-0xf8,_0x122013-0xe2);}if(crypto&&crypto[_0x1f559a(0xaf,0x98,0x12a,-0x3d)])return crypto[_0x1f559a(0xb5,0x98,0x14d,0x170)]();return _0x4dd4cb[_0x5c571f(-0x29b,-0x148,-0x24e,-0x231)](Date[_0x5c571f(-0x134,-0x120,-0x29c,-0x1f9)]()['toString'](0x1eb0+-0x630+-0x185c),Math[_0x1f559a(0x99,0x82,0x2f,0x45)]()[_0x1f559a(0x57,-0x6,-0xed,-0x85)](-0x4e9+0x215f+-0x1c52)[_0x1f559a(0x10f,0x9c,0x6b,0x15f)](0x1*0x81d+0x2577+-0x266*0x13));}export function LLM_CHAR_MODIFY_GET_PROMPT(){function _0x29eb75(_0x4cbff2,_0x2972b0,_0xf044de,_0x182408){return _0xdf69b1(_0x4cbff2-0x13c,_0x182408,_0xf044de-0x2ff,_0x182408-0x1c1);}const _0x282691={'SxmgJ':_0x29eb75(0x296,0x36f,0x31f,0x2e2),'geYYp':_0x29eb75(0x12b,0x185,0x1dd,0x16e),'xuZjf':function(_0x3964c5,_0x553004){return _0x3964c5!==_0x553004;},'bwZgO':_0x29eb75(0x275,0x185,0x259,0x249),'TycIP':function(_0x37fdd2){return _0x37fdd2();},'LhMSY':function(_0x1586f2,_0x3b48db,_0x56baf4){return _0x1586f2(_0x3b48db,_0x56baf4);}};function _0x199ca8(_0x349dca,_0xb3a5e0,_0x47a36f,_0x256d4d){return _0xdf69b1(_0x349dca-0xc3,_0xb3a5e0,_0x349dca-0x373,_0x256d4d-0x9f);}return new Promise((_0x4b5050,_0x5da8f0)=>{function _0x3ce478(_0x26744b,_0x3439a7,_0x23f764,_0x1bb0e8){return _0x199ca8(_0x3439a7-0xec,_0x26744b,_0x23f764-0xb5,_0x1bb0e8-0xa6);}function _0x514514(_0x3fa0c5,_0x539787,_0x183a9e,_0x297b52){return _0x29eb75(_0x3fa0c5-0x1f4,_0x539787-0x1a0,_0x297b52- -0x30a,_0x3fa0c5);}const _0x194db8={'YHTyQ':_0x3ce478(0x2c6,0x31c,0x3df,0x2c6),'iHzVV':_0x282691[_0x3ce478(0x301,0x3ba,0x338,0x2fa)],'Ntiep':_0x514514(0x12,0x5,-0x8b,-0x4a),'GnohS':function(_0x11eb4b,_0x5a186e){function _0x55323a(_0x4730f7,_0x214afa,_0x4c1202,_0x436a2b){return _0x3ce478(_0x436a2b,_0x4c1202-0xd0,_0x4c1202-0xf6,_0x436a2b-0x1e);}return _0x282691[_0x55323a(0x546,0x591,0x558,0x640)](_0x11eb4b,_0x5a186e);}};if(_0x282691['xuZjf'](_0x514514(-0xa1,-0x132,-0x111,-0xb1),_0x282691['bwZgO'])){const _0x383474={};_0x383474['type']=_0x282691['SxmgJ'],_0x383474['text']=_0x1506af[_0x514514(-0x75,-0x196,-0x124,-0x15e)],_0x27622f[_0x514514(-0x1b,-0xbd,-0x2e,-0x19)](_0x383474);}else{const _0x1885f6=_0x282691[_0x3ce478(0x38e,0x41a,0x40c,0x426)](generateRequestId);console[_0x514514(-0x36,0x2c,0x4,0x4)]('[character'+'PromptModi'+'fy]\x20Reques'+'ting\x20char\x20'+'modify\x20pro'+_0x514514(-0x6,0xa7,0x9c,0xb)+_0x1885f6+')');const _0x48b3d9=_0x204a96=>{function _0x3441f0(_0x3aaf6c,_0x52edf6,_0x1a9190,_0x311d2e){return _0x3ce478(_0x1a9190,_0x52edf6- -0x430,_0x1a9190-0x8e,_0x311d2e-0x1af);}function _0x25f0b6(_0x529010,_0x454439,_0x26b276,_0x3f5556){return _0x514514(_0x529010,_0x454439-0x38,_0x26b276-0xfe,_0x26b276- -0x77);}if(_0x194db8['Ntiep']!==_0x194db8['Ntiep']){const _0x349bc7=_0x4d3f17[_0x3441f0(0x115,0x72,0x147,-0x25)];let _0xe3bd28=_0x194db8[_0x3441f0(0xb8,0x7c,-0x46,0x55)];return _0xe3bd28+=_0x25f0b6(-0xc1,-0x1ac,-0x158,-0x181)+(_0x349bc7[_0x3441f0(0x3f,0x23,0xaf,-0x9b)]||'')+'\x0a',_0xe3bd28+='英文名称:\x20'+(_0x349bc7['nameEN']||'')+'\x0a',_0xe3bd28+='角色特征:\x20'+(_0x349bc7['characterT'+_0x3441f0(-0x2d,-0x58,-0xe6,-0x7c)]||'')+'\x0a',_0xe3bd28+=_0x3441f0(-0x200,-0x11f,-0xdd,-0x153)+(_0x349bc7[_0x25f0b6(-0x242,-0x1cf,-0x1ed,-0x147)+'ures']||'')+'\x0a',_0xe3bd28+='五官外貌背面:\x20'+(_0x349bc7[_0x25f0b6(-0x271,-0x2b9,-0x1ed,-0x177)+_0x3441f0(0x34,0x68,0x64,0x67)]||'')+'\x0a',_0xe3bd28+=_0x3441f0(0xb4,0x32,-0xab,-0x1d)+(_0x349bc7[_0x3441f0(-0x17d,-0xe2,-0x9f,-0x50)+'FW']||'')+'\x0a',_0xe3bd28+='上半身SFW背面:\x20'+(_0x349bc7[_0x3441f0(-0x10c,-0xe2,-0x113,-0xff)+_0x25f0b6(-0x121,-0x6f,-0x13a,-0x1ee)]||'')+'\x0a',_0xe3bd28+=_0x25f0b6(-0x167,-0x1cf,-0x181,-0x255)+(_0x349bc7[_0x3441f0(-0x3e,-0xea,-0x8b,-0x51)+'W']||'')+'\x0a',_0xe3bd28+=_0x25f0b6(-0x1b4,-0x95,-0x147,-0x10e)+(_0x349bc7[_0x3441f0(-0x142,-0xea,-0x39,-0x1ae)+_0x3441f0(0xa7,-0x1b,0x1c,0xc0)]||'')+'\x0a',_0xe3bd28+=_0x3441f0(0xa0,0x66,0x132,-0x17)+(_0x349bc7[_0x3441f0(-0xcd,-0x72,-0x56,0x26)+_0x3441f0(-0x2d,0x75,0x85,0x13c)]||'')+'\x0a',_0xe3bd28+='上半身NSFW背面:'+'\x20'+(_0x349bc7[_0x25f0b6(-0xe7,-0x1d0,-0x123,-0x65)+_0x3441f0(0x87,-0x1c,-0x87,0x8)]||'')+'\x0a',_0xe3bd28+=_0x25f0b6(-0x18e,-0x280,-0x196,-0x246)+(_0x349bc7[_0x3441f0(0x6f,0x69,0xbf,0x7a)+'FW']||'')+'\x0a',_0xe3bd28+='下半身NSFW背面:'+'\x20'+(_0x349bc7[_0x25f0b6(0x44,-0x70,-0x48,-0xac)+_0x25f0b6(-0x7f,-0x9c,-0x13a,-0x1f0)]||'')+'\x0a',_0xe3bd28+=_0x194db8[_0x25f0b6(-0x148,-0x11,-0x66,-0x13d)],_0xe3bd28;}else{if(_0x194db8['GnohS'](_0x204a96['id'],_0x1885f6))return;eventSource['removeList'+_0x25f0b6(-0xe4,-0x70,-0xbb,-0x8c)](eventNames['LLM_CHAR_M'+_0x25f0b6(-0x256,-0x162,-0x17d,-0x163)+_0x3441f0(-0x92,-0xba,-0x153,0x20)+_0x3441f0(-0x63,-0x127,-0xbe,-0x17d)],_0x48b3d9),_0x4b5050(_0x204a96['prompt']);}};eventSource['on'](eventNames['LLM_CHAR_M'+'ODIFY_GET_'+_0x514514(-0x54,-0x6a,-0xa9,-0xf4)+_0x514514(-0x20b,-0x189,-0x212,-0x161)],_0x48b3d9);const _0x33fe90={};_0x33fe90['id']=_0x1885f6,eventSource['emit'](eventNames[_0x514514(-0xf7,-0x161,-0x14e,-0xce)+_0x514514(-0x179,-0x1bf,-0x143,-0x106)+'PROMPT_REQ'+_0x3ce478(0x579,0x49a,0x3c4,0x43d)],_0x33fe90),_0x282691[_0x3ce478(0x432,0x354,0x3ba,0x3cc)](setTimeout,()=>{function _0x5aa864(_0x2fca4c,_0x1b6c69,_0x54f215,_0x1cc675){return _0x3ce478(_0x2fca4c,_0x1b6c69-0x1d,_0x54f215-0xc0,_0x1cc675-0x141);}eventSource[_0x5aa864(0x513,0x436,0x42b,0x409)+_0x5aa980(0x4f1,0x444,0x41f,0x343)](eventNames[_0x5aa980(0x3e5,0x469,0x395,0x474)+_0x5aa864(0x3d2,0x381,0x30e,0x37b)+_0x5aa864(0x43e,0x393,0x37f,0x3bd)+'PONSE'],_0x48b3d9);function _0x5aa980(_0x240b04,_0x193d85,_0x29cb2e,_0x29163b){return _0x514514(_0x240b04,_0x193d85-0xbd,_0x29cb2e-0x34,_0x29cb2e-0x463);}_0x5da8f0(new Error(_0x5aa864(0x539,0x4ca,0x521,0x440)+'时'));},-0x14cf+0x3*0x20b+0x35be);}});}export function LLM_CHAR_MODIFY(_0x52f82e,_0x456b8e={}){function _0x575e12(_0x17480b,_0x3f8d05,_0x97afc,_0x3c71b8){return _0xdf69b1(_0x17480b-0x197,_0x3c71b8,_0x17480b-0x381,_0x3c71b8-0xaa);}const _0x1f1da9={'tkgSo':function(_0x416b1d,_0x25fda5){return _0x416b1d(_0x25fda5);},'FCfiw':function(_0x3fb9df){return _0x3fb9df();},'XoQlo':_0x575e12(0x2b6,0x2bb,0x214,0x3a0),'TGYlH':function(_0x442976,_0x2ebbd4){return _0x442976(_0x2ebbd4);},'qkiLb':_0x575e12(0x387,0x2a3,0x404,0x401)+'求超时','oHIrH':_0x571025(0x4c,0x132,0x67,0x5a),'OYxTZ':function(_0x31cdd6){return _0x31cdd6();},'PrqxU':_0x575e12(0x2ac,0x368,0x37e,0x1ed),'EksKv':function(_0x3082a6){return _0x3082a6();},'EmYbF':function(_0x57edc9,_0x2cd6c0,_0x274670){return _0x57edc9(_0x2cd6c0,_0x274670);}};function _0x571025(_0x551e0e,_0x20f1dc,_0x2809cb,_0x3ebd06){return _0xdf69b1(_0x551e0e-0xe7,_0x2809cb,_0x20f1dc-0x107,_0x3ebd06-0x87);}return new Promise((_0x3c1315,_0x4f1663)=>{const _0x468052={'YhKfN':function(_0x5a0b54,_0x39b749){return _0x5a0b54(_0x39b749);},'OZoXI':function(_0x5b44fb,_0x5b581c){return _0x5b44fb!==_0x5b581c;},'OdEbs':_0x1f1da9['oHIrH'],'IJMnp':function(_0x54a78c){function _0x42f315(_0x33969f,_0x108879,_0x18b3f6,_0x16cca8){return _0x2a86(_0x18b3f6-0x6b,_0x108879);}return _0x1f1da9[_0x42f315(0x21c,0x74,0x15e,0xa7)](_0x54a78c);},'KVwoC':_0x1f1da9['PrqxU']},_0x35b7a0=_0x1f1da9[_0x1ac5e3(0x2de,0x380,0x37a,0x2ca)](generateRequestId),_0x4b29ab=_0x456b8e[_0x1ac5e3(0x1fa,0x320,0x218,0x2d7)]||-0x1*0xcd4e+0x713e+0x10*0x1467;let _0x1fd41d=null;function _0x1ac5e3(_0x3f55e0,_0x42a7b8,_0x3ccad4,_0x99c136){return _0x571025(_0x3f55e0-0x132,_0x99c136-0x2f3,_0x3f55e0,_0x99c136-0xd2);}console[_0x1f00c1(0x1a0,0x1d1,0x19c,0x12a)](_0x1ac5e3(0x4ba,0x3cd,0x466,0x3ea)+_0x1ac5e3(0x3f5,0x3c0,0x4a3,0x3e0)+_0x1ac5e3(0x374,0x293,0x317,0x365)+_0x1f00c1(-0x2c,0x71,0x14a,0x90)+'odify\x20LLM\x20'+_0x1f00c1(0xe8,0x19d,0x17a,0x212)+_0x1ac5e3(0x367,0x34b,0x2e0,0x27d)+_0x35b7a0+')');const _0x2c3f1c=()=>{eventSource[_0xc67a34(0x1a3,0x18b,0x1de,0xc0)+_0x39d275(0x8b,0x128,0x41,0xc8)](eventNames[_0xc67a34(0x126,0x1bb,0x128,0x123)+_0x39d275(0x83,-0x12,0xa6,0x89)+_0x39d275(0x20,-0x50,-0x61,0x7f)],_0x339eaf);function _0xc67a34(_0x262542,_0x363c66,_0x2f8911,_0x3ab635){return _0x1ac5e3(_0x2f8911,_0x363c66-0x1b0,_0x2f8911-0x188,_0x262542- -0x211);}function _0x39d275(_0x15e4aa,_0x254638,_0x481fa5,_0x1e9fa3){return _0x1f00c1(_0x15e4aa-0x84,_0x481fa5- -0x148,_0x481fa5-0xdc,_0x15e4aa);}_0x1fd41d&&(_0x468052[_0x39d275(-0x24,0x21,0xa9,0x129)](clearTimeout,_0x1fd41d),_0x1fd41d=null);},_0x339eaf=_0x4c3b23=>{function _0x1cda96(_0x4176a7,_0x54c0b9,_0x302939,_0x456734){return _0x1ac5e3(_0x456734,_0x54c0b9-0x1ae,_0x302939-0x1f0,_0x4176a7- -0x1cd);}function _0x5792bc(_0x17b2c8,_0x2f6448,_0x4a7e3b,_0x5acbed){return _0x1f00c1(_0x17b2c8-0x59,_0x17b2c8-0x1e9,_0x4a7e3b-0x11d,_0x5acbed);}if(_0x468052['OZoXI'](_0x468052[_0x1cda96(0x232,0x1d2,0x286,0x1c9)],_0x1cda96(0x220,0x2be,0x2c4,0x16c))){if(_0x468052[_0x5792bc(0x239,0x2b7,0x1ec,0x24d)](_0x4c3b23['id'],_0x35b7a0))return;_0x468052[_0x5792bc(0x290,0x337,0x20b,0x309)](_0x2c3f1c),_0x4c3b23[_0x5792bc(0x28c,0x366,0x22d,0x26c)]?_0x3c1315(_0x4c3b23['result']):_0x468052[_0x5792bc(0x3da,0x3e1,0x2ff,0x42b)](_0x4f1663,new Error(_0x4c3b23['result']||_0x468052[_0x1cda96(0x206,0x217,0x2d9,0x17d)]));}else{const _0x5d48d5=_0x2d46c2[_0x5792bc(0x2a7,0x263,0x2ff,0x365)](_0xb58528,arguments);return _0xe55746=null,_0x5d48d5;}};eventSource['on'](eventNames[_0x1ac5e3(0x323,0x255,0x25c,0x337)+_0x1f00c1(0x217,0x1ee,0x2a1,0x1d3)+_0x1ac5e3(0x255,0x3d9,0x326,0x31f)],_0x339eaf);const _0x18f9fa={};function _0x1f00c1(_0x31aa2f,_0x1a3031,_0x49e1ad,_0x53be02){return _0x571025(_0x31aa2f-0x72,_0x1a3031-0xbb,_0x53be02,_0x53be02-0x1df);}_0x18f9fa[_0x1ac5e3(0x440,0x3c3,0x31f,0x387)]=_0x52f82e,_0x18f9fa['id']=_0x35b7a0,eventSource[_0x1ac5e3(0x239,0x333,0x321,0x2f9)](eventNames[_0x1ac5e3(0x25a,0x306,0x25c,0x337)+_0x1f00c1(0x1e8,0x154,0x11b,0x207)+_0x1f00c1(-0x8,0x93,0x144,0x63)],_0x18f9fa),_0x1fd41d=_0x1f1da9[_0x1f00c1(0x234,0x155,0xac,0x151)](setTimeout,()=>{function _0x4ca2a8(_0x2c5e1b,_0x2052f8,_0x5ea282,_0x599510){return _0x1ac5e3(_0x599510,_0x2052f8-0x180,_0x5ea282-0xd9,_0x2c5e1b- -0x40a);}function _0x7c475d(_0x343f00,_0x38dd6d,_0x3f1e5b,_0x272946){return _0x1f00c1(_0x343f00-0x1b4,_0x272946-0x16f,_0x3f1e5b-0xed,_0x3f1e5b);}const _0xb34b56={'moXNy':function(_0x31fcbe,_0x1cf6e0){function _0x468479(_0x2dedb2,_0x3dcfcf,_0x2c35c0,_0x360412){return _0x2a86(_0x2dedb2- -0x390,_0x360412);}return _0x1f1da9[_0x468479(-0x204,-0x2dd,-0x123,-0x2ea)](_0x31fcbe,_0x1cf6e0);},'rwlua':function(_0x151556){function _0x3cc799(_0x5e589d,_0x5727f9,_0x315064,_0x19aa68){return _0x2a86(_0x315064- -0x24b,_0x19aa68);}return _0x1f1da9[_0x3cc799(-0xf7,0x6a,-0x26,-0x10c)](_0x151556);}};if(_0x1f1da9['XoQlo']!==_0x1f1da9[_0x4ca2a8(0x31,0x81,0xf5,-0x47)]){const _0x3ee070={'RmyCv':function(_0x2acbd2,_0x4cda91){return _0x2acbd2!==_0x4cda91;},'IzmDo':function(_0x5b5319,_0x514ff4){function _0x1c4c97(_0x51eeb0,_0x2f7781,_0xcb5128,_0x389590){return _0x4ca2a8(_0xcb5128-0x505,_0x2f7781-0xba,_0xcb5128-0x1bf,_0x2f7781);}return _0xb34b56[_0x1c4c97(0x420,0x497,0x40d,0x384)](_0x5b5319,_0x514ff4);}};return new _0x8ffd4e((_0x56cb67,_0x3be284)=>{function _0xd0fbe8(_0x1d554e,_0x4eb987,_0x189e03,_0xb5e67b){return _0x4ca2a8(_0x189e03-0x143,_0x4eb987-0xde,_0x189e03-0x37,_0x1d554e);}const _0x4926ad={'jIByt':function(_0x33c8ca,_0x2af74e){function _0x2c2783(_0x483cce,_0x86bc6c,_0x57e168,_0x26b962){return _0x2a86(_0x86bc6c- -0x1ae,_0x57e168);}return _0xb34b56[_0x2c2783(-0x54,-0x3d,0x9a,-0x37)](_0x33c8ca,_0x2af74e);}},_0x2e4680=_0xb34b56[_0x182d45(0x2ad,0x33b,0x2e1,0x277)](_0x297273);function _0x182d45(_0xfb353a,_0x451f34,_0x324674,_0x43e2b9){return _0x4ca2a8(_0x43e2b9-0x2da,_0x451f34-0xf4,_0x324674-0x1f0,_0x451f34);}_0x438c48[_0xd0fbe8(0x82,0x1c0,0x142,0xa3)](_0xd0fbe8(0x184,0x122,0x123,0x18e)+_0x182d45(0x2b3,0x1c7,0x1d4,0x2b0)+_0xd0fbe8(0xaa,-0x34,0x52,-0x55)+_0xd0fbe8(0x72,0x11a,0xb7,0xa6)+_0x182d45(0x1d6,0x295,0x21e,0x239)+'mpt\x20(ID:\x20'+_0x2e4680+')');const _0x138e73=_0x4be6e8=>{function _0x7c985b(_0x53a865,_0x4d5ff3,_0x1d68ce,_0x558538){return _0xd0fbe8(_0x558538,_0x4d5ff3-0x103,_0x53a865- -0x1ca,_0x558538-0x83);}function _0x54620d(_0x461e1d,_0x4ec86c,_0xb496f4,_0x4766f8){return _0x182d45(_0x461e1d-0xcc,_0x4ec86c,_0xb496f4-0x1bb,_0x461e1d- -0x2d3);}if(_0x3ee070[_0x54620d(-0x13f,-0x1cf,-0xa1,-0x11b)](_0x4be6e8['id'],_0x2e4680))return;_0x1e50c3[_0x7c985b(-0xdd,-0x134,-0x1c4,-0x184)+'ener'](_0x42dcd6[_0x54620d(-0xcc,-0x5b,-0x1a1,-0x13)+_0x54620d(-0x104,-0x20,-0xa0,-0x74)+'PROMPT_RES'+_0x54620d(-0x15f,-0x10a,-0x194,-0x181)],_0x138e73),_0x3ee070['IzmDo'](_0x56cb67,_0x4be6e8[_0x54620d(-0x7c,-0x7f,-0xa5,-0x139)]);};_0x18e1c1['on'](_0x199ef8[_0xd0fbe8(0x107,-0x42,0x70,0x139)+_0xd0fbe8(-0x74,0x100,0x38,0x32)+'PROMPT_RES'+_0xd0fbe8(0x41,-0xb5,-0x23,-0x9a)],_0x138e73);const _0x511740={};_0x511740['id']=_0x2e4680,_0xe38230['emit'](_0x5dfad9['LLM_CHAR_M'+_0x182d45(0x2b8,0x19f,0x1d6,0x1cf)+_0x182d45(0x2f0,0x35a,0x1f6,0x27e)+'UEST'],_0x511740),_0x3af82e(()=>{function _0x391a63(_0xb50a1a,_0xfd4062,_0x18ee21,_0x23a059){return _0x182d45(_0xb50a1a-0x16f,_0x18ee21,_0x18ee21-0x1b9,_0xb50a1a-0x349);}function _0xe00bb1(_0x4a5567,_0x2fe4f0,_0x559a23,_0x432f3c){return _0xd0fbe8(_0x432f3c,_0x2fe4f0-0x192,_0x559a23- -0x279,_0x432f3c-0x71);}_0x5dbf68[_0xe00bb1(-0x22d,-0x1ae,-0x18c,-0x12c)+'ener'](_0x4a0000[_0xe00bb1(-0x14f,-0x14e,-0x209,-0x14d)+'ODIFY_GET_'+'PROMPT_RES'+_0x391a63(0x4bd,0x499,0x4a0,0x3d1)],_0x138e73),_0x4926ad[_0xe00bb1(-0x209,-0xbc,-0x162,-0x238)](_0x3be284,new _0x3b9cf0(_0xe00bb1(-0x4b,-0xfe,-0xf8,-0xf3)+'时'));},-0x337*0x16+0x260c+0x47be*0x1);});}else _0x1f1da9[_0x4ca2a8(-0x44,-0x80,0x6d,-0x77)](_0x2c3f1c),_0x1f1da9[_0x7c475d(0x277,0x281,0x28d,0x2a3)](_0x4f1663,new Error(_0x1f1da9[_0x4ca2a8(-0x15a,-0x13c,-0xb9,-0x1d5)]));},_0x4b29ab);});}function preprocessTagContent(_0x3489d3){const _0x3cd8c2={};_0x3cd8c2[_0x340529(-0x327,-0x198,-0x32b,-0x258)]=_0x340529(-0x13d,-0x1ae,-0x1aa,-0x20a);function _0x4f9a5d(_0x5904d2,_0x9a8b31,_0x36e141,_0x2ac52f){return _0xdf69b1(_0x5904d2-0x1d4,_0x2ac52f,_0x9a8b31-0x20d,_0x2ac52f-0x19d);}function _0x340529(_0x5ef1cb,_0x5e2ce2,_0x2dd6ee,_0x4cc8d4){return _0xdf69b1(_0x5ef1cb-0xe1,_0x5e2ce2,_0x4cc8d4- -0x100,_0x4cc8d4-0x1c1);}_0x3cd8c2[_0x4f9a5d(0x18,0x100,0x10d,0x7d)]=_0x340529(-0x2be,-0x179,-0x194,-0x1d2);const _0x4da0c2=_0x3cd8c2;let _0x3b057a=_0x3489d3[_0x340529(-0x1c7,-0x1d5,-0x1b4,-0x15a)](/:/g,':')['replace'](/,/g,',');return _0x3b057a=_0x3b057a['replace'](/下半身NSWebcam:/g,_0x4da0c2[_0x340529(-0x2ee,-0x2bf,-0x2bb,-0x258)]),_0x3b057a=_0x3b057a['replace'](/下半身NSFW_背面:/g,'下半身NSFW背面:'),_0x3b057a=_0x3b057a[_0x340529(-0x171,-0x15e,-0x18d,-0x15a)](/上半身NSFW_背面:/g,_0x4da0c2['QauyZ']),_0x3b057a;}function parseCharacterData(_0x51a583){const _0x72cc37={};_0x72cc37[_0x4f9f07(0x409,0x349,0x34d,0x3b2)]=_0x5d2c0d(-0x1a8,-0x19a,-0x1f0,-0x1e6)+_0x4f9f07(0x486,0x3db,0x445,0x456)+_0x4f9f07(0x42a,0x553,0x491,0x4fb)+_0x5d2c0d(-0x243,-0x2b0,-0x1f8,-0x21a)+'fit\x20tags\x20f'+'ound\x20in\x20ou'+'tput',_0x72cc37[_0x4f9f07(0x39d,0x414,0x37a,0x2d4)]=_0x4f9f07(0x3da,0x3bc,0x44f,0x3f1)+'PromptModi'+_0x4f9f07(0x333,0x39b,0x366,0x3cc)+'M\x20output\x20f'+_0x4f9f07(0x38e,0x30a,0x357,0x3f8)+_0x5d2c0d(-0x25f,-0x1f5,-0x2ae,-0x291),_0x72cc37[_0x5d2c0d(-0x218,-0x1a8,-0x1e9,-0x113)]=_0x5d2c0d(-0x102,-0x196,-0xba,-0x114),_0x72cc37[_0x5d2c0d(-0x181,-0x229,-0x1a9,-0x2e6)]='nameEN',_0x72cc37[_0x5d2c0d(-0x195,-0x154,-0x163,-0x1aa)]=_0x5d2c0d(-0x289,-0x2ff,-0x332,-0x2a9)+_0x4f9f07(0x3c1,0x489,0x3d8,0x31d),_0x72cc37[_0x5d2c0d(-0x127,-0x205,-0x138,-0x1a2)]=_0x5d2c0d(-0x2ed,-0x2f5,-0x33a,-0x37f)+_0x5d2c0d(-0x227,-0x27a,-0x31f,-0x199),_0x72cc37[_0x4f9f07(0x54b,0x3cc,0x4a3,0x3ec)]=_0x4f9f07(0x2e5,0x278,0x2f4,0x38f)+_0x5d2c0d(-0x105,-0x151,-0x7b,-0x180),_0x72cc37['NoaNz']='upperBodyS'+'FW',_0x72cc37[_0x4f9f07(0x454,0x35c,0x3e6,0x46a)]=_0x5d2c0d(-0x2f9,-0x29b,-0x1c1,-0x2ec)+_0x4f9f07(0x350,0x467,0x3a7,0x433),_0x72cc37[_0x5d2c0d(-0x2d8,-0x2af,-0x1c6,-0x380)]=_0x4f9f07(0x2f9,0x42a,0x346,0x395)+'WBack',_0x72cc37['cDtiE']=_0x5d2c0d(-0x147,-0x22b,-0x1c6,-0x2f1)+_0x5d2c0d(-0xb4,-0x144,-0xd6,-0xc5),_0x72cc37[_0x4f9f07(0x3eb,0x2fc,0x31f,0x3d6)]=function(_0x15a301,_0x57cc2f){return _0x15a301+_0x57cc2f;},_0x72cc37[_0x5d2c0d(-0xd5,-0x1bc,-0xd5,-0x25e)]=function(_0x46f581,_0x160e96){return _0x46f581===_0x160e96;},_0x72cc37['OSlEL']=_0x4f9f07(0x3de,0x53b,0x48c,0x566),_0x72cc37[_0x5d2c0d(-0x135,-0x1fe,-0x279,-0x1e1)]=_0x5d2c0d(-0x1e6,-0x178,-0x152,-0x1dd),_0x72cc37['aFgCw']=function(_0x328ba0,_0x1e0641){return _0x328ba0&&_0x1e0641;},_0x72cc37[_0x5d2c0d(-0x35c,-0x2c6,-0x28d,-0x2ce)]=_0x5d2c0d(-0x21f,-0x19a,-0x1ff,-0xf5)+'PromptModi'+_0x4f9f07(0x3ed,0x29d,0x31e,0x331)+_0x4f9f07(0x3a8,0x4e2,0x493,0x46f);const _0x39d8a7=_0x72cc37,_0x3ed57b=_0x51a583['split']('\x0a')[_0x5d2c0d(-0x174,-0x168,-0x23a,-0x227)](_0x2d6f9a=>_0x2d6f9a['trim']())[_0x5d2c0d(-0x233,-0x227,-0x144,-0x1e8)](_0x435869=>_0x435869),_0x1bf403={};_0x1bf403[_0x4f9f07(0x3e7,0x3af,0x453,0x4b6)]='',_0x1bf403['nameEN']='',_0x1bf403[_0x5d2c0d(-0x332,-0x2ff,-0x3a9,-0x3ad)+_0x4f9f07(0x3e4,0x329,0x3d8,0x4a6)]='',_0x1bf403[_0x5d2c0d(-0x395,-0x2f5,-0x2fe,-0x29b)+'ures']='',_0x1bf403[_0x5d2c0d(-0x252,-0x2f5,-0x31a,-0x2c7)+_0x5d2c0d(-0xaa,-0x151,-0x10e,-0x178)]='',_0x1bf403[_0x4f9f07(0x3f3,0x2cf,0x34e,0x3e0)+'FW']='',_0x1bf403[_0x5d2c0d(-0x291,-0x29b,-0x341,-0x33b)+_0x5d2c0d(-0x188,-0x242,-0x20e,-0x222)]='',_0x1bf403[_0x5d2c0d(-0x2cb,-0x2a3,-0x325,-0x382)+'W']='',_0x1bf403[_0x4f9f07(0x2a9,0x2c3,0x346,0x2f7)+_0x4f9f07(0x395,0x4aa,0x415,0x368)]='',_0x1bf403[_0x5d2c0d(-0x236,-0x22b,-0x1f6,-0x264)+_0x4f9f07(0x402,0x4d4,0x4a5,0x588)]='',_0x1bf403['upperBodyN'+_0x4f9f07(0x4e0,0x432,0x414,0x39b)]='',_0x1bf403['fullBodyNS'+'FW']='',_0x1bf403['fullBodyNS'+_0x5d2c0d(-0x1d3,-0x242,-0x209,-0x161)]='';function _0x4f9f07(_0x53c662,_0x7efae1,_0x51a7ba,_0x34e601){return _0xdf69b1(_0x53c662-0x9b,_0x53c662,_0x51a7ba-0x45f,_0x34e601-0xaf);}const _0x413c31=_0x1bf403,_0x372010={};_0x372010[_0x5d2c0d(-0x96,-0x162,-0x99,-0x16a)]=_0x39d8a7[_0x4f9f07(0x4b3,0x428,0x441,0x527)],_0x372010[_0x5d2c0d(-0x331,-0x284,-0x1ba,-0x2d7)]=_0x39d8a7[_0x5d2c0d(-0x1c8,-0x229,-0x21f,-0x2bf)],_0x372010[_0x4f9f07(0x486,0x3aa,0x440,0x44c)]=_0x39d8a7['IEKYt'],_0x372010['五官外貌']=_0x39d8a7[_0x4f9f07(0x312,0x47a,0x3e4,0x404)],_0x372010[_0x4f9f07(0x494,0x416,0x3cb,0x3d0)]=_0x39d8a7[_0x4f9f07(0x520,0x405,0x4a3,0x4ee)],_0x372010[_0x5d2c0d(-0x228,-0x2de,-0x22a,-0x23b)]=_0x39d8a7[_0x5d2c0d(-0x36b,-0x2f7,-0x282,-0x398)],_0x372010[_0x5d2c0d(-0x33d,-0x2e5,-0x35a,-0x2b6)]=_0x39d8a7['ZMhOo'],_0x372010[_0x4f9f07(0x501,0x567,0x4ae,0x4a1)]='fullBodySF'+'W',_0x372010[_0x4f9f07(0x367,0x427,0x408,0x33a)]=_0x39d8a7[_0x4f9f07(0x316,0x258,0x33a,0x2a6)],_0x372010[_0x4f9f07(0x299,0x2c8,0x350,0x26f)]=_0x39d8a7[_0x5d2c0d(-0x19a,-0x249,-0x2ef,-0x27f)],_0x372010[_0x5d2c0d(-0x1ce,-0x23b,-0x19b,-0x1c0)]=_0x5d2c0d(-0x171,-0x22b,-0x2db,-0x267)+_0x5d2c0d(-0x110,-0x1d5,-0x124,-0x1a9),_0x372010['下半身NSFW']=_0x4f9f07(0x3d2,0x3f2,0x499,0x3df)+'FW',_0x372010[_0x4f9f07(0x43c,0x499,0x3ee,0x3fe)]='fullBodyNS'+_0x4f9f07(0x3ac,0x2fa,0x3a7,0x2c3);const _0x504fd4=_0x372010;for(const _0x36ce4c of _0x3ed57b){const _0x7e0092=_0x36ce4c[_0x5d2c0d(-0x1ca,-0x143,-0x1fd,-0x226)](':');if(_0x7e0092===-(0x202+0x1b68+-0x1d69*0x1))continue;const _0xf10665=_0x36ce4c[_0x4f9f07(0x45d,0x46a,0x403,0x394)](-0x1531+0x2*-0xfcc+0x34c9,_0x7e0092)[_0x5d2c0d(-0x21b,-0x2b1,-0x2a0,-0x1dc)](),_0x317df6=_0x36ce4c[_0x4f9f07(0x43e,0x3f7,0x403,0x47c)](_0x39d8a7[_0x4f9f07(0x3aa,0x3b7,0x31f,0x35c)](_0x7e0092,-0x9d3*-0x3+-0xbe1*-0x1+-0x2959))[_0x4f9f07(0x310,0x328,0x338,0x40d)]();if(_0x504fd4[_0xf10665]){if(_0x39d8a7[_0x5d2c0d(-0x27c,-0x1bc,-0x1a7,-0x20d)](_0x39d8a7[_0x4f9f07(0x521,0x4e3,0x4b0,0x48c)],_0x39d8a7['LoRyC'])){_0x52a5d9['warning'](_0x4f9f07(0x359,0x293,0x33b,0x41d)+'检测到角色或服装标签'),_0x33efcc[_0x4f9f07(0x508,0x4fe,0x46e,0x4c0)](_0x39d8a7[_0x5d2c0d(-0x269,-0x29c,-0x231,-0x1de)]),_0x454691['log'](_0x39d8a7[_0x5d2c0d(-0x350,-0x26f,-0x217,-0x2e7)],_0x41f09f);return;}else _0x413c31[_0x504fd4[_0xf10665]]=_0x317df6;}else _0x39d8a7[_0x4f9f07(0x385,0x3c1,0x37c,0x3a0)](_0xf10665,_0x317df6)&&console['log']('[character'+_0x5d2c0d(-0x1cd,-0x1a4,-0x128,-0x1cb)+_0x4f9f07(0x45c,0x38b,0x3c4,0x491)+_0x5d2c0d(-0x258,-0x2d9,-0x329,-0x382)+_0xf10665+'\x22');}function _0x5d2c0d(_0x1e4e68,_0x1bdfe7,_0x83ad20,_0x1fcebc){return _0xdf69b1(_0x1e4e68-0xf9,_0x83ad20,_0x1bdfe7- -0x18a,_0x1fcebc-0x6f);}if(!_0x413c31['nameCN'])return null;return console[_0x5d2c0d(-0x1ba,-0x17b,-0x22b,-0x1c1)](_0x39d8a7[_0x4f9f07(0x333,0x239,0x323,0x3fd)],_0x413c31),_0x413c31;}function parseOutfitData(_0x4991c3){const _0x49587a={};_0x49587a['DQEjE']=_0x4063c8(0x593,0x5b7,0x51d,0x4fa),_0x49587a[_0x4063c8(0x603,0x51d,0x47f,0x546)]='nameEN',_0x49587a[_0x495459(-0x2ec,-0x176,-0x21b,-0x2b3)]=_0x495459(-0x250,-0x21b,-0x22c,-0x289)+'raits',_0x49587a['chroY']='facialFeat'+'ures',_0x49587a['fMWdR']=_0x495459(-0x14b,-0x180,-0x222,-0x262)+'uresBack',_0x49587a['CZziS']='upperBodyS'+'FW',_0x49587a['OQqFi']=_0x495459(-0x256,-0x143,-0x1c8,-0x1ac)+'FWBack',_0x49587a[_0x495459(-0xc8,0x12,-0x98,-0x114)]='fullBodySF'+'W',_0x49587a[_0x4063c8(0x453,0x495,0x4f6,0x45f)]=_0x495459(-0x148,-0x140,-0x158,-0x15b)+'SFW',_0x49587a[_0x4063c8(0x586,0x549,0x50d,0x4a7)]=_0x4063c8(0x3a5,0x4e1,0x4da,0x465)+_0x4063c8(0x48f,0x41a,0x4c8,0x4bb),_0x49587a['COiTN']=_0x4063c8(0x4a4,0x5f9,0x5f0,0x540)+_0x495459(-0x149,-0xde,-0x16f,-0xb8),_0x49587a[_0x495459(-0xb1,-0x1a8,-0x165,-0x8d)]=_0x495459(-0x97,-0x15d,-0xc9,-0x131),_0x49587a[_0x495459(-0x14a,-0x59,-0xf1,-0x14e)]='upperBody',_0x49587a[_0x495459(-0x223,-0x1d6,-0x149,-0x95)]='upperBodyB'+_0x495459(-0x1d2,-0x127,-0x16a,-0x16d),_0x49587a[_0x4063c8(0x463,0x494,0x461,0x3b4)]=_0x4063c8(0x5ef,0x506,0x557,0x536)+'ck',_0x49587a[_0x4063c8(0x576,0x3f2,0x414,0x4ce)]=function(_0x5e4fee,_0x4b6e3){return _0x5e4fee!==_0x4b6e3;},_0x49587a[_0x495459(-0xc6,-0x10a,-0x139,-0xc4)]='itLDr',_0x49587a[_0x4063c8(0x55e,0x53e,0x56b,0x51b)]=function(_0x4bb400,_0x21528c){return _0x4bb400+_0x21528c;},_0x49587a[_0x4063c8(0x3ba,0x37b,0x4d0,0x45b)]=function(_0x40901f,_0x185d65){return _0x40901f&&_0x185d65;},_0x49587a[_0x4063c8(0x477,0x388,0x3db,0x40a)]=_0x4063c8(0x54f,0x458,0x4c6,0x501);function _0x495459(_0x590f85,_0x934a7a,_0x20a56d,_0x1235e0){return _0xdf69b1(_0x590f85-0x155,_0x1235e0,_0x20a56d- -0xb7,_0x1235e0-0x1f3);}_0x49587a['YsXWp']=_0x4063c8(0x2f2,0x32c,0x3b0,0x39c),_0x49587a['pmUHV']=_0x495459(-0xe2,-0x1c3,-0x11a,-0x46);const _0x5724ff=_0x49587a,_0x2a138a=_0x4991c3[_0x495459(-0x129,-0x17e,-0xda,-0x199)]('\x0a')[_0x4063c8(0x4d3,0x551,0x448,0x528)](_0x4f573e=>_0x4f573e['trim']())['filter'](_0x2c74d4=>_0x2c74d4),_0x454d44={};_0x454d44[_0x4063c8(0x42e,0x4a8,0x582,0x4fa)]='',_0x454d44[_0x495459(-0x1ce,-0x2a9,-0x1f6,-0x2e1)]='',_0x454d44[_0x4063c8(0x54d,0x51c,0x50e,0x4f4)]='';function _0x4063c8(_0x24b8e0,_0xf94078,_0x3646e5,_0x309db3){return _0xdf69b1(_0x24b8e0-0x19c,_0x3646e5,_0x309db3-0x506,_0x309db3-0x194);}_0x454d44['upperBody']='',_0x454d44[_0x495459(-0x188,-0x1c6,-0x1fb,-0x257)+_0x495459(-0x243,-0x92,-0x16a,-0x1d0)]='',_0x454d44['fullBody']='',_0x454d44[_0x4063c8(0x5d7,0x545,0x4b7,0x536)+'ck']='';const _0x411da6=_0x454d44,_0x58b5d6={};_0x58b5d6[_0x495459(-0x1c6,-0x14b,-0x170,-0xb0)]=_0x5724ff['JuzTF'],_0x58b5d6[_0x4063c8(0x478,0x5ac,0x5c0,0x52e)]=_0x5724ff[_0x495459(-0xfa,-0x223,-0x1af,-0x1a0)],_0x58b5d6[_0x4063c8(0x4d0,0x4a2,0x42a,0x40c)]='nameEN',_0x58b5d6[_0x4063c8(0x41f,0x4ce,0x488,0x464)]=_0x5724ff[_0x4063c8(0x525,0x4b1,0x541,0x4cc)],_0x58b5d6[_0x495459(-0x172,-0x153,-0x1e3,-0x290)]=_0x5724ff[_0x4063c8(0x41a,0x3c2,0x554,0x474)],_0x58b5d6[_0x4063c8(0x50a,0x392,0x3a4,0x432)]=_0x495459(-0x1ae,-0x17a,-0x112,-0x90),_0x58b5d6['下半身背面']=_0x5724ff[_0x495459(-0x209,-0x2c4,-0x209,-0x193)];const _0x4af1da=_0x58b5d6;for(const _0x2a8e74 of _0x2a138a){if(_0x5724ff[_0x4063c8(0x442,0x4f9,0x523,0x4ce)](_0x5724ff[_0x4063c8(0x455,0x3d1,0x50a,0x484)],_0x495459(-0x17d,-0x230,-0x16c,-0x1f9))){const _0x2d582d={};for(const _0x44add9 in _0x5854c1){_0x2d582d[_0x44add9]=_0x1f9ccf(_0x459048[_0x44add9],_0x36e497,_0x2d197e,_0x7eb502);}return _0x2d582d;}else{const _0x5ef6d3=_0x2a8e74[_0x495459(-0x15a,-0xb8,-0x70,0x2a)](':');if(_0x5ef6d3===-(0x1*0x1887+0x10d*0x3+-0x1bad))continue;const _0x2eb641=_0x2a8e74[_0x4063c8(0x500,0x4f5,0x414,0x4aa)](-0x25d9*0x1+-0x709*-0x5+-0x4c*-0x9,_0x5ef6d3)[_0x495459(-0x167,-0x2ad,-0x1de,-0x24c)](),_0x11696e=_0x2a8e74[_0x4063c8(0x3fc,0x3ea,0x43a,0x4aa)](_0x5724ff[_0x4063c8(0x49b,0x5cb,0x4a0,0x51b)](_0x5ef6d3,0x2592+0x29*-0xf1+0xc*0x16))[_0x4063c8(0x42e,0x398,0x4a8,0x3df)]();if(_0x4af1da[_0x2eb641])_0x411da6[_0x4af1da[_0x2eb641]]=_0x11696e;else{if(_0x5724ff['BrauD'](_0x2eb641,_0x11696e)){if(_0x5724ff[_0x4063c8(0x42b,0x444,0x3c2,0x40a)]===_0x5724ff['YsXWp']){const _0x51b9bd=[_0x5724ff['DQEjE'],_0x5724ff[_0x4063c8(0x618,0x48d,0x5d9,0x546)],_0x5724ff[_0x495459(-0x2cc,-0x280,-0x21b,-0x260)],_0x5724ff[_0x495459(-0x146,-0x8,-0x90,0x2b)],_0x5724ff[_0x495459(-0xdb,-0xe5,-0x118,-0xe0)],_0x5724ff[_0x495459(-0x107,-0x1ed,-0x1c0,-0x1ef)],_0x5724ff[_0x4063c8(0x4bc,0x4d8,0x4bc,0x545)],_0x5724ff[_0x4063c8(0x508,0x59c,0x5fb,0x525)],_0x4063c8(0x35c,0x37a,0x305,0x3ed)+_0x495459(-0x1d6,-0x120,-0x101,-0x12b),_0x5724ff[_0x495459(-0xb1,-0xe1,-0x15e,-0x1cb)],_0x5724ff['UvoHU'],_0x495459(-0x125,-0x10b,-0x7d,-0xe6)+'FW',_0x5724ff[_0x495459(-0x23d,-0x119,-0x15a,-0xf6)]];_0x51b9bd[_0x4063c8(0x343,0x437,0x40e,0x392)](_0x2ae3d4=>{function _0x45e1f1(_0x5aa60e,_0x45e616,_0x381e1c,_0x29b659){return _0x4063c8(_0x5aa60e-0x63,_0x45e616-0x1b9,_0x381e1c,_0x5aa60e- -0x31d);}function _0x34bae5(_0x36c32b,_0x566d15,_0x30b46d,_0x2fd04e){return _0x4063c8(_0x36c32b-0x179,_0x566d15-0x18c,_0x566d15,_0x2fd04e- -0x23a);}if(_0x562290[_0x2ae3d4]){const _0x33e7cb=_0x4c3ef0[_0x34bae5(0x35a,0x314,0x2a7,0x26f)+_0x45e1f1(0xe4,0xec,0x146,0xac)](_0x34bae5(0x9b,0x218,0xea,0x15e)+_0x2ae3d4);_0x33e7cb&&(_0x33e7cb[_0x45e1f1(0xfa,0x131,0x168,0xde)]=_0x2ffc0b[_0x2ae3d4],_0x2ff520(_0x33e7cb)[_0x34bae5(0x1d6,0x209,0x167,0x1f3)](_0x34bae5(0x2f4,0x26b,0x2dc,0x228)));}});}else console[_0x495459(-0x5e,-0x166,-0xa8,-0x9e)](_0x495459(-0x129,-0x1a3,-0xc7,-0x12c)+_0x4063c8(0x469,0x4e1,0x53b,0x4ec)+_0x4063c8(0x56d,0x548,0x486,0x54b)+_0x4063c8(0x335,0x312,0x309,0x3b7)+_0x2eb641+'\x22');}}}}if(!_0x411da6[_0x4063c8(0x5e1,0x4ca,0x560,0x4fa)]){if(_0x5724ff[_0x4063c8(0x421,0x484,0x375,0x404)]!==_0x5724ff['pmUHV'])_0x578695['push'](..._0x1e2308[_0x495459(-0x89,-0x1ba,-0xfa,-0x136)+_0x495459(-0x68,-0x66,-0x11c,-0x1aa)]);else return null;}return console[_0x495459(-0x132,-0x189,-0xa8,-0xbd)](_0x495459(-0x22,-0x19,-0xc7,-0x1a8)+_0x4063c8(0x5ba,0x405,0x564,0x4ec)+_0x4063c8(0x433,0x4e7,0x3f6,0x46f)+_0x4063c8(0x4cf,0x451,0x457,0x53a),_0x411da6),_0x411da6;}function extractCharacterAndOutfitTags(_0x1ae68c){const _0x4f15a7={'jnGku':function(_0x50d16a,_0x411c9e,_0x32daf2,_0x4988a4,_0xecf93e){return _0x50d16a(_0x411c9e,_0x32daf2,_0x4988a4,_0xecf93e);},'boPIf':'text','MtGux':function(_0x4ef3f1,_0x5a2ac3){return _0x4ef3f1(_0x5a2ac3);},'cMvCr':function(_0x18aea6,_0x159d0c){return _0x18aea6!==_0x159d0c;},'dvygt':function(_0x51318f,_0x357507){return _0x51318f===_0x357507;},'lpSQO':function(_0x56321e,_0x35ab6d){return _0x56321e===_0x35ab6d;},'meDCS':'rLkcI','Mdrvm':function(_0x2fd21f,_0x2293a0){return _0x2fd21f===_0x2293a0;},'dCMVr':_0x468897(0x8a,-0x65,0xc0,0x77),'kGykZ':_0x1b97f0(0x3be,0x404,0x329,0x28e),'alazC':'character','Inovq':function(_0x451eee,_0x57683c){return _0x451eee===_0x57683c;},'hiUld':function(_0xbf2bdc,_0x4bc3b2){return _0xbf2bdc===_0x4bc3b2;},'RYtFt':_0x468897(0x1be,0xe7,0x60,0xf7),'JgHFD':'xeNSE','imINZ':function(_0x5b99a6,_0x30b72f){return _0x5b99a6(_0x30b72f);},'SaIjO':'XwiyB','oezWH':_0x1b97f0(0x2b7,0x441,0x376,0x427),'tQWQX':_0x468897(0x86,0xd4,-0x34,0x6e)},_0x19660c=[];_0x1ae68c=_0x1ae68c['replace'](/<thinking>[\s\S]*?<\/thinking>/gi,'')[_0x468897(0xa2,-0xfb,-0xae,-0x41)]();function _0x468897(_0x30c318,_0x51cadc,_0x13acc4,_0x496007){return _0xdf69b1(_0x30c318-0x17e,_0x13acc4,_0x496007-0xe6,_0x496007-0x14f);}const _0xba56f0=/<(人物|服装)>([\s\S]*?)<\/\1>/g;let _0x39c38b;function _0x1b97f0(_0x534138,_0x48c716,_0x3c6a8d,_0x2b6036){return _0xdf69b1(_0x534138-0xdb,_0x48c716,_0x3c6a8d-0x414,_0x2b6036-0xa8);}while(_0x4f15a7[_0x1b97f0(0x313,0x3ff,0x390,0x2b5)](_0x39c38b=_0xba56f0[_0x1b97f0(0x32a,0x2c5,0x381,0x304)](_0x1ae68c),null)){const _0x1702ac=_0x39c38b[-0x1*0x2290+0x361*0x7+-0xfe*-0xb],_0x1f7899=preprocessTagContent(_0x39c38b[0x1d1e+0x1988+0x434*-0xd]),_0x4d10b9=_0x39c38b[_0x1b97f0(0x38e,0x3f6,0x39f,0x3a4)];if(_0x4f15a7[_0x468897(0x145,0xee,0xc8,0x10b)](_0x1702ac,'人物')){if(_0x4f15a7[_0x468897(0x50,0x1d,-0x110,-0x9c)](_0x4f15a7[_0x1b97f0(0x2cf,0x314,0x3ad,0x36d)],_0x4f15a7[_0x468897(0x23,0x3f,0x6,0x7f)])){const _0x1e09e3=parseCharacterData(_0x1f7899);if(_0x1e09e3){if(_0x4f15a7['Mdrvm'](_0x4f15a7[_0x1b97f0(0x265,0x269,0x33c,0x35d)],_0x4f15a7['kGykZ'])){const _0x3cc9bf=_0x48e583?function(){function _0x4628dc(_0xbb6990,_0x5f0073,_0xdfed50,_0xdfa188){return _0x1b97f0(_0xbb6990-0x101,_0xdfed50,_0xdfa188-0x159,_0xdfa188-0x7e);}if(_0x5bec62){const _0x1e2150=_0x32390e[_0x4628dc(0x498,0x3cf,0x3f0,0x469)](_0x41916a,arguments);return _0x1a36b3=null,_0x1e2150;}}:function(){};return _0x133494=![],_0x3cc9bf;}else{const _0xbb46e9={};_0xbb46e9[_0x1b97f0(0x380,0x3e1,0x3e8,0x306)]=_0x4f15a7[_0x1b97f0(0x418,0x30a,0x353,0x38c)],_0xbb46e9[_0x468897(0x1cc,0x102,0x13e,0x129)]=_0x1e09e3,_0xbb46e9[_0x468897(-0x17,0x131,0x14e,0x76)]=_0x4d10b9,_0xbb46e9[_0x468897(0x3e,-0xd,0xcd,0xa3)+'fits']=[],_0x19660c['push'](_0xbb46e9);}}}else _0x103cac=_0x4f15a7['jnGku'](_0x45aba1,_0x34ac19,_0x9c2662,_0x5257a6,_0x1b97f0(0x3c0,0x2f3,0x39a,0x471)),_0x39e8d7[_0x1b97f0(0x49b,0x37e,0x423,0x4a1)](_0x468897(0x16a,0x8c,0x40,0xd6)+'PromptModi'+_0x1b97f0(0x38d,0x449,0x403,0x39e)+'ed',_0x5b6263[_0x468897(0x33,0x2d,0xbd,0xf2)],_0x1b97f0(0x38f,0x307,0x3f3,0x32e)+_0x468897(0x109,-0xf,0xa7,0xd1)+_0x468897(0x84,-0x9e,-0x64,-0x5f),_0x44785d);}else{if(_0x4f15a7['Inovq'](_0x1702ac,'服装')){if(_0x4f15a7['hiUld'](_0x4f15a7[_0x1b97f0(0x2b9,0x373,0x389,0x359)],_0x4f15a7['JgHFD']))return _0x36d24f[_0x1b97f0(0x42f,0x48f,0x3b4,0x466)]();else{const _0xfc0786=_0x4f15a7['imINZ'](parseOutfitData,_0x1f7899);if(_0xfc0786){const _0x584c7a={};_0x584c7a[_0x1b97f0(0x34d,0x325,0x3e8,0x455)]=_0x1b97f0(0x32d,0x35d,0x376,0x28e),_0x584c7a[_0x1b97f0(0x4de,0x44d,0x457,0x408)]=_0xfc0786,_0x584c7a['position']=_0x4d10b9,_0x19660c['push'](_0x584c7a);}}}}}_0x19660c['sort']((_0x418ea5,_0x11196d)=>_0x418ea5[_0x468897(0x141,0x10d,-0x47,0x76)]-_0x11196d['position']);let _0x214b0e=null;const _0x1f7fcd=[],_0x1c5700=[];for(const _0x16a9e7 of _0x19660c){if(_0x16a9e7[_0x1b97f0(0x3a3,0x350,0x3e8,0x483)]===_0x4f15a7[_0x468897(0x4e,0x74,-0x97,0x25)]){if(_0x4f15a7[_0x1b97f0(0x50f,0x50b,0x45e,0x399)]!==_0x4f15a7[_0x468897(0x178,0x121,0x4e,0x130)]){const _0x4feb69={};_0x4feb69[_0x1b97f0(0x37a,0x36f,0x3e8,0x413)]=_0x4f15a7['boPIf'],_0x4feb69[_0x468897(0x77,0x110,0x186,0x106)]=_0x1b97f0(0x3cb,0x3bc,0x468,0x548)+_0x3011ae[_0x1b97f0(0x4ad,0x4e5,0x420,0x3ab)]+'张'+_0xc0247e+']',_0x251e3f['push'](_0x4feb69);}else _0x214b0e=_0x16a9e7,_0x1f7fcd[_0x1b97f0(0x3f4,0x35d,0x406,0x49a)](_0x16a9e7);}else _0x16a9e7['type']===_0x4f15a7[_0x1b97f0(0x3c0,0x3ce,0x34a,0x320)]&&(_0x214b0e?_0x4f15a7[_0x468897(-0x106,0x48,0x5d,-0x61)]!==_0x1b97f0(0x400,0x337,0x3c5,0x2fe)?_0x214b0e[_0x468897(0x128,0x25,0x1c,0xa3)+'fits'][_0x1b97f0(0x444,0x326,0x406,0x480)](_0x16a9e7[_0x1b97f0(0x4fd,0x3eb,0x457,0x3f3)]):_0x4f15a7[_0x1b97f0(0x3b2,0x352,0x40c,0x4e3)](_0xffc4,new _0x44529d(_0x337f70['result']||_0x468897(-0x47,-0x25,0x7a,0x11))):_0x1c5700[_0x468897(0x112,0x1ac,0x17b,0xd8)](_0x16a9e7[_0x1b97f0(0x432,0x43e,0x457,0x469)]));}return{'characters':_0x1f7fcd[_0x468897(0x16b,0x1a8,0x8b,0x108)](_0x5a8f14=>({..._0x5a8f14[_0x1b97f0(0x50c,0x3e0,0x457,0x4d2)],'matchedOutfits':_0x5a8f14['matchedOut'+_0x468897(-0x9,0x51,0x12f,0x81)]})),'outfits':_0x1c5700};}function getCurrentCharacterPreset(){const _0x4c3906={};_0x4c3906[_0x5ebc9a(0x216,0x148,0x1be,0x19e)]=_0x3816b2(0x33,-0x9d,0xa9,0x65)+'内容',_0x4c3906[_0x5ebc9a(0x13e,0x221,0x144,0x19a)]=function(_0x53ac2e,_0x2c28f7){return _0x53ac2e===_0x2c28f7;},_0x4c3906[_0x5ebc9a(0x28f,0x18d,0x2fd,0x21b)]='RgGqH';const _0x2b5794=_0x4c3906,_0x334456=extension_settings[extensionName],_0xa0cbbc=_0x334456[_0x3816b2(-0x172,-0x19f,-0x111,-0x1f9)+_0x5ebc9a(0x3cd,0x40a,0x37f,0x333)];function _0x3816b2(_0x521656,_0x288d00,_0x25f78f,_0x1d6e76){return _0xdf69b1(_0x521656-0xc9,_0x288d00,_0x521656- -0x15,_0x1d6e76-0x183);}if(!_0xa0cbbc||!_0x334456[_0x3816b2(-0x172,-0x99,-0x139,-0x1ff)+_0x3816b2(-0x133,-0x19b,-0x1f3,-0x142)][_0xa0cbbc]){if(_0x2b5794['WCthp'](_0x2b5794['jfRCK'],_0x2b5794['jfRCK']))return null;else{_0x449b05[_0x5ebc9a(0x362,0x30b,0x36f,0x2fe)](_0x2b5794[_0x3816b2(-0x15e,-0x9e,-0x1fa,-0xa2)]);return;}}function _0x5ebc9a(_0xe53d90,_0x41ec23,_0x18f054,_0x2f0b16){return _0xdf69b1(_0xe53d90-0x60,_0x41ec23,_0x2f0b16-0x2e7,_0x2f0b16-0x61);}const _0x4da6f9={};return _0x4da6f9['id']=_0xa0cbbc,_0x4da6f9['data']=_0x334456[_0x5ebc9a(0x139,0x259,0xbe,0x18a)+_0x5ebc9a(0x11a,0x237,0x174,0x1c9)][_0xa0cbbc],_0x4da6f9;}function buildCharacterText(_0x53c859){const _0x57bbd7=_0x53c859[_0x5527d0(0x198,0xe4,0xc6,0xdc)];let _0x5b1d8c=_0x2628c3(0x4ca,0x41b,0x472,0x48d);function _0x5527d0(_0x386d53,_0x1d0050,_0x22865c,_0x3fe8a0){return _0xdf69b1(_0x386d53-0x81,_0x3fe8a0,_0x386d53-0x155,_0x3fe8a0-0x184);}_0x5b1d8c+=_0x5527d0(0x7f,-0x45,0x10b,-0x2a)+(_0x57bbd7['nameCN']||'')+'\x0a',_0x5b1d8c+=_0x2628c3(0x5b4,0x641,0x5a2,0x68e)+(_0x57bbd7[_0x2628c3(0x4ce,0x536,0x494,0x41e)]||'')+'\x0a',_0x5b1d8c+=_0x5527d0(0x39,0x85,0x90,-0xa7)+(_0x57bbd7[_0x5527d0(-0x20,-0x49,0x27,0x8b)+_0x2628c3(0x586,0x541,0x55a,0x603)]||'')+'\x0a',_0x5b1d8c+='五官外貌:\x20'+(_0x57bbd7['facialFeat'+_0x5527d0(0x65,-0x1e,0x41,0xb4)]||'')+'\x0a',_0x5b1d8c+=_0x5527d0(0x82,0x93,-0x49,0xb2)+(_0x57bbd7[_0x5527d0(-0x16,-0xb7,-0x19,0x30)+'uresBack']||'')+'\x0a',_0x5b1d8c+=_0x2628c3(0x610,0x620,0x68e,0x571)+(_0x57bbd7[_0x2628c3(0x4fc,0x513,0x50e,0x4b5)+'FW']||'')+'\x0a',_0x5b1d8c+=_0x5527d0(0x95,0x60,0xf1,0x16c)+(_0x57bbd7['upperBodyS'+'FWBack']||'')+'\x0a';function _0x2628c3(_0x160891,_0x265ccc,_0x13b9ed,_0x25b484){return _0xdf69b1(_0x160891-0xca,_0x13b9ed,_0x160891-0x60d,_0x25b484-0xab);}return _0x5b1d8c+=_0x2628c3(0x50e,0x51e,0x55a,0x5a1)+(_0x57bbd7['fullBodySF'+'W']||'')+'\x0a',_0x5b1d8c+=_0x2628c3(0x548,0x563,0x461,0x534)+(_0x57bbd7[_0x5527d0(0x3c,0xe2,-0x1c,0x22)+_0x2628c3(0x5c3,0x5fa,0x5d4,0x591)]||'')+'\x0a',_0x5b1d8c+=_0x5527d0(0x18c,0x248,0x147,0xa8)+(_0x57bbd7[_0x5527d0(0xb4,0xf2,-0x27,0x150)+_0x5527d0(0x19b,0x180,0x101,0x1dc)]||'')+'\x0a',_0x5b1d8c+='上半身NSFW背面:'+'\x20'+(_0x57bbd7['upperBodyN'+_0x5527d0(0x10a,0xbc,0x18f,0x18f)]||'')+'\x0a',_0x5b1d8c+=_0x2628c3(0x4f9,0x4a7,0x411,0x460)+(_0x57bbd7[_0x5527d0(0x18f,0x123,0xc8,0x244)+'FW']||'')+'\x0a',_0x5b1d8c+=_0x5527d0(0x4b,0x60,0x137,-0x3e)+'\x20'+(_0x57bbd7[_0x5527d0(0x18f,0x20b,0x1fa,0x147)+_0x2628c3(0x555,0x5e0,0x504,0x635)]||'')+'\x0a',_0x5b1d8c+=_0x5527d0(0x33,-0xad,-0x65,-0x2a),_0x5b1d8c;}export async function handleCharacterPromptModify(_0x2744e6,_0x162a7f=[]){function _0x5d5efa(_0x4a8369,_0x3a21a3,_0x1f1097,_0x351288){return _0xdf69b1(_0x4a8369-0x30,_0x3a21a3,_0x351288- -0x112,_0x351288-0x155);}const _0x223529={'tUPMd':function(_0x3659cc){return _0x3659cc();},'xsxiE':function(_0x317172,_0x2e8f95){return _0x317172(_0x2e8f95);},'wVaza':'角色修改\x20LLM\x20请'+_0x3e0b3c(-0x1d2,-0x309,-0x281,-0x2ae),'YNjBN':function(_0x31b76a,_0x4e2d27){return _0x31b76a!==_0x4e2d27;},'PQYmY':function(_0x447a09,_0x924d52){return _0x447a09!==_0x924d52;},'csdPW':function(_0x4843ab,_0x3323bf){return _0x4843ab(_0x3323bf);},'PnpWT':function(_0x2da154,_0x526e50){return _0x2da154(_0x526e50);},'fOxLh':_0x5d5efa(-0x2a0,-0x140,-0x1c3,-0x1b6),'jNRPX':_0x5d5efa(-0x122,-0x288,-0x1d6,-0x1b2)+'+$','Vakzr':_0x5d5efa(-0x8a,-0x1f1,-0x20d,-0x122)+_0x5d5efa(-0x1a1,-0x123,-0x132,-0x12c)+_0x3e0b3c(-0x276,-0x223,-0x1bc,-0x291)+'ng\x20charact'+_0x3e0b3c(-0x23a,-0x37e,-0x299,-0x266)+_0x3e0b3c(-0x1b2,-0xa1,-0x16d,-0x20f)+_0x3e0b3c(-0x254,-0x2ed,-0x2c4,-0x342),'aRXSS':_0x5d5efa(-0x1b3,-0x200,-0x1c2,-0x122)+_0x5d5efa(-0xcf,-0x1f6,-0x1dc,-0x12c)+_0x3e0b3c(-0x30d,-0x366,-0x2f0,-0x271)+'提示词修改请求...','djelf':function(_0x5912d7){return _0x5912d7();},'nkdje':function(_0x7b9b78){return _0x7b9b78();},'lkcbk':_0x5d5efa(-0x351,-0x30c,-0x1f6,-0x28a),'AmEqA':_0x3e0b3c(-0x283,-0x1cb,-0x19b,-0x260)+_0x5d5efa(-0xa3,-0xbf,-0x189,-0x12c)+_0x5d5efa(-0x48,-0x81,-0xd6,-0x11d)+_0x3e0b3c(-0x211,-0x1b6,-0x23d,-0x199),'krziu':'[character'+'PromptModi'+_0x5d5efa(-0xf8,-0x7c,-0x174,-0x11d)+_0x3e0b3c(-0x2aa,-0x2e8,-0x2c3,-0x397)+':','icxFe':_0x5d5efa(-0x207,-0x6c,-0x1c5,-0x122)+_0x5d5efa(-0x205,-0x5d,-0x187,-0x12c)+_0x3e0b3c(-0x1d3,-0xc0,-0x196,-0x1e9)+_0x5d5efa(-0x11c,-0x2cf,-0x208,-0x1fc),'UsXpz':function(_0x5e9668,_0x5004a6){return _0x5e9668!==_0x5004a6;},'LudVr':_0x3e0b3c(-0x11a,-0x169,-0x1fd,-0x172),'vHulX':'[character'+_0x3e0b3c(-0x169,-0x256,-0x1a5,-0x247)+_0x3e0b3c(-0x2c7,-0x125,-0x20e,-0x1d3)+_0x3e0b3c(-0x257,-0x23f,-0x1be,-0xfb)+'r\x20text:','ggeVu':function(_0x42051c,_0x1bf626,_0x42ea38){return _0x42051c(_0x1bf626,_0x42ea38);},'sLMpV':function(_0x2df71c,_0x49222a){return _0x2df71c(_0x49222a);},'zWUHH':function(_0x40fcc1,_0x455f49){return _0x40fcc1(_0x455f49);},'DbnZT':function(_0x381d65,_0xb2b1da,_0x11d25e){return _0x381d65(_0xb2b1da,_0x11d25e);},'tKMfp':'{{用户需求}}','uSzQc':'[character'+_0x3e0b3c(-0x11d,-0x1a6,-0x1a5,-0x149)+_0x5d5efa(-0x167,-0x1ed,-0x172,-0x1be)+_0x5d5efa(-0x247,-0x173,-0x266,-0x23a)+_0x3e0b3c(-0x11c,-0x295,-0x1b1,-0xf0)+'ndex:','WXODK':function(_0x56b739,_0x3c0c47){return _0x56b739||_0x3c0c47;},'eemih':_0x3e0b3c(-0x33c,-0x362,-0x2cd,-0x2bb),'rUVjw':'[character'+_0x3e0b3c(-0x1e1,-0x122,-0x1a5,-0x199)+_0x5d5efa(-0x34e,-0x20d,-0x305,-0x27b)+'prompt:','FYpFK':function(_0x4cad09,_0x351a38){return _0x4cad09>_0x351a38;},'iQrKa':function(_0x103044,_0x2237cd){return _0x103044>=_0x2237cd;},'TLwxX':_0x3e0b3c(-0x1f6,-0x259,-0x205,-0x1a7),'ruhcG':'images\x20to\x20'+'message\x20at'+_0x3e0b3c(-0x313,-0x271,-0x2d0,-0x284),'OwzjS':function(_0xe5e08e,_0x2f41af,_0xbc8b57){return _0xe5e08e(_0x2f41af,_0xbc8b57);},'uSKqa':_0x3e0b3c(-0x267,-0xce,-0x19b,-0x14b)+_0x5d5efa(-0xc9,-0x109,-0x162,-0x12c)+_0x5d5efa(-0xac,-0x3e,-0x13,-0xf8)+_0x5d5efa(-0x17b,-0x2f3,-0x252,-0x244),'vpNiA':_0x5d5efa(-0x28e,-0x331,-0x2a6,-0x293),'sLYvI':_0x3e0b3c(-0x10a,-0x207,-0x14e,-0xd7),'DpVMZ':_0x5d5efa(-0x185,-0x1f4,-0x261,-0x236)+'检测到角色或服装标签','aubyW':_0x5d5efa(-0x82,-0x19c,-0x149,-0x122)+'PromptModi'+_0x3e0b3c(-0x1fa,-0x1c1,-0x284,-0x35f)+_0x3e0b3c(-0x17e,-0xb9,-0x180,-0x18b)+_0x3e0b3c(-0x27a,-0x315,-0x293,-0x371)+_0x5d5efa(-0x24e,-0x236,-0x1af,-0x17d),'cvoao':'dYnxI','DTOWr':_0x3e0b3c(-0x255,-0x111,-0x1c0,-0xd6),'kLtUA':function(_0xece63b,_0x16a70c){return _0xece63b(_0x16a70c);}};console[_0x5d5efa(-0xd5,-0x3c,-0x1d3,-0x103)](_0x223529[_0x5d5efa(-0x1bf,-0x1e3,-0x2a4,-0x203)]),toastr[_0x5d5efa(-0x20,-0x1bb,-0x150,-0xfb)](_0x223529[_0x3e0b3c(-0x31b,-0x242,-0x253,-0x27f)]);function _0x3e0b3c(_0x431342,_0x4b49f4,_0x1a9506,_0xaf2afd){return _0xdf69b1(_0x431342-0x114,_0xaf2afd,_0x1a9506- -0x18b,_0xaf2afd-0x13e);}try{const _0x2c4bd4=_0x223529[_0x5d5efa(-0x182,-0x1ce,-0xd6,-0xec)](getContext),_0x95715=extension_settings[extensionName],_0x4f1bf0=_0x223529[_0x3e0b3c(-0x96,-0xe0,-0x161,-0xca)](getCurrentCharacterPreset);if(!_0x4f1bf0){if(_0x3e0b3c(-0x22c,-0x34c,-0x2b4,-0x2d9)!==_0x5d5efa(-0xda,-0x166,-0x94,-0x115)){toastr['error'](_0x223529[_0x3e0b3c(-0x2e9,-0x23c,-0x26d,-0x313)]);return;}else _0x223529[_0x5d5efa(-0x1de,-0x1cd,-0x23d,-0x1d9)](_0x3c72fc),_0x223529[_0x5d5efa(-0x1ec,-0x237,-0x154,-0x154)](_0x2edc76,new _0x280905(_0x223529[_0x3e0b3c(-0x1d8,-0x264,-0x1f5,-0x23c)]));}console[_0x5d5efa(-0x14b,-0xce,-0x1af,-0x103)](_0x3e0b3c(-0x26d,-0xb1,-0x19b,-0x154)+_0x5d5efa(-0x7e,-0x167,-0xe3,-0x12c)+'fy]\x20Curren'+'t\x20preset:',_0x4f1bf0['id']);const _0x1d06f2=_0x4f1bf0['data'][_0x3e0b3c(-0x107,-0x18b,-0x149,-0x1ee)+_0x5d5efa(-0x19f,-0xb1,-0xb8,-0xfa)]||'',_0x18c174=_0x4f1bf0['data'][_0x3e0b3c(-0x1f7,-0x179,-0x149,-0x187)+_0x3e0b3c(-0x32c,-0x2f7,-0x2e9,-0x24f)]||'',_0x3b3353=_0x4f1bf0['data'][_0x3e0b3c(-0x19f,-0x22f,-0x149,-0x19a)+_0x3e0b3c(-0x2c6,-0x23e,-0x210,-0x1f6)]||{};console[_0x5d5efa(-0x3c,-0x120,-0x158,-0x103)](_0x223529[_0x5d5efa(-0x322,-0x1b8,-0x1ed,-0x269)],_0x1d06f2),console[_0x3e0b3c(-0x165,-0xdf,-0x17c,-0x209)](_0x223529['krziu'],_0x18c174),console['log'](_0x223529[_0x5d5efa(-0x26c,-0x2bf,-0x1ce,-0x28c)],_0x3b3353);const _0x17cc66=_0x2744e6||'',_0x554e86=[];_0x2744e6&&(_0x223529[_0x5d5efa(-0x31c,-0x33b,-0x1dd,-0x262)](_0x5d5efa(-0x30e,-0x290,-0x1cf,-0x232),_0x3e0b3c(-0x2f6,-0x2b0,-0x2ab,-0x38f))?_0x16b76a[_0x3c6cb4]&&_0x223529['YNjBN'](_0x542d55[_0x87073c],_0x2feb1c[_0xbfd8cd])&&_0x28dc83++:_0x554e86['push'](_0x2744e6));_0x1d06f2&&_0x554e86['push'](_0x1d06f2);if(_0x18c174){if(_0x3e0b3c(-0x15a,-0x1ec,-0x1fd,-0x19d)===_0x223529[_0x5d5efa(-0x130,-0x279,-0x223,-0x1c6)])_0x554e86['push'](_0x18c174);else{if(_0x223529['PQYmY'](_0x4f0a74['id'],_0x3e7894))return;_0x470b2e[_0x3e0b3c(-0x1f2,-0x13d,-0x1d1,-0x1a9)+_0x3e0b3c(-0x218,-0x119,-0x1c4,-0x25c)](_0x5dbb7a[_0x3e0b3c(-0x23e,-0x203,-0x24e,-0x318)+_0x5d5efa(-0x1d7,-0x155,-0x12e,-0x20d)+_0x5d5efa(-0x1b6,-0x260,-0x2d4,-0x1fb)+_0x5d5efa(-0x324,-0x26e,-0x1b3,-0x268)],_0x3edf3e),_0x223529[_0x5d5efa(-0x296,-0x1c3,-0x2ac,-0x26c)](_0x5eb8cb,_0x3b09fc['prompt']);}}const _0x9e2976=_0x554e86[_0x3e0b3c(-0x1fb,-0x304,-0x234,-0x155)]('\x0a');console[_0x3e0b3c(-0x23b,-0x1c4,-0x17c,-0xf5)](_0x223529['vHulX'],_0x9e2976);let _0x1914e4=_0x223529[_0x3e0b3c(-0x1cc,-0x1b0,-0x221,-0x1f6)](buildPromptForRequestType,_0x5d5efa(-0x2d2,-0x2fe,-0x1b2,-0x229)+'y',_0x17cc66);const _0x5e1010=_0x223529[_0x3e0b3c(-0x24a,-0x292,-0x1c2,-0x1eb)](generateCharacterListText,_0x9e2976),_0x2ec901=_0x223529[_0x3e0b3c(-0x33a,-0x19f,-0x252,-0x27d)](generateOutfitEnableListText),_0x337f08=_0x223529[_0x3e0b3c(-0x101,-0x1e3,-0x161,-0x9e)](generateCommonCharacterListText);console[_0x5d5efa(-0xdc,-0xa3,-0x1b8,-0x103)](_0x5d5efa(-0x1c9,-0x128,-0x51,-0x122)+'PromptModi'+'fy]\x20Charac'+_0x5d5efa(-0x1e9,-0x248,-0x289,-0x228)+_0x5d5efa(-0xb1,-0x15f,-0x5c,-0xef)+_0x3e0b3c(-0x176,-0x206,-0x1cb,-0x19e),_0x5e1010);const _0x42198a=_0x2c4bd4[_0x5d5efa(-0xfe,-0x185,-0x19c,-0x134)+'ta']?.[_0x3e0b3c(-0x13a,-0x140,-0x1b5,-0x123)]||{},_0x215290=_0x223529[_0x5d5efa(-0x2d4,-0x29a,-0x2ae,-0x26c)](buildCharacterText,_0x4f1bf0);_0x1914e4=_0x223529['zWUHH'](mergeAdjacentMessages,_0x1914e4),console[_0x3e0b3c(-0x9a,-0x154,-0x17c,-0x1c1)](_0x5d5efa(-0x145,-0x81,-0xca,-0x122)+'PromptModi'+'fy]\x20合并相邻消息'+'后:',_0x1914e4);const _0x29a332=_0x223529['DbnZT'](findMessageIndexWithPlaceholder,_0x1914e4,_0x223529['tKMfp']);console['log'](_0x223529[_0x5d5efa(-0x276,-0x100,-0x17b,-0x1e1)],_0x29a332);const _0x570e98={..._0x3b3353,..._0x42198a},_0xa837c8={'context':_0x1d06f2,'worldBookContent':_0x18c174,'variables':_0x570e98,'userDemand':_0x223529[_0x5d5efa(-0x1fb,-0xa5,-0x1cb,-0x170)](_0x2744e6,''),'characterListText':_0x5e1010,'outfitEnableListText':_0x2ec901,'commonCharacterListText':_0x337f08},{messages:_0x46e7d2,replacedVariables:_0x4f006c}=replaceAllPlaceholders(_0x1914e4,_0xa837c8);_0x1914e4=_0x46e7d2,_0x1914e4=_0x167157(_0x1914e4,_0x223529[_0x3e0b3c(-0x175,-0x191,-0x1c7,-0x1a8)],_0x215290,_0x4f006c),console[_0x5d5efa(-0x175,-0x19f,-0x1e0,-0x103)](_0x223529['rUVjw'],_0x1914e4);let _0x30362e='';_0x223529['FYpFK'](_0x4f006c[_0x5d5efa(-0x22e,-0x1cc,-0x127,-0x200)],-0x1279+0x1*-0x14e1+-0x6*-0x68f)&&(_0x30362e=_0x3e0b3c(-0xa7,-0xfd,-0x191,-0x15a)+'被使用：'+[..._0x4f006c][_0x5d5efa(-0x160,-0x169,-0x1c6,-0x1bb)]('、')+'\x0a');_0x162a7f&&_0x223529[_0x3e0b3c(-0x1f8,-0x344,-0x268,-0x205)](_0x162a7f[_0x5d5efa(-0xa2,-0xbb,-0x1db,-0x106)],-0x1565*0x1+-0x1fe7*-0x1+0x2*-0x541)&&_0x223529[_0x3e0b3c(-0x1af,-0x1f8,-0x215,-0x2a2)](_0x29a332,-0x1e12+0x20fe+-0x2ec)&&(_0x1914e4=attachImagesToMessage(_0x1914e4,_0x29a332,_0x162a7f,_0x223529[_0x3e0b3c(-0x267,-0x26f,-0x19e,-0x27a)]),console['log']('[character'+_0x3e0b3c(-0x249,-0x287,-0x1a5,-0x27c)+_0x5d5efa(-0x190,-0xd4,-0x196,-0x123)+'ed',_0x162a7f[_0x3e0b3c(-0x1b7,-0xf6,-0x17f,-0x1cf)],_0x223529[_0x5d5efa(-0x2d6,-0x234,-0x34a,-0x26e)],_0x29a332));_0x223529[_0x3e0b3c(-0x209,-0x197,-0x1e3,-0x1bb)](updateCombinedPrompt,_0x1914e4,_0x30362e);const _0x57d2bd={};_0x57d2bd[_0x3e0b3c(-0x333,-0x34f,-0x2ae,-0x31f)]=0x493e0;const _0x4a6863=await LLM_CHAR_MODIFY(_0x1914e4,_0x57d2bd);console['log'](_0x223529['uSKqa'],_0x4a6863);if(!_0x4a6863){if(_0x223529[_0x3e0b3c(-0x218,-0x2b6,-0x2db,-0x2cb)](_0x223529[_0x3e0b3c(-0xfa,-0x18a,-0x187,-0x1e2)],_0x223529['sLYvI'])){toastr[_0x5d5efa(-0x14a,-0xeb,-0x133,-0x156)](_0x5d5efa(-0x12c,-0x278,-0x14e,-0x1f8));return;}else{const _0x4ee6b1=_0xb4e1b2[_0x5d5efa(-0x25a,-0xe2,-0x105,-0x16f)+_0x5d5efa(-0x186,-0x2b8,-0x2cd,-0x217)](_0x3e0b3c(-0x341,-0x337,-0x2f9,-0x2d6)+_0x865f3e);_0x4ee6b1&&(_0x4ee6b1['value']=_0x30ffd8[_0x362c91],_0x223529['PnpWT'](_0xa81549,_0x4ee6b1)[_0x5d5efa(-0x16d,-0x167,-0x16f,-0x1eb)](_0x223529[_0x3e0b3c(-0xf4,-0x292,-0x1c1,-0x12f)]));}}const _0x1488d1=_0x223529['sLMpV'](extractCharacterAndOutfitTags,_0x4a6863);if(_0x1488d1[_0x5d5efa(-0x11d,-0x10f,-0x178,-0x1c2)][_0x3e0b3c(-0x245,-0x155,-0x17f,-0x1f9)]===0x322*-0x2+0x138d+0xb3*-0x13&&_0x1488d1[_0x5d5efa(-0x121,-0x156,-0x1d7,-0x19e)][_0x5d5efa(-0xdb,-0x15c,-0x1d5,-0x106)]===0x1f38+0x36b*0x7+-0x3725){toastr['warning'](_0x223529[_0x5d5efa(-0x219,-0x209,-0x2c0,-0x1e9)]),console[_0x5d5efa(-0x14f,-0x60,-0x118,-0x103)](_0x5d5efa(-0x167,-0x192,-0x1db,-0x122)+'PromptModi'+_0x5d5efa(-0x14a,-0x1c8,-0x125,-0xe0)+'racter/out'+'fit\x20tags\x20f'+_0x3e0b3c(-0x352,-0x288,-0x269,-0x21e)+_0x3e0b3c(-0x374,-0x33f,-0x2fc,-0x253)),console[_0x3e0b3c(-0x17e,-0x219,-0x17c,-0x246)](_0x223529[_0x3e0b3c(-0x2ff,-0x1f5,-0x26f,-0x2b2)],_0x4a6863);return;}console[_0x3e0b3c(-0x133,-0xb6,-0x17c,-0x140)](_0x5d5efa(-0x112,-0xa6,-0x11b,-0x122)+'PromptModi'+_0x3e0b3c(-0x24b,-0x23b,-0x292,-0x1b8)+_0x3e0b3c(-0x214,-0x23c,-0x23a,-0x184),_0x1488d1);if(_0x223529[_0x3e0b3c(-0x186,-0x2e6,-0x268,-0x299)](_0x1488d1['characters'][_0x3e0b3c(-0x16a,-0x1b9,-0x17f,-0xea)],-0x4ad+0x2cf*0x4+-0x68f)){const _0x315028=_0x1488d1[_0x5d5efa(-0x145,-0x251,-0x221,-0x1c2)][-0x5*0x22e+-0x16eb+0x1*0x21d1];await _0x223529[_0x5d5efa(-0x83,-0xb2,-0x16b,-0x16a)](updateCharacterPresetFromLLM,_0x4f1bf0['id'],_0x315028);}const _0x191550=[..._0x1488d1[_0x3e0b3c(-0x1ad,-0x186,-0x217,-0x2ba)]];for(const _0x3910ce of _0x1488d1['characters']){_0x3910ce['matchedOut'+_0x3e0b3c(-0x1de,-0x159,-0x1f0,-0x270)]&&_0x223529[_0x3e0b3c(-0x1a0,-0x1e9,-0x268,-0x2fe)](_0x3910ce[_0x5d5efa(-0x1cc,-0x9b,-0x158,-0x155)+_0x5d5efa(-0xe8,-0x215,-0x13e,-0x177)][_0x3e0b3c(-0x19e,-0x259,-0x17f,-0x13a)],-0xaa0+-0xcd7*-0x2+0x1*-0xf0e)&&(_0x223529['PQYmY'](_0x223529[_0x3e0b3c(-0x2c3,-0x1e3,-0x2b9,-0x284)],_0x3e0b3c(-0x1f9,-0x259,-0x2be,-0x265))?_0x1c0ed0[_0x3e0b3c(-0xe6,-0x23f,-0x17c,-0xed)](_0x5d5efa(-0x193,-0x20b,-0x104,-0x122)+_0x3e0b3c(-0x15f,-0xff,-0x1a5,-0x1ed)+_0x5d5efa(-0x204,-0xe4,-0x200,-0x1ad)+'字段\x20\x22'+_0xbedfe5+'\x22'):_0x191550[_0x3e0b3c(-0x113,-0x13b,-0x199,-0x1f1)](..._0x3910ce[_0x3e0b3c(-0x1f8,-0xf2,-0x1ce,-0x1c9)+_0x3e0b3c(-0x29f,-0x10c,-0x1f0,-0x159)]));}if(_0x191550['length']>0x1aab+0x1*0x91e+-0x23c9){if(_0x223529[_0x5d5efa(-0x140,-0xdf,-0x243,-0x1ab)](_0x223529[_0x5d5efa(-0x93,-0x2a,-0x147,-0xc2)],_0x3e0b3c(-0x18a,-0x2d0,-0x265,-0x34d)))await _0x223529[_0x3e0b3c(-0x1c3,-0x276,-0x2a0,-0x2e2)](updateOutfitPresetsFromLLM,_0x191550);else return _0x3a3f6b[_0x3e0b3c(-0x258,-0x262,-0x289,-0x1f4)]()['search'](BwiJzJ[_0x3e0b3c(-0x285,-0x1d9,-0x20b,-0x14c)])['toString']()['constructo'+'r'](_0x4e9744)[_0x5d5efa(-0x115,-0xfb,-0x24,-0xbd)](BwiJzJ[_0x5d5efa(-0x1aa,-0x206,-0x1e4,-0x192)]);}toastr[_0x5d5efa(-0x31c,-0x1f5,-0x255,-0x231)](_0x5d5efa(-0x206,-0xc4,-0x9d,-0x13f)+_0x3e0b3c(-0x32b,-0x3e5,-0x2fb,-0x2f2));}catch(_0x1ddf62){console['error'](_0x3e0b3c(-0x186,-0xd6,-0x19b,-0xff)+_0x3e0b3c(-0x1f4,-0xdb,-0x1a5,-0x22f)+_0x3e0b3c(-0x295,-0xe8,-0x1d2,-0x210),_0x1ddf62),toastr[_0x3e0b3c(-0x176,-0x1be,-0x1cf,-0x196)](_0x5d5efa(-0xff,-0x1bf,-0x25a,-0x1c8)+'\x20'+_0x1ddf62[_0x3e0b3c(-0x178,-0x16f,-0x1e1,-0x253)]);}}async function updateCharacterPresetFromLLM(_0x334407,_0x1844d5){const _0x2c2f6d={'WBxDH':_0x4e40e8(-0xe0,-0x52,-0x16,-0x85),'NCkxe':function(_0x4a517c,_0x3e78ff){return _0x4a517c===_0x3e78ff;},'hlBDz':'GldJi','pgzkR':_0x4e40e8(-0x65,-0x1f,-0x4b,-0xc3),'YiWfN':_0x4e40e8(0xd5,0xbc,0x57,0x103),'MoYij':_0x1167e3(-0x153,-0x221,-0x84,-0x215),'DXmzZ':_0x4e40e8(0x46,0x47,0x33,0x11),'CcWCp':'上半身SFW背面','SUVni':_0x4e40e8(-0x10e,-0x34,-0x2c,0x5f),'jWBta':_0x1167e3(-0x157,-0xdc,-0x6e,-0xfb),'msYaK':_0x1167e3(-0xa5,-0xa2,-0x102,-0x16f),'ouUYG':'下半身NSFW背面','LgUMQ':function(_0x552f07,_0x17a8ba){return _0x552f07!==_0x17a8ba;},'BzGDQ':_0x1167e3(-0x5e,-0x3f,-0x50,-0xf6)+'内容','mMDjX':function(_0x38447d,_0x1587a2){return _0x38447d(_0x1587a2);},'NGlal':function(_0x51215c,_0x4cb47b){return _0x51215c!==_0x4cb47b;},'MkdIj':_0x1167e3(-0x1a3,-0x1d6,-0x1af,-0x196),'yDklV':function(_0x2a3f44){return _0x2a3f44();},'OjQWL':function(_0x1bf621,_0x23d3a7){return _0x1bf621(_0x23d3a7);}},_0x28af14=extension_settings[extensionName],_0x1510a0=_0x28af14['characterP'+_0x1167e3(-0x1c4,-0x23e,-0x1cf,-0x188)][_0x334407];if(!_0x1510a0){if(_0x2c2f6d[_0x4e40e8(0x4f,0x53,0xe7,0x120)](_0x2c2f6d[_0x4e40e8(0x47,-0x87,-0x112,-0x140)],_0x2c2f6d[_0x4e40e8(-0xb9,-0x87,-0x5a,-0x109)])){toastr[_0x4e40e8(0xda,0x97,0x2a,0x9e)](_0x1167e3(-0x1d3,-0x1fd,-0x1b2,-0x1d0));return;}else _0x4dd952[_0x4e40e8(0x11b,0x4f,0xf4,0x77)][_0x1167e3(-0xb4,-0xf8,-0xf2,-0x150)](_0x481c37),_0x4c6537[_0x1167e3(-0x97,-0x14f,-0x3f,-0x63)](_0x1167e3(-0xb6,-0x14f,-0x199,-0xdc)+_0x1167e3(-0xc0,-0x85,-0x58,-0x12a)+_0x4e40e8(0x25,-0x56,0x69,-0xd8)+_0x207c20+_0x1167e3(-0xbe,-0xca,-0x181,-0x14c)+_0x2b2f98+'\x22');}const _0x433c8c={};_0x433c8c[_0x1167e3(-0xb2,-0xe,-0x19a,-0xb2)]=_0x4e40e8(0x18c,0x103,0x188,0xde),_0x433c8c[_0x1167e3(-0x1e5,-0x22b,-0x1a6,-0x233)]=_0x2c2f6d['pgzkR'],_0x433c8c[_0x4e40e8(0x2,-0x9a,-0x23,0x26)+_0x1167e3(-0x12d,-0x93,-0x146,-0xed)]=_0x2c2f6d['YiWfN'],_0x433c8c[_0x4e40e8(-0x11a,-0x90,-0xee,-0xbc)+'ures']=_0x2c2f6d[_0x1167e3(-0x82,0x62,-0x125,-0x163)],_0x433c8c[_0x1167e3(-0x211,-0x23e,-0x157,-0x189)+_0x4e40e8(0x50,0x114,0x171,0x146)]=_0x2c2f6d[_0x4e40e8(-0xc8,-0xc,0xac,0xc8)];function _0x1167e3(_0x10be4e,_0x1f3ece,_0x334065,_0x335375){return _0xdf69b1(_0x10be4e-0x85,_0x335375,_0x10be4e- -0xa6,_0x335375-0x45);}_0x433c8c[_0x1167e3(-0x1b7,-0x123,-0xcb,-0x171)+'FW']=_0x1167e3(-0x1fa,-0x15e,-0x24a,-0x26a),_0x433c8c['upperBodyS'+_0x1167e3(-0x15e,-0x227,-0x23d,-0x1f8)]=_0x2c2f6d[_0x1167e3(-0x1f2,-0x163,-0x1aa,-0x227)],_0x433c8c[_0x4e40e8(0xa6,-0x3e,-0x5e,-0xd2)+'W']=_0x4e40e8(0x203,0x12a,0x20a,0x150),_0x433c8c['fullBodySF'+_0x4e40e8(0x153,0x91,-0x44,0x11a)]=_0x1167e3(-0xfd,-0x63,-0xe5,-0xbe),_0x433c8c[_0x4e40e8(0x6,0x3a,0x41,0x42)+_0x1167e3(-0x60,0x55,-0x81,0x11)]=_0x2c2f6d[_0x4e40e8(-0x4d,-0x94,-0x168,-0x164)],_0x433c8c[_0x4e40e8(0x62,0x3a,0xaf,-0x7f)+_0x1167e3(-0xf1,-0x1cf,-0x177,-0xf0)]=_0x2c2f6d[_0x4e40e8(0x117,0xc2,0x39,0x150)],_0x433c8c[_0x1167e3(-0x6c,-0x107,-0x5d,-0x74)+'FW']=_0x2c2f6d[_0x1167e3(-0x162,-0x1aa,-0xa2,-0x11d)],_0x433c8c[_0x4e40e8(0x1ba,0x115,0xfc,0x191)+_0x1167e3(-0x15e,-0x8c,-0x220,-0x15c)]=_0x2c2f6d[_0x1167e3(-0x21c,-0x188,-0x2bb,-0x269)];const _0x528fe6=_0x433c8c;let _0x3cd7e2=0x260b+0x114+0x5*-0x7d3;for(const _0x355123 in _0x528fe6){_0x1844d5[_0x355123]&&_0x2c2f6d[_0x4e40e8(-0xa2,-0x4,0x40,0xd6)](_0x1844d5[_0x355123],_0x1510a0[_0x355123])&&_0x3cd7e2++;}if(_0x3cd7e2===0x5*-0x79f+-0x586*0x5+-0x41b9*-0x1){toastr[_0x1167e3(-0x8f,0x28,-0xcb,-0xed)](_0x2c2f6d['BzGDQ']);return;}function _0x4e40e8(_0x5046d1,_0x3f47b9,_0x47f0aa,_0x16e507){return _0xdf69b1(_0x5046d1-0x49,_0x5046d1,_0x3f47b9-0xdb,_0x16e507-0x16f);}const _0x4593f8=_0x4e40e8(0x144,0xdb,0x129,0x148)+_0x334407+_0x1167e3(-0x161,-0xe9,-0x13f,-0xf2)+_0x3cd7e2+_0x1167e3(-0x164,-0x13c,-0x1d0,-0x200),_0x40ec31=await _0x2c2f6d['mMDjX'](stylishConfirm,_0x4593f8);if(!_0x40ec31){toastr[_0x1167e3(-0x8f,-0xa9,0x53,-0x23)]('已取消更新');return;}for(const _0x452002 in _0x528fe6){if(_0x2c2f6d[_0x4e40e8(0x1a,-0x18,0xa6,0x7a)](_0x2c2f6d['MkdIj'],_0x1167e3(-0x140,-0x18a,-0x63,-0x131)))_0x1844d5[_0x452002]&&(_0x1510a0[_0x452002]=_0x1844d5[_0x452002]);else{_0x1971f9[_0x1167e3(-0xea,-0x13d,-0x8,-0x68)](_0x2c2f6d[_0x1167e3(-0x142,-0x5f,-0xcb,-0x22b)]);return;}}_0x2c2f6d['yDklV'](saveSettingsDebounced);const _0x1c3019=_0x2c2f6d[_0x1167e3(-0x1e1,-0x256,-0x138,-0x2c2)]($,'#st-chatu8'+_0x4e40e8(0x18b,0x113,0xb4,0x18e)+_0x1167e3(-0x92,-0xb0,-0xab,0x3a));_0x1c3019[_0x1167e3(-0x9a,-0x104,0x2b,-0xec)]&&_0x2c2f6d[_0x4e40e8(-0x97,-0x5a,-0x23,0x64)](refreshCharacterSettings,_0x1c3019),_0x2c2f6d['OjQWL'](updateFormFields,_0x1844d5),console[_0x1167e3(-0x97,-0x11f,0x28,-0x7c)]('[character'+'PromptModi'+_0x1167e3(-0x1e3,-0x157,-0x1fb,-0x1b3)+_0x4e40e8(0xe6,-0x5,-0x9d,-0xaf)+_0x334407+'\x22');}async function updateOutfitPresetsFromLLM(_0x27fb3f){const _0x5dbe85={'zFghb':function(_0xab7127,_0x2c250c){return _0xab7127(_0x2c250c);},'OwQzO':_0x4cf404(-0x29d,-0x2f3,-0x214,-0x244),'BqBXY':_0x3c3455(0xd4,-0x85,0xdc,-0x1),'Rvwuc':'上半身NSFW背面:','ueJQl':function(_0xa423ee,_0x55ee22){return _0xa423ee(_0x55ee22);},'MUJxK':_0x4cf404(-0x128,-0x24b,-0x16b,-0x213),'dadnk':_0x3c3455(0x171,0x214,0x91,0x131),'KhQlH':_0x4cf404(-0x34b,-0x28c,-0x22b,-0x269),'VaPQA':_0x4cf404(-0x188,-0x28d,-0x21e,-0x211),'tAQKq':_0x3c3455(-0xb3,0x28,-0x85,0x35),'gJNLU':_0x4cf404(-0x138,-0x1c0,-0x1bc,-0x1c1),'mxGhA':'lRuhs','aUBPJ':_0x4cf404(-0x1f0,-0x1d2,-0x1c1,-0x1fe),'WaxuG':function(_0x55bbe8,_0x4b82a3){return _0x55bbe8!==_0x4b82a3;},'vFEwr':function(_0x52fc15,_0x3c5fa3){return _0x52fc15!==_0x3c5fa3;},'MgvuI':_0x4cf404(-0x1ed,-0xa6,-0xc3,-0x167),'DsoZz':_0x4cf404(-0x15e,-0x189,-0x15b,-0x1c3),'IjjBd':function(_0x2687b4,_0x40c886){return _0x2687b4===_0x40c886;},'vgtsM':_0x3c3455(0x15e,0x187,0x186,0xe9),'bMmMA':function(_0x33b9f3,_0x1c5a43){return _0x33b9f3===_0x1c5a43;},'wNTcH':_0x3c3455(0x5c,0x158,0x16f,0xa1),'ErzWQ':'OgoAY','ZYgrG':function(_0xd73515,_0x5adb43){return _0xd73515===_0x5adb43;},'fgvsC':'WWDnB','gTDMo':_0x3c3455(0xa5,0x80,0xc6,0xa3),'rCYsH':_0x4cf404(-0x116,-0x203,-0x132,-0x170)+'-tab-chara'+_0x3c3455(0x138,0x76,0x1de,0x11d),'eyLIw':_0x4cf404(-0x155,-0x225,-0x319,-0x240),'zNGNP':_0x3c3455(0x1c8,0x136,0x190,0x154)},_0x329c89=extension_settings[extensionName],_0x187cf0={};_0x187cf0[_0x3c3455(0xa1,0x124,0x2f,0xfd)]=_0x5dbe85[_0x3c3455(0x2,0x71,-0x8f,0x2d)],_0x187cf0[_0x4cf404(-0x34d,-0x2e9,-0x226,-0x2ae)]=_0x5dbe85[_0x4cf404(-0x2e9,-0x326,-0x1e4,-0x2a9)],_0x187cf0[_0x4cf404(-0x21c,-0x252,-0x217,-0x181)]=_0x3c3455(0x65,-0x66,0x2a,0x50),_0x187cf0[_0x3c3455(-0x135,-0x90,-0x95,-0x63)]=_0x5dbe85[_0x4cf404(-0x248,-0x22f,-0xa1,-0x176)],_0x187cf0[_0x3c3455(0x31,-0xbc,-0xc9,-0x3b)+_0x3c3455(0xd9,0x5e,0x5f,0x56)]='上半身背面',_0x187cf0[_0x4cf404(-0x2a3,-0x2b1,-0x1ae,-0x1ca)]=_0x5dbe85[_0x3c3455(0x75,0x4f,0x4a,0xee)],_0x187cf0[_0x3c3455(0x112,0x10d,0x1f0,0x139)+'ck']=_0x5dbe85[_0x3c3455(0xc9,0x7f,0x10a,0x4c)];function _0x4cf404(_0x122c24,_0x29f4d2,_0x433463,_0x260314){return _0xdf69b1(_0x122c24-0x135,_0x122c24,_0x260314- -0x16f,_0x260314-0x154);}const _0x3c8049=_0x187cf0;for(const _0x2a1501 of _0x27fb3f){const _0x48639a=_0x2a1501['nameCN'];if(!_0x48639a)continue;const _0x11fc4a=_0x329c89[_0x4cf404(-0x265,-0x37a,-0x289,-0x29a)+_0x4cf404(-0x1d9,-0x2eb,-0x1b2,-0x25b)]?.[_0x48639a];if(_0x11fc4a){let _0x3423ee=0x5bc*0x4+-0x192a+0x23a;for(const _0x109c00 in _0x3c8049){_0x5dbe85['mxGhA']!==_0x5dbe85['aUBPJ']?_0x2a1501[_0x109c00]&&_0x5dbe85['WaxuG'](_0x2a1501[_0x109c00],_0x11fc4a[_0x109c00])&&(_0x5dbe85[_0x4cf404(-0x2b1,-0x1c9,-0x2d5,-0x233)](_0x5dbe85[_0x4cf404(-0x25a,-0x28b,-0x242,-0x2ee)],_0x5dbe85[_0x4cf404(-0x273,-0x259,-0x1df,-0x19d)])?_0x3423ee++:_0x5aecef[_0xd118b2[_0x31df6a]]=_0x22a43c):_0x573b04=_0x4cf404(-0x19a,-0xc7,-0xcf,-0x1ac)+_0x4cf404(-0x36c,-0x2a4,-0x1ca,-0x289)+'4,'+_0x1a98c9;}if(_0x5dbe85['IjjBd'](_0x3423ee,-0x23d2+-0x3d+-0xc05*-0x3)){if(_0x5dbe85['IjjBd'](_0x5dbe85[_0x4cf404(-0x15f,-0x1cd,-0xd1,-0x15f)],_0x5dbe85[_0x4cf404(-0x133,-0x107,-0x1e2,-0x15f)])){console[_0x4cf404(-0x1a4,-0x212,-0x177,-0x160)](_0x3c3455(0x10d,0x6b,0x165,0xf9)+_0x3c3455(0x17b,0x17,0x1d8,0xef)+_0x4cf404(-0x23d,-0x1f0,-0x24b,-0x2a0)+_0x48639a+_0x4cf404(-0x1a2,-0x2b0,-0x2f1,-0x264));continue;}else{if(_0x356125['id']!==_0x3536a4)return;_0x1b66db(),_0x283865[_0x3c3455(0x30,0x3,0x67,-0x16)]?_0x1ca6f8(_0x86203e[_0x3c3455(0x209,0x125,0x20f,0x13e)]):_0x5dbe85[_0x3c3455(0xe6,0xeb,0xf3,0xc1)](_0x400835,new _0x8367e2(_0x5f4706[_0x4cf404(-0x217,-0x8d,-0x126,-0x13a)]||_0x5dbe85['OwQzO']));}}const _0x5c0ddb=_0x3c3455(0x18e,0x17d,0x25,0xff)+_0x48639a+_0x3c3455(0xc0,-0x65,0x24,0x4e)+_0x3423ee+_0x3c3455(0xf3,0x46,-0x29,0x4b),_0x57b5af=await stylishConfirm(_0x5c0ddb);if(!_0x57b5af)continue;for(const _0x22961f in _0x3c8049){_0x2a1501[_0x22961f]&&(_0x5dbe85[_0x3c3455(0x1a1,0x48,0x193,0x107)](_0x5dbe85[_0x4cf404(-0x14e,-0x1ae,-0x10e,-0x197)],_0x5dbe85[_0x4cf404(-0x1b1,-0x24b,-0x2ea,-0x27f)])?_0x4e541f[_0x303fae]&&(_0x3a28ec[_0xe4a975]=_0xa42107[_0xecbbd3]):_0x11fc4a[_0x22961f]=_0x2a1501[_0x22961f]);}console[_0x3c3455(0x1b9,0x203,0x62,0x118)](_0x4cf404(-0xbf,-0x256,-0x217,-0x17f)+'PromptModi'+'fy]\x20已更新服装预'+_0x3c3455(0xc0,-0x2e,0x112,0x29)+_0x48639a+'\x22');}else{const _0x17c93a=_0x4cf404(-0x233,-0x37d,-0x1e2,-0x2a6)+_0x48639a+_0x3c3455(0x5b,0x83,0xd7,0x105),_0x23511a=await _0x5dbe85[_0x3c3455(0x210,0x4e,0x4e,0x124)](stylishConfirm,_0x17c93a);if(!_0x23511a)continue;!_0x329c89[_0x4cf404(-0x20e,-0x2ee,-0x1f0,-0x29a)+_0x3c3455(-0x6d,-0xb2,0x61,0x1d)]&&(_0x329c89[_0x4cf404(-0x2fb,-0x253,-0x2cb,-0x29a)+_0x3c3455(-0x72,-0x9,-0x72,0x1d)]={});const _0x1dcf47={};_0x1dcf47[_0x4cf404(-0xb7,-0x254,-0x14f,-0x17b)]=_0x2a1501[_0x3c3455(0x4a,0xf3,0x13c,0xfd)],_0x1dcf47[_0x3c3455(-0xa6,-0x9f,0x8d,-0x36)]=_0x2a1501[_0x4cf404(-0x384,-0x298,-0x211,-0x2ae)]||'',_0x1dcf47[_0x3c3455(0x182,0x1b7,0x14f,0xf7)]=_0x2a1501[_0x3c3455(0xb2,0x69,0x111,0xf7)]||'',_0x1dcf47[_0x4cf404(-0x349,-0x35d,-0x2b6,-0x2db)]=_0x2a1501['upperBody']||'',_0x1dcf47['upperBodyB'+_0x4cf404(-0x1c9,-0x18d,-0x1c8,-0x222)]=_0x2a1501[_0x3c3455(0x37,-0x68,-0x61,-0x3b)+_0x4cf404(-0x2ae,-0x16b,-0x159,-0x222)]||'',_0x1dcf47[_0x4cf404(-0x147,-0x151,-0x188,-0x1ca)]=_0x2a1501[_0x4cf404(-0x12c,-0x225,-0x155,-0x1ca)]||'',_0x1dcf47[_0x4cf404(-0x217,-0x1d0,-0x181,-0x13f)+'ck']=_0x2a1501[_0x4cf404(-0x5f,-0x8e,-0x1c4,-0x13f)+'ck']||'',_0x329c89[_0x4cf404(-0x34f,-0x2ba,-0x206,-0x29a)+_0x3c3455(0x79,-0xa0,0x99,0x1d)][_0x48639a]=_0x1dcf47,console[_0x3c3455(0x189,0x136,0x11c,0x118)](_0x4cf404(-0x259,-0x1b7,-0x9c,-0x17f)+'PromptModi'+_0x4cf404(-0x276,-0x215,-0x2ef,-0x25c)+_0x3c3455(0x1e,0xe3,0x4b,0x29)+_0x48639a+'\x22');if(_0x2a1501[_0x3c3455(0xa8,0x1d1,0x75,0xf7)]&&_0x2a1501[_0x4cf404(-0x1f5,-0x1ec,-0x240,-0x181)][_0x4cf404(-0x1b7,-0x20a,-0x265,-0x296)]()){const _0x5c85e1=_0x2a1501['owner'][_0x3c3455(0x39,-0xd6,0x82,-0x1e)]()[_0x4cf404(-0x158,-0x209,-0x133,-0x1ad)+'e']()[_0x3c3455(0x66,0x172,0xf2,0xaf)](/\s+/g,'');for(const [_0x1924b5,_0x527ece]of Object[_0x3c3455(-0x1e,0x14b,0x6f,0xbb)](_0x329c89[_0x4cf404(-0x2df,-0x35f,-0x287,-0x2cc)+_0x4cf404(-0x326,-0x1da,-0x30f,-0x28d)]||{})){if(_0x527ece[_0x3c3455(-0x100,0x19,-0xd4,-0x36)]&&_0x5dbe85[_0x4cf404(-0x234,-0xbe,-0x1f7,-0x19f)](_0x527ece[_0x3c3455(0xae,-0x108,-0x91,-0x36)]['toLowerCas'+'e']()[_0x4cf404(-0x14f,-0x1cb,-0x19f,-0x1c9)](/\s+/g,''),_0x5c85e1)){if(!_0x527ece[_0x4cf404(-0x142,-0x14b,-0x212,-0x1fb)]){if(_0x4cf404(-0x321,-0x2a5,-0x308,-0x261)===_0x5dbe85[_0x4cf404(-0x26c,-0xdb,-0x1dc,-0x19e)]){let _0x27cddd=_0x2f0382[_0x3c3455(0x39,-0x1c,0xd5,0xaf)](/:/g,':')['replace'](/,/g,',');return _0x27cddd=_0x27cddd[_0x4cf404(-0x2a8,-0x257,-0x223,-0x1c9)](/下半身NSWebcam:/g,_0x5dbe85['BqBXY']),_0x27cddd=_0x27cddd[_0x3c3455(0x190,0x5a,0xaf,0xaf)](/下半身NSFW_背面:/g,_0x5dbe85['BqBXY']),_0x27cddd=_0x27cddd[_0x4cf404(-0x188,-0x1f0,-0x29d,-0x1c9)](/上半身NSFW_背面:/g,_0x5dbe85[_0x4cf404(-0x87,-0x182,-0x163,-0x13c)]),_0x27cddd;}else _0x527ece[_0x3c3455(0x71,0x114,-0x37,0x7d)]=[];}!_0x527ece[_0x4cf404(-0x193,-0x2be,-0x24a,-0x1fb)][_0x4cf404(-0xdb,-0x190,-0x258,-0x16d)](_0x48639a)&&(_0x5dbe85['vFEwr'](_0x5dbe85['gTDMo'],'CJUeV')?(_0x527ece['outfits'][_0x4cf404(-0x142,-0x12b,-0x267,-0x17d)](_0x48639a),console['log']('[character'+_0x4cf404(-0x1ab,-0x9e,-0x25f,-0x189)+_0x4cf404(-0x377,-0x2ec,-0x37a,-0x2a0)+_0x48639a+'\x22\x20已归属到角色\x20\x22'+_0x1924b5+'\x22')):(_0x10bf36['value']=_0x1433d5[_0x2372e5],_0x5dbe85['ueJQl'](_0x34b0f3,_0x35ead4)[_0x4cf404(-0x27c,-0x19f,-0x25c,-0x248)](_0x5dbe85[_0x4cf404(-0x2ba,-0x32a,-0x26a,-0x2e6)])));break;}}}}}saveSettingsDebounced();const _0x65aa1f=_0x5dbe85[_0x3c3455(0x161,0xe4,0x9b,0xc1)]($,_0x5dbe85[_0x4cf404(-0x248,-0x2d9,-0x21f,-0x23d)]);function _0x3c3455(_0x4bbf79,_0x481563,_0x4f27ad,_0x3bb4fa){return _0xdf69b1(_0x4bbf79-0xa5,_0x4bbf79,_0x3bb4fa-0x109,_0x3bb4fa-0x59);}if(_0x65aa1f[_0x4cf404(-0x13e,-0x152,-0x1fb,-0x163)]){if(_0x5dbe85[_0x3c3455(-0xf9,-0xc1,-0x104,-0x50)]!==_0x5dbe85[_0x4cf404(-0x1b1,-0x334,-0x276,-0x299)])refreshCharacterSettings(_0x65aa1f);else return _0x5e7bb4;}}function updateFormFields(_0x22c5bb){function _0x2721a5(_0x56610a,_0xa0309c,_0x1e39b5,_0x240f4d){return _0xdf69b1(_0x56610a-0x1f3,_0x1e39b5,_0xa0309c-0x94,_0x240f4d-0x1d1);}const _0x35b94e={'JVFQU':function(_0x1f33c2,_0x45eb9){return _0x1f33c2!==_0x45eb9;},'ozcIF':function(_0x525730,_0x4faecb){return _0x525730===_0x4faecb;},'vBBkD':_0x1cbf49(0xdf,0x141,0x18,0xfc),'moAdw':function(_0x516cfc,_0x505c9e){return _0x516cfc(_0x505c9e);},'NcZfm':_0x1cbf49(0x1af,0x163,0x287,0x1c0),'tZTTV':_0x1cbf49(0x256,0x252,0x17f,0x258),'ZgHqm':_0x1cbf49(0x91,0x173,0x127,0x125),'VQNtn':_0x1cbf49(0x70,0x5a,0x1f,0xf9)+_0x2721a5(-0x114,-0x5c,-0xc0,-0x98),'DUAau':'upperBodyS'+_0x2721a5(0x1a,-0x24,-0xd2,-0x9),'SYZZI':_0x2721a5(-0x61,-0x85,-0x6e,-0x13a)+_0x1cbf49(0x2d0,0x155,0x17c,0x21a),'VcoHp':_0x2721a5(0x10,-0xd,-0xf7,-0x1b)+'SFW','wOeMD':_0x1cbf49(0xe9,0x214,0x144,0x1c3)+'SFWBack','agBnC':'fullBodyNS'+_0x2721a5(0x5,-0x24,-0xc1,-0x3b)},_0x5a9b97=[_0x35b94e['tZTTV'],_0x35b94e[_0x2721a5(-0x65,0x17,-0x89,-0x22)],_0x1cbf49(0x181,0x12c,0xe7,0xef)+_0x2721a5(0xa7,0xd,0x7f,-0xa8),_0x35b94e[_0x1cbf49(0x22c,0x246,0x156,0x223)],'facialFeat'+_0x2721a5(0x14a,0xcd,0xea,0x1b6),'upperBodyS'+'FW',_0x35b94e[_0x1cbf49(0x25,0x8e,0x35,0xe9)],_0x2721a5(-0x12d,-0x85,-0x12c,-0x97)+'W',_0x35b94e[_0x2721a5(-0x126,-0x6c,-0x3c,-0x33)],_0x35b94e[_0x1cbf49(0x11e,0x272,0x1d8,0x1ba)],_0x35b94e[_0x1cbf49(0x1d9,0x247,0x1ab,0x26d)],_0x1cbf49(0x2c2,0x1b4,0x26e,0x29e)+'FW',_0x35b94e[_0x1cbf49(0x352,0x1cb,0x20f,0x285)]];function _0x1cbf49(_0x541986,_0x1ef7e9,_0x5d618d,_0x43732f){return _0xdf69b1(_0x541986-0xd2,_0x541986,_0x43732f-0x264,_0x43732f-0x13c);}_0x5a9b97[_0x1cbf49(0xea,0x6b,0x61,0xf0)](_0x2f7f6b=>{const _0x3e650e={'ZJcNe':function(_0x216a8f,_0xd9d19f){function _0x568bec(_0x18c0aa,_0x2ab80a,_0x307fdf,_0x3c17fa){return _0x2a86(_0x2ab80a-0x98,_0x307fdf);}return _0x35b94e[_0x568bec(0x272,0x28f,0x1bd,0x2ae)](_0x216a8f,_0xd9d19f);}};function _0x165a69(_0x1f8f2e,_0x44e012,_0x2bfaf0,_0x429e70){return _0x2721a5(_0x1f8f2e-0x24,_0x44e012- -0x91,_0x429e70,_0x429e70-0x61);}function _0x172b3c(_0x160ed8,_0xb1d031,_0x400d14,_0x1e1353){return _0x1cbf49(_0x160ed8,_0xb1d031-0x1e9,_0x400d14-0xf6,_0x1e1353-0x23d);}if(_0x35b94e[_0x165a69(-0x18f,-0x115,-0x1a2,-0x116)](_0x35b94e[_0x172b3c(0x387,0x4b0,0x3bb,0x466)],_0x35b94e[_0x165a69(-0x2f,-0x38,-0x1f,0x9e)])){if(_0x22c5bb[_0x2f7f6b]){const _0x593a19=document[_0x165a69(-0x8,-0x5a,-0x34,-0xec)+_0x172b3c(0x2b4,0x3fe,0x416,0x39c)](_0x172b3c(0x3be,0x369,0x2f0,0x333)+_0x2f7f6b);_0x593a19&&(_0x593a19['value']=_0x22c5bb[_0x2f7f6b],_0x35b94e['moAdw']($,_0x593a19)[_0x165a69(-0x10b,-0xd6,-0x1b9,-0x32)](_0x35b94e[_0x165a69(-0x1e5,-0x170,-0xc1,-0x1ac)]));}}else _0x4e3862[_0x42eb1f]&&_0x3e650e['ZJcNe'](_0x3a9310[_0x407fc1],_0x91d051[_0xf30651])&&_0x3202df++;});}
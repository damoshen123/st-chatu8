(function(_0x5055b3,_0x3f9fe3){const _0x5bfa53=_0x5055b3();function _0x3b1dd9(_0x53db95,_0xec4a0d,_0x5151b6,_0x3635ea){return _0x1a23(_0x53db95- -0x2db,_0x5151b6);}function _0x37d5bc(_0x10d19a,_0x89e4c8,_0x3e1525,_0x13cd8b){return _0x1a23(_0x10d19a- -0xfc,_0x89e4c8);}while(!![]){try{const _0x95d23c=-parseInt(_0x3b1dd9(-0x3d,-0x46,-0x9e,-0x9))/(-0x1*-0xadf+-0x7*0x8e+-0x6fc)*(parseInt(_0x37d5bc(0x1fa,0x27e,0x1b4,0x173))/(0x1504+-0x1*0x203+-0x655*0x3))+parseInt(_0x3b1dd9(0x6d,-0x52,0xe8,-0x5f))/(-0xcc2+-0x149c+0x2161)+-parseInt(_0x3b1dd9(-0x7e,-0x6f,-0x148,0x3a))/(0x751*-0x1+-0x23b1+0x2b06)*(parseInt(_0x37d5bc(0x17b,0x1a0,0x13a,0x1e5))/(-0x2*-0xf4+-0x65c+0x479))+parseInt(_0x37d5bc(0x1ad,0x157,0xea,0x264))/(-0x10*0x18+-0xe0+-0x2*-0x133)+-parseInt(_0x3b1dd9(0x81,0x67,0x14,0x123))/(-0x12f2+0x1d68+0x1*-0xa6f)+-parseInt(_0x3b1dd9(-0x106,-0xee,-0x82,-0x9a))/(0x20*-0x10d+0x1d*0x5d+0x1*0x171f)+parseInt(_0x37d5bc(0x216,0x28a,0x19e,0x2a2))/(0x10d*-0x3+0x10cd+-0xd9d);if(_0x95d23c===_0x3f9fe3)break;else _0x5bfa53['push'](_0x5bfa53['shift']());}catch(_0x37306c){_0x5bfa53['push'](_0x5bfa53['shift']());}}}(_0x7dd5,0x4baa4+0x89ab8+-0x54056));const _0x44f531=(function(){const _0x40580b={};_0x40580b['uWHqm']=function(_0x1a8546,_0xc68c9c){return _0x1a8546===_0xc68c9c;},_0x40580b[_0x23edf4(0x231,0x2ab,0x1d9,0x2b0)]=_0x23edf4(0x2b7,0x38e,0x44f,0x354);function _0x23edf4(_0x956324,_0x4e77f5,_0x4bf3e8,_0x126e44){return _0x1a23(_0x4e77f5-0xd1,_0x4bf3e8);}_0x40580b[_0x55aec1(0x42f,0x328,0x33e,0x3b3)]=_0x23edf4(0x450,0x3e0,0x3bd,0x3d9);const _0xdd7d18=_0x40580b;function _0x55aec1(_0x4218ac,_0xb8f9ca,_0x37309f,_0x46b382){return _0x1a23(_0x46b382-0x69,_0xb8f9ca);}let _0x481b54=!![];return function(_0x424dbe,_0x73cb1e){function _0x50d9eb(_0x31a169,_0x650b95,_0x23f7c3,_0x498f4f){return _0x23edf4(_0x31a169-0x1e9,_0x650b95-0xfe,_0x498f4f,_0x498f4f-0x11);}const _0x3f6857={'WxAMo':function(_0x5ad174,_0x210d03){function _0x4a9cae(_0x31b0bc,_0x3b4422,_0x5a3da9,_0x33043e){return _0x1a23(_0x5a3da9- -0xf8,_0x31b0bc);}return _0xdd7d18[_0x4a9cae(0x1fa,0x1b2,0x152,0x146)](_0x5ad174,_0x210d03);},'saIyz':_0xdd7d18[_0x50d9eb(0x3ec,0x3a9,0x2e7,0x472)],'RFEiE':_0xdd7d18[_0x11fbba(0x205,0x263,0x202,0x148)],'oTMWG':function(_0x4ea8f6,_0x4dd85a){function _0x3d2a19(_0x199b90,_0x563aa6,_0x1446af,_0x3e776e){return _0x50d9eb(_0x199b90-0x91,_0x199b90-0xf,_0x1446af-0x15a,_0x1446af);}return _0xdd7d18[_0x3d2a19(0x428,0x4e7,0x503,0x34c)](_0x4ea8f6,_0x4dd85a);},'dfWnT':_0x11fbba(0x1ad,0x188,0xdf,0x27f)},_0x10095e=_0x481b54?function(){function _0x3257ad(_0x48414d,_0x54c47c,_0x525bf9,_0x5419f5){return _0x11fbba(_0x54c47c-0x303,_0x54c47c-0x1d9,_0x525bf9,_0x5419f5-0x15d);}function _0x3a04c4(_0x39643c,_0x1916cd,_0x1794ab,_0x1d74fa){return _0x11fbba(_0x39643c-0x41e,_0x1916cd-0x185,_0x1916cd,_0x1d74fa-0x3f);}if(_0x3f6857[_0x3257ad(0x549,0x4ef,0x571,0x44d)](_0x3f6857[_0x3257ad(0x45e,0x3b7,0x3d2,0x304)],_0x3f6857[_0x3a04c4(0x65e,0x622,0x66f,0x6bc)]))_0x1245ff[_0x3257ad(0x3cc,0x41f,0x3ba,0x39d)][_0x3257ad(0x3cf,0x3af,0x2ee,0x2f1)](_0x32a022),_0x5e27eb[_0x3a04c4(0x61d,0x602,0x6c1,0x5f0)](_0x3257ad(0x54a,0x4fe,0x46a,0x440)+_0x3a04c4(0x51a,0x469,0x4e8,0x475)+_0x3257ad(0x5ac,0x522,0x549,0x552)+_0x577189+_0x3a04c4(0x4e9,0x4d2,0x574,0x40f)+_0x3270fa+'\x22');else{if(_0x73cb1e){if(_0x3f6857['oTMWG'](_0x3a04c4(0x51f,0x5c0,0x5ad,0x485),_0x3f6857[_0x3a04c4(0x5dd,0x56a,0x69f,0x543)]))_0x3ec4a3[_0x3257ad(0x43f,0x41f,0x3fa,0x394)]=[];else{const _0x2f9d2e=_0x73cb1e[_0x3a04c4(0x5e2,0x518,0x67f,0x512)](_0x424dbe,arguments);return _0x73cb1e=null,_0x2f9d2e;}}}}:function(){};function _0x11fbba(_0x37896a,_0x409ddb,_0x1bd235,_0x50c078){return _0x55aec1(_0x37896a-0x53,_0x1bd235,_0x1bd235-0x6e,_0x37896a- -0x1ae);}return _0x481b54=![],_0x10095e;};}()),_0x18237f=_0x44f531(this,function(){const _0x576687={};_0x576687['ZlBMK']=_0xe98205(0x8b,0x56,-0x2a,0x5e)+'+$';const _0x3d4583=_0x576687;function _0x5cfe4f(_0x50fe2c,_0x937219,_0x296f8b,_0xb2b1b5){return _0x1a23(_0xb2b1b5-0x55,_0x50fe2c);}function _0xe98205(_0x343535,_0x49d7ca,_0xec46ae,_0x5d60b0){return _0x1a23(_0x343535- -0x2ce,_0x49d7ca);}return _0x18237f[_0x5cfe4f(0x260,0x264,0x289,0x28c)]()[_0xe98205(0x3,-0x94,0x47,0xd8)](_0x3d4583[_0xe98205(0x8f,0x10c,-0x45,0xca)])[_0x5cfe4f(0x32c,0x240,0x1d0,0x28c)]()['constructo'+'r'](_0x18237f)[_0x5cfe4f(0x30e,0x38d,0x2f2,0x326)](_0x3d4583['ZlBMK']);});_0x18237f();import{eventSource}from'../../../../../script.js';import{eventNames,extensionName}from'./config.js';import{extension_settings}from'../../../../extensions.js';import{getContext}from'../../../../st-context.js';import{saveSettingsDebounced}from'../../../../../script.js';import{generateCharacterListText,generateOutfitEnableListText,generateCommonCharacterListText}from'./settings/worldbook.js';import{updateCombinedPrompt}from'./settings/llm.js';import{buildPromptForRequestType}from'./settings/llmService.js';import{refreshCharacterSettings}from'./settings/character/index.js';import{stylishConfirm}from'./ui_common.js';import{mergeAdjacentMessages,replaceAllPlaceholders,replacePlaceholder as _0x10fc3d}from'./promptProcessor.js';function replacePlaceholder(_0x327475,_0x3d64dc,_0x15c6d2,_0x416d9b){const _0x21aac5={};_0x21aac5[_0x51c0cf(0xd2,0x73,0xa0,0x5d)]=function(_0x85b72d,_0x5e3673){return _0x85b72d===_0x5e3673;};function _0x51c0cf(_0x23cfaa,_0x45e0bb,_0x3d6633,_0x54677f){return _0x1a23(_0x45e0bb- -0x305,_0x54677f);}_0x21aac5['PeRUx']=_0x148eb5(0x25c,0x2f7,0x1d6,0x229);function _0x148eb5(_0x3f118c,_0x846957,_0x53f77a,_0x556f19){return _0x1a23(_0x3f118c-0x0,_0x556f19);}_0x21aac5[_0x148eb5(0x313,0x308,0x39b,0x3b1)]=function(_0x588fa5,_0xa096b0){return _0x588fa5===_0xa096b0;},_0x21aac5['btYwt']=_0x51c0cf(0x61,-0x1b,-0x63,-0xb0),_0x21aac5[_0x148eb5(0x31c,0x23f,0x255,0x284)]=_0x148eb5(0x2a4,0x203,0x205,0x2fc),_0x21aac5['FfprO']='icLmx';const _0x21b417=_0x21aac5;if(_0x21b417[_0x51c0cf(0xcf,0x73,0x5a,0x112)](typeof _0x327475,_0x21b417[_0x148eb5(0x27f,0x2ff,0x22e,0x216)]))return _0x15c6d2&&_0x327475['includes'](_0x3d64dc)&&(_0x416d9b&&_0x416d9b[_0x148eb5(0x296,0x250,0x2fd,0x22f)](_0x3d64dc)),_0x327475[_0x51c0cf(-0x46,-0x7e,-0x12f,-0x10f)](_0x3d64dc,_0x15c6d2);if(Array[_0x148eb5(0x243,0x324,0x2ab,0x247)](_0x327475)){if(_0x21b417[_0x51c0cf(0x64,0xe,0x23,0x20)](_0x51c0cf(-0x61,0x4d,-0x42,-0x85),_0x51c0cf(0xa2,0x4d,-0x79,-0x44)))return _0x327475[_0x148eb5(0x200,0x18e,0x2d0,0x21c)](_0x42f7c0=>replacePlaceholder(_0x42f7c0,_0x3d64dc,_0x15c6d2,_0x416d9b));else{const _0x3d35b7={};_0x3d35b7[_0x51c0cf(-0x136,-0xaf,-0xab,0x28)]=_0x51c0cf(-0x98,-0x6a,0x6c,-0x12c),_0x3d35b7[_0x51c0cf(0x64,-0x6a,-0x1,-0x63)]=_0x2d2235[_0x51c0cf(-0x12a,-0x104,-0x1bf,-0xbf)],_0x52b51a[_0x51c0cf(-0x176,-0x114,-0x1cc,-0x32)](_0x3d35b7);}}if(_0x327475&&_0x21b417['eHJEp'](typeof _0x327475,_0x21b417['btYwt'])){const _0x2a88ba={};for(const _0x8f144d in _0x327475){_0x21b417[_0x51c0cf(0xe4,0x17,0x9d,-0x3c)]!==_0x21b417[_0x51c0cf(-0x50,-0x39,-0xf1,-0xf5)]?_0x2a88ba[_0x8f144d]=replacePlaceholder(_0x327475[_0x8f144d],_0x3d64dc,_0x15c6d2,_0x416d9b):_0x583885++;}return _0x2a88ba;}return _0x327475;}function attachImagesToMessage(_0x31c68c,_0x1cb323,_0x23a4b5,_0x926f=_0x17bd63(0x3f,-0x59,-0x87,0x24)){const _0x333e6a={};_0x333e6a['TbUKx']=_0x11369d(0x78,0xe4,0x1c1,0xcf),_0x333e6a['WUAMa']=_0x503a45(0x70,0x82,0x13e,0xaa),_0x333e6a[_0x503a45(-0x9f,-0x90,-0x13,0xf)]=function(_0x3ede65,_0x16dfd4){return _0x3ede65===_0x16dfd4;},_0x333e6a[_0x11369d(0x4f,0x10e,0x1d0,0x6c)]='string',_0x333e6a[_0x11369d(0x96,0x9d,0x151,0x8a)]=_0x503a45(0xbe,0x90,0xfe,0x41),_0x333e6a[_0x503a45(0x16e,0x130,0x150,0x91)]=function(_0x34c594,_0x5bf0b3){return _0x34c594+_0x5bf0b3;},_0x333e6a[_0x11369d(0x15d,0x13d,0xc6,0x174)]='text',_0x333e6a[_0x503a45(0xe9,0xc8,0x155,0xb2)]='data:',_0x333e6a[_0x11369d(0x47,0xc5,0x126,0x20)]=_0x11369d(-0x73,0x52,0xf5,0x14),_0x333e6a['aJkaP']=_0x503a45(0x2e,0x4e,0x61,-0x51);function _0x503a45(_0x1d2c51,_0x54e248,_0x59f4bb,_0x428f0c){return _0x17bd63(_0x59f4bb-0x45,_0x428f0c,_0x59f4bb-0x84,_0x428f0c-0xc3);}function _0x11369d(_0x7e19e9,_0x4516f7,_0x4d7637,_0x2ca476){return _0x17bd63(_0x4516f7- -0xd,_0x2ca476,_0x4d7637-0x75,_0x2ca476-0x109);}_0x333e6a[_0x503a45(0xc1,0x76,0x81,0x65)]=function(_0x32d7e3,_0x7d580a){return _0x32d7e3<_0x7d580a;},_0x333e6a[_0x503a45(0x64,0x45,-0x14,0x8)]=function(_0x32b917,_0x4a1078){return _0x32b917>=_0x4a1078;},_0x333e6a[_0x11369d(0x6d,0xb0,0xfa,0x2f)]=function(_0x2dcec5,_0x22eb22){return _0x2dcec5===_0x22eb22;},_0x333e6a[_0x503a45(0x66,-0xa,0xd3,0x50)]=function(_0x1de171,_0x1430cd){return _0x1de171>_0x1430cd;};const _0x27b907=_0x333e6a;if(!_0x23a4b5||_0x27b907[_0x503a45(0x23,0xad,-0x13,0xb8)](_0x23a4b5[_0x503a45(0x112,0x38,0x96,0xf7)],0x2*0x399+0x191+0x8c3*-0x1)||_0x27b907['MSkZR'](_0x1cb323,0xeb1+0x1adf+-0x4*0xa64)||_0x27b907['wySdc'](_0x1cb323,_0x31c68c[_0x503a45(0x2f,0xb8,0x96,0x6d)]))return _0x31c68c;const _0x3d385c=[..._0x31c68c],_0x34ab74=_0x3d385c[_0x1cb323],_0x3304f4=[];if(_0x27b907[_0x11369d(0x44,0xb0,0x157,0xa5)](typeof _0x34ab74[_0x503a45(0x21,0xf7,0x15,0x41)],'string')){const _0x2622a0={};_0x2622a0['type']=_0x11369d(-0xe,0x5d,0x43,0x7f),_0x2622a0[_0x503a45(0x191,0x163,0xaf,0x105)]=_0x34ab74[_0x503a45(0xdc,-0x4a,0x15,0x53)],_0x3304f4[_0x503a45(0x3e,0x39,0x5,-0xa0)](_0x2622a0);}else Array[_0x503a45(-0x8a,-0x2d,0x57,0xf8)](_0x34ab74[_0x11369d(-0x16,-0x3d,0x90,-0x14)])&&_0x3304f4[_0x503a45(-0x38,0x90,0x5,-0x9)](..._0x34ab74[_0x11369d(0x3b,-0x3d,-0xaf,0x9b)]);if(_0x27b907[_0x11369d(-0x41,0x81,0x1e,0x97)](_0x23a4b5[_0x503a45(-0x27,0x151,0x96,-0xb)],0x2fe*0xd+0x24ac+-0x239*0x22)){const _0x2349e8={};_0x2349e8[_0x11369d(-0x5b,0x18,0xd3,0x2)]=_0x27b907[_0x503a45(0x189,0x100,0x18f,0xf2)],_0x2349e8[_0x11369d(0xa9,0x5d,-0x49,0x90)]=_0x503a45(0x111,0x138,0x10d,0xd8)+_0x23a4b5[_0x11369d(0x97,0x44,-0x57,-0x9a)]+'张'+_0x926f+']',_0x3304f4[_0x11369d(0x53,-0x4d,0x1d,-0xf3)](_0x2349e8);}_0x23a4b5[_0x11369d(0x1a0,0xc3,0x15,0x6a)]((_0xfefabd,_0x3cf0c9)=>{const _0x5d4bda={'kBjoH':function(_0x56ac5d,_0xc044c7){return _0x56ac5d(_0xc044c7);},'tCXRP':_0x27b907['TbUKx']};function _0x517c79(_0x64020e,_0x3aaabb,_0x3aafdf,_0x5ae0ff){return _0x11369d(_0x64020e-0x1cd,_0x3aafdf-0x556,_0x3aafdf-0xcc,_0x5ae0ff);}function _0x5700f7(_0x1ae93f,_0x459dba,_0x186a6c,_0x47d2c0){return _0x503a45(_0x1ae93f-0x71,_0x459dba-0xf1,_0x459dba- -0x156,_0x1ae93f);}if(_0x27b907[_0x5700f7(-0x36,0x1c,-0xb6,-0x76)]!==_0x517c79(0x4d5,0x4d7,0x594,0x529)){const _0x2a1600=_0x27b907['fsCtr'](typeof _0xfefabd,_0x27b907['hYSCB'])?_0xfefabd:_0xfefabd['base64'],_0x244425=_0x27b907[_0x5700f7(-0xc1,-0x169,-0x225,-0x24b)](typeof _0xfefabd,_0x27b907[_0x5700f7(-0x94,-0x67,-0x5c,-0x11b)])&&_0xfefabd[_0x5700f7(-0x95,-0xfd,-0x1cf,-0x9d)]?_0xfefabd[_0x5700f7(-0xfc,-0xfd,-0xa6,-0x101)]:''+_0x926f+_0x27b907['XyGut'](_0x3cf0c9,0x1a*-0x1+-0x402*-0x5+-0x13ef),_0x164231={};_0x164231[_0x5700f7(-0x1a0,-0xec,-0x141,-0xb5)]=_0x27b907[_0x5700f7(0x75,0x39,0xa1,0x0)],_0x164231[_0x517c79(0x58d,0x4f2,0x5b3,0x57a)]='['+_0x244425+']',_0x3304f4[_0x517c79(0x5e8,0x4b6,0x509,0x5bf)](_0x164231);let _0xb3b4bb=_0x2a1600;!_0x2a1600[_0x517c79(0x696,0x617,0x5bb,0x4dd)](_0x27b907[_0x517c79(0x672,0x640,0x659,0x628)])&&(_0xb3b4bb='data:image'+'/png;base6'+'4,'+_0x2a1600);const _0x50c629={};_0x50c629['type']=_0x27b907[_0x5700f7(-0xbe,-0x3f,-0x81,-0x108)],_0x50c629[_0x5700f7(-0x18a,-0xb2,0xd,0x18)]={},_0x50c629[_0x5700f7(-0x18a,-0xb2,0xd,0x18)][_0x517c79(0x5c0,0x6ec,0x66e,0x6a9)]=_0xb3b4bb,_0x50c629[_0x5700f7(-0x18a,-0xb2,0xd,0x18)][_0x517c79(0x4f7,0x45e,0x52b,0x45d)]=_0x27b907[_0x5700f7(-0x6d,-0x75,-0x92,-0x106)],_0x3304f4[_0x517c79(0x438,0x517,0x509,0x5af)](_0x50c629);}else{const _0x4e00f4=_0x4cad8a['getElement'+_0x517c79(0x71c,0x6fe,0x695,0x60a)]('char_'+_0x384de0);_0x4e00f4&&(_0x4e00f4[_0x5700f7(-0x36,-0xa3,-0x80,-0xb3)]=_0x593d0b[_0x270ee7],_0x5d4bda[_0x5700f7(0x37,-0x7b,-0x14e,-0xa9)](_0x6315aa,_0x4e00f4)[_0x517c79(0x5e2,0x54a,0x603,0x55d)](_0x5d4bda[_0x517c79(0x43b,0x581,0x4f3,0x4d1)]));}});const _0x1976e2={..._0x34ab74};return _0x1976e2['content']=_0x3304f4,_0x3d385c[_0x1cb323]=_0x1976e2,_0x3d385c;}function findMessageIndexWithPlaceholder(_0x3f04d0,_0x3fff2f){const _0x21734a={'jLmwE':function(_0x503258,_0x245fca){return _0x503258(_0x245fca);},'QLlnK':function(_0x24b98c,_0x7ef56e){return _0x24b98c!==_0x7ef56e;},'YeSsz':_0x4cf620(0x230,0x231,0x2ce,0x209),'wtghk':function(_0x3c5aed,_0x530948){return _0x3c5aed===_0x530948;},'TNiLO':function(_0x23d946,_0x3b9c23){return _0x23d946===_0x3b9c23;},'ulTKd':'QaNVQ','dItng':_0x2f62ff(-0x140,-0x1e8,-0xc7,-0x206)};for(let _0x5bb61a=-0x38*-0x9b+0x13ca+-0x35b2;_0x5bb61a<_0x3f04d0[_0x2f62ff(-0x159,-0x7c,-0xfb,-0x1ba)];_0x5bb61a++){if(_0x21734a[_0x4cf620(0x2fd,0x387,0x37f,0x2e8)](_0x4cf620(0x474,0x471,0x3c1,0x3d0),_0x21734a[_0x2f62ff(-0x204,-0x1ff,-0x178,-0x1b6)])){const _0x5738eb=_0x3f04d0[_0x5bb61a];if(_0x21734a[_0x2f62ff(-0x1f5,-0x2a0,-0x1b1,-0x1d6)](typeof _0x5738eb[_0x4cf620(0x2b2,0x274,0x25c,0x21c)],_0x4cf620(0x38e,0x32c,0x2b7,0x27e))&&_0x5738eb['content'][_0x4cf620(0x276,0x2a1,0x321,0x3db)](_0x3fff2f))return _0x5bb61a;else{if(Array['isArray'](_0x5738eb[_0x2f62ff(-0x1da,-0x292,-0x1bc,-0x1b3)])){if(_0x21734a[_0x4cf620(0x349,0x201,0x296,0x1d3)](_0x21734a[_0x4cf620(0x209,0x230,0x2ba,0x1f5)],_0x2f62ff(-0x157,-0x1ba,-0x98,-0x181))){if(_0x52b740['id']!==_0x2bb2cb)return;_0x493898[_0x2f62ff(-0x149,-0xd9,-0x9c,-0x175)+_0x2f62ff(-0x143,-0x103,-0x98,-0xcc)](_0x2799df['LLM_CHAR_M'+_0x4cf620(0x2f7,0x323,0x314,0x2a9)+_0x2f62ff(-0x107,-0x1ad,-0xd8,-0x13c)+'PONSE'],_0x3a8849),_0x21734a[_0x4cf620(0x1dc,0x21b,0x264,0x2c5)](_0x25fda3,_0xb46ff8[_0x2f62ff(-0x12f,-0x1cb,-0x114,-0x1c6)]);}else for(const _0x104d5f of _0x5738eb[_0x2f62ff(-0x1da,-0x148,-0x1b6,-0x19c)]){if(_0x104d5f[_0x4cf620(0x323,0x22b,0x2b1,0x22d)]===_0x21734a[_0x4cf620(0x2b5,0x190,0x24e,0x2fe)]&&_0x104d5f[_0x2f62ff(-0x140,-0xd9,-0xb0,-0x97)][_0x4cf620(0x2e9,0x330,0x321,0x266)](_0x3fff2f))return _0x5bb61a;}}}}else _0x4dff75=_0x4cf620(0x264,0x2d2,0x2f2,0x2d4)+'被使用：'+[..._0xc1a0d9]['join']('、')+'\x0a';}function _0x4cf620(_0x283ae2,_0x2d3689,_0x40bc26,_0x360e96){return _0x17bd63(_0x40bc26-0x28c,_0x283ae2,_0x40bc26-0x60,_0x360e96-0x1f0);}function _0x2f62ff(_0x43fb06,_0x14f652,_0x86d6c1,_0x296cfd){return _0x17bd63(_0x43fb06- -0x1aa,_0x296cfd,_0x86d6c1-0xda,_0x296cfd-0x77);}return-(-0x1*0x18af+-0xd7d*0x1+-0x1*-0x262d);}function generateRequestId(){function _0x1e1106(_0x27b23c,_0x52c339,_0x478ae0,_0x2ec551){return _0x17bd63(_0x2ec551-0x26f,_0x27b23c,_0x478ae0-0xf9,_0x2ec551-0x90);}const _0x11d3a2={};_0x11d3a2[_0x1e1106(0x226,0x250,0x254,0x2c3)]=function(_0x171b6c,_0x35173c){return _0x171b6c+_0x35173c;};const _0x4cb99f=_0x11d3a2;if(crypto&&crypto[_0x1e1106(0x453,0x396,0x2b3,0x387)])return crypto[_0x1694a2(-0x83,-0xd4,-0x13f,-0x131)]();function _0x1694a2(_0x440bec,_0x3b9b2a,_0x1be98d,_0x42937b){return _0x17bd63(_0x440bec- -0x19b,_0x1be98d,_0x1be98d-0x70,_0x42937b-0xff);}return _0x4cb99f[_0x1694a2(-0x147,-0x81,-0x19a,-0xd9)](Date[_0x1694a2(-0x108,-0xff,-0x52,-0xb7)]()[_0x1694a2(-0x195,-0xc1,-0x14e,-0x210)](-0x4c7*-0x2+0x2339+-0x27*0x125),Math['random']()[_0x1e1106(0x31d,0x240,0x24b,0x275)](0xb9*0x31+0x15bd+-0x3902)[_0x1694a2(-0x3f,0x13,-0xb4,0x40)](-0x34a*0x8+0x3*-0xbcf+0x3dbf));}export function LLM_CHAR_MODIFY_GET_PROMPT(){const _0x93e539={'fMyRs':function(_0x16e60c,_0x5238b1){return _0x16e60c!==_0x5238b1;},'mEwOH':function(_0x11afb5,_0x514dc8){return _0x11afb5(_0x514dc8);},'Dmbcv':_0x563ad0(0x550,0x546,0x5c8,0x5b9),'QUAbv':'FZiNX','MGYCy':function(_0x397e63,_0x5f11e4){return _0x397e63(_0x5f11e4);},'zKUWy':function(_0xc1de2f){return _0xc1de2f();},'CPGqc':function(_0xb82408,_0x37f70f,_0x2416bd){return _0xb82408(_0x37f70f,_0x2416bd);}};function _0x563ad0(_0xc565c4,_0x2eeecd,_0x4ed498,_0x44bb4a){return _0x17bd63(_0x2eeecd-0x47a,_0x4ed498,_0x4ed498-0x19c,_0x44bb4a-0x14a);}return new Promise((_0x537f29,_0x279e8e)=>{const _0x201f51={'aBCPm':function(_0x352cb7,_0x11d430){return _0x352cb7!==_0x11d430;},'rbvhZ':_0x93e539[_0xb9a5d6(0x5da,0x64f,0x5ee,0x524)],'Jbadx':_0x93e539[_0x45590f(0x50,0x7,-0x57,-0xd)],'AEDUW':function(_0x211d35,_0x58347e){function _0x13fea9(_0x584866,_0x28e973,_0x796b67,_0x420827){return _0x45590f(_0x584866-0x98,_0x28e973-0x9d,_0x584866,_0x420827-0x621);}return _0x93e539[_0x13fea9(0x51e,0x51a,0x69e,0x5ee)](_0x211d35,_0x58347e);}};function _0xb9a5d6(_0x122778,_0x5e8bef,_0x333de5,_0x430862){return _0x563ad0(_0x122778-0xc2,_0x333de5-0x163,_0x122778,_0x430862-0x6f);}const _0x30741d=_0x93e539['zKUWy'](generateRequestId);console['log'](_0xb9a5d6(0x6e1,0x6d2,0x6ec,0x625)+_0xb9a5d6(0x6ab,0x615,0x5ed,0x660)+_0x45590f(-0x161,-0x11,0x38,-0x9f)+_0x45590f(0x1a,-0x12,0x115,0x6c)+_0xb9a5d6(0x670,0x7ac,0x721,0x70c)+_0xb9a5d6(0x5a8,0x526,0x5f7,0x69b)+_0x30741d+')');const _0x7a6ad1=_0x6bda67=>{if(_0x93e539[_0x57ffeb(-0x246,-0x23a,-0x29d,-0x1fa)](_0x6bda67['id'],_0x30741d))return;function _0x3a9df7(_0x1563de,_0x38c1ee,_0x25229f,_0x253b3c){return _0x45590f(_0x1563de-0x1aa,_0x38c1ee-0x1d1,_0x38c1ee,_0x253b3c-0x43c);}eventSource[_0x57ffeb(-0x1a3,-0x17e,-0x1ee,-0x14d)+'ener'](eventNames[_0x3a9df7(0x4cc,0x4e5,0x457,0x4a7)+_0x3a9df7(0x45f,0x405,0x3bf,0x479)+_0x3a9df7(0x4d8,0x42d,0x523,0x494)+'PONSE'],_0x7a6ad1);function _0x57ffeb(_0x2120d3,_0x33bf02,_0x1d0329,_0x533f32){return _0x45590f(_0x2120d3-0x9d,_0x33bf02-0x111,_0x1d0329,_0x533f32- -0x163);}_0x93e539['mEwOH'](_0x537f29,_0x6bda67[_0x3a9df7(0x4e7,0x4a1,0x3b0,0x46c)]);};eventSource['on'](eventNames['LLM_CHAR_M'+_0x45590f(0xa,0xe0,0x9,0x3d)+_0xb9a5d6(0x700,0x674,0x680,0x65d)+_0x45590f(0x14,0x72,-0x87,-0x47)],_0x7a6ad1);const _0x422224={};function _0x45590f(_0x12bd26,_0xb66cae,_0x4b2760,_0x52f841){return _0x563ad0(_0x12bd26-0x59,_0x52f841- -0x4c5,_0x4b2760,_0x52f841-0x1ba);}_0x422224['id']=_0x30741d,eventSource[_0xb9a5d6(0x6a5,0x64f,0x6cc,0x6c9)](eventNames[_0x45590f(-0x71,0x12c,0x40,0x6b)+_0x45590f(0x9f,-0x2a,0x69,0x3d)+_0xb9a5d6(0x59e,0x5aa,0x646,0x5c4)+_0x45590f(-0x31,0x0,-0x86,0x5a)],_0x422224),_0x93e539[_0x45590f(0x13b,0x3d,0x183,0xde)](setTimeout,()=>{function _0x2145e8(_0x21a5ab,_0x3ad19b,_0x2da21a,_0x1ad2a5){return _0x45590f(_0x21a5ab-0xe,_0x3ad19b-0x59,_0x21a5ab,_0x2da21a-0x514);}function _0x31c9dc(_0x561a5b,_0x57c0aa,_0x439b5b,_0x25f747){return _0x45590f(_0x561a5b-0x1e5,_0x57c0aa-0x1a2,_0x561a5b,_0x439b5b-0x33f);}_0x201f51[_0x2145e8(0x67f,0x52a,0x5ca,0x66c)](_0x201f51[_0x31c9dc(0x362,0x297,0x349,0x31a)],_0x201f51['Jbadx'])?(eventSource[_0x31c9dc(0x307,0x36a,0x355,0x2b3)+'ener'](eventNames[_0x2145e8(0x58d,0x576,0x57f,0x620)+'ODIFY_GET_'+_0x31c9dc(0x2fb,0x3d9,0x397,0x3e6)+_0x31c9dc(0x342,0x340,0x2f8,0x2cb)],_0x7a6ad1),_0x201f51[_0x2145e8(0x5c6,0x632,0x560,0x556)](_0x279e8e,new Error(_0x31c9dc(0x335,0x36f,0x2fc,0x3b7)+'时'))):_0x5d4eba[_0x31c9dc(0x4c5,0x4bc,0x407,0x423)](_0x2145e8(0x6b4,0x524,0x5d8,0x659)+'PromptModi'+_0x2145e8(0x664,0x5e0,0x584,0x4de)+'字段\x20\x22'+_0x202170+'\x22');},0x41e2+0x33ab+0x11b*-0x47);});}export function LLM_CHAR_MODIFY(_0x2c7c26,_0x2d1e8e={}){function _0x9d8f64(_0x58fb02,_0x12e3cb,_0x38a7d9,_0x480b45){return _0x17bd63(_0x38a7d9-0x48e,_0x12e3cb,_0x38a7d9-0x10d,_0x480b45-0x174);}const _0x33bd16={'znCZS':function(_0x26d72,_0x120b05){return _0x26d72!==_0x120b05;},'TKftX':_0x2418e5(0x1dc,0x247,0x194,0x1a2),'RZUcN':function(_0x840b1,_0x1d47a5){return _0x840b1(_0x1d47a5);},'aIThv':_0x9d8f64(0x559,0x66e,0x5d4,0x4fa),'DekvN':function(_0x4a5bb8,_0x443efd){return _0x4a5bb8(_0x443efd);},'WAGLc':function(_0x238d7e){return _0x238d7e();},'dvfmv':_0x2418e5(0x14f,0x192,0x22f,0x207)+_0x9d8f64(0x56f,0x47d,0x4ab,0x50f),'NxTNc':function(_0x14bdc7,_0xd753a5,_0x5353d0){return _0x14bdc7(_0xd753a5,_0x5353d0);}};function _0x2418e5(_0x13ae1a,_0x556024,_0x5ca951,_0x43133f){return _0x17bd63(_0x13ae1a-0x171,_0x556024,_0x5ca951-0x103,_0x43133f-0x60);}return new Promise((_0x503521,_0x12db1e)=>{const _0x423c7e={'eCiGo':function(_0x1ffe7d,_0x34c97f){function _0x66767(_0x5dfcbf,_0x411c8c,_0x30d143,_0x32069f){return _0x1a23(_0x30d143- -0x291,_0x411c8c);}return _0x33bd16[_0x66767(0xf8,0x24,0x52,0x62)](_0x1ffe7d,_0x34c97f);},'ZnOtY':function(_0x8d1f4){function _0x1ca9db(_0xa9b7b1,_0x30b56d,_0x4880c9,_0x955eb1){return _0x1a23(_0x955eb1-0x194,_0xa9b7b1);}return _0x33bd16[_0x1ca9db(0x3a0,0x397,0x500,0x473)](_0x8d1f4);},'KHFFl':_0x33bd16[_0x58a1e6(0x460,0x4b8,0x414,0x56e)]},_0x975928=_0x33bd16[_0x58a1e6(0x4ab,0x580,0x602,0x5b2)](generateRequestId),_0x4cacf1=_0x2d1e8e['timeoutMs']||-0xf161+-0x10e49+0x2ea0a;let _0x3c1878=null;console[_0x2cbc80(0x586,0x6dd,0x637,0x5fc)]('[character'+_0x2cbc80(0x53e,0x465,0x534,0x5f5)+_0x58a1e6(0x53e,0x530,0x4c8,0x54a)+'ing\x20char\x20m'+_0x2cbc80(0x532,0x4b1,0x54a,0x4d9)+_0x58a1e6(0x48b,0x4a8,0x4bd,0x4b4)+_0x58a1e6(0x623,0x598,0x63d,0x60f)+_0x975928+')');const _0x390a4e=()=>{eventSource[_0x198f18(0xc3,0x198,0x178,0x54)+_0x388304(0x294,0x1de,0x264,0x1eb)](eventNames['LLM_CHAR_M'+'ODIFY_RESP'+'ONSE'],_0x5bfb70);function _0x388304(_0x345e48,_0x2f0629,_0x3ca0ef,_0x358092){return _0x58a1e6(_0x345e48-0x108,_0x358092- -0x34e,_0x3ca0ef,_0x358092-0x3d);}function _0x198f18(_0x8112e1,_0x2b5481,_0x2621c5,_0x1433bf){return _0x58a1e6(_0x8112e1-0x149,_0x8112e1- -0x470,_0x2b5481,_0x1433bf-0x70);}_0x3c1878&&(_0x423c7e['eCiGo'](clearTimeout,_0x3c1878),_0x3c1878=null);},_0x5bfb70=_0x580fc8=>{if(_0x33bd16['znCZS'](_0x580fc8['id'],_0x975928))return;function _0x27f202(_0x4b07d4,_0x45a662,_0xbdd723,_0x55bf26){return _0x58a1e6(_0x4b07d4-0x113,_0x45a662- -0x3e7,_0x55bf26,_0x55bf26-0x13e);}function _0x520d62(_0x4ac9c7,_0x3822c1,_0x217953,_0x37e961){return _0x2cbc80(_0x4ac9c7-0xbb,_0x37e961,_0x217953- -0x2b2,_0x37e961-0xae);}_0x390a4e(),_0x580fc8[_0x27f202(0x16f,0xb1,0x115,0xcd)]?_0x33bd16['TKftX']!==_0x33bd16[_0x27f202(0x247,0x1b2,0x277,0xf2)]?_0xeb573c['push'](_0x218233[_0x520d62(0x186,0x200,0x23e,0x1c8)]):_0x33bd16['RZUcN'](_0x503521,_0x580fc8[_0x520d62(0x3c2,0x3d3,0x3b3,0x358)]):_0x33bd16[_0x520d62(0x2e7,0x395,0x325,0x25c)](_0x12db1e,new Error(_0x580fc8['result']||_0x33bd16[_0x520d62(0x350,0x354,0x2cd,0x248)]));};eventSource['on'](eventNames[_0x58a1e6(0x527,0x588,0x626,0x5b8)+_0x2cbc80(0x5b7,0x544,0x588,0x4de)+_0x58a1e6(0x4cb,0x508,0x579,0x426)],_0x5bfb70);function _0x58a1e6(_0x3b978d,_0x10b8b4,_0x33fa71,_0x37f3c5){return _0x2418e5(_0x10b8b4-0x361,_0x33fa71,_0x33fa71-0x87,_0x37f3c5-0x57);}const _0xd782c6={};_0xd782c6[_0x2cbc80(0x662,0x4bf,0x59f,0x5a9)]=_0x2c7c26;function _0x2cbc80(_0xb75340,_0x186030,_0x31b3c4,_0x57f376){return _0x2418e5(_0x31b3c4-0x3b3,_0x186030,_0x31b3c4-0xdd,_0x57f376-0xba);}_0xd782c6['id']=_0x975928,eventSource['emit'](eventNames[_0x2cbc80(0x50d,0x5a8,0x5da,0x4f9)+_0x58a1e6(0x5ec,0x633,0x65e,0x6c9)+_0x58a1e6(0x55b,0x52b,0x55e,0x525)],_0xd782c6),_0x3c1878=_0x33bd16[_0x2cbc80(0x5db,0x4d5,0x525,0x5bc)](setTimeout,()=>{function _0x1b9fcd(_0x1f09b7,_0x4960b1,_0x568c59,_0x250f64){return _0x2cbc80(_0x1f09b7-0x24,_0x4960b1,_0x250f64- -0x62,_0x250f64-0x64);}_0x423c7e[_0x1b9fcd(0x477,0x47c,0x5d0,0x514)](_0x390a4e);function _0x42b973(_0x22f7e8,_0x46b504,_0x3c7177,_0x521de4){return _0x58a1e6(_0x22f7e8-0x97,_0x3c7177-0xa0,_0x46b504,_0x521de4-0xfb);}_0x423c7e[_0x42b973(0x524,0x5c1,0x535,0x457)](_0x12db1e,new Error(_0x423c7e[_0x42b973(0x6a6,0x5d0,0x63c,0x59f)]));},_0x4cacf1);});}function _0x7dd5(){const _0x324b21=['B2zmCuq','zNLDiow3SUABToAwSoINKUIjSUMIHa','AejwBMu','uhjVBxb0tw9KAq','rg1Iy3y','AxnbCNjHEq','5lQu5A6y5Asw6lkm6iom6z2I','BMfTzq','q053z3O','DgvYigXPC3qGDa','5lIk5y2k6lQR6iom6z2I','tuDzq3K','DvDiCw0','Bxb0icHjrdOG','zML0CW','yxv0BW','5Rgc6lAf5PE2','iIZMMk/LKkBLVzxLHAu/','Aw5KzxG','EgfJrxu','y2HHCMfJDgvYCW','zNLDienOyxjHyW','s3L0qwW','AhzRzLq','DhLWzq','B2rPzNKGteXnia','5lIk5y2k6lQR','zxrZ','i3n0lwnOyxr1oa','y2HHCMfJDgvYua','C3rYAw5N','oty4Ahrtz0XI','5lIk5y2k6lQRtLngvW','DwXus2q','sfPuu2y','B3v0zML0CW','CMvWBgfJzq','6kEs6iMY54M55B6boIa','zNLDiow3SUABToAwSoACJEIJHEMIHa','5lIT5PAh5zcn56EW','vMfYAwfIBgvZ','t05trq','v3zYq1C','vwrQAKG','vNDWA2i','BNPPv1e','6k+35ywi6ycj5OUP5lIa5lIQ6kEs6iMY6Ake6k6+','tvnRwLi','zNLDioACQUIVHUwiQ+EAHos6UUEjQq','uvvbyNy','5y+c6icd5zU+54Mh','zNHKsgG','igLUzgv4','wK5lsvK','C0rItNu','Avztque','Aw5MBW','ndG1uurHv01b','zNLDie5VignOyq','5OM+5lIn5yIW5OYh5A6A55Qe6kEs6iMY6Ake6k6+','EgjjuNe','vezuzhK','tKrzugS','DcbWCMvZzxq6','zNLDioATO+wCQowKHoEqHUINKUIjSG','ugvsvxG','zNvSBejVzhK','6iUX5PAh5zcn56EW','BgvUz3rO','wM5pDfK','CgvJvLm','A2zoA3a','CMj2AfO','CMvWBgfJzufSBa','ChbPwxm','y29UDgv4DdO','rvnu','CgzgExe','yuLuAhy','v2TnEMe','AvP4ufO','zNLDiev4zwn1Da','Aw1Hz2vFDxjS','r1vbrfC','CMvTB3zLtgLZDa','zNLDifjHDYbmta','5Qoa5Rwl5yIW5PAW5PYn6kofici','t0rjrLLFuKvtua','ywrK','6k+k5PAT77YA5Qoa5Rwl5yIW5lUL5lIl5y+y6yEp','zw5LCG','DKHhvgW','ufjptvbux1jfuq','Dgv4Da','rNj2uhG','EhzSqKe','nZG2mu9hv1bmqW','DMfSDwu','CKjgEhK','s29Yvwe','v0jHy2S','C3rHCNrZv2L0Aa','rM5YCxu','5lIk5y2k6lQRu0zx','CMfPDhm','yMfhDxa','zNLDifnHDMvKia','mtmYndCYmMfsEvr4tG','r0v2vLe','AuLbCve','ChjVBxb0','CMvZzxrjza','ALLtAMS','DhjPBq','rvP5EM4','ywDRrw8','AM9PBG','t0jfrey','DwvZDc4UlG','BLbVu3C','rvzKvxC','5lIl5y2k6lQRtLngv+IdJoMDOG','Bwf0y2HLze91Da','t0rjrLLFr0vuxW','AvvKCeO','CIb0zxH0oG','u0zxqMfJAW','teHXv1K','z2v0rwXLBwvUDa','u0f2wMK','s3fpru4','DejetK0','sLjxthC','zMToELi','BM93','zML0ihrHz3mGzG','Aw5JBhvKzxm','A0jQB0G','quvevvC','BMrLEdO','vxrhwMW','6k6+ici','rMzWCK8','yuPRyva','5RkH5PYj5Qoa5Rwl5yIW6zYa6kAb5PU05PAW55Qe','Ew53C1G','6iUX5PAh5zcn56EWoIa','C2vHCMnO','5Qoa5Rwl5yIW6kEs6iMY5OIw5PYn6kof5Qch562+','B3iGzgvIDwDNAq','ufjptvbux1jfuW','BMfdAwS','vuvtva','vhHtz0u','vKPfzwi','yMP6we8','Axzlwui','yM5huuK','zxH0','v1DNtui','wKzVyKK','v0fhtgm','y29UDgv4Da','BMC6','zNLDiow3SUwiM+w7UUACJEIJHEMIHa','rgvRDK4','uLPvy04','Cuzmq0W','5lIT5PAh5zcn56EWoIa','teXnx0niqvjFtq','DgLUzYbJAgfYia','A2nrCK8','B2jQzwn0','DhjPz2DLCG','zNLDioACQUIVHUwiQ+EAHoACJEIJHq','tezSvgm','AMDhqwO','sgzLwMK','qKvLCMu','5lIl5y2k6lQRtLngvZOG','DePtreC','Axn0vgv4Da','y2XIz2y','DxbWzxjcB2r5qG','mtr5tKrVu1O','rdOG','veTMDfG','cLVKU6xKUiVMMk/NLkJMIlFKUiRKVkdNMOq','Aw5KzxHpzG','s0HgrMW','yNDuDfi','wunjs3u','AKvPqLa','Cvz2reG','q0rdshm','zM9YrwfJAa','vLbKCKq','r1zwEKK','zgzxBLq','vvDRwfq','u0zx','qKnmzNK','Bw9KAwz5ihjLCq','yxbWBhK','zxL1zK0','rLzKtKK','vMvTvfm','t2PMsfK','ww5ksvu','y3fZENq','DxbWzxjcB2r5tG','z1P0vg4','mtaYmtiYndzysxjStLi','zuHkrxa','B3v0zML0rw5HyG','AM5ArNa','sfDbqKS','C3blDwq','D29YBgqGyM9VAW','BMXYz0O','rvrdzfG','AM1Isfy','wgj3sfm','zNLDioINO+AEKowiSoEAHos6UUEjQq','BMfTzuno','tsbVDxrWDxqGzG','zw1PDa','D2XlDeS','Aw5WDxq','D2PVB2m','uuXSBKS','t3DqDeG','ywnR','B250zw50','y2HHCMfJDgvYta','6kEs6iMY5O+q56s66k+n5l+U5Ps55AsX6lsLoG','CvH6tMm','zMLSDgvY','ELrgvha','thP3zgq','tK1hueK','5lIl5y2k6lQRu0zxoIa','BwvZC2fNzsbHDa','v3Hbtw8','yujdug0','zfPtCvu','5A6m5OIq77Yb','zNvSBejVzhLcyq','qMvHs2i','q0vgy3G','B3v0zML0uhjLCW','tgHcvhe','C2nvCwm','D29YBgrcB29RqW','whLhDxq','y1b5svC','Dhb1Da','5lIl5y2k6lQRtLngvW','w2nOyxjHy3rLCG','DK1KD3C','pos6UUEjQt4k','v25pD2C','Bg9N','A291Eg4','5A2x5Q61ici','rw1wBfm','mJiWmJe5mNDJzNPvyW','CMfUzg9Tvvvjra','rwzor2y','surOz1q','AfLtq0i','ue5Pzue','5lIk5y2k6lQRu0zxoIa','zNLDifn0yxj0Aq','ruLkqw4','ywn0zxjmAxn0va','AufwsMu','DMfYAwfIBgvZ','wKnKtu8','qNzbA3i','DxjS','uu9zwwi','lxrHyI1JAgfYyq','kcGOlISPkYKRkq','q1bhCwm','v1rbC3i','nZa1mJKYn0TOB0X4qW','wMXctuS','v1vbtwe','tfbTrfe','zNLDieXmtsbVDq','zw50CMLLCW','DxbWzxjcB2r5','thvZvg4','zNLDioACJEIJHsaI','zNLDifvZzxiGCG','wunwD3i','5B2s5BgE5lQ6','qLHwv3G','DfbWq0i','DgvYihrYAwDNzq','Exbjz2u','zNLDievYCM9YoG','zgHWzvC','y2HHCL8','zNLDiezPBMfSia','Aw1Hz2vZihrVia','BNj2yLi','CMvZDwX0','txvLEMq','ioMHUEABToAuUsZMMk/LKkBLUPtNLkG/','Bw9KAwz5ihbYBW','zhbKCMq','teXnioIVT+AXGUwKSEI0Pq','s1HWy1q','BM1jC2G','z2vUzxjHDgLVBG','yMz0B3O','vvjgqNK','qNLjza','tNfXvgK','DxjLCW','s0LkrLy','y2HHCMfJDgvY','ExLXyNm','Du5cu28','AxDxrgi','uKzfAuu','5lIl5y2k6lQRu0zx','wxLtANq','weDoyKy','C2XzBMG','tMT2t0y','Cg9ZAxrPB24','DgvKigrHDge6','C3vIC3rYAw5N','5lIl5y2k6lQRu0zx6iom6z2IoIa','zfznDfi','E3VLVzpLIy3OP5lOIBj9Fq','zxHLyW','t0rjrLLFuKvrvq','s0XuyNK','Dg9mB3DLCKnHCW','uxPyzui','D0Lkv0W','y29TBw9Uq2HHCG','mZC5mduWnhzyB1j0CW','uxjgChm','wwvtC3O','D3Ltzgm','zNndDhi','vKHiAw8','DenyuLa','vNnmEgm','zNLDifjLCxvLCW','zxH0icH0CMLNzW','D3jNAvq','6kkR5l2/55sO77YA','Dhb1DdO','DxjLC0jHy2S','z2HZu3i','zMfJAwfSrMvHDa','zK15uNm','D3rNAgS','C3bSAxq','seLcwem','DMfYAwfIBgvZoG','tun4rKm','tNHMu0e','Cw9IEve','zxf1AxjLBwvUDa','5lIl5y2k6lQR6iom6z2I','Aevir3u','B2jLsKG','ChvZAa','DxbWzxjcB2r5uW','zeL0BMC','zunPr28','BwvZC2fNzq','Bvf3zfa','C3vJy2vZCW','5lIl5y2k6lQRu0zx6iom6z2I','C2fjExO','tNvKsNi','BMCGy2HHCMfJDa','sfj5ufy','zgf0yq','B3vUzcbPBIbVDq','teXnioI/LowBNUE7K+AENos4UUEPUG','BwfW','y29UDgvUDa','5lIk5y2k6lQRtLngv+IdJoMDOG','EvnXwLC','5lQu5A6y5Asw6lkm6iom6z2IoIa','zNLDioINO+AEKowiSoEAHoACJEIJHq','whHgBMu','CMvXDwvZDcaOsq','5lIk5y2k6lQRu0zx6iom6z2I','AKXTD0u','DgLTzw91De1Z','CMvZzxrZ','y2HHCMfJDgvYva','BMfTzuvo','5lIl5y2k6lQRtLngv+IdJoMDOJO','6kEs6iMY5l+U5Ps5ieXmtsdOR7C','iIdLT7lLVzlLSz7LIldOP5lOIBiGiG','5lQu5A6y5Asw6lkm','uvDjr0G','zgv0ywLS','wxbbBgu','BefwDMC','rgjUvKK','zhzMBxy','BgTbuw4','C2L6zq','5lIl5y2k6lQR','zNLDief0DgfJAa','zwDnChq','5BEY5y+w5RAi5PU05PAW','B3DUzxi','y3rLCG','BgvmAxn0vgv4Da','zNvSBejVzhLtrG','pc/KURRNIAK+','y1zWu3K','zxjYB3i','6kEs6iMY54M55B6b','iIdMNiKG','5PYQ5zYOieXmtsdOVPpLH7RKUk0','AgPyzgu','D2TIzM4','zNvSBejVzhLouW','sezPtw8','rLDcywnR','5PwW5O2UoG','ChjVBxb0oG','q0LJzKy','D2fYBMLUzW','B3v0zML0','tNHutMm','y3vqwKm','BuDzqLK','ue9ou0u','r3Pev2i','Dg9tDhjPBMC','sKT0A2e','6i635y+w6kEs6iMY5l+U5Ps55O+q56s66k+n6lAf','zxDABNm','ve5Pte8','5lIk5y2k6lQRu0zx6iom6z2IoIa','E3VNLkJMIlFPNidMSyj9Fq'];_0x7dd5=function(){return _0x324b21;};return _0x7dd5();}function preprocessTagContent(_0x2426aa){const _0x8a7ce5={};_0x8a7ce5[_0x5441b6(0x2e3,0x2c1,0x1f7,0x206)]=_0x152436(0x358,0x35d,0x4b7,0x433);const _0x21e99c=_0x8a7ce5;let _0x2b896a=_0x2426aa['replace'](/:/g,':')[_0x5441b6(0x142,0xee,0x18d,0x13b)](/,/g,',');_0x2b896a=_0x2b896a[_0x152436(0x442,0x452,0x4bd,0x487)](/下半身NSWebcam:/g,_0x152436(0x48b,0x408,0x474,0x433));function _0x5441b6(_0x33739a,_0x45caff,_0x4d2770,_0x41fe2a){return _0x17bd63(_0x41fe2a-0x10a,_0x4d2770,_0x4d2770-0x2e,_0x41fe2a-0x178);}_0x2b896a=_0x2b896a[_0x5441b6(0x110,0x13b,0x1e1,0x13b)](/下半身NSFW_背面:/g,_0x21e99c['Lzwdd']),_0x2b896a=_0x2b896a['replace'](/上半身NSFW_背面:/g,'上半身NSFW背面:');function _0x152436(_0x3cdbcc,_0x297028,_0x53931c,_0x5627ca){return _0x17bd63(_0x5627ca-0x456,_0x297028,_0x53931c-0x1c2,_0x5627ca-0x1a);}return _0x2b896a;}function _0x1a23(_0x2aee77,_0x445fb9){_0x2aee77=_0x2aee77-(-0x1*0x24cb+-0x15c5*-0x1+0x10d9);const _0x46f1c4=_0x7dd5();let _0x4f70f9=_0x46f1c4[_0x2aee77];if(_0x1a23['OrTiUj']===undefined){var _0x3e4df6=function(_0xbfa207){const _0x57e5f3='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x22aaa7='',_0x21aaec='',_0x1fcdd6=_0x22aaa7+_0x3e4df6;for(let _0x33142d=0x305+0x1908+-0x1c0d,_0x3a7b3d,_0x36b9d3,_0x109d98=0x17*0x124+-0x1*-0x248d+0x1*-0x3ec9;_0x36b9d3=_0xbfa207['charAt'](_0x109d98++);~_0x36b9d3&&(_0x3a7b3d=_0x33142d%(-0x4e4+0x165a+-0x1172)?_0x3a7b3d*(0x1710+0x18bb+-0x2f8b*0x1)+_0x36b9d3:_0x36b9d3,_0x33142d++%(-0x258c+-0x1*-0xc+0x2584))?_0x22aaa7+=_0x1fcdd6['charCodeAt'](_0x109d98+(0x1d1b*-0x1+-0x1*0x20b+0x1f30))-(-0xbf*-0x25+-0xb*-0x184+-0x2c3d)!==0x3*0x81d+-0xfe6+-0x1*0x871?String['fromCharCode'](-0x1e4b+0x951+0x15f9&_0x3a7b3d>>(-(0x424*0x1+0x18e5+-0x1d07)*_0x33142d&-0x74b+0x217e+0x1*-0x1a2d)):_0x33142d:0x11*-0x59+0x232f*-0x1+-0x14*-0x20e){_0x36b9d3=_0x57e5f3['indexOf'](_0x36b9d3);}for(let _0x41df3b=0x17*0x14e+-0x4*-0x1be+-0x2*0x127d,_0x1f8d31=_0x22aaa7['length'];_0x41df3b<_0x1f8d31;_0x41df3b++){_0x21aaec+='%'+('00'+_0x22aaa7['charCodeAt'](_0x41df3b)['toString'](0xa01+-0x879*0x1+0x1*-0x178))['slice'](-(0x1196+0x955+0x1*-0x1ae9));}return decodeURIComponent(_0x21aaec);};_0x1a23['HPlaTI']=_0x3e4df6,_0x1a23['NrlheC']={},_0x1a23['OrTiUj']=!![];}const _0x4fc1c9=_0x46f1c4[0xef2*-0x1+-0x573+0x1465*0x1],_0x4ed6d7=_0x2aee77+_0x4fc1c9,_0x38be4a=_0x1a23['NrlheC'][_0x4ed6d7];if(!_0x38be4a){const _0x4e9a7c=function(_0x2f9119){this['bHwrPQ']=_0x2f9119,this['lFfMau']=[0x1af*-0xc+0x79*-0x51+-0x3a7e*-0x1,-0xca1+0x60a+-0xf1*-0x7,0x13e6*0x1+-0x923+-0xac3],this['vKejtM']=function(){return'newState';},this['aKnlCe']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['nmQRsg']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x4e9a7c['prototype']['jZcGaW']=function(){const _0x4f4a70=new RegExp(this['aKnlCe']+this['nmQRsg']),_0x21382c=_0x4f4a70['test'](this['vKejtM']['toString']())?--this['lFfMau'][-0x114+0x2f*-0xb+0x31a]:--this['lFfMau'][0x1*-0x493+-0xceb+-0x1*-0x117e];return this['CKcVdU'](_0x21382c);},_0x4e9a7c['prototype']['CKcVdU']=function(_0x3f22c8){if(!Boolean(~_0x3f22c8))return _0x3f22c8;return this['zoZdXy'](this['bHwrPQ']);},_0x4e9a7c['prototype']['zoZdXy']=function(_0x459032){for(let _0x25ad14=-0x1d95+0x11af+-0x2*-0x5f3,_0x26cc64=this['lFfMau']['length'];_0x25ad14<_0x26cc64;_0x25ad14++){this['lFfMau']['push'](Math['round'](Math['random']())),_0x26cc64=this['lFfMau']['length'];}return _0x459032(this['lFfMau'][-0x2*-0x8af+0x4d2*-0x7+-0x20*-0x83]);},new _0x4e9a7c(_0x1a23)['jZcGaW'](),_0x4f70f9=_0x1a23['HPlaTI'](_0x4f70f9),_0x1a23['NrlheC'][_0x4ed6d7]=_0x4f70f9;}else _0x4f70f9=_0x38be4a;return _0x4f70f9;}function parseCharacterData(_0x2ddc87){const _0x12ba7e={'iZxPZ':function(_0x47b390,_0x2c06dc){return _0x47b390!==_0x2c06dc;},'nlrgJ':function(_0x575078){return _0x575078();},'YpAle':function(_0x234750,_0x22cac4){return _0x234750(_0x22cac4);},'FFVNx':'LLM\x20请求失败','jmbHV':'nameCN','DbnVI':_0x5aa995(-0x18,-0x30,0xad,-0xd8),'NkvOF':_0x5aa995(-0x41,0x47,-0x11d,-0x66)+_0x5aa995(-0x43,-0x93,-0x25,-0x80),'FVdNI':'upperBodyS'+'FW','ghsSr':'upperBodyS'+_0x25d046(-0xbf,0x1d,-0x2e,0xad),'dpdrd':_0x25d046(-0xb7,0x12,0xee,-0x6b)+'W','Muezd':_0x25d046(-0x10,0x12,-0xe,-0x8e)+'WBack','hBVne':_0x5aa995(0xeb,0x52,0xa5,0x14e)+_0x5aa995(0xe1,0xe7,0xde,0xa4),'OjfHY':_0x5aa995(0x5,0x48,0x60,0x14)+'FW','KytAl':_0x5aa995(0x5,0x7b,-0x58,-0x46)+_0x25d046(-0x46,0x1d,0x6,0xf1),'QWIGH':function(_0x1b42d6,_0x4304a1){return _0x1b42d6===_0x4304a1;},'Vwpkb':function(_0x242b2a,_0x306023){return _0x242b2a+_0x306023;},'gZtTn':function(_0x491bf9,_0x29a273){return _0x491bf9!==_0x29a273;},'xbIRq':_0x5aa995(0x136,0x1d1,0x5d,0xb9)},_0x458b7c=_0x2ddc87['split']('\x0a')['map'](_0x344f2c=>_0x344f2c['trim']())[_0x5aa995(0x106,0x1a6,0x181,0x12d)](_0x56332e=>_0x56332e),_0x57fbe6={};_0x57fbe6[_0x25d046(0x13a,0x10f,0x159,0x9b)]='',_0x57fbe6['nameEN']='',_0x57fbe6[_0x5aa995(-0x19,0x58,0xa5,0x1e)+_0x5aa995(0x81,-0xa,0xa3,0xfa)]='',_0x57fbe6[_0x5aa995(-0x41,-0xe1,0x6f,0x81)+_0x5aa995(0x15a,0x1a3,0xa0,0x1df)]='';function _0x25d046(_0x2c1d3a,_0x2ea9bc,_0x20fc90,_0x488161){return _0x17bd63(_0x2ea9bc-0x22,_0x20fc90,_0x20fc90-0x110,_0x488161-0x5c);}_0x57fbe6[_0x5aa995(-0x41,-0x5a,-0xee,-0xbc)+_0x25d046(-0x3e,-0x2d,-0xe9,-0x81)]='';function _0x5aa995(_0xb6362a,_0x42bccf,_0x1c2f1d,_0x52e6a9){return _0x17bd63(_0xb6362a-0xc,_0x42bccf,_0x1c2f1d-0x188,_0x52e6a9-0x157);}_0x57fbe6[_0x5aa995(-0x33,-0x3c,0x29,-0x3)+'FW']='',_0x57fbe6[_0x25d046(0x6c,-0x1d,0x59,0x86)+'FWBack']='',_0x57fbe6[_0x5aa995(-0x4,0x5f,0x6d,-0x1)+'W']='',_0x57fbe6[_0x25d046(0x73,0x12,-0x8f,-0x95)+_0x25d046(0x29,0x93,-0x3,0x22)]='',_0x57fbe6[_0x5aa995(0xeb,0x18b,0xda,0x98)+_0x5aa995(0xe1,0x26,0x1a5,0xe9)]='',_0x57fbe6[_0x25d046(0x156,0x101,0x32,0x31)+_0x25d046(-0x2d,0xad,0xf0,0x17d)]='',_0x57fbe6[_0x5aa995(0x5,-0xc,-0x3f,-0x8d)+'FW']='',_0x57fbe6[_0x25d046(-0x52,0x1b,-0x49,0xf1)+_0x25d046(0xc,0x1d,0xf9,0xae)]='';const _0x1722a7=_0x57fbe6,_0x39ab09={};_0x39ab09[_0x25d046(0x7c,0x56,0x25,0x5a)]=_0x12ba7e[_0x5aa995(0xf6,0x187,0xb7,0x4e)],_0x39ab09['英文名称']=_0x12ba7e[_0x5aa995(-0xf,-0x11,-0xd8,-0xe7)],_0x39ab09[_0x5aa995(0x0,-0x84,0x3d,-0x7a)]=_0x25d046(-0xc4,-0x3,0x35,-0x67)+_0x25d046(0xa7,0x97,0x10f,0x43),_0x39ab09[_0x25d046(0x23,0x2,-0x32,0x20)]=_0x5aa995(-0x41,-0x7,0x90,-0x51)+'ures',_0x39ab09[_0x5aa995(0x1f,0xec,-0xae,-0xbc)]=_0x12ba7e[_0x25d046(0x1c5,0x17b,0x15d,0x9d)],_0x39ab09['上半身SFW']=_0x12ba7e[_0x25d046(0x1a1,0xfc,0xd7,0x55)],_0x39ab09[_0x25d046(-0x8e,-0x7,0x5e,0x47)]=_0x12ba7e[_0x5aa995(-0x42,-0xb7,0x30,0xb)],_0x39ab09[_0x5aa995(0x161,0xdc,0x1de,0xde)]=_0x12ba7e[_0x25d046(0x1b0,0x167,0x1ff,0xd6)],_0x39ab09[_0x5aa995(-0x2d,0x97,-0x22,-0x77)]=_0x12ba7e[_0x5aa995(0x14e,0x1c0,0x1f4,0xe8)],_0x39ab09[_0x25d046(0x88,0x4f,0x130,-0x79)]=_0x12ba7e[_0x25d046(0x5d,0x31,0xa1,0xff)],_0x39ab09['上半身NSFW背面']=_0x25d046(0x1d5,0x101,0x1a5,0x9a)+_0x25d046(0x18d,0xad,0x148,0x143),_0x39ab09['下半身NSFW']=_0x12ba7e[_0x25d046(0x12c,0xfe,0x94,0x48)],_0x39ab09[_0x25d046(0xa1,0xa8,0x64,0x109)]=_0x12ba7e[_0x5aa995(0x2f,0xd6,0x2,-0x44)];const _0x1fe214=_0x39ab09;for(const _0x58ad9f of _0x458b7c){const _0x53fa5a=_0x58ad9f['indexOf'](':');if(_0x12ba7e[_0x25d046(-0x21,0x3,-0x54,0xe2)](_0x53fa5a,-(-0x1*-0xa1f+0x9a9*0x1+0x3d*-0x53)))continue;const _0xa32a85=_0x58ad9f[_0x5aa995(0x168,0x167,0x127,0x141)](-0x1788+-0x55+0x17dd,_0x53fa5a)[_0x5aa995(0x8a,0xf9,0x90,0x122)](),_0x5b60b9=_0x58ad9f[_0x25d046(0x138,0x17e,0x25b,0x1d9)](_0x12ba7e[_0x25d046(0xc5,0x5b,0xb1,0x9c)](_0x53fa5a,0x1d4b*-0x1+0x1*-0xdb4+0x2b00))['trim']();if(_0x1fe214[_0xa32a85]){if(_0x12ba7e[_0x5aa995(0xec,0x11c,0x151,0x65)](_0x12ba7e[_0x5aa995(0x55,0x2d,-0x1c,-0x7a)],_0x5aa995(0x136,0xe2,0x6a,0x118))){if(_0x12ba7e[_0x5aa995(0x69,0xc8,0x123,0x1b)](_0x2615dc['id'],_0x4aa095))return;_0x12ba7e[_0x5aa995(0xf4,0x16a,0x14d,0x76)](_0xc42db7),_0x57e2a6['success']?_0x12ba7e[_0x25d046(-0x20,0x5,0x12,0xc7)](_0x27fa28,_0x6538d1[_0x5aa995(0x14d,0x172,0xf0,0xc9)]):_0x3ec5bb(new _0xdf717c(_0x399188[_0x5aa995(0x14d,0xb1,0x111,0x1df)]||_0x12ba7e['FFVNx']));}else _0x1722a7[_0x1fe214[_0xa32a85]]=_0x5b60b9;}else _0xa32a85&&_0x5b60b9&&console[_0x25d046(0x10f,0x135,0x176,0x1e6)](_0x25d046(0x81,0x131,0x1aa,0x7e)+_0x25d046(-0x6a,0x32,0x5d,0x39)+_0x25d046(0x86,0x5f,-0x72,0x9c)+_0x5aa995(0x121,0x1a6,0xfc,0x1d7)+_0xa32a85+'\x22');}if(!_0x1722a7[_0x5aa995(0xf9,0xdb,0x19,0xf1)])return null;return console['log'](_0x5aa995(0x11b,0x1ee,0x19b,0x42)+_0x5aa995(0x1c,0x62,0xd,0x49)+_0x5aa995(0xf8,0x9d,0x100,0xcc)+_0x5aa995(0x8,-0x6,0xb5,-0x82),_0x1722a7),_0x1722a7;}function parseOutfitData(_0x4d54ea){const _0x132b50={};_0x132b50[_0x12d022(0x5f6,0x5d3,0x568,0x500)]=_0x11fad1(0x569,0x4f4,0x5ce,0x4ff)+_0x11fad1(0x62e,0x575,0x577,0x5aa),_0x132b50['qilWk']=_0x11fad1(0x56e,0x60e,0x631,0x618)+_0x12d022(0x4ff,0x4e7,0x53e,0x5d4)+_0x12d022(0x55a,0x670,0x590,0x5bf)+_0x12d022(0x5c7,0x693,0x61c,0x564)+_0x12d022(0x620,0x648,0x5d0,0x605)+_0x11fad1(0x4f3,0x681,0x65d,0x5b9),_0x132b50[_0x12d022(0x55a,0x4ef,0x5c0,0x539)]=_0x11fad1(0x4c4,0x495,0x420,0x4f6),_0x132b50['kNERv']='nameCN',_0x132b50[_0x11fad1(0x57e,0x6ba,0x657,0x5e6)]='nameEN',_0x132b50[_0x12d022(0x602,0x563,0x5d2,0x59d)]=_0x11fad1(0x58d,0x567,0x60c,0x63a),_0x132b50[_0x11fad1(0x5c0,0x4ad,0x5d4,0x565)]='fullBody',_0x132b50[_0x11fad1(0x5fe,0x553,0x5fe,0x5da)]=_0x12d022(0x6d2,0x6cb,0x632,0x6e2)+'ck',_0x132b50[_0x11fad1(0x529,0x55e,0x52b,0x59a)]=function(_0xc39ca7,_0x7e11f5){return _0xc39ca7===_0x7e11f5;},_0x132b50[_0x11fad1(0x67e,0x53c,0x61a,0x5f2)]=function(_0x40df32,_0x47f937){return _0x40df32+_0x47f937;},_0x132b50['BvAkr']=_0x11fad1(0x5a4,0x5bb,0x49f,0x4ed),_0x132b50[_0x11fad1(0x63a,0x592,0x563,0x641)]=function(_0x47110c,_0x50fb8f){return _0x47110c===_0x50fb8f;},_0x132b50[_0x12d022(0x568,0x500,0x52c,0x49d)]='ZhnEn',_0x132b50[_0x12d022(0x524,0x555,0x503,0x568)]=_0x11fad1(0x632,0x61b,0x549,0x618)+_0x11fad1(0x4dc,0x55e,0x54d,0x519)+_0x11fad1(0x505,0x455,0x4df,0x4dd)+_0x11fad1(0x50a,0x59d,0x4d6,0x505);const _0x9ec2b=_0x132b50,_0x46b6c0=_0x4d54ea[_0x11fad1(0x4d2,0x402,0x475,0x4bf)]('\x0a')[_0x12d022(0x4ff,0x556,0x4fd,0x431)](_0x3b2708=>_0x3b2708['trim']())[_0x11fad1(0x5d4,0x676,0x5ad,0x603)](_0x42bb54=>_0x42bb54),_0x3c0239={};_0x3c0239[_0x11fad1(0x534,0x5f9,0x5d1,0x5f6)]='',_0x3c0239[_0x11fad1(0x51f,0x48d,0x4c9,0x4e5)]='',_0x3c0239[_0x12d022(0x467,0x5c9,0x51b,0x517)]='',_0x3c0239[_0x12d022(0x6f5,0x695,0x65f,0x686)]='',_0x3c0239[_0x12d022(0x511,0x62d,0x5f2,0x5ef)+_0x12d022(0x5e5,0x6d0,0x623,0x602)]='',_0x3c0239[_0x12d022(0x562,0x639,0x57d,0x63c)]='',_0x3c0239['fullBodyBa'+'ck']='';function _0x11fad1(_0x4f894d,_0x2ad5d1,_0x3eac8d,_0x2bd1dd){return _0x17bd63(_0x2bd1dd-0x509,_0x4f894d,_0x3eac8d-0xb8,_0x2bd1dd-0xc4);}const _0x41225e=_0x3c0239,_0x277a15={};_0x277a15[_0x12d022(0x584,0x5da,0x664,0x62f)]=_0x9ec2b[_0x11fad1(0x672,0x5a4,0x4c9,0x59b)],_0x277a15['中文名称']=_0x9ec2b['kNERv'];function _0x12d022(_0xc6393a,_0x469eec,_0x2e1029,_0x4642b6){return _0x17bd63(_0x2e1029-0x52e,_0x469eec,_0x2e1029-0x1d0,_0x4642b6-0xed);}_0x277a15[_0x11fad1(0x488,0x5d3,0x498,0x559)]=_0x9ec2b[_0x12d022(0x5b5,0x671,0x60b,0x5f7)],_0x277a15[_0x11fad1(0x4d4,0x5bf,0x515,0x530)]=_0x9ec2b['naCik'],_0x277a15[_0x11fad1(0x475,0x5a4,0x482,0x520)]=_0x11fad1(0x603,0x674,0x61b,0x5cd)+'ack',_0x277a15[_0x11fad1(0x54c,0x5ae,0x47f,0x4f2)]=_0x9ec2b['WkMza'],_0x277a15[_0x12d022(0x491,0x44b,0x4eb,0x543)]=_0x9ec2b[_0x11fad1(0x5c8,0x679,0x5bc,0x5da)];const _0x24f4e9=_0x277a15;for(const _0x2289e9 of _0x46b6c0){const _0x4cdafa=_0x2289e9[_0x11fad1(0x6a9,0x61a,0x677,0x5d2)](':');if(_0x9ec2b['JRWLw'](_0x4cdafa,-(-0x24fb+-0x1454+0x3950)))continue;const _0x44120b=_0x2289e9[_0x11fad1(0x5c1,0x60d,0x621,0x665)](0x5*-0x67a+0x3*0xf7+0x1d7d,_0x4cdafa)[_0x11fad1(0x578,0x5bf,0x5f9,0x587)](),_0x14327e=_0x2289e9[_0x12d022(0x5fc,0x649,0x68a,0x5f9)](_0x9ec2b['ETCdX'](_0x4cdafa,0x4c3+-0x1443+0xf81))[_0x12d022(0x546,0x611,0x5ac,0x646)]();if(_0x24f4e9[_0x44120b])_0x41225e[_0x24f4e9[_0x44120b]]=_0x14327e;else{if(_0x44120b&&_0x14327e){if(_0x9ec2b[_0x12d022(0x5db,0x6d3,0x652,0x5e8)]!==_0x12d022(0x507,0x589,0x512,0x4e4)){_0x2e491d[_0x12d022(0x5cd,0x45a,0x52d,0x45f)](_0x9ec2b[_0x12d022(0x55c,0x5ea,0x568,0x4fc)]),_0x3337c5[_0x11fad1(0x68c,0x65a,0x6f4,0x61c)]('[character'+_0x12d022(0x50b,0x60e,0x53e,0x5fc)+_0x12d022(0x4f2,0x50e,0x575,0x543)+'racter/out'+_0x11fad1(0x509,0x556,0x557,0x59d)+_0x11fad1(0x481,0x516,0x502,0x4d6)+_0x12d022(0x692,0x5c9,0x63b,0x70b)),_0x1a4040[_0x12d022(0x6b2,0x629,0x641,0x593)](_0x9ec2b['qilWk'],_0x43066f);return;}else console['log'](_0x11fad1(0x6f1,0x6a2,0x6cf,0x618)+_0x12d022(0x4b6,0x557,0x53e,0x5a2)+'fy]\x20未识别的服装'+_0x11fad1(0x6d1,0x553,0x5ed,0x61e)+_0x44120b+'\x22');}}}if(!_0x41225e[_0x11fad1(0x595,0x5ff,0x5f3,0x5f6)])return _0x9ec2b[_0x12d022(0x720,0x600,0x666,0x740)](_0x9ec2b[_0x11fad1(0x4ec,0x552,0x48c,0x507)],_0x9ec2b[_0x12d022(0x601,0x4fd,0x52c,0x46f)])?null:null;return console[_0x12d022(0x6ad,0x580,0x641,0x723)](_0x9ec2b['XxFne'],_0x41225e),_0x41225e;}function extractCharacterAndOutfitTags(_0x1779cb){const _0x24b37f={'UALgT':function(_0x10c4b6,_0xd016fc,_0x1951aa,_0x2a9c74,_0x43032a){return _0x10c4b6(_0xd016fc,_0x1951aa,_0x2a9c74,_0x43032a);},'MCxFC':_0x55f634(0x45e,0x2c5,0x40c,0x391),'pfFyq':_0x55f634(0x392,0x4e2,0x431,0x461)+_0x55f634(0x319,0x332,0x2e0,0x362)+_0x1fe769(0x104,0xa2,0xd2,0xaf)+'ed','BCLfy':_0x55f634(0x498,0x3bf,0x4eb,0x491)+'message\x20at'+_0x1fe769(0x1c0,0x185,0x129,0x1d6),'mifBU':_0x1fe769(0x219,0x236,0x1f9,0x231),'tBDNM':function(_0x5a5618,_0x1aaf05){return _0x5a5618!==_0x1aaf05;},'URFBy':function(_0x2638c4,_0x691399){return _0x2638c4(_0x691399);},'dhpeW':_0x1fe769(0x2a7,0x2b1,0x238,0x170),'zTFTp':function(_0x41326a,_0x4c924b){return _0x41326a===_0x4c924b;},'jnZFp':function(_0x16f78c,_0x33ed02){return _0x16f78c(_0x33ed02);},'dVMtR':function(_0x517df6,_0x2d8585){return _0x517df6===_0x2d8585;},'wrgiT':_0x1fe769(0x136,0xcc,0x168,0x111),'WWgMB':_0x55f634(0x422,0x2b9,0x418,0x352),'VJEeb':_0x55f634(0x495,0x3f9,0x391,0x466),'GUADW':_0x55f634(0x2f9,0x45c,0x3bb,0x3d6)},_0x3a3131=[];function _0x1fe769(_0x248dd3,_0x2a53a5,_0x366da3,_0x25a7f8){return _0x17bd63(_0x366da3-0xe8,_0x25a7f8,_0x366da3-0x150,_0x25a7f8-0xa2);}_0x1779cb=_0x1779cb['replace'](/<thinking>[\s\S]*?<\/thinking>/gi,'')['trim']();const _0x46df58=/<(人物|服装)>([\s\S]*?)<\/\1>/g;let _0x43e492;while(_0x24b37f[_0x1fe769(0x178,0x1f6,0x178,0x1ff)](_0x43e492=_0x46df58[_0x1fe769(0x233,0x235,0x248,0x256)](_0x1779cb),null)){const _0x256b78=_0x43e492[0x4e*0x1f+0x1e2*0x10+-0x2791],_0x501f36=_0x24b37f['URFBy'](preprocessTagContent,_0x43e492[-0x13a1+0x2221+-0x35*0x46]),_0x887886=_0x43e492[_0x1fe769(0x62,0xc0,0x107,0x128)];if(_0x256b78==='人物'){const _0x38cc33=_0x24b37f[_0x1fe769(0x191,0x17e,0x233,0x189)](parseCharacterData,_0x501f36);if(_0x38cc33){const _0x243f8f={};_0x243f8f['type']=_0x24b37f['dhpeW'],_0x243f8f[_0x1fe769(0xcb,0xe7,0xb4,0xbc)]=_0x38cc33,_0x243f8f['position']=_0x887886,_0x243f8f[_0x55f634(0x49a,0x3d7,0x380,0x3d9)+'fits']=[],_0x3a3131[_0x1fe769(0x135,0xf6,0xa8,-0x25)](_0x243f8f);}}else{if(_0x24b37f[_0x55f634(0x446,0x4a9,0x469,0x44d)](_0x256b78,'服装')){const _0x1e73fb=_0x24b37f[_0x55f634(0x4c7,0x415,0x447,0x436)](parseOutfitData,_0x501f36);if(_0x1e73fb){const _0x14e8fc={};_0x14e8fc[_0x55f634(0x2af,0x3e3,0x3e2,0x377)]=_0x1fe769(0x176,0x13d,0xe8,0xeb),_0x14e8fc[_0x1fe769(0x11b,0xd1,0xb4,0x17b)]=_0x1e73fb,_0x14e8fc[_0x55f634(0x49b,0x51e,0x4cd,0x4ac)]=_0x887886,_0x3a3131[_0x1fe769(0x106,0x161,0xa8,0x1f)](_0x14e8fc);}}}}_0x3a3131['sort']((_0x492728,_0x289790)=>_0x492728[_0x1fe769(0x16e,0x2de,0x242,0x316)]-_0x289790['position']);let _0x47f8c7=null;const _0x3ba3bd=[],_0x3afefb=[];for(const _0xd8b093 of _0x3a3131){if(_0x24b37f[_0x55f634(0x401,0x545,0x4ed,0x4b0)](_0x24b37f[_0x55f634(0x230,0x28d,0x272,0x300)],_0x24b37f[_0x1fe769(0x10d,0x5a,0x96,0xbb)])){if(_0xd8b093[_0x55f634(0x356,0x2ea,0x3aa,0x377)]===_0x24b37f[_0x1fe769(0x2f2,0x1dc,0x224,0x237)])_0x47f8c7=_0xd8b093,_0x3ba3bd[_0x1fe769(0x5c,0xb2,0xa8,0x117)](_0xd8b093);else _0xd8b093[_0x55f634(0x32d,0x415,0x2df,0x377)]===_0x24b37f[_0x55f634(0x443,0x410,0x452,0x3fe)]&&(_0x47f8c7?_0x24b37f[_0x55f634(0x4a8,0x34f,0x340,0x3f9)]===_0x24b37f[_0x1fe769(0xe2,0x219,0x148,0x11f)]?(_0x205625=_0x24b37f['UALgT'](_0x3e6225,_0x40d87b,_0x16b4c0,_0x583a00,_0x24b37f[_0x1fe769(0x176,0x3c,0xa1,0xe0)]),_0x3b84fa[_0x55f634(0x498,0x472,0x46f,0x465)](_0x24b37f[_0x55f634(0x30c,0x329,0x338,0x3ac)],_0x4db685[_0x1fe769(0x135,0x58,0x139,0x213)],_0x24b37f[_0x1fe769(0x22f,0x178,0x1be,0x124)],_0x5c9746)):_0x47f8c7[_0x1fe769(0xa0,0x191,0x16f,0xe1)+_0x1fe769(0x1d6,0x170,0x103,0x36)][_0x1fe769(0xa2,0x8b,0xa8,0xba)](_0xd8b093[_0x1fe769(0xc8,0x102,0xb4,0x181)]):_0x3afefb['push'](_0xd8b093[_0x55f634(0x3d1,0x3ba,0x374,0x31e)]));}else{const _0x29f119=_0x56560f['data'];let _0x3cb63e=_0x24b37f['mifBU'];return _0x3cb63e+=_0x1fe769(0x21a,0x19a,0x19d,0x13b)+(_0x29f119[_0x1fe769(0x1e0,0x135,0x1d5,0x1a9)]||'')+'\x0a',_0x3cb63e+=_0x1fe769(0x1d0,0x1c8,0x187,0xc1)+(_0x29f119[_0x1fe769(0x34,0x180,0xc4,0x81)]||'')+'\x0a',_0x3cb63e+=_0x55f634(0x328,0x2e8,0x3f8,0x384)+(_0x29f119[_0x55f634(0x2fc,0x3f2,0x26a,0x32d)+_0x55f634(0x30a,0x3e7,0x307,0x3c7)]||'')+'\x0a',_0x3cb63e+='五官外貌:\x20'+(_0x29f119[_0x1fe769(0x2e,0xa4,0x9b,0x2d)+'ures']||'')+'\x0a',_0x3cb63e+=_0x1fe769(0x69,0x164,0xbb,0x14c)+(_0x29f119[_0x55f634(0x24c,0x3e3,0x2ba,0x305)+_0x1fe769(0x1f,0x40,0x99,0x117)]||'')+'\x0a',_0x3cb63e+=_0x55f634(0x4df,0x4c6,0x3de,0x46f)+(_0x29f119[_0x1fe769(0x157,0x7d,0xa9,0x164)+'FW']||'')+'\x0a',_0x3cb63e+=_0x55f634(0x3a6,0x393,0x2a0,0x35d)+(_0x29f119[_0x55f634(0x31c,0x386,0x30d,0x313)+_0x55f634(0x34e,0x2a6,0x360,0x34d)]||'')+'\x0a',_0x3cb63e+=_0x1fe769(0x28b,0x223,0x1e6,0x23e)+(_0x29f119[_0x1fe769(0x146,0x109,0xd8,0xf7)+'W']||'')+'\x0a',_0x3cb63e+=_0x55f634(0x3d9,0x3f6,0x477,0x4af)+(_0x29f119[_0x1fe769(0x127,0xf4,0xd8,0x172)+_0x55f634(0x46d,0x49c,0x345,0x3c3)]||'')+'\x0a',_0x3cb63e+='上半身NSFW:\x20'+(_0x29f119[_0x55f634(0x397,0x3c7,0x4c9,0x431)+'SFW']||'')+'\x0a',_0x3cb63e+='上半身NSFW背面:'+'\x20'+(_0x29f119['upperBodyN'+_0x55f634(0x3c9,0x3e3,0x384,0x3dd)]||'')+'\x0a',_0x3cb63e+=_0x55f634(0x337,0x352,0x450,0x412)+(_0x29f119[_0x1fe769(0x2d,0x88,0xe1,0xd5)+'FW']||'')+'\x0a',_0x3cb63e+=_0x1fe769(0x62,0x55,0xc5,0xc9)+'\x20'+(_0x29f119[_0x55f634(0x394,0x2d2,0x38e,0x34b)+'FWBack']||'')+'\x0a',_0x3cb63e+=_0x1fe769(0x11,0xc9,0xd9,0xce),_0x3cb63e;}}function _0x55f634(_0x4d02f3,_0x2f7b2a,_0x4103ad,_0x28caa1){return _0x17bd63(_0x28caa1-0x352,_0x2f7b2a,_0x4103ad-0x99,_0x28caa1-0x72);}return{'characters':_0x3ba3bd['map'](_0x1422cb=>({..._0x1422cb[_0x1fe769(-0x24,0x72,0xb4,-0xb)],'matchedOutfits':_0x1422cb[_0x55f634(0x451,0x452,0x3e3,0x3d9)+_0x1fe769(0x1dc,0x1b7,0x103,0x177)]})),'outfits':_0x3afefb};}function getCurrentCharacterPreset(){const _0x42d06c=extension_settings[extensionName],_0x3b4e4a=_0x42d06c[_0x4b2454(0x4e,0xf6,0x4d,0x11b)+_0x12153a(0x44a,0x50a,0x3d7,0x43d)];if(!_0x3b4e4a||!_0x42d06c[_0x4b2454(0x16e,0x115,0x13e,0x11b)+_0x4b2454(0xfa,0x172,0xc9,0xcb)][_0x3b4e4a])return null;const _0x2470e2={};_0x2470e2['id']=_0x3b4e4a;function _0x12153a(_0xd5b5f8,_0x57567e,_0x3b5b16,_0x51679e){return _0x17bd63(_0xd5b5f8-0x3ce,_0x3b5b16,_0x3b5b16-0xb0,_0x51679e-0x124);}function _0x4b2454(_0x41f3b0,_0x4e5e98,_0x13ff69,_0x28ad4e){return _0x17bd63(_0x28ad4e-0xf1,_0x13ff69,_0x13ff69-0xe,_0x28ad4e-0x7d);}return _0x2470e2[_0x12153a(0x39a,0x2d2,0x30b,0x33c)]=_0x42d06c[_0x12153a(0x3f8,0x322,0x4d8,0x495)+_0x12153a(0x3a8,0x37a,0x2c8,0x3fe)][_0x3b4e4a],_0x2470e2;}function buildCharacterText(_0x459dd9){const _0x197b95={};function _0x29f8a8(_0x217b53,_0x469ef2,_0xb9d251,_0x35fdb3){return _0x17bd63(_0x469ef2-0x615,_0x217b53,_0xb9d251-0x1ee,_0x35fdb3-0x40);}_0x197b95['GEvVQ']=_0x2f3c42(0xe1,0x116,0x1a0,0xd4),_0x197b95[_0x29f8a8(0x82f,0x768,0x6f6,0x6b6)]=_0x2f3c42(0x8c,-0xa,-0x9e,-0x3e);const _0x16a874=_0x197b95,_0x7d68a3=_0x459dd9[_0x2f3c42(-0xfb,-0x2f,-0x53,0x67)];let _0x41bae9=_0x16a874[_0x29f8a8(0x634,0x68e,0x626,0x616)];_0x41bae9+=_0x2f3c42(0x9a,0xba,0x184,0x68)+(_0x7d68a3[_0x2f3c42(0x1bf,0xf2,0x26,0x1ba)]||'')+'\x0a',_0x41bae9+=_0x29f8a8(0x745,0x6b4,0x749,0x6f0)+(_0x7d68a3[_0x29f8a8(0x5dc,0x5f1,0x522,0x66c)]||'')+'\x0a',_0x41bae9+=_0x29f8a8(0x565,0x647,0x605,0x5f0)+(_0x7d68a3[_0x29f8a8(0x670,0x5f0,0x5f1,0x67f)+_0x2f3c42(0xff,0x7a,0xd3,0x25)]||'')+'\x0a',_0x41bae9+='五官外貌:\x20'+(_0x7d68a3[_0x2f3c42(-0xf,-0x48,-0xa5,-0x51)+_0x2f3c42(0x14e,0x153,0x87,0x200)]||'')+'\x0a',_0x41bae9+=_0x2f3c42(0x2d,-0x28,0x65,0xa)+(_0x7d68a3[_0x2f3c42(-0x35,-0x48,-0xc8,-0x26)+_0x29f8a8(0x53a,0x5c6,0x5a0,0x59e)]||'')+'\x0a',_0x41bae9+='上半身SFW:\x20'+(_0x7d68a3[_0x29f8a8(0x69c,0x5d6,0x578,0x6a7)+'FW']||'')+'\x0a',_0x41bae9+=_0x29f8a8(0x607,0x620,0x6dd,0x56d)+(_0x7d68a3[_0x2f3c42(0x33,-0x3a,-0x7d,-0xee)+'FWBack']||'')+'\x0a',_0x41bae9+=_0x2f3c42(0xa4,0x103,0x12c,0x120)+(_0x7d68a3[_0x29f8a8(0x55b,0x605,0x574,0x6bd)+'W']||'')+'\x0a';function _0x2f3c42(_0x55069b,_0xf45c92,_0x2e2c99,_0x294d0b){return _0x17bd63(_0xf45c92-0x5,_0x2e2c99,_0x2e2c99-0x10a,_0x294d0b-0x1b2);}return _0x41bae9+=_0x29f8a8(0x70f,0x772,0x7bd,0x772)+(_0x7d68a3[_0x2f3c42(0x6d,-0xb,0x87,-0x75)+_0x2f3c42(-0xa,0x76,0x5c,0xd2)]||'')+'\x0a',_0x41bae9+='上半身NSFW:\x20'+(_0x7d68a3[_0x2f3c42(0x186,0xe4,0x122,0x166)+_0x29f8a8(0x656,0x6ea,0x652,0x681)]||'')+'\x0a',_0x41bae9+='上半身NSFW背面:'+'\x20'+(_0x7d68a3[_0x2f3c42(0x9f,0xe4,0x17,0x8e)+'SFWBack']||'')+'\x0a',_0x41bae9+='下半身NSFW:\x20'+(_0x7d68a3[_0x29f8a8(0x5a7,0x60e,0x555,0x623)+'FW']||'')+'\x0a',_0x41bae9+='下半身NSFW背面:'+'\x20'+(_0x7d68a3[_0x2f3c42(0xbd,-0x2,-0xd0,0x51)+_0x2f3c42(-0xa8,0x0,-0x50,-0xd3)]||'')+'\x0a',_0x41bae9+=_0x16a874['iwWDb'],_0x41bae9;}export async function handleCharacterPromptModify(_0x25833b,_0x47dbc5=[]){function _0x5e2388(_0x5b49fe,_0x3f0ba5,_0x54994a,_0xbf1920){return _0x17bd63(_0x54994a-0x10d,_0x5b49fe,_0x54994a-0x40,_0xbf1920-0xac);}const _0x5abd63={'CEFcx':_0x4e617d(0x649,0x732,0x72b,0x701)+'+$','KqOEN':_0x4e617d(0x7b8,0x6d8,0x75e,0x6e8)+_0x5e2388(0x44,0x1b3,0x11d,0x15d)+_0x5e2388(0x19b,0x1b1,0x22b,0x1bf)+_0x4e617d(0x4f4,0x4f4,0x4c9,0x5a3)+'er\x20prompt\x20'+_0x5e2388(0x141,0x1af,0x1e4,0x188)+_0x5e2388(0x1ed,0x184,0x190,0x161),'LPmDQ':'[character'+_0x4e617d(0x577,0x519,0x580,0x5e9)+_0x4e617d(0x5a3,0x609,0x5fd,0x626)+'提示词修改请求...','rBFxy':function(_0x46ee67){return _0x46ee67();},'XdBpm':function(_0x244d1a){return _0x244d1a();},'IDhgT':_0x4e617d(0x685,0x68d,0x61b,0x614),'clbgf':_0x5e2388(0x28d,0x1e1,0x21c,0x238)+'PromptModi'+'fy]\x20Curren'+_0x5e2388(0xfa,0x21d,0x159,0xb0),'ofLqD':_0x4e617d(0x6b2,0x728,0x797,0x6e8)+_0x4e617d(0x62c,0x678,0x638,0x5e9)+_0x4e617d(0x688,0x666,0x6a0,0x650)+_0x4e617d(0x607,0x59c,0x613,0x631),'eyufM':_0x5e2388(0x228,0x2dd,0x21c,0x1b4)+'PromptModi'+_0x4e617d(0x571,0x5b6,0x595,0x650)+_0x5e2388(0x1eb,0x19f,0x1f4,0x28f)+':','JKtka':_0x5e2388(0x189,0x235,0x21c,0x159)+'PromptModi'+_0x4e617d(0x61a,0x6f1,0x6b0,0x650)+_0x5e2388(0x10a,0xd4,0xc5,0x19a),'mDsoD':function(_0xde6849,_0x12b6ad){return _0xde6849||_0x12b6ad;},'UWkXT':function(_0x7cb88c,_0x4461dc){return _0x7cb88c!==_0x4461dc;},'iVSAA':_0x5e2388(0x16f,0x26d,0x1dc,0x1aa),'BEere':_0x5e2388(0x199,0xcc,0xc4,0x5b),'iUdpJ':_0x5e2388(0x143,0x241,0x21c,0x1ba)+_0x5e2388(0x1f7,0x1ba,0x11d,0x51)+'fy]\x20Charac'+_0x4e617d(0x756,0x78f,0x79f,0x712)+_0x4e617d(0x6ae,0x6e0,0x60a,0x663),'ZFobI':function(_0x1d1e41,_0x4f8454,_0x2d91c9){return _0x1d1e41(_0x4f8454,_0x2d91c9);},'ySqZW':function(_0x2657ac,_0x5df653){return _0x2657ac(_0x5df653);},'WvrCW':_0x5e2388(0x268,0x221,0x21c,0x2b2)+'PromptModi'+_0x4e617d(0x605,0x682,0x654,0x5fb)+_0x5e2388(0x16f,0x7e,0x123,0x1b6)+_0x5e2388(0x72,0x125,0xba,0x153)+'ered):','FGpul':function(_0x5b3a6e,_0x31e4d3){return _0x5b3a6e(_0x31e4d3);},'gfOwd':_0x4e617d(0x774,0x75c,0x632,0x6e8)+_0x4e617d(0x674,0x605,0x558,0x5e9)+'fy]\x20合并相邻消息'+'后:','yyqbs':function(_0x537b9b,_0x34cc91,_0x55ad67){return _0x537b9b(_0x34cc91,_0x55ad67);},'TxSgE':_0x4e617d(0x5c6,0x59a,0x53a,0x5e5),'oLSWO':function(_0x2092e7,_0x27a31e,_0x16f66b,_0xf90277,_0x53bf85){return _0x2092e7(_0x27a31e,_0x16f66b,_0xf90277,_0x53bf85);},'wlKtK':_0x5e2388(0x314,0x290,0x26c,0x306),'NudJr':_0x5e2388(0x19c,0x2e6,0x21c,0x295)+_0x5e2388(0x117,0x10a,0x11d,0xc6)+_0x4e617d(0x774,0x70c,0x63c,0x717)+_0x5e2388(0xd6,0x100,0x10a,0x1b2),'NybUA':function(_0x567258,_0x1446cd){return _0x567258>_0x1446cd;},'Mxtah':function(_0x1af7b3,_0x3e9b3f){return _0x1af7b3>=_0x3e9b3f;},'NxfSA':_0x5e2388(0xf5,0x98,0x14c,0x1de),'YySjt':_0x4e617d(0x6fe,0x6f4,0x645,0x6e8)+_0x5e2388(0x125,0x131,0x11d,0x89)+_0x4e617d(0x57a,0x510,0x644,0x5c3)+'ed','cVpSy':_0x5e2388(0x232,0x147,0x21c,0x147)+'PromptModi'+_0x5e2388(0x225,0x262,0x23c,0x2d1)+_0x5e2388(0x47,0x193,0xbd,0x20),'qFLCL':_0x5e2388(0x113,0x14,0xdb,0xe8),'XGNbF':function(_0x5c2d89,_0x2f44fd){return _0x5c2d89(_0x2f44fd);},'LlEtj':function(_0x3f7ca5,_0x1ee5dd){return _0x3f7ca5===_0x1ee5dd;},'PNieA':function(_0x601765,_0x59bf9d){return _0x601765===_0x59bf9d;},'HJmna':function(_0x401926,_0x38618f){return _0x401926===_0x38618f;},'mQwdP':_0x4e617d(0x65e,0x7a0,0x6c2,0x721),'HWABK':_0x4e617d(0x592,0x612,0x5d1,0x5cf)+_0x4e617d(0x5d0,0x70e,0x5a3,0x67a),'GzDWb':_0x4e617d(0x710,0x64a,0x763,0x6e8)+'PromptModi'+_0x4e617d(0x68a,0x5f1,0x6f3,0x620)+'racter/out'+_0x4e617d(0x5e1,0x6b0,0x616,0x66d)+_0x4e617d(0x576,0x64c,0x66f,0x5a6)+_0x5e2388(0x2e8,0x180,0x21a,0x1b1),'xvlBA':_0x5e2388(0x1c3,0x2e3,0x21c,0x28b)+'PromptModi'+_0x4e617d(0x6ef,0x5e4,0x61c,0x63b)+_0x4e617d(0x6f8,0x7a2,0x770,0x6c7)+'or\x20debuggi'+_0x5e2388(0x113,0x177,0x1bd,0xef),'fKHYc':'[character'+_0x5e2388(0xc5,0xc1,0x11d,0x1cd)+'fy]\x20Extrac'+_0x4e617d(0x742,0x743,0x6f8,0x734),'hMUzJ':function(_0x231fa4,_0x2f70b7){return _0x231fa4>_0x2f70b7;},'DpmAg':_0x5e2388(0x1de,0x28c,0x1cb,0x1c4),'ivKYB':function(_0x14baf4,_0x14e1fb){return _0x14baf4!==_0x14e1fb;},'HFiMo':'qszOg','LusTn':function(_0x35a13e,_0x196592){return _0x35a13e>_0x196592;},'ceiFs':function(_0x53246c,_0x7c7125){return _0x53246c===_0x7c7125;},'cakqI':'bRpjy','obeJH':_0x4e617d(0x6cf,0x6e7,0x77a,0x6ff),'scUqc':_0x5e2388(0x154,0x13a,0x21c,0x161)+'PromptModi'+_0x4e617d(0x653,0x751,0x764,0x714)};function _0x4e617d(_0x3a6fe1,_0x4902d5,_0x49a198,_0x25d694){return _0x17bd63(_0x25d694-0x5d9,_0x49a198,_0x49a198-0x189,_0x25d694-0xa1);}console['log'](_0x5abd63[_0x5e2388(0x249,0xbf,0x19c,0xfb)]),toastr[_0x4e617d(0x670,0x591,0x665,0x61e)](_0x5abd63[_0x5e2388(0x2f2,0x1a6,0x23b,0x1da)]);try{const _0x27789f=_0x5abd63[_0x5e2388(0x20f,0x1d0,0x17c,0x258)](getContext),_0x11b5ed=extension_settings[extensionName],_0xc57fd3=_0x5abd63['XdBpm'](getCurrentCharacterPreset);if(!_0xc57fd3){toastr[_0x4e617d(0x55b,0x56f,0x557,0x5cc)](_0x5abd63[_0x5e2388(0x23d,0x2d1,0x227,0x21d)]);return;}console[_0x5e2388(0x1fb,0x269,0x220,0x2ba)](_0x5abd63[_0x5e2388(0x246,0x2af,0x1d0,0x264)],_0xc57fd3['id']);const _0x2ed1a8=_0xc57fd3[_0x4e617d(0x5ff,0x50d,0x503,0x5a5)][_0x5e2388(0x261,0x268,0x256,0x205)+'Context']||'',_0x2de1fc=_0xc57fd3['data'][_0x5e2388(0x1db,0x1c6,0x256,0x224)+'WorldBook']||'',_0x2ddd9a=_0xc57fd3['data'][_0x4e617d(0x71d,0x786,0x762,0x722)+_0x4e617d(0x677,0x5b3,0x62e,0x60e)]||{};console[_0x5e2388(0x1a3,0x1d5,0x220,0x284)](_0x5abd63[_0x4e617d(0x6c6,0x5eb,0x690,0x5e6)],_0x2ed1a8),console[_0x4e617d(0x752,0x6e5,0x664,0x6ec)](_0x5abd63[_0x5e2388(0x2b2,0x2ba,0x1e6,0x162)],_0x2de1fc),console['log'](_0x5abd63[_0x5e2388(0xf5,0x184,0x114,0x36)],_0x2ddd9a);const _0x4deced=_0x5abd63['mDsoD'](_0x25833b,''),_0x2f1536=[];_0x25833b&&_0x2f1536[_0x5e2388(0x16b,0x142,0xcd,0x187)](_0x25833b);_0x2ed1a8&&_0x2f1536[_0x5e2388(0x4b,0x3f,0xcd,-0x1)](_0x2ed1a8);_0x2de1fc&&(_0x5abd63['UWkXT'](_0x5abd63[_0x4e617d(0x650,0x5cc,0x6d6,0x61d)],_0x5abd63[_0x5e2388(0x15c,0x194,0x1cc,0x22a)])?_0x2f1536['push'](_0x2de1fc):(_0x4bba6d=_0x2c254a,_0x4a0234['push'](_0x3605d3)));const _0x4ef0a2=_0x2f1536[_0x4e617d(0x597,0x6d6,0x729,0x65a)]('\x0a');console[_0x4e617d(0x637,0x678,0x652,0x6ec)](_0x5abd63[_0x5e2388(0x13e,0x109,0x196,0x20a)],_0x4ef0a2);let _0xce1652=_0x5abd63[_0x5e2388(0x19b,0x194,0x1ba,0x27e)](buildPromptForRequestType,'char_modif'+'y',_0x4deced);const _0x1af12b=_0x5abd63[_0x4e617d(0x529,0x50d,0x504,0x5ab)](generateCharacterListText,_0x4ef0a2),_0x1c5c15=generateOutfitEnableListText(),_0x471067=generateCommonCharacterListText();console[_0x5e2388(0x202,0x22b,0x220,0x206)](_0x5abd63[_0x4e617d(0x6be,0x65a,0x67a,0x610)],_0x1af12b);const _0x42c134=_0x27789f['chatMetada'+'ta']?.[_0x5e2388(0x176,0x231,0x22f,0x2f8)]||{},_0x2d7818=_0x5abd63['FGpul'](buildCharacterText,_0xc57fd3);_0xce1652=_0x5abd63[_0x5e2388(0x1ba,0x61,0xdf,0x1a5)](mergeAdjacentMessages,_0xce1652),console[_0x5e2388(0x23d,0x288,0x220,0x2e1)](_0x5abd63['gfOwd'],_0xce1652);const _0x238da5=_0x5abd63[_0x4e617d(0x6d3,0x80c,0x786,0x72a)](findMessageIndexWithPlaceholder,_0xce1652,_0x5abd63[_0x4e617d(0x6bd,0x5e0,0x6e1,0x67f)]);console[_0x4e617d(0x7ca,0x666,0x74a,0x6ec)](_0x4e617d(0x728,0x637,0x661,0x6e8)+_0x4e617d(0x664,0x510,0x6b7,0x5e9)+_0x5e2388(0x2e2,0x1c0,0x241,0x2b5)+_0x4e617d(0x55e,0x61b,0x621,0x595)+'\x20message\x20i'+_0x4e617d(0x751,0x5ed,0x69b,0x671),_0x238da5);const _0x1f270d={..._0x2ddd9a,..._0x42c134},_0xf69ddf={};_0xf69ddf[_0x4e617d(0x6cd,0x68f,0x679,0x688)]=_0x2ed1a8,_0xf69ddf[_0x4e617d(0x65c,0x766,0x66e,0x6e3)+_0x4e617d(0x653,0x6c3,0x5f5,0x6cf)]=_0x2de1fc,_0xf69ddf[_0x4e617d(0x796,0x73c,0x7bb,0x6fb)]=_0x1f270d,_0xf69ddf['userDemand']=_0x25833b||'',_0xf69ddf[_0x4e617d(0x715,0x5f0,0x65e,0x6d0)+_0x5e2388(0x299,0x1a3,0x1cf,0x21c)]=_0x1af12b,_0xf69ddf[_0x4e617d(0x6be,0x784,0x605,0x6bc)+_0x4e617d(0x4f6,0x53b,0x594,0x5c8)]=_0x1c5c15,_0xf69ddf[_0x4e617d(0x604,0x4ff,0x50e,0x57c)+_0x4e617d(0x6ee,0x639,0x6d9,0x6f9)+_0x5e2388(0x275,0x131,0x1b8,0x298)]=_0x471067;const _0x8444ec=_0xf69ddf,{messages:_0xd9499a,replacedVariables:_0x245d6f}=replaceAllPlaceholders(_0xce1652,_0x8444ec);_0xce1652=_0xd9499a,_0xce1652=_0x5abd63['oLSWO'](_0x10fc3d,_0xce1652,_0x5abd63[_0x5e2388(0x1c3,0x151,0x1fd,0x1f9)],_0x2d7818,_0x245d6f),console[_0x4e617d(0x6bb,0x6ee,0x7b5,0x6ec)](_0x5abd63[_0x4e617d(0x547,0x5a8,0x622,0x5a2)],_0xce1652);let _0x355662='';_0x5abd63['NybUA'](_0x245d6f[_0x5e2388(0xf1,0x2e,0xf5,0x1a6)],0x5ec*-0x2+0x1deb+-0x1213)&&(_0x355662=_0x5e2388(0xfc,0xc8,0x173,0x1f8)+_0x5e2388(0x56,0x17f,0xbc,0x89)+[..._0x245d6f]['join']('、')+'\x0a');_0x47dbc5&&_0x47dbc5[_0x5e2388(0x211,0x19d,0x15e,0xd9)]>-0x1b9a*-0x1+-0x1ab4+-0xe6&&_0x5abd63['Mxtah'](_0x238da5,-0x10bb+0xcee+0x3cd)&&(_0xce1652=_0x5abd63['oLSWO'](attachImagesToMessage,_0xce1652,_0x238da5,_0x47dbc5,_0x5abd63[_0x5e2388(-0x15,0x18c,0xc7,0x82)]),console[_0x4e617d(0x75d,0x736,0x7a3,0x6ec)](_0x5abd63[_0x4e617d(0x66f,0x673,0x71a,0x72f)],_0x47dbc5[_0x5e2388(0x1cf,0x1f0,0x15e,0x17d)],_0x5e2388(0x284,0x32a,0x24c,0x17c)+_0x5e2388(0x18b,0x24d,0x20c,0x269)+'\x20index',_0x238da5));_0x5abd63[_0x5e2388(0x1a7,0x205,0x1ba,0x178)](updateCombinedPrompt,_0xce1652,_0x355662);const _0xb3eb78={};_0xb3eb78[_0x5e2388(0x5c,0x19a,0xe6,0x159)]=0x493e0;const _0x4d55a4=await _0x5abd63[_0x5e2388(0x1b4,0x324,0x25e,0x181)](LLM_CHAR_MODIFY,_0xce1652,_0xb3eb78);console[_0x5e2388(0x1e9,0x14c,0x220,0x181)](_0x5abd63[_0x4e617d(0x516,0x50d,0x5a4,0x5cb)],_0x4d55a4);if(!_0x4d55a4){toastr[_0x5e2388(0x4f,0xf0,0x100,0x191)](_0x5abd63[_0x5e2388(0x215,0x233,0x1c1,0x25e)]);return;}const _0x54d763=_0x5abd63[_0x5e2388(0x25f,0x26d,0x264,0x1d9)](extractCharacterAndOutfitTags,_0x4d55a4);if(_0x5abd63['LlEtj'](_0x54d763[_0x4e617d(0x67a,0x6d4,0x571,0x5fa)][_0x4e617d(0x6aa,0x5a9,0x5a1,0x62a)],0x255f*0x1+-0x124b+-0x1314)&&_0x5abd63[_0x4e617d(0x7bb,0x6bd,0x7d4,0x6f5)](_0x54d763[_0x5e2388(0x1ef,0x7e,0x13d,0x149)][_0x5e2388(0x218,0x17a,0x15e,0xeb)],-0x5*-0xb3+-0x20f5+0x1d76)){if(_0x5abd63['HJmna'](_0x5abd63[_0x5e2388(-0xe,0x174,0xd2,0x25)],_0x5abd63[_0x4e617d(0x50a,0x63d,0x5ae,0x59e)])){toastr['warning'](_0x5abd63[_0x5e2388(0x1ab,0x245,0x1f2,0x2c8)]),console[_0x5e2388(0x168,0x26a,0x220,0x217)](_0x5abd63[_0x4e617d(0x5ea,0x6ac,0x63c,0x5de)]),console[_0x4e617d(0x748,0x725,0x797,0x6ec)](_0x5abd63[_0x4e617d(0x6da,0x621,0x62c,0x645)],_0x4d55a4);return;}else _0x3bfa71[_0x1cae62]=_0x413d7b(_0x26d463[_0xb95284],_0x4545b7,_0x264fa3,_0x211c9b);}console[_0x5e2388(0x2ca,0x24e,0x220,0x153)](_0x5abd63['fKHYc'],_0x54d763);if(_0x5abd63['hMUzJ'](_0x54d763[_0x5e2388(0x13b,0x12e,0x12e,0x1a0)][_0x4e617d(0x6d4,0x6e8,0x5ab,0x62a)],0xce9+0x122c+-0x1f15)){const _0x546953=_0x54d763[_0x4e617d(0x678,0x6bc,0x699,0x5fa)][-0x1*0x1203+-0x209*0x11+-0x3c2*-0xe];await updateCharacterPresetFromLLM(_0xc57fd3['id'],_0x546953);}const _0x4ede69=[..._0x54d763[_0x5e2388(0x87,0x177,0x13d,0x18b)]];for(const _0x4139e6 of _0x54d763[_0x4e617d(0x57d,0x539,0x679,0x5fa)]){if(_0x5abd63[_0x5e2388(0x25e,0x109,0x1e1,0x251)](_0x4e617d(0x5d0,0x715,0x618,0x697),_0x5abd63['DpmAg']))return _0xa9b92b[_0x5e2388(0xd9,0x10b,0x113,0x18c)]()[_0x4e617d(0x74f,0x719,0x5cd,0x679)](VDecar[_0x4e617d(0x6db,0x622,0x755,0x6df)])[_0x5e2388(0x1ac,0x3b,0x113,0x68)]()['constructo'+'r'](_0x4a0d7b)[_0x5e2388(0x236,0x181,0x1ad,0x106)](VDecar[_0x5e2388(0x262,0x205,0x213,0x1ad)]);else _0x4139e6[_0x5e2388(0x19c,0x120,0x194,0x1ec)+_0x5e2388(0xdb,0xbf,0x128,0xcb)]&&_0x4139e6[_0x5e2388(0x25e,0x243,0x194,0x262)+_0x4e617d(0x5c0,0x615,0x69a,0x5f4)][_0x4e617d(0x69b,0x6d5,0x64e,0x62a)]>0x22af+0x118a+0x1cd*-0x1d&&(_0x5abd63[_0x4e617d(0x73a,0x6f4,0x718,0x682)](_0x4e617d(0x598,0x4d3,0x605,0x57e),_0x5abd63[_0x5e2388(0x3f,0x18c,0x107,0x10c)])?_0x4ede69[_0x5e2388(0x173,-0xf,0xcd,0x152)](..._0x4139e6[_0x4e617d(0x710,0x639,0x700,0x660)+_0x4e617d(0x67b,0x603,0x69e,0x5f4)]):_0x253e0d[_0x5e2388(0xaa,0x192,0xcd,0x3a)](_0x3a2f40));}_0x5abd63[_0x5e2388(0x318,0x2d4,0x23f,0x301)](_0x4ede69[_0x5e2388(0x168,0xaf,0x15e,0x9e)],0x10a2*-0x1+0x1292+-0x1f0)&&await _0x5abd63[_0x5e2388(0xae,0xff,0xdf,0x1b4)](updateOutfitPresetsFromLLM,_0x4ede69),toastr[_0x5e2388(0x48,0x3b,0xd3,0x66)]('角色/服装提示词修改'+_0x4e617d(0x656,0x78b,0x749,0x6dc));}catch(_0x4508b0){if(_0x5abd63['ceiFs'](_0x5abd63['cakqI'],_0x5abd63[_0x4e617d(0x5cd,0x5c3,0x4c4,0x598)])){if(_0x2d31c4){const _0x3fff53=_0x248e2d[_0x4e617d(0x690,0x5d0,0x733,0x6b1)](_0xeafa80,arguments);return _0x51613d=null,_0x3fff53;}}else console[_0x4e617d(0x522,0x661,0x679,0x5cc)](_0x5abd63[_0x5e2388(0x1af,0x24c,0x216,0x2eb)],_0x4508b0),toastr['error'](_0x4e617d(0x71d,0x673,0x603,0x6d1)+'\x20'+_0x4508b0[_0x4e617d(0x57a,0x581,0x5bc,0x59d)]);}}function _0x17bd63(_0x3d93e8,_0x59a552,_0x5e1b1a,_0x3d0a31){return _0x1a23(_0x3d93e8- -0x231,_0x59a552);}async function updateCharacterPresetFromLLM(_0xbad42d,_0x131448){const _0x1e1c28={'hvkfT':_0x278b5e(0x663,0x650,0x5e8,0x588),'baGup':function(_0x3a2ee1,_0x511052){return _0x3a2ee1(_0x511052);},'slYnh':_0x35945f(0x481,0x489,0x3cb,0x3ff)+'时','KorUa':function(_0x53760a,_0x5526cf){return _0x53760a!==_0x5526cf;},'TFTdy':function(_0x300bd2){return _0x300bd2();},'ewZns':_0x278b5e(0x505,0x4e5,0x4e0,0x521),'UJZQy':_0x35945f(0x4b2,0x4b5,0x42d,0x4f6),'wjooc':'英文名称','ZslLB':_0x278b5e(0x49d,0x3b4,0x48c,0x4f1),'qobyQ':_0x35945f(0x3b0,0x461,0x493,0x43e),'Owbdb':_0x278b5e(0x44f,0x47f,0x4ab,0x51c),'dZSqU':'上半身SFW背面','LCghN':_0x35945f(0x3fd,0x448,0x4f8,0x49d),'WfanX':_0x278b5e(0x3b5,0x425,0x469,0x3e1),'uNBSo':_0x35945f(0x57d,0x58f,0x5a0,0x50c),'yUydh':_0x278b5e(0x46b,0x537,0x51e,0x4b9),'BXVWx':_0x35945f(0x538,0x5e5,0x636,0x585),'LFlTc':function(_0x3db1a2,_0x50d6d9){return _0x3db1a2===_0x50d6d9;},'vWQBQ':_0x35945f(0x57a,0x4c4,0x3fd,0x4bf),'NqqTi':'iozkw','lkAQn':_0x278b5e(0x5d8,0x4d4,0x535,0x5c8)+'内容','kcQrO':'dYBBX','NLrGd':_0x278b5e(0x4c5,0x42c,0x456,0x4ee),'bwTtR':_0x278b5e(0x3fc,0x3b7,0x484,0x3e0),'uIphb':function(_0xa64b7e,_0xbd8414){return _0xa64b7e(_0xbd8414);},'qVvDH':_0x35945f(0x55d,0x4aa,0x4a7,0x456)+'-tab-chara'+_0x278b5e(0x494,0x4a6,0x486,0x3c6),'GgDTO':_0x35945f(0x464,0x4d8,0x3fa,0x4a3),'KLTby':_0x278b5e(0x441,0x4a3,0x443,0x3ef)},_0x3ef7cc=extension_settings[extensionName],_0x1bff1b=_0x3ef7cc[_0x278b5e(0x3e6,0x492,0x4c2,0x4c5)+_0x35945f(0x48e,0x45b,0x44b,0x432)][_0xbad42d];if(!_0x1bff1b){toastr['error'](_0x1e1c28[_0x35945f(0x50d,0x48a,0x45e,0x3e7)]);return;}const _0x4b10ab={};_0x4b10ab[_0x278b5e(0x565,0x4cb,0x585,0x629)]=_0x1e1c28['UJZQy'],_0x4b10ab[_0x35945f(0x528,0x45d,0x431,0x4a7)]=_0x1e1c28[_0x278b5e(0x4cf,0x627,0x58a,0x559)],_0x4b10ab[_0x35945f(0x3b0,0x45c,0x426,0x457)+_0x278b5e(0x5c9,0x5c3,0x50d,0x568)]=_0x1e1c28['ZslLB'],_0x4b10ab[_0x278b5e(0x3ef,0x47a,0x44b,0x38d)+_0x278b5e(0x605,0x555,0x5e6,0x5f5)]=_0x1e1c28[_0x35945f(0x438,0x43c,0x3e3,0x3b1)],_0x4b10ab[_0x35945f(0x3c6,0x434,0x459,0x36d)+_0x35945f(0x3ce,0x432,0x3f7,0x38f)]=_0x1e1c28['Owbdb'],_0x4b10ab['upperBodyS'+'FW']=_0x35945f(0x4c1,0x4f5,0x4a7,0x43f),_0x4b10ab[_0x278b5e(0x525,0x415,0x459,0x3ac)+_0x35945f(0x469,0x47c,0x40b,0x469)]=_0x1e1c28[_0x278b5e(0x4f2,0x615,0x59a,0x606)],_0x4b10ab[_0x278b5e(0x512,0x3d5,0x488,0x4f6)+'W']=_0x278b5e(0x5a3,0x533,0x5ed,0x530),_0x4b10ab[_0x278b5e(0x4c7,0x51d,0x488,0x537)+_0x278b5e(0x4bd,0x53e,0x509,0x587)]=_0x1e1c28['LCghN'],_0x4b10ab['upperBodyN'+_0x35945f(0x4ba,0x556,0x534,0x546)]='上半身NSFW',_0x4b10ab['upperBodyN'+_0x35945f(0x59d,0x50c,0x461,0x58e)]=_0x1e1c28['WfanX'],_0x4b10ab[_0x278b5e(0x441,0x411,0x491,0x50d)+'FW']=_0x1e1c28[_0x278b5e(0x539,0x53f,0x5ea,0x51c)],_0x4b10ab['fullBodyNS'+_0x278b5e(0x4cd,0x51b,0x493,0x563)]=_0x1e1c28['yUydh'];const _0x2fc3c5=_0x4b10ab;let _0x4105f3=-0x3*-0x347+0x8ed+-0x62*0x31;for(const _0xdcf565 in _0x2fc3c5){_0x1e1c28[_0x278b5e(0x5ee,0x6b0,0x5cf,0x593)]===_0x1e1c28[_0x35945f(0x51a,0x5b8,0x58e,0x573)]?_0x131448[_0xdcf565]&&_0x1e1c28[_0x35945f(0x536,0x4f1,0x59a,0x535)](_0x131448[_0xdcf565],_0x1bff1b[_0xdcf565])&&_0x4105f3++:_0x5d842a[_0x35945f(0x43c,0x441,0x3b0,0x48a)](..._0x1aecd4[_0x35945f(0x450,0x451,0x38e,0x4e2)]);}if(_0x4105f3===-0x6f7*0x5+0xebd+-0xa0b*-0x2){if(_0x1e1c28[_0x35945f(0x4dd,0x53d,0x5ab,0x497)](_0x1e1c28['vWQBQ'],_0x1e1c28[_0x278b5e(0x58d,0x5da,0x5e5,0x5cd)])){const _0x28dc2d=_0x179836(_0x37c050);if(_0x28dc2d){const _0x388ce0={};_0x388ce0[_0x35945f(0x4ae,0x4a6,0x4ac,0x504)]=_0x1e1c28[_0x278b5e(0x49a,0x4b0,0x4bc,0x445)],_0x388ce0[_0x278b5e(0x4a0,0x40c,0x464,0x38d)]=_0x28dc2d,_0x388ce0['position']=_0x244112,_0x388ce0[_0x278b5e(0x440,0x4a4,0x51f,0x5cc)+_0x35945f(0x41f,0x49c,0x4cc,0x45c)]=[],_0x3fcf03[_0x35945f(0x361,0x441,0x409,0x44c)](_0x388ce0);}}else{toastr['info'](_0x1e1c28[_0x278b5e(0x4e6,0x495,0x47f,0x475)]);return;}}const _0x556906='检测到角色\x20\x22'+_0xbad42d+_0x278b5e(0x3f1,0x494,0x48d,0x490)+_0x4105f3+_0x35945f(0x627,0x5c4,0x4ea,0x659),_0x5ba7f4=await _0x1e1c28[_0x35945f(0x59b,0x4f7,0x5b3,0x539)](stylishConfirm,_0x556906);if(!_0x5ba7f4){if(_0x1e1c28[_0x278b5e(0x5a1,0x439,0x508,0x49f)](_0x1e1c28[_0x278b5e(0x5a3,0x5ef,0x550,0x53d)],_0x1e1c28['NLrGd'])){toastr[_0x35945f(0x47c,0x4c6,0x43f,0x425)](_0x1e1c28[_0x278b5e(0x48e,0x4e9,0x563,0x5c8)]);return;}else _0x3de32c[_0x278b5e(0x457,0x4b5,0x458,0x397)](_0x39ac78);}for(const _0xbef1f5 in _0x2fc3c5){_0x131448[_0xbef1f5]&&(_0x1bff1b[_0xbef1f5]=_0x131448[_0xbef1f5]);}function _0x35945f(_0x54e240,_0xbe6260,_0xf651ad,_0x2ab501){return _0x17bd63(_0xbe6260-0x481,_0x54e240,_0xf651ad-0x12a,_0x2ab501-0x47);}function _0x278b5e(_0x5356ff,_0x28af0e,_0x62168,_0x3976af){return _0x17bd63(_0x62168-0x498,_0x3976af,_0x62168-0x187,_0x3976af-0x1ba);}_0x1e1c28['TFTdy'](saveSettingsDebounced);const _0x4a8287=_0x1e1c28['uIphb']($,_0x1e1c28[_0x35945f(0x534,0x54f,0x5f1,0x5f6)]);if(_0x4a8287[_0x278b5e(0x595,0x4e7,0x4e9,0x46a)]){if(_0x1e1c28[_0x278b5e(0x4e2,0x536,0x554,0x58a)](_0x1e1c28['GgDTO'],_0x1e1c28[_0x35945f(0x536,0x5e3,0x51f,0x665)])){const _0x4a497a={'cuPZC':function(_0x1665f3,_0x86038d){function _0xfb5ff5(_0x2b1ea7,_0x184da0,_0x2eb65b,_0x27f8bd){return _0x35945f(_0x2b1ea7,_0x2eb65b- -0xdd,_0x2eb65b-0x77,_0x27f8bd-0x11d);}return _0x1e1c28[_0xfb5ff5(0x410,0x3f6,0x41a,0x4b3)](_0x1665f3,_0x86038d);},'mGYBY':_0x1e1c28[_0x278b5e(0x54c,0x548,0x5f0,0x63e)],'NMGPI':function(_0x713746,_0x5986bc){function _0x4fc390(_0x1d0435,_0x43de6e,_0xd66a92,_0xee6952){return _0x278b5e(_0x1d0435-0x4,_0x43de6e-0xb2,_0x43de6e-0xf3,_0xee6952);}return _0x1e1c28[_0x4fc390(0x675,0x5fb,0x64e,0x53f)](_0x713746,_0x5986bc);},'UdjjH':function(_0x1e9f5b){function _0x23121f(_0x4d6595,_0x1127dd,_0x2009c1,_0x54fc83){return _0x35945f(_0x4d6595,_0x1127dd-0x48,_0x2009c1-0x1a2,_0x54fc83-0x6d);}return _0x1e1c28[_0x23121f(0x52c,0x513,0x450,0x506)](_0x1e9f5b);},'ynwsX':function(_0x107c5c,_0x2b6d3a,_0x13131e){return _0x107c5c(_0x2b6d3a,_0x13131e);}};return new _0x48e34c((_0x28ef8f,_0xc6e781)=>{const _0x488473={'nrvbR':function(_0x41a7fa,_0x20f449){function _0x16dcf1(_0x5d690d,_0x21a013,_0x2d5aca,_0x4b5f7c){return _0x1a23(_0x21a013-0x25b,_0x4b5f7c);}return _0x4a497a[_0x16dcf1(0x4b3,0x589,0x582,0x4e4)](_0x41a7fa,_0x20f449);},'yWPkI':function(_0xbf048b,_0x1856f2){return _0xbf048b(_0x1856f2);}},_0x3f7e88=_0x4a497a[_0x7a4f17(0x2a1,0x2f6,0x34e,0x2d1)](_0x45a8a7);_0x402c4f[_0x7a4f17(0x37c,0x380,0x32b,0x348)](_0x438065(0x1e,0x8,-0x69,-0x32)+_0x7a4f17(0x279,0x29d,0x223,0x25b)+_0x438065(-0x145,-0x141,-0x227,-0xe4)+_0x438065(-0x3a,0x42,-0x9c,-0xd7)+'modify\x20pro'+_0x438065(-0xd7,-0xd4,-0x151,-0xd6)+_0x3f7e88+')');const _0x593fdf=_0x128e2d=>{function _0x36796e(_0x1fa332,_0x20d2b2,_0x259f3c,_0x22e8d5){return _0x438065(_0x20d2b2-0x5ee,_0x20d2b2-0xc7,_0x259f3c-0x71,_0x22e8d5);}if(_0x488473[_0x443554(-0x37,0x83,-0x8e,-0x31)](_0x128e2d['id'],_0x3f7e88))return;_0x553b88[_0x443554(-0x4e,-0x13b,-0x1eb,-0x110)+'ener'](_0x5e3cdb['LLM_CHAR_M'+_0x443554(-0xb3,-0x140,-0x16d,-0xe9)+'PROMPT_RES'+'PONSE'],_0x593fdf);function _0x443554(_0x33b191,_0x9de37c,_0xfd5e27,_0x5e2b6c){return _0x438065(_0x5e2b6c- -0x80,_0x9de37c-0x53,_0xfd5e27-0x18d,_0x33b191);}_0x488473['yWPkI'](_0x28ef8f,_0x128e2d[_0x36796e(0x578,0x578,0x556,0x659)]);};function _0x438065(_0x34b415,_0x4428a7,_0x589c3d,_0x3a2c98){return _0x278b5e(_0x34b415-0x196,_0x4428a7-0x88,_0x34b415- -0x589,_0x3a2c98);}function _0x7a4f17(_0x2bc513,_0x39bd46,_0xedc103,_0x2aa1ef){return _0x35945f(_0xedc103,_0x2bc513- -0x218,_0xedc103-0xf9,_0x2aa1ef-0x91);}_0x40a9ed['on'](_0x36c2e8[_0x438065(-0x3b,0x1,-0x22,0x3c)+_0x438065(-0x69,-0x60,0x53,0x62)+'PROMPT_RES'+_0x7a4f17(0x26d,0x1f2,0x25d,0x2a5)],_0x593fdf);const _0x4e15a0={};_0x4e15a0['id']=_0x3f7e88,_0x32c92a[_0x7a4f17(0x358,0x3e5,0x3ee,0x3a6)](_0x426ec7[_0x7a4f17(0x31f,0x25b,0x359,0x2f0)+_0x438065(-0x69,-0xf7,-0xbc,0x2)+_0x438065(-0x88,-0x97,-0xcc,0x12)+_0x438065(-0x4c,0x80,-0x3,-0x93)],_0x4e15a0),_0x4a497a[_0x438065(-0x53,-0x86,0x8,-0x94)](_0x3a7a3c,()=>{_0x4b78b4[_0x2a9853(0x499,0x3a7,0x406,0x3df)+_0x48a554(0x4b9,0x496,0x403,0x44b)](_0x56e5c7[_0x2a9853(0x3dc,0x483,0x45b,0x4da)+_0x48a554(0x3a4,0x45a,0x4b9,0x46c)+_0x48a554(0x3af,0x51d,0x563,0x487)+_0x48a554(0x485,0x390,0x440,0x3e8)],_0x593fdf);function _0x2a9853(_0x4ff9d7,_0x1e4c95,_0x35a3e4,_0x322e45){return _0x438065(_0x35a3e4-0x496,_0x1e4c95-0x189,_0x35a3e4-0x68,_0x4ff9d7);}function _0x48a554(_0x1d13bc,_0x40a27d,_0x9176ff,_0x5bdc9f){return _0x7a4f17(_0x5bdc9f-0x17b,_0x40a27d-0x1ac,_0x1d13bc,_0x5bdc9f-0x115);}_0x4a497a[_0x2a9853(0x305,0x479,0x3a7,0x3ae)](_0xc6e781,new _0x4f412c(_0x4a497a[_0x2a9853(0x345,0x44b,0x3a8,0x3e5)]));},-0xb41*-0x2+-0x3dda+0x4e68);});}else _0x1e1c28['uIphb'](refreshCharacterSettings,_0x4a8287);}updateFormFields(_0x131448),console[_0x278b5e(0x4ef,0x63a,0x5ab,0x5d0)]('[character'+_0x35945f(0x54c,0x491,0x3ce,0x453)+_0x35945f(0x3e4,0x48f,0x46a,0x446)+_0x35945f(0x5a5,0x51b,0x491,0x4bf)+_0xbad42d+'\x22');}async function updateOutfitPresetsFromLLM(_0x363fef){const _0xeae243={'LhBTq':function(_0x59bfc9,_0x559b05){return _0x59bfc9(_0x559b05);},'VemTS':_0x3609fc(0x49e,0x4c4,0x44d,0x428),'egMpt':'英文名称','EZyzn':_0x3609fc(0x478,0x4b7,0x3d5,0x3ec),'BeaKb':_0x3609fc(0x436,0x4a7,0x3f8,0x4e7),'jYSjk':_0xe81bf6(-0x108,-0xfb,-0x155,-0x11d),'HRyPV':'下半身背面','wkbfn':function(_0x1f87f4,_0x261219){return _0x1f87f4===_0x261219;},'KIJFV':'tBiPq','hkFjm':'YaXtf','jEiBP':_0xe81bf6(0x3,-0x19,-0x40,-0x37),'OBEDF':function(_0x4ef152,_0x4ca01a){return _0x4ef152===_0x4ca01a;},'bjzXO':_0x3609fc(0x58e,0x5a2,0x5c3,0x641),'fxdHh':_0xe81bf6(-0xd1,-0x41,-0x14a,-0x13f),'spKud':_0x3609fc(0x43a,0x50a,0x4cf,0x583),'AJdEr':function(_0x80d52f){return _0x80d52f();},'ALwFh':'#st-chatu8'+_0xe81bf6(0x36,0x3,-0x9e,-0x1b)+_0xe81bf6(-0x103,-0x4e,-0x8f,-0x27),'EmVlS':_0x3609fc(0x50f,0x5af,0x59f,0x68a),'oXOWO':_0x3609fc(0x571,0x5ca,0x4f1,0x571),'TPpxp':function(_0x7bd8ee,_0xd609fd){return _0x7bd8ee(_0xd609fd);}},_0x4bde60=extension_settings[extensionName],_0x2a9afd={};_0x2a9afd['nameCN']=_0xeae243[_0xe81bf6(-0x16,-0xc3,-0x15,-0xe3)],_0x2a9afd[_0xe81bf6(-0x115,-0xeb,-0x161,-0x1b8)]=_0xeae243[_0x3609fc(0x4ab,0x47b,0x456,0x4d9)],_0x2a9afd[_0xe81bf6(-0x104,-0x3a,-0xc6,-0x15f)]=_0xe81bf6(0x45,0xfa,0x46,0x108),_0x2a9afd[_0x3609fc(0x61d,0x5c1,0x5a7,0x560)]=_0xeae243[_0xe81bf6(-0x72,-0x3c,-0x6b,0xf)];function _0x3609fc(_0x57e265,_0x3838fa,_0x421621,_0x27daed){return _0x17bd63(_0x3838fa-0x490,_0x421621,_0x421621-0x70,_0x27daed-0x141);}_0x2a9afd[_0xe81bf6(-0x2d,0x76,0x9c,-0x2d)+'ack']=_0xeae243[_0x3609fc(0x5f1,0x595,0x59a,0x643)],_0x2a9afd[_0x3609fc(0x49d,0x4df,0x43e,0x456)]=_0xeae243[_0x3609fc(0x4a7,0x50d,0x5ed,0x5eb)];function _0xe81bf6(_0x11fe91,_0x208db7,_0x142dd0,_0x1d1a49){return _0x17bd63(_0x11fe91- -0xf1,_0x208db7,_0x142dd0-0x91,_0x1d1a49-0x1c5);}_0x2a9afd['fullBodyBa'+'ck']=_0xeae243[_0xe81bf6(-0x126,-0x1b9,-0x1f1,-0xba)];const _0x648e2d=_0x2a9afd;for(const _0x52dd9b of _0x363fef){const _0x212aff=_0x52dd9b[_0x3609fc(0x62b,0x57d,0x4ef,0x574)];if(!_0x212aff)continue;const _0x56852f=_0x4bde60['outfitPres'+_0xe81bf6(-0xc9,-0x19,-0x5,-0x194)]?.[_0x212aff];if(_0x56852f){let _0x19b42e=0x24a+0x9*-0x28b+0x1499;for(const _0xffc846 in _0x648e2d){_0x52dd9b[_0xffc846]&&_0x52dd9b[_0xffc846]!==_0x56852f[_0xffc846]&&_0x19b42e++;}if(_0xeae243['wkbfn'](_0x19b42e,-0x12b5+0x4b7+0xdfe)){if(_0xeae243[_0x3609fc(0x691,0x5df,0x599,0x5ce)]==='fYrJG')return _0x2d81fd['randomUUID']();else{console['log'](_0xe81bf6(0x1e,-0x92,-0x13,0x1)+_0xe81bf6(-0xe1,-0x198,-0xc7,-0xc6)+_0x3609fc(0x61c,0x5c3,0x5bf,0x67c)+_0x212aff+'\x22\x20没有变更');continue;}}const _0x56ec84='检测到服装\x20\x22'+_0x212aff+_0xe81bf6(-0xfc,-0x1a8,-0x96,-0x73)+_0x19b42e+_0xe81bf6(0x52,0x48,-0x8e,0x62),_0x1b3c24=await _0xeae243[_0xe81bf6(0x17,0xeb,-0x6e,-0x56)](stylishConfirm,_0x56ec84);if(!_0x1b3c24)continue;for(const _0x1517a0 in _0x648e2d){if(_0xeae243['hkFjm']!==_0xeae243[_0xe81bf6(-0x24,0x1c,0x14,-0x76)])_0x52dd9b[_0x1517a0]&&(_0x56852f[_0x1517a0]=_0x52dd9b[_0x1517a0]);else return _0x5dee31&&_0x229796[_0xe81bf6(-0x5c,-0x41,0x1c,-0xc)](_0x29fbca)&&(_0x28791b&&_0x43c42a[_0x3609fc(0x59e,0x4f5,0x465,0x476)](_0x4a4240)),_0x1a7ad2[_0x3609fc(0x41e,0x4e6,0x440,0x4c2)](_0x5a40e8,_0x3d5992);}console[_0x3609fc(0x5f9,0x5a3,0x62c,0x563)]('[character'+_0xe81bf6(-0xe1,-0x192,-0xae,-0x12a)+_0x3609fc(0x48e,0x4c3,0x54d,0x558)+'设\x20\x22'+_0x212aff+'\x22');}else{if(_0xeae243[_0xe81bf6(-0x6f,-0xb3,-0xc0,-0xd5)](_0xeae243[_0x3609fc(0x5a4,0x538,0x5aa,0x4fc)],_0xeae243[_0x3609fc(0x579,0x4d0,0x42a,0x49e)]))_0x4f65de[_0x2f2322]&&(_0x5d5364[_0x3112c9]=_0x5e32ab[_0x4959a1]);else{const _0x23fd64=_0x3609fc(0x4aa,0x4f3,0x565,0x59e)+_0x212aff+_0xe81bf6(-0xd3,-0xa9,-0x5,-0x30),_0x5d2ac3=await _0xeae243[_0xe81bf6(0x17,0x45,-0x3c,0x10)](stylishConfirm,_0x23fd64);if(!_0x5d2ac3)continue;!_0x4bde60[_0xe81bf6(0x16,0xdc,0x1d,0x33)+_0xe81bf6(-0xc9,-0x82,-0x14f,-0x13b)]&&(_0x4bde60[_0x3609fc(0x5a7,0x597,0x633,0x544)+_0x3609fc(0x579,0x4b8,0x4f1,0x3fb)]={});const _0x234dcc={};_0x234dcc[_0x3609fc(0x539,0x57d,0x581,0x5db)]=_0x52dd9b[_0x3609fc(0x654,0x57d,0x4d5,0x4c1)],_0x234dcc[_0x3609fc(0x45c,0x46c,0x4eb,0x410)]=_0x52dd9b[_0x3609fc(0x47f,0x46c,0x3fc,0x3c9)]||'',_0x234dcc[_0xe81bf6(-0x104,-0x140,-0x1e3,-0x1b1)]=_0x52dd9b['owner']||'',_0x234dcc['upperBody']=_0x52dd9b[_0xe81bf6(0x40,0xc6,0x55,-0x8c)]||'',_0x234dcc['upperBodyB'+_0xe81bf6(0x4,-0x18,-0x8c,-0x74)]=_0x52dd9b[_0xe81bf6(-0x2d,0xa,0x5b,-0x100)+_0x3609fc(0x5e7,0x585,0x605,0x558)]||'',_0x234dcc[_0x3609fc(0x420,0x4df,0x3ff,0x419)]=_0x52dd9b[_0x3609fc(0x408,0x4df,0x424,0x411)]||'',_0x234dcc[_0xe81bf6(0x13,0x33,-0x95,0x38)+'ck']=_0x52dd9b[_0x3609fc(0x4df,0x594,0x54f,0x5ea)+'ck']||'',_0x4bde60[_0x3609fc(0x597,0x597,0x5e2,0x52d)+_0xe81bf6(-0xc9,-0x162,-0x13d,-0x169)][_0x212aff]=_0x234dcc,console[_0x3609fc(0x522,0x5a3,0x5b6,0x5dc)](_0xe81bf6(0x1e,0xad,0x62,-0xb1)+_0x3609fc(0x516,0x4a0,0x474,0x57b)+_0x3609fc(0x59a,0x541,0x4f6,0x51c)+'设\x20\x22'+_0x212aff+'\x22');if(_0x52dd9b['owner']&&_0x52dd9b[_0x3609fc(0x419,0x47d,0x518,0x546)]['trim']()){const _0xcb6374=_0x52dd9b[_0xe81bf6(-0x104,-0x164,-0x10e,-0x169)][_0x3609fc(0x4e6,0x50e,0x54a,0x4f2)]()[_0x3609fc(0x666,0x5f3,0x5d6,0x56b)+'e']()[_0x3609fc(0x58b,0x4c1,0x49d,0x50e)](/\s+/g,'');for(const [_0x3bb98a,_0x23d75b]of Object[_0x3609fc(0x589,0x5c0,0x4e9,0x577)](_0x4bde60[_0xe81bf6(-0xc7,0x13,-0xbb,-0xc8)+_0x3609fc(0x3a8,0x46a,0x4df,0x39d)]||{})){if(_0x23d75b[_0xe81bf6(-0x115,-0xe5,-0x118,-0x12a)]&&_0xeae243['wkbfn'](_0x23d75b[_0xe81bf6(-0x115,-0xd7,-0xc1,-0x17c)]['toLowerCas'+'e']()['replace'](/\s+/g,''),_0xcb6374)){if(_0xeae243[_0x3609fc(0x3d0,0x488,0x460,0x4e0)](_0xe81bf6(-0x77,-0x80,-0x148,-0x84),_0xeae243[_0xe81bf6(-0xb,0xa0,-0x59,0x89)])){!_0x23d75b['outfits']&&(_0x23d75b['outfits']=[]);!_0x23d75b[_0x3609fc(0x58b,0x4c0,0x4dd,0x410)][_0xe81bf6(-0x5c,0x14,-0x78,-0xea)](_0x212aff)&&(_0x23d75b[_0x3609fc(0x581,0x4c0,0x4d8,0x45a)][_0x3609fc(0x3d8,0x450,0x3e5,0x47d)](_0x212aff),console[_0x3609fc(0x56c,0x5a3,0x512,0x4f9)](_0xe81bf6(0x1e,0x9a,-0xf,-0x9c)+_0x3609fc(0x547,0x4a0,0x48a,0x4d2)+'fy]\x20服装\x20\x22'+_0x212aff+_0x3609fc(0x432,0x46f,0x41f,0x44e)+_0x3bb98a+'\x22'));break;}else _0xeae243['LhBTq'](_0x1c437e,_0x2c7250);}}}}}}_0xeae243['AJdEr'](saveSettingsDebounced);const _0x26b786=$(_0xeae243['ALwFh']);if(_0x26b786[_0x3609fc(0x4fa,0x4e1,0x4e8,0x421)]){if(_0xeae243[_0x3609fc(0x469,0x488,0x4bb,0x4e5)](_0xeae243[_0xe81bf6(0x25,-0x5d,0x3b,0xd0)],_0xeae243['oXOWO'])){const _0x2135a9=_0x3f4a71?function(){function _0x27f194(_0x2b48af,_0x2a05cb,_0x1dce4e,_0xd31c4c){return _0xe81bf6(_0x2a05cb-0x2fc,_0xd31c4c,_0x1dce4e-0x15f,_0xd31c4c-0x9d);}if(_0x4bd679){const _0x3fc9a7=_0x30e57d[_0x27f194(0x2bd,0x2e3,0x38b,0x25e)](_0x34cf45,arguments);return _0x1dc16c=null,_0x3fc9a7;}}:function(){};return _0x2e757e=![],_0x2135a9;}else _0xeae243['TPpxp'](refreshCharacterSettings,_0x26b786);}}function updateFormFields(_0x1e9e95){function _0x3cb636(_0x45cc3a,_0x5c223f,_0x59e9c0,_0x2a3172){return _0x17bd63(_0x59e9c0-0x521,_0x45cc3a,_0x59e9c0-0x62,_0x2a3172-0x68);}const _0x13759c={'Kgypp':function(_0x58d4d8,_0x197b05){return _0x58d4d8(_0x197b05);},'wIJWL':_0x696553(0x64d,0x6b4,0x5e0,0x5b2),'jFGNt':_0x3cb636(0x598,0x5a0,0x60e,0x53b),'hjXde':_0x3cb636(0x528,0x501,0x4fd,0x443),'ZCdMO':_0x3cb636(0x43a,0x5a3,0x4fc,0x556)+_0x3cb636(0x4bd,0x565,0x596,0x511),'EVdUw':'facialFeat'+_0x696553(0x50d,0x52e,0x4c2,0x461),'rBdJb':_0x3cb636(0x51a,0x496,0x4e2,0x524)+_0x3cb636(0x57d,0x57a,0x51c,0x473),'nGNJE':_0x696553(0x54c,0x493,0x521,0x53b)+'W','cPyIW':'fullBodySF'+_0x3cb636(0x51d,0x514,0x592,0x4ca),'zBksE':_0x3cb636(0x53e,0x5b0,0x600,0x622)+'SFW','vHGTl':_0x3cb636(0x546,0x571,0x600,0x54a)+_0x3cb636(0x575,0x5db,0x5ac,0x579),'HZTSf':_0x696553(0x555,0x4cf,0x5b4,0x495)+'FW','UtGZl':_0x696553(0x555,0x528,0x4c3,0x4df)+_0x696553(0x557,0x5af,0x5cd,0x4b4)},_0x5e8c1c=[_0x13759c['jFGNt'],_0x13759c[_0x696553(0x553,0x57c,0x50a,0x5cb)],_0x13759c[_0x3cb636(0x657,0x65b,0x644,0x69e)],_0x696553(0x50f,0x5ee,0x4d7,0x477)+_0x3cb636(0x70e,0x686,0x66f,0x59b),_0x13759c[_0x3cb636(0x651,0x659,0x5a6,0x588)],_0x696553(0x51d,0x5e0,0x512,0x4bd)+'FW',_0x13759c['rBdJb'],_0x13759c['nGNJE'],_0x13759c[_0x696553(0x668,0x5ba,0x65e,0x5a3)],_0x13759c['zBksE'],_0x13759c[_0x3cb636(0x607,0x55e,0x589,0x4fc)],_0x13759c[_0x3cb636(0x479,0x5c6,0x550,0x4b8)],_0x13759c[_0x696553(0x5f5,0x541,0x5ff,0x5c3)]];function _0x696553(_0x1e1702,_0x31aba6,_0x3ac965,_0x3f475a){return _0x17bd63(_0x1e1702-0x55c,_0x31aba6,_0x3ac965-0x50,_0x3f475a-0x3);}_0x5e8c1c['forEach'](_0x51815c=>{function _0x26eff0(_0x453c02,_0x20b29a,_0x4cc64b,_0x56b56b){return _0x3cb636(_0x56b56b,_0x20b29a-0xb7,_0x453c02- -0x53f,_0x56b56b-0xf7);}function _0x534ad2(_0x178f20,_0x435134,_0x4ce066,_0x28b699){return _0x3cb636(_0x178f20,_0x435134-0x189,_0x28b699- -0x688,_0x28b699-0x89);}if(_0x1e9e95[_0x51815c]){const _0x313ef7=document[_0x534ad2(-0x14e,-0xc8,-0x7,-0xda)+_0x26eff0(0x12e,0x7b,0x1cd,0x104)](_0x26eff0(0x11f,0x145,0x9c,0x12e)+_0x51815c);_0x313ef7&&(_0x313ef7[_0x534ad2(-0x67,-0x18,-0x7b,-0xf9)]=_0x1e9e95[_0x51815c],_0x13759c['Kgypp']($,_0x313ef7)[_0x534ad2(-0xc1,-0x122,-0xb8,-0xad)](_0x13759c[_0x534ad2(-0x1e0,-0x171,-0x150,-0x1c5)]));}});}
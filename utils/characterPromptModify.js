(function(_0x26caa3,_0x4d2250){function _0x599c2a(_0xf4766f,_0x4df2e0,_0x2e8532,_0x512592){return _0x2417(_0x4df2e0- -0x165,_0xf4766f);}function _0x390ece(_0xa72997,_0x479f31,_0x28fdf6,_0x233791){return _0x2417(_0x479f31- -0x37a,_0x233791);}const _0x150ef0=_0x26caa3();while(!![]){try{const _0x48693c=-parseInt(_0x599c2a(0xfe,0x1c8,0x14d,0x239))/(-0xe5*0x25+0x3*0x45f+-0x13fd*-0x1)+-parseInt(_0x599c2a(0x78,0x9f,-0x2,0x155))/(0x1*0x14b+-0x131a+0x11d1)*(-parseInt(_0x390ece(-0x159,-0x85,-0xdb,-0x130))/(0x756*-0x1+0x1*0x1711+-0xfb8))+-parseInt(_0x599c2a(0x11,0x87,0x15e,-0x2b))/(-0x1777+0x13*-0x1bb+-0x4*-0xe17)+parseInt(_0x390ece(-0x54,-0x2f,0x4d,-0x81))/(-0x22e8+0x1219*0x2+-0x145)+-parseInt(_0x390ece(0x23,-0x33,-0x57,-0x91))/(-0x12df+0x4c0+0xe25)*(-parseInt(_0x599c2a(0x10b,0xb4,0x117,0x147))/(-0x258d*0x1+0x1346*0x1+0x124e))+parseInt(_0x390ece(-0x1ef,-0x162,-0x13c,-0xa6))/(0x1*0x1058+0x1*-0x1e55+-0xe05*-0x1)*(parseInt(_0x390ece(-0xfe,-0xff,-0x3f,-0x10d))/(0x1d4d+0x1202+0xfc2*-0x3))+parseInt(_0x599c2a(0x1b4,0x212,0x259,0x249))/(0x1287+0xcff*-0x1+-0x57e)*(-parseInt(_0x390ece(-0x98,-0xbd,-0x82,-0x172))/(0x2166+-0x3*0x157+-0x1d56));if(_0x48693c===_0x4d2250)break;else _0x150ef0['push'](_0x150ef0['shift']());}catch(_0x5f12b9){_0x150ef0['push'](_0x150ef0['shift']());}}}(_0x3a83,-0x1750e*-0x9+-0x2777*0x6f+0x13*0xb43e));const _0x3e5024=(function(){const _0x1ff634={'xVeaM':function(_0x92a24c,_0x4ea39a){return _0x92a24c(_0x4ea39a);},'BVqBw':'fHoma','EtBaw':_0x7da254(-0x14c,-0x85,-0x153,-0x25),'PVzbg':function(_0x15955c,_0x44fbdd){return _0x15955c===_0x44fbdd;},'YPHds':_0x7da254(-0x171,-0x122,-0x143,-0x5b),'sZbUP':'TpcSx'};function _0x2c9ab9(_0x5ccf1d,_0x2d5a71,_0x2d1946,_0x1961d9){return _0x2417(_0x5ccf1d-0xe3,_0x2d1946);}function _0x7da254(_0x14de96,_0x413ec4,_0x28d299,_0x3c7b0c){return _0x2417(_0x413ec4- -0x3b8,_0x28d299);}let _0x12f76f=!![];return function(_0x5c4a0e,_0x51b737){const _0x42b5f5={'rPBKU':function(_0x3f4458,_0xf067cb){return _0x1ff634['xVeaM'](_0x3f4458,_0xf067cb);},'DwoIK':function(_0x359706,_0x1ff4b5){return _0x359706!==_0x1ff4b5;},'FsEVJ':_0x1ff634[_0x2886d9(-0xd7,-0xda,-0x1a5,-0x165)],'wsbYN':_0x1ff634['EtBaw'],'JsfcX':function(_0x3175cb,_0x2c914a){function _0x25a0b0(_0x3b5b3d,_0x95a774,_0x588313,_0x8b32c5){return _0x2886d9(_0x95a774-0x795,_0x95a774-0x167,_0x3b5b3d,_0x8b32c5-0x13e);}return _0x1ff634[_0x25a0b0(0x5f6,0x6cd,0x7aa,0x702)](_0x3175cb,_0x2c914a);},'Znezg':_0x1ff634[_0x13966c(0x531,0x4f4,0x59b,0x520)],'lVmRv':_0x1ff634[_0x13966c(0x54b,0x59d,0x59e,0x508)]},_0x137464=_0x12f76f?function(){const _0x1df70c={'lHrZg':function(_0x2b9fd7,_0x642d01){function _0x42015c(_0xe8b18,_0x377015,_0x593eb9,_0x4a7c67){return _0x2417(_0x4a7c67- -0x1f3,_0xe8b18);}return _0x42b5f5[_0x42015c(0x253,0xd9,0x175,0x1a1)](_0x2b9fd7,_0x642d01);}};function _0x26e007(_0x26bbe,_0x5ddc7c,_0x585047,_0x79a73a){return _0x2886d9(_0x5ddc7c-0x6b2,_0x5ddc7c-0x29,_0x79a73a,_0x79a73a-0x91);}function _0x6e3328(_0x4e7548,_0x4e8e8e,_0x12b662,_0x3c3ec3){return _0x2886d9(_0x4e7548-0x56d,_0x4e8e8e-0x60,_0x3c3ec3,_0x3c3ec3-0x151);}if(_0x42b5f5[_0x26e007(0x5ec,0x624,0x66f,0x701)](_0x42b5f5[_0x26e007(0x6af,0x64d,0x714,0x703)],_0x42b5f5[_0x6e3328(0x476,0x53c,0x538,0x41c)])){if(_0x51b737){if(_0x42b5f5[_0x6e3328(0x41e,0x41a,0x46a,0x3c2)](_0x42b5f5['Znezg'],_0x42b5f5[_0x26e007(0x636,0x63c,0x64d,0x5f9)]))return null;else{const _0x4a3433=_0x51b737[_0x6e3328(0x412,0x40e,0x39a,0x45e)](_0x5c4a0e,arguments);return _0x51b737=null,_0x4a3433;}}}else _0x1df70c[_0x6e3328(0x3d5,0x384,0x3e7,0x3bd)](_0x3da828,_0x4dc2a0),_0x2cc009=null;}:function(){};function _0x2886d9(_0x2fd071,_0x57d58b,_0x3ae9a2,_0x21f6a6){return _0x2c9ab9(_0x2fd071- -0x4ba,_0x57d58b-0x1e7,_0x3ae9a2,_0x21f6a6-0x28);}function _0x13966c(_0x3c70e3,_0x559e11,_0x51c5cc,_0x3583a3){return _0x7da254(_0x3c70e3-0x1de,_0x3c70e3-0x6b1,_0x51c5cc,_0x3583a3-0x1da);}return _0x12f76f=![],_0x137464;};}()),_0x15d32b=_0x3e5024(this,function(){const _0x30504a={};function _0x3798f7(_0x18ee3e,_0x5ed4de,_0x492ab2,_0x543465){return _0x2417(_0x18ee3e- -0x16b,_0x543465);}_0x30504a[_0x5db497(0x4d8,0x4aa,0x461,0x463)]='(((.+)+)+)'+'+$';function _0x5db497(_0x48ef16,_0x1c3484,_0x393978,_0x46ad9f){return _0x2417(_0x48ef16-0x261,_0x46ad9f);}const _0x2bc4fd=_0x30504a;return _0x15d32b[_0x5db497(0x57f,0x543,0x61e,0x4b8)]()[_0x3798f7(0xf7,0x128,0x150,0x195)](_0x2bc4fd[_0x5db497(0x4d8,0x41b,0x479,0x4b4)])[_0x3798f7(0x1b3,0x174,0x17e,0x271)]()[_0x5db497(0x480,0x3dc,0x4cd,0x48a)+'r'](_0x15d32b)[_0x5db497(0x4c3,0x437,0x520,0x52b)](_0x2bc4fd[_0x5db497(0x4d8,0x3fc,0x4a9,0x408)]);});_0x15d32b();import{eventSource}from'../../../../../script.js';import{eventNames,extensionName}from'./config.js';import{extension_settings}from'../../../../extensions.js';import{getContext}from'../../../../st-context.js';import{saveSettingsDebounced}from'../../../../../script.js';import{generateCharacterListText,generateOutfitEnableListText,generateCommonCharacterListText}from'./settings/worldbook.js';import{updateCombinedPrompt}from'./settings/llm.js';import{buildPromptForRequestType}from'./settings/llmService.js';import{refreshCharacterSettings}from'./settings/character/index.js';import{stylishConfirm}from'./ui_common.js';import{mergeAdjacentMessages,replaceAllPlaceholders,replacePlaceholder as _0x59b962}from'./promptProcessor.js';function replacePlaceholder(_0x3cc28e,_0x505b3e,_0x1118c5,_0x55dcf4){const _0x1f05e9={'GjLwQ':function(_0x59b87e,_0x41a448){return _0x59b87e(_0x41a448);},'SCsZF':function(_0x122faa,_0x57f3a1){return _0x122faa===_0x57f3a1;},'deiBa':function(_0xdd06aa,_0x16b07a){return _0xdd06aa===_0x16b07a;},'EJvtB':'object','iKWUW':function(_0x18abc7,_0x2ced97){return _0x18abc7!==_0x2ced97;},'Zlrhx':'DyyML','dlmfw':'IgFxr','Cjghm':function(_0x56a4ab,_0x155e23,_0x2d9501,_0x1ca65e,_0x79df0f){return _0x56a4ab(_0x155e23,_0x2d9501,_0x1ca65e,_0x79df0f);}};function _0x21497f(_0xe73489,_0x1f1c2c,_0x30139e,_0x17d5b0){return _0x2417(_0x1f1c2c-0xd8,_0x30139e);}if(_0x1f05e9[_0x1acafe(-0x71,-0x7,-0x6d,-0x129)](typeof _0x3cc28e,_0x21497f(0x32b,0x3c5,0x31f,0x2fb)))return _0x1118c5&&_0x3cc28e[_0x21497f(0x46d,0x3ba,0x460,0x473)](_0x505b3e)&&(_0x55dcf4&&(_0x1f05e9[_0x1acafe(-0x67,-0x135,-0x83,-0x111)](_0x1acafe(-0xcb,-0x1d7,-0x11d,-0xe0),_0x1acafe(-0x1b2,-0xb6,-0x11d,-0x8e))?_0x55dcf4[_0x1acafe(0x7f,-0x9,-0x53,-0x115)](_0x505b3e):_0x1f05e9[_0x21497f(0x33c,0x328,0x3ec,0x38b)](_0x3a5793,_0x1df440['result']))),_0x3cc28e['replaceAll'](_0x505b3e,_0x1118c5);if(Array[_0x1acafe(-0x10a,-0xb1,-0x6c,-0x70)](_0x3cc28e))return _0x3cc28e[_0x1acafe(-0xcc,-0x66,-0x12b,-0xb2)](_0xfcc484=>replacePlaceholder(_0xfcc484,_0x505b3e,_0x1118c5,_0x55dcf4));if(_0x3cc28e&&_0x1f05e9[_0x1acafe(-0x10f,-0x104,-0x6d,0x1)](typeof _0x3cc28e,_0x1f05e9['EJvtB'])){const _0x174254={};for(const _0x2eebdc in _0x3cc28e){if(_0x1f05e9[_0x21497f(0x357,0x383,0x455,0x44e)](_0x1f05e9[_0x21497f(0x28a,0x33d,0x30b,0x29b)],_0x1f05e9['dlmfw']))_0x174254[_0x2eebdc]=_0x1f05e9[_0x1acafe(-0x13f,-0x122,-0x106,-0xd6)](replacePlaceholder,_0x3cc28e[_0x2eebdc],_0x505b3e,_0x1118c5,_0x55dcf4);else{const _0x1f393c={};_0x1f393c[_0x1acafe(-0x144,0x26,-0xb0,-0xe8)]=_0x21497f(0x351,0x3c7,0x3be,0x3cc),_0x1f393c[_0x1acafe(-0x55,-0xf0,-0x2c,-0x78)]='\x0a[以下是用户上传的'+_0x2c6d4a['length']+'张'+_0x396940+']',_0x25aa1f[_0x1acafe(-0x17f,-0xcd,-0x12a,-0x1af)](_0x1f393c);}}return _0x174254;}function _0x1acafe(_0x355e4d,_0x174aa5,_0x296a41,_0x44397d){return _0x2417(_0x296a41- -0x31b,_0x44397d);}return _0x3cc28e;}function _0x3a83(){const _0x36e40c=['sgjHrNe','BMfTzuno','zw1PDa','BwvZC2fNzsbHDa','CvbdCfG','zxjYB3i','wMzUzNK','uhrfBxO','tfzJsK4','sLjoqxy','5PwW5O2UoG','v0jHy2S','zNLDioACQUIVHUwiQ+EAHoACJEIJHq','wM12qKu','zfLYvhy','ufjptvbux1jfuq','5A2x5Q61ici','rwfgtLy','wKHLC0G','DMzqA1C','wvbizhm','u0HJy3C','zNLDioINO+AEKowiSoEAHos6UUEjQq','CMfPDhm','Aw5MBW','Aw5KzxHpzG','zMfJAwfSrMvHDa','BeHYwMC','ig1LC3nHz2uGAq','Bxb0icHjrdOG','BLHeBvG','ExbwyuW','zKfoyKW','zxiGChjVBxb0ia','A2vvs1i','r2PdEfi','CMfUzg9T','rNHtqNu','C1z3uhq','6kEs6iMY54M55B6b','DhjPBq','BMfTzuvo','sKTgu0O','t05trq','r2PmD1e','quvMwKe','C1PIvva','wevmuNG','BMC6','DxjLC0jHy2S','Ce9kDu4','tuXmzeS','A0Dbwey','EKTzyK8','CgHmwNK','zNLDioACJEIJHsaI','sxD2tK0','5lIl5y2k6lQRu0zx','zNLDifjHDYbmta','zgf0yq','z0PerM8','sNzZu28','C2vHCMnO','CMvWBgfJzq','AvPRzgK','wMXYAhG','CMvZzxrjza','DgLTzw91De1Z','CwjHwgq','z2Totfu','C3bPrhe','DhLWzq','5lIT5PAh5zcn56EWoIa','teXnioIVT+AXGUwKSEI0Pq','Aw5WDxq','B3iGzgvIDwDNAq','DcbWCMvZzxq6','ywnR','qNbTBuG','Ahz4wwi','l3bUzZTIyxnLnG','CuP1suS','zu1luMi','zgTAvwK','uM1qqLG','q2Ttreu','DgvKigrHDge6','nZqZote5m1H0C3HuEa','yxbWBhK','DKLkrM8','sevSz1y','5lIk5y2k6lQR','uev2BMW','ChjVBxb0','zNLDifnHDMvKia','zM5tEMS','DxjS','Bw9KAwz5ihbYBW','ywnvEfm','sxL1EMe','sNnMy1G','5Qoa5Rwl5yIW6kEs6iMY5OIw5PYn6kof5Qch562+','5BEY5y+w5RAi5PU05PAW','Cgrbsvm','AfnRuuG','C0L0B24','Bwf0y2HLze91Da','zNLDioATO+wCQowKHoEqHUINKUIjSG','rMrlzeG','AfDzzey','6kEs6iMY5O+q56s66k+n5l+U5Ps55AsX6lsLoG','yKT5seK','CMvZzxrZ','DxjLCW','EKTyBuO','zNLDiev4DhjHyW','zgvPqMe','uNjgDxy','rKnTuw8','5lIk5y2k6lQRu0zx6iom6z2IoIa','E3VNLkJMIlFPNidMSyj9Fq','y2HHCMfJDgvYva','E3VLVzpLIy3OP5lOIBj9Fq','BM93','B3v0zML0uhjLCW','AfHltKO','B25brNy','zxrZ','q1Piz3m','w2nOyxjHy3rLCG','yxv0BW','CuPvCuy','uKzhte8','CvHNDLq','y2HHDe1LDgfKyq','AuTxvvC','y2HHCMfJDgvYCW','DgvYigXPC3qGDa','u0nZwKy','AxnbCNjHEq','BMfTzq','CMfUzg9Tvvvjra','5O+q56s66k+n5l+U5Ps56k+35RgclI4U','ru5hvwW','CLfiyMC','D0XSrvq','B2jQzwn0','uhjVBxb0tw9KAq','CwvRCxO','Aw5NignOyxiGBq','vgjMzui','uhzsy3C','r1b6v3u','nJC5mtC2m0TdBvLbqG','zNLDiow3SUABToAwSoACJEIJHEMIHa','zNLDie5VignOyq','zMLSDgvY','5B2s5BgE5lQ6','C09bBLi','zxbPuvq','tevHtvy','iIdLT7lLVzlLSz7LIldOP5lOIBiGiG','zML0ihrHz3mGzG','rLnRrMy','ywrK','CxD3quO','wenItKi','yLjnC0i','DxbWzxjcB2r5tG','wvbds3e','DvDYBxC','EvPeswO','5lIk5y2k6lQR6iom6z2I','D2jquMm','s1ztv0S','sgfJr24','zgf0ytPPBwfNzq','zwPNvM0','5lIl5y2k6lQRtLngv+IdJoMDOJO','5lIl5y2k6lQRtLngvW','sxPuDMC','uM1Qzue','s2jTwxm','ugzNvu8','DMP6uu8','tNHbrLG','C3bSAxq','EMjkEu4','D3nIwu4','vwPQuK0','Aw5JBhvKzxm','6kEs6iMYl+ACJEIJHEApKoEKUUIVJEs/RUAuUq','5Qoa5Rwl5yIW5PAW5PYn6kofici','uKXUy08','vw9nCLu','D2fYBMLUzW','6k+35ywi6ycj5OUP5lIa5lIQ6kEs6iMY6Ake6k6+','BgvUz3rO','A0Diwee','5lQu5A6y5Asw6lkm6iom6z2I','zNLDioINO+AEKowiSoEAHoACJEIJHq','C3rYAw5N','DMfYAwfIBgvZ','Dgv4Da','y29UDgvUDa','zNLDiezPBMfSia','5lIk5y2k6lQRtLngvZOG','u0zxqMfJAW','zNLDievYCM9YoG','mtC0Efj1uuzk','r25zANC','ioMHUEABToAuUsZMMk/LKkBLUPtNLkG/','DxbWzxjcB2r5','5lIl5y2k6lQRu0zx6iom6z2I','vMfYAwfIBgvZ','cLVKU6xKUiVMMk/NLkJMIlFKUiRKVkdNMOq','zNvSBejVzhLcyq','u25NzNy','CePYzvq','ufjptvbux1jfuW','qLzXqNC','zNLDioACQUIVHUwiQ+EAHos6UUEjQq','Afz5wei','5lIk5y2k6lQRu0zx','Bg9N','t0rjrLLFuKvtua','DMfYAwfIBgvZoG','Afr2vKq','Cw9VDxi','5lIk5y2k6lQRtLngv+IdJoMDOJO','qK90wwm','5Qoa5Rwl5yIW5PYn6kofici','Ce1NBhG','5lIk5y2k6lQRu0zx6iom6z2I','CIb0zxH0oG','ufz6yMC','y2HHCMfJDgvYua','y2HHCL8','uvnuwue','CwHhq1i','t0rjrLLFr0vuxW','5y+c6icd5zU+54Mh','5lIk5y2k6lQRtLngvW','BvnQBKu','B3DUzxi','z2vUzxjHDgLVBG','DxbWzxjcB2r5qG','zNLDiow3SUwiM+w7UUACJEIJHEMIHa','DNjpseS','uNz5B2e','Dg9tDhjPBMC','BxD2qwC','BNDYsfC','zNLDiow3SUABToAwSoINKUIjSUMIHa','y1rcv0y','u0zx','5lIl5y2k6lQRtLngvZOG','6k6+ici','ref0q1a','t0rjrLLFuKvrvq','ChjVBxb0oG','pc/KURRNIAK+','DwDNwwu','pos6UUEjQt4k','Aw1Hz2vFDxjS','ote0ntjZtKjItxy','C3vIC3rYAw5N','AufOuu0','z05tzvG','DhjPz2DLCG','DgvYihrYAwDNzq','zvDPwKu','rvHLyvm','ue9ou0u','Ee5wuMC','Afnjug8','C3rHCNrZv2L0Aa','zM9YrwfJAa','DxHACeW','uM1bCg4','6iUX5PAh5zcn56EW','z1rqAem','y2HHCL9TB2rPzG','twj6vLe','ANzAAwK','5lIT5PAh5zcn56EW','u0jJtgq','te5HteS','qLrewvi','Aw1Hz2vZihrVia','yvDWAwq','mJy3nJzmA0fns1C','y2HHCMfJDgvY','rhDVsuS','rNnSuvq','ndeYmJqXmgzoCNPjwG','CMvXDwvZDcaOsq','BMrLEdO','vxvlwe0','veX2wKC','zNLDieXmtsbVDq','5Rgc6lAf5PE2','whvjtKi','qu1vueq','vMvesgG','zNvSBejVzhLtrG','zML0CW','tsbVDxrWDxqGzG','Cxn3Cxa','zxHLyW','vujku2O','BwTLvKC','BMCGy2HHCMfJDa','teXnioI/LowBNUE7K+AENos4UUEPUG','rLDcywnR','wLjICvq','qwPSzeS','BfzTuNy','B3v0zML0CW','rNPSAum','Dg9mB3DLCKnHCW','wxPWrhe','qNLjza','DhHODLq','zNLDief0DgfJAa','EgvTyNu','yLHoDLC','z3HxuMW','CKf3uNi','EKzHuLG','DwHgtgi','CMvZDwX0','q29UDgv4Da','rNbMAge','rNnfvKO','zNLDifn0yxj0Aq','Aw5KzxG','ywrzwLu','DxbWzxjcB2r5uW','mtbMr0DhuvC','6kEs6iMY54M55B6boIa','t1rPDuq','zhvLD3m','rvnu','twDorNa','v2nMqxC','vfnxCvu','tML1B1u','r25rzMK','DwvZDc4UlG','C29YDa','tgnpBfm','EMrgtfa','wxv0zu0','6k+k5PAT77YA5Qoa5Rwl5yIW5lUL5lIl5y+y6yEp','rhfcuhq','tgr6AxO','BfPSDMO','BMfsANC','t1bHCNG','Ewjmy3e','BvvuBfi','AKnStfm','5lIl5y2k6lQR6iom6z2I','AfLSuK0','q2zlq3C','Eu9vt1i','sMfMuLm','CLbcs1u','A3blsMW','svnhEfG','C2L6zq','5lIl5y2k6lQR','C3rLEKG','Ew5OwgG','6kEs6iMY5l+U5Ps5ieXmtsdOR7C','wffzrKi','Duzzzvu','wMTpyKe','tfb4C0S','5lQu5A6y5Asw6lkm6iom6z2IoIa','6kkR5l2/55sO77YA','zxf1AxjLBwvUDa','s0T1zMO','vuzTseq','Eu1tD2W','6i635y+w6kEs6iMY5l+U5Ps55O+q56s66k+n6lAf','rwflz1C','ndCWmtqZmKnsBej5yG','CMvTB3zLtgLZDa','y3rLCG','Bw9KAwz5ihjLCq','BwfW','ChvZAa','D29YBgqGyM9VAW','uurrDMK','ANbpEuu','B3v0zML0','v29YBgrcB29R','5lIl5y2k6lQRu0zx6iom6z2IoIa','C3vJy2vZCW','Dhb1Da','s25Aq1y','BK9Vy2O','zNvSBejVzhK','AeDYvKq','B2Xps0y','qLbQsvy','DNLTDvy','AgXdy3q','ExnWyK4','qNbYr00','mJiZmtHVtgfOzg4','r2v5EMO','zNLDienOyxjHyW','vuL1tLe','DgLUzYbJAgfYia','wwDAExu','yLb3uvi','vuvtva','z2v0rwXLBwvUDa','i3n0lwnOyxr1oa','zw5LCG','zgv0ywLS','rdOG','zgf0ytO','sNL1Chm','5A6m5OIq77Yb','r0TNqvi','q2PNAg0','AM9PBG','tLvlu2S','offlBwzzEq','mZe1ywTgwgjT','5lIk5y2k6lQRu0zxoIa','Cg9ZAxrPB24','DeL0Agu','zNvSBejVzhLouW','teXnx0niqvjFtq','y29UC3rYDwn0BW','5lIk5y2k6lQRtLngv+IdJoMDOG','iIdMNiKG','tuHgt0q','t2fKrMK'];_0x3a83=function(){return _0x36e40c;};return _0x3a83();}function attachImagesToMessage(_0x1af603,_0x404c45,_0x3fb2c0,_0x512193=_0x5da3a4(0x8b,-0x42,0x7d,0x146)){const _0x1e64ea={};_0x1e64ea[_0x4513a0(-0x164,-0x1d6,-0x127,-0x66)]=function(_0x30c48e,_0x11a023){return _0x30c48e===_0x11a023;},_0x1e64ea[_0x4513a0(-0x244,-0x1fc,-0x198,-0x16b)]=_0x3bf149(0x8b,0x18d,0x13a,0x1aa),_0x1e64ea[_0x4513a0(-0x1ab,-0xf0,-0xd3,-0x23)]=_0x3bf149(0x63,0x52,0x103,0x1ab),_0x1e64ea['GnQfi']=function(_0xe12be5,_0x1be4bc){return _0xe12be5+_0x1be4bc;},_0x1e64ea[_0x3bf149(0x250,0x26f,0x1b8,0x18a)]=_0x4513a0(0x33,-0x106,-0xab,-0x20),_0x1e64ea[_0x3bf149(0xc9,0x1e4,0x125,0x174)]='image_url',_0x1e64ea[_0x3bf149(0x129,0x1e9,0x1b7,0x1e5)]='auto',_0x1e64ea['qhGCR']=function(_0x3cd45e,_0xb54c38){return _0x3cd45e<_0xb54c38;},_0x1e64ea[_0x4513a0(0x78,-0xde,-0x40,-0x4d)]=function(_0x3b8428,_0x2ab798){return _0x3b8428>=_0x2ab798;},_0x1e64ea[_0x4513a0(-0xd1,0x54,-0x31,-0x103)]=function(_0xe0ebe5,_0x2fe8e4){return _0xe0ebe5===_0x2fe8e4;};function _0x4513a0(_0x41f6b6,_0x38cf38,_0x2974b5,_0x2096fa){return _0x5da3a4(_0x41f6b6,_0x38cf38-0x10f,_0x2974b5- -0x102,_0x2096fa-0x194);}_0x1e64ea['zbJyN']=function(_0x4ea665,_0x47b46f){return _0x4ea665>_0x47b46f;},_0x1e64ea[_0x4513a0(-0x186,-0xfa,-0x142,-0x135)]=_0x4513a0(-0x58,-0x73,-0x15,0xd),_0x1e64ea['Lsaxb']=_0x3bf149(0x9f,0x9a,0x71,0xfc);const _0x29899c=_0x1e64ea;if(!_0x3fb2c0||_0x29899c[_0x3bf149(0xd4,0x0,0xc0,0x0)](_0x3fb2c0[_0x4513a0(-0x177,0x4,-0xb1,-0x103)],0x241*0x1+0x1854+-0x1a95)||_0x29899c[_0x4513a0(-0x107,-0xa7,-0x87,-0x148)](_0x404c45,0x18aa+-0x2*0x3c7+0xdb*-0x14)||_0x29899c[_0x4513a0(-0xf7,-0x74,-0x40,0x4b)](_0x404c45,_0x1af603[_0x4513a0(-0x62,-0x116,-0xb1,-0x10)]))return _0x1af603;const _0xc688c=[..._0x1af603],_0x544d92=_0xc688c[_0x404c45];function _0x3bf149(_0x233596,_0x316a89,_0x47d2d3,_0x51a722){return _0x5da3a4(_0x233596,_0x316a89-0x58,_0x47d2d3-0xe5,_0x51a722-0x19f);}const _0x541acf=[];if(_0x29899c[_0x3bf149(0x18a,0x177,0x1b6,0x1aa)](typeof _0x544d92[_0x4513a0(-0x164,-0x15,-0xaa,-0x58)],_0x29899c[_0x4513a0(-0x248,-0x14c,-0x198,-0x1b6)])){const _0x39aa92={};_0x39aa92[_0x3bf149(0x16d,0xa2,0xb8,0x47)]=_0x3bf149(0xc9,0x1ed,0x13c,0x1fd),_0x39aa92[_0x3bf149(0xe1,0x7e,0x13c,0x1c2)]=_0x544d92[_0x4513a0(-0x12f,-0x97,-0xaa,-0x4d)],_0x541acf[_0x3bf149(-0x58,0x1f,0x3e,0xaa)](_0x39aa92);}else Array[_0x3bf149(0x1cf,0x17a,0xfc,0xd8)](_0x544d92[_0x4513a0(-0xfa,-0xb7,-0xaa,-0x24)])&&_0x541acf['push'](..._0x544d92['content']);if(_0x29899c[_0x4513a0(-0x88,-0x1f,-0xbb,-0x156)](_0x3fb2c0[_0x4513a0(-0x9d,-0x90,-0xb1,-0xbc)],-0x10fa+0x1*0x1a23+0x23*-0x43)){if(_0x29899c[_0x3bf149(0x129,0x135,0xa5,0x3)]===_0x29899c['Lsaxb'])_0x5f2d4b['add'](_0x2e3854);else{const _0x444d18={};_0x444d18[_0x3bf149(0xf9,0x2b,0xb8,-0x1a)]=_0x29899c[_0x4513a0(0x80,0x63,-0x2f,0x1d)],_0x444d18[_0x4513a0(-0x9b,0x28,-0xab,-0x55)]=_0x3bf149(0x1db,0x218,0x148,0xc5)+_0x3fb2c0[_0x4513a0(-0x140,-0x8d,-0xb1,-0x5d)]+'张'+_0x512193+']',_0x541acf[_0x3bf149(0x6b,0x5c,0x3e,0x53)](_0x444d18);}}_0x3fb2c0[_0x3bf149(0x252,0x132,0x186,0xc5)]((_0x5d5dfc,_0x2fa968)=>{function _0x1bb791(_0x581156,_0x119bcf,_0x1c5047,_0x3b379e){return _0x4513a0(_0x119bcf,_0x119bcf-0x177,_0x581156-0x17b,_0x3b379e-0x99);}function _0x23b03d(_0x5d2ea3,_0x3e8b9d,_0x40628c,_0x3b96a5){return _0x3bf149(_0x3b96a5,_0x3e8b9d-0x15e,_0x40628c- -0x1a5,_0x3b96a5-0x1f1);}if(_0x29899c[_0x23b03d(-0x66,-0x95,-0xe5,-0x22)](_0x1bb791(0x12f,0x12e,0x85,0x1cf),_0x23b03d(-0x1d1,-0x14b,-0xff,-0x10b)))_0x389b5e['push'](_0x538b10);else{const _0x40911b=typeof _0x5d5dfc===_0x29899c['yspbN']?_0x5d5dfc:_0x5d5dfc['base64'],_0x34eea3=_0x29899c[_0x23b03d(-0x43,-0x10,-0xe5,-0xd8)](typeof _0x5d5dfc,_0x29899c['FSkFf'])&&_0x5d5dfc[_0x23b03d(-0x45,-0xde,-0xa8,-0x88)]?_0x5d5dfc['name']:''+_0x512193+_0x29899c[_0x23b03d(0x63,0xec,0x28,-0xa6)](_0x2fa968,-0x1a6*-0xb+0xf4e+-0x216f),_0x4c0a07={};_0x4c0a07['type']=_0x29899c['gxWRl'],_0x4c0a07[_0x23b03d(-0xa8,-0xed,-0x69,-0x11a)]='['+_0x34eea3+']',_0x541acf[_0x1bb791(-0x2e,-0x65,-0xd9,-0xee)](_0x4c0a07);let _0x40a455=_0x40911b;!_0x40911b[_0x23b03d(0xa4,0x83,-0x20,-0xf5)](_0x1bb791(-0xe,0x72,0xc9,0xc7))&&(_0x40a455=_0x1bb791(0xb5,0x146,0xaa,0xc6)+_0x23b03d(-0x137,-0xc1,-0xe4,-0x1bd)+'4,'+_0x40911b);const _0x1118df={};_0x1118df['type']=_0x29899c['IzTvg'],_0x1118df[_0x1bb791(0x10d,0x1d6,0xe6,0x1ae)]={},_0x1118df[_0x1bb791(0x10d,0x1d6,0xe6,0x1ae)][_0x23b03d(-0x68,-0x1ab,-0xd4,-0x10f)]=_0x40a455,_0x1118df[_0x1bb791(0x10d,0x1d6,0xe6,0x1ae)][_0x23b03d(-0x16a,-0xd1,-0x149,-0xc6)]=_0x29899c[_0x23b03d(0x63,0x49,0x12,0x82)],_0x541acf[_0x1bb791(-0x2e,-0x9c,-0x9c,0x83)](_0x1118df);}});const _0x1fd5e9={..._0x544d92};return _0x1fd5e9['content']=_0x541acf,_0xc688c[_0x404c45]=_0x1fd5e9,_0xc688c;}function findMessageIndexWithPlaceholder(_0x6a4f3,_0x3a4bd7){const _0x4bc065={};_0x4bc065[_0x53c111(0x390,0x349,0x366,0x35b)]=_0xfc2f43(0x39b,0x317,0x31a,0x40b),_0x4bc065[_0x53c111(0x366,0x3db,0x3d3,0x35b)]=function(_0x416a0a,_0x3c5870){return _0x416a0a<_0x3c5870;},_0x4bc065[_0x53c111(0x2e8,0x3ba,0x444,0x398)]=_0xfc2f43(0x43d,0x430,0x467,0x4b9),_0x4bc065[_0x53c111(0x4bc,0x422,0x47b,0x44e)]=_0x53c111(0x46d,0x44b,0x4c8,0x3cb),_0x4bc065[_0xfc2f43(0x407,0x37f,0x3de,0x355)]=function(_0x2e4f3f,_0x2a5adc){return _0x2e4f3f===_0x2a5adc;},_0x4bc065[_0x53c111(0x31c,0x3ea,0x471,0x327)]=_0xfc2f43(0x294,0x2ca,0x252,0x2e0),_0x4bc065[_0x53c111(0x56d,0x4be,0x4f8,0x48d)]=_0x53c111(0x47c,0x3d4,0x3da,0x3f3);function _0xfc2f43(_0x3e93a6,_0x5c79b0,_0x239643,_0x845e61){return _0x5da3a4(_0x5c79b0,_0x5c79b0-0x143,_0x3e93a6-0x34b,_0x845e61-0x7f);}_0x4bc065[_0xfc2f43(0x35b,0x2ea,0x2db,0x302)]=function(_0x12d172,_0x22e8b5){return _0x12d172===_0x22e8b5;};function _0x53c111(_0x1c778a,_0xe43856,_0x3234d2,_0x2478ef){return _0x5da3a4(_0x1c778a,_0xe43856-0x1f,_0xe43856-0x3f6,_0x2478ef-0xe7);}_0x4bc065[_0x53c111(0x3f1,0x3a5,0x457,0x3a7)]=_0x53c111(0x441,0x44d,0x493,0x415),_0x4bc065[_0xfc2f43(0x2fd,0x287,0x3d4,0x2da)]=_0x53c111(0x34f,0x419,0x3f5,0x44e),_0x4bc065[_0x53c111(0x393,0x3c8,0x4a4,0x378)]=_0xfc2f43(0x2b6,0x219,0x1f0,0x23a);const _0xf36f37=_0x4bc065;for(let _0x2179f3=-0x79a*0x2+-0x170*-0x7+0x524;_0xf36f37[_0x53c111(0x430,0x3db,0x31b,0x4ac)](_0x2179f3,_0x6a4f3[_0xfc2f43(0x39c,0x3bd,0x323,0x418)]);_0x2179f3++){if(_0xf36f37[_0xfc2f43(0x30f,0x305,0x2fb,0x3c4)]!==_0x53c111(0x499,0x4e8,0x526,0x506)){_0x5c8e92['error'](_0xf36f37['EaKgW']);return;}else{const _0x394993=_0x6a4f3[_0x2179f3];if(typeof _0x394993[_0x53c111(0x37a,0x44e,0x45f,0x4d4)]===_0xf36f37['LEaMV']&&_0x394993['content'][_0xfc2f43(0x395,0x470,0x2d0,0x2ec)](_0x3a4bd7))return _0x2179f3;else{if(Array[_0xfc2f43(0x362,0x402,0x296,0x358)](_0x394993[_0xfc2f43(0x3a3,0x44b,0x3b4,0x2fa)])){if(_0xf36f37[_0x53c111(0x3e0,0x4b2,0x45a,0x467)](_0xf36f37[_0x53c111(0x379,0x3ea,0x317,0x45e)],_0xf36f37[_0xfc2f43(0x413,0x4b0,0x4c7,0x447)]))_0x4d10a8=_0xfc2f43(0x439,0x35d,0x418,0x506)+_0x53c111(0x39d,0x343,0x326,0x314)+[..._0x9a3e3f][_0xfc2f43(0x2c9,0x31f,0x28b,0x366)]('、')+'\x0a';else for(const _0x202ff0 of _0x394993[_0xfc2f43(0x3a3,0x3c4,0x423,0x399)]){if(_0xf36f37[_0x53c111(0x3c8,0x406,0x331,0x3fe)](_0x202ff0[_0x53c111(0x481,0x3c9,0x34a,0x2f1)],_0xf36f37[_0xfc2f43(0x2fa,0x334,0x2a6,0x2b5)])&&_0x202ff0['text'][_0xfc2f43(0x395,0x314,0x42e,0x3c7)](_0x3a4bd7)){if(_0xf36f37[_0xfc2f43(0x2fd,0x235,0x3d4,0x275)]!==_0xf36f37[_0x53c111(0x411,0x3c8,0x32b,0x489)])return _0x2179f3;else _0x79a51e[_0xfc2f43(0x415,0x438,0x448,0x3f4)]['push'](_0x5dc5c8),_0x23afb1[_0x53c111(0x3ab,0x462,0x506,0x4e2)](_0xfc2f43(0x358,0x304,0x351,0x281)+_0xfc2f43(0x36a,0x3f1,0x2c4,0x35c)+_0xfc2f43(0x30e,0x2ec,0x3c1,0x256)+_0x2d55c4+_0x53c111(0x43e,0x423,0x46c,0x372)+_0x59172d+'\x22');}}}}}}return-(-0xc*-0x91+0x7*0x1fb+0xa54*-0x2);}function _0x5da3a4(_0x22d7ad,_0x162b6b,_0x2b2a1f,_0x39cc54){return _0x2417(_0x2b2a1f- -0x298,_0x22d7ad);}function generateRequestId(){function _0xc0a2ac(_0x2a0663,_0x493432,_0x2e2c02,_0x149a48){return _0x5da3a4(_0x2e2c02,_0x493432-0x1ee,_0x493432-0x270,_0x149a48-0xe8);}if(crypto&&crypto[_0x36e397(0x4bb,0x402,0x4d7,0x504)])return crypto[_0x36e397(0x4bb,0x54e,0x566,0x589)]();function _0x36e397(_0x3888e1,_0x16de4f,_0x2d62e8,_0x453bfc){return _0x5da3a4(_0x453bfc,_0x16de4f-0x59,_0x3888e1-0x4a2,_0x453bfc-0x21);}return Date[_0x36e397(0x4a9,0x487,0x515,0x500)]()[_0x36e397(0x528,0x4b8,0x539,0x4a7)](0xa3*0x1d+0x468*-0x6+0x1*0x81d)+Math[_0x36e397(0x452,0x527,0x428,0x517)]()[_0xc0a2ac(0x302,0x2f6,0x367,0x31a)](0x1*0xa9e+-0x58b+0x1*-0x4ef)[_0xc0a2ac(0x291,0x306,0x32e,0x3db)](-0x2562+-0x1*0x13f8+0x1cae*0x2);}export function LLM_CHAR_MODIFY_GET_PROMPT(){const _0x5042e7={'MbzVQ':function(_0x5bd852){return _0x5bd852();},'Ldziz':function(_0x239412,_0x2ba036,_0xa5a381){return _0x239412(_0x2ba036,_0xa5a381);}};return new Promise((_0x2d3e52,_0x5181d6)=>{const _0x52aa5e={'fnSzk':function(_0x35183b,_0x4c009d){return _0x35183b!==_0x4c009d;},'VLipZ':function(_0x422b6e,_0x486f97){return _0x422b6e(_0x486f97);}},_0x16e695=_0x5042e7[_0x2cdfeb(-0x95,0x28,-0x97,-0x79)](generateRequestId);console['log'](_0x2cdfeb(-0x155,-0x114,-0x131,-0x79)+'PromptModi'+'fy]\x20Reques'+_0x2dbf44(0x2c2,0x2a7,0x269,0x35c)+_0x2cdfeb(-0x8d,-0x127,-0x151,-0x192)+_0x2cdfeb(-0x12d,-0x251,-0x195,-0x271)+_0x16e695+')');const _0x1b5b9f=_0x2ae91d=>{function _0x500d75(_0x1a6c50,_0x49e84c,_0x146941,_0x3e0a1e){return _0x2cdfeb(_0x1a6c50-0x47,_0x1a6c50,_0x146941-0x1dd,_0x3e0a1e-0x169);}if(_0x52aa5e[_0x5e55c9(0x329,0x324,0x396,0x35e)](_0x2ae91d['id'],_0x16e695))return;eventSource[_0x5e55c9(0x21a,0x1f9,0x22d,0x2c8)+_0x500d75(-0x8a,0x5d,0x15,0x48)](eventNames['LLM_CHAR_M'+_0x5e55c9(0x386,0x3b0,0x347,0x3ef)+_0x5e55c9(0x3f5,0x429,0x311,0x3da)+'PONSE'],_0x1b5b9f);function _0x5e55c9(_0x1ccd7d,_0x193e90,_0x82ce28,_0x47b1aa){return _0x2cdfeb(_0x1ccd7d-0xd5,_0x193e90,_0x47b1aa-0x4b1,_0x47b1aa-0xdd);}_0x2d3e52(_0x2ae91d[_0x5e55c9(0x3c5,0x2d6,0x30b,0x35c)]);};eventSource['on'](eventNames['LLM_CHAR_M'+_0x2cdfeb(-0x53,-0xb9,-0xc2,-0x163)+_0x2cdfeb(0x5,-0x187,-0xd7,-0x72)+'PONSE'],_0x1b5b9f);const _0x392e06={};function _0x2cdfeb(_0xab81e6,_0x4f67dd,_0x502a6d,_0x3fcecf){return _0x2417(_0x502a6d- -0x3d6,_0x4f67dd);}_0x392e06['id']=_0x16e695;function _0x2dbf44(_0x5b9dbe,_0x1cbcb6,_0x25afc6,_0x5f39af){return _0x2417(_0x1cbcb6-0x9f,_0x5b9dbe);}eventSource[_0x2cdfeb(-0x1e5,-0x158,-0x1b0,-0x217)](eventNames[_0x2dbf44(0x2d1,0x2bd,0x2e6,0x275)+'ODIFY_GET_'+_0x2dbf44(0x3a9,0x2d2,0x32c,0x2ac)+_0x2cdfeb(-0x1fd,-0xf9,-0x1cb,-0x207)],_0x392e06),_0x5042e7[_0x2cdfeb(0x3d,-0x5b,-0x4e,-0x3f)](setTimeout,()=>{function _0x2a774b(_0x5b01c3,_0x11bc76,_0x40c37b,_0x392e68){return _0x2dbf44(_0x40c37b,_0x11bc76-0x290,_0x40c37b-0x148,_0x392e68-0x8d);}eventSource['removeList'+'ener'](eventNames[_0x55dddd(0x28b,0x26a,0x382,0x2bf)+_0x2a774b(0x681,0x643,0x716,0x659)+_0x2a774b(0x5e8,0x62e,0x5a3,0x605)+_0x55dddd(0x31a,0x318,0x3c0,0x3d6)],_0x1b5b9f);function _0x55dddd(_0x4d0242,_0x6da5cd,_0x27993c,_0x4ef9b2){return _0x2dbf44(_0x4d0242,_0x4ef9b2-0x2,_0x27993c-0x19b,_0x4ef9b2-0x1c5);}_0x52aa5e['VLipZ'](_0x5181d6,new Error(_0x2a774b(0x519,0x519,0x558,0x4b4)+'时'));},-0xbeb+-0x2b9a+-0x1f87*-0x3);});}export function LLM_CHAR_MODIFY(_0x49ffdb,_0x580130={}){const _0x227b58={'IqCnl':_0x527f84(0x36e,0x2df,0x30b,0x284),'ENGUl':function(_0x3a0ac9,_0x17b3fa){return _0x3a0ac9!==_0x17b3fa;},'MCqGo':function(_0x2e8310){return _0x2e8310();},'LPxsK':function(_0x24bfab,_0x12921c){return _0x24bfab===_0x12921c;},'OPfBA':_0x527f84(0x347,0x3d3,0x34b,0x3b0),'mkeVG':'AsDBX','mwvAg':function(_0x4908ec,_0xde899f){return _0x4908ec(_0xde899f);},'RLncO':function(_0x553de6,_0x270069){return _0x553de6(_0x270069);},'vfPkW':function(_0x4e6219){return _0x4e6219();},'smLNP':function(_0x4b6720,_0x5e1e1f,_0x2e612b){return _0x4b6720(_0x5e1e1f,_0x2e612b);}};function _0x527f84(_0xff482f,_0x41d0e5,_0xabce6b,_0x2af968){return _0x5da3a4(_0x41d0e5,_0x41d0e5-0x157,_0xabce6b-0x319,_0x2af968-0x197);}function _0x192e1f(_0x2f08ac,_0x362cea,_0x1180c9,_0x5f48d7){return _0x5da3a4(_0x1180c9,_0x362cea-0x18c,_0x362cea-0x40d,_0x5f48d7-0x1c1);}return new Promise((_0x5431d1,_0x101421)=>{const _0x452b2d={'UIuNQ':function(_0x22911e,_0x58bd42){function _0x105ed6(_0x384cfa,_0x399c94,_0x340345,_0x5010d0){return _0x2417(_0x5010d0-0xcf,_0x340345);}return _0x227b58[_0x105ed6(0x2fe,0x357,0x377,0x3b4)](_0x22911e,_0x58bd42);},'wyLRq':function(_0x1c0cd3){return _0x1c0cd3();},'wbPRc':_0x9322cf(0xaf,0x1e,0xbe,0x67)+_0x54231c(0x6a0,0x696,0x694,0x5ce)},_0x4d405e=_0x227b58[_0x9322cf(0x107,0x134,0x5c,0x34)](generateRequestId),_0x243cbe=_0x580130[_0x9322cf(0x137,0x8b,0x18c,0x157)]||0x82b9+0x1c008+-0x15861;let _0x10c61a=null;console[_0x54231c(0x68d,0x649,0x580,0x6f7)](_0x9322cf(0x175,0x108,0xd6,0x196)+'PromptModi'+'fy]\x20Execut'+_0x9322cf(0x189,0xce,0x231,0x161)+'odify\x20LLM\x20'+_0x9322cf(0x21c,0x1b9,0x241,0x2fa)+_0x9322cf(0xe0,0x17d,0x89,0xd0)+_0x4d405e+')');const _0x16c21a=()=>{function _0xb7d81f(_0x474c5d,_0x58d164,_0x32c864,_0x4cf0a7){return _0x9322cf(_0x474c5d-0x40a,_0x58d164-0x11d,_0x32c864,_0x4cf0a7-0x85);}function _0x3753f6(_0x45e1bc,_0x37ff34,_0x5da0b5,_0x483fe4){return _0x9322cf(_0x45e1bc-0x16b,_0x37ff34-0x107,_0x5da0b5,_0x483fe4-0x1f4);}eventSource[_0x3753f6(0x228,0x223,0x1aa,0x22c)+_0xb7d81f(0x4e8,0x41f,0x4c0,0x4d7)](eventNames['LLM_CHAR_M'+_0xb7d81f(0x5df,0x689,0x57d,0x676)+_0x3753f6(0x28a,0x2f8,0x2b7,0x27b)],_0x311b73),_0x10c61a&&(_0x452b2d[_0xb7d81f(0x4e1,0x476,0x510,0x4f2)](clearTimeout,_0x10c61a),_0x10c61a=null);},_0x311b73=_0x47d579=>{const _0x3e35a4={};_0x3e35a4[_0x3b2243(0x5cd,0x64f,0x648,0x5f2)]=_0x227b58['IqCnl'];function _0x3b2243(_0x1e1ae5,_0x36deb6,_0x4d637c,_0x5f55c5){return _0x9322cf(_0x36deb6-0x4a3,_0x36deb6-0xaf,_0x4d637c,_0x5f55c5-0xa3);}function _0x398142(_0x13a3ca,_0x3bd019,_0x13340a,_0x546229){return _0x9322cf(_0x546229- -0x1b5,_0x3bd019-0x1e1,_0x3bd019,_0x546229-0x1f2);}const _0xa7f50f=_0x3e35a4;if(_0x227b58[_0x3b2243(0x5e9,0x626,0x701,0x68f)](_0x47d579['id'],_0x4d405e))return;_0x227b58['MCqGo'](_0x16c21a);if(_0x47d579[_0x3b2243(0x648,0x56b,0x60d,0x501)]){if(_0x227b58[_0x3b2243(0x6be,0x626,0x599,0x6af)]('BeFVD','tiQFr'))_0x5431d1(_0x47d579['result']);else{const _0x5db20a=_0x2db1ab?function(){if(_0x311926){const _0x58ab14=_0x19db69['apply'](_0x1ced64,arguments);return _0xbd35d5=null,_0x58ab14;}}:function(){};return _0x53ddd8=![],_0x5db20a;}}else{if(_0x227b58[_0x398142(-0x13e,-0x1b2,-0xba,-0x102)](_0x227b58['OPfBA'],_0x227b58[_0x398142(0xd9,0x10a,0xf1,0x76)])){_0x171b18[_0x3b2243(0x599,0x5af,0x4d4,0x5eb)](_0xa7f50f['vjzQO']);return;}else _0x227b58[_0x3b2243(0x633,0x692,0x69b,0x5cf)](_0x101421,new Error(_0x47d579['result']||_0x398142(-0x11f,-0xe1,0x21,-0x78)));}};function _0x54231c(_0x40c903,_0x2c85d0,_0x239c85,_0x195049){return _0x192e1f(_0x40c903-0x162,_0x2c85d0-0x1d0,_0x239c85,_0x195049-0x146);}eventSource['on'](eventNames[_0x54231c(0x4b4,0x563,0x509,0x538)+'ODIFY_RESP'+'ONSE'],_0x311b73);function _0x9322cf(_0x56a36e,_0x53927d,_0x194380,_0x116e4d){return _0x192e1f(_0x56a36e-0xc1,_0x56a36e- -0x2a5,_0x194380,_0x116e4d-0x19b);}const _0x373935={};_0x373935[_0x54231c(0x503,0x5c6,0x67b,0x602)]=_0x49ffdb,_0x373935['id']=_0x4d405e,eventSource[_0x54231c(0x4b3,0x56b,0x612,0x57b)](eventNames[_0x54231c(0x494,0x563,0x4ed,0x49a)+_0x54231c(0x6cb,0x66c,0x5b1,0x675)+_0x9322cf(0x24b,0x20b,0x2be,0x2ce)],_0x373935),_0x10c61a=_0x227b58['smLNP'](setTimeout,()=>{function _0x37c653(_0x360048,_0x395341,_0x22ba0f,_0x160483){return _0x9322cf(_0x395341-0x8e,_0x395341-0x3d,_0x22ba0f,_0x160483-0x15d);}_0x452b2d['wyLRq'](_0x16c21a),_0x452b2d['UIuNQ'](_0x101421,new Error(_0x452b2d[_0x37c653(0x16c,0x22f,0x273,0x200)]));},_0x243cbe);});}function preprocessTagContent(_0x45f939){const _0x38737e={};function _0xddc6b9(_0x105b67,_0x2a78de,_0x309cb0,_0x47d2b8){return _0x5da3a4(_0x105b67,_0x2a78de-0x104,_0x47d2b8- -0x85,_0x47d2b8-0x1b9);}_0x38737e['ISGxX']='上半身NSFW背面:';const _0x34d135=_0x38737e;let _0x1dc17f=_0x45f939[_0x54ce61(0x607,0x591,0x5db,0x61c)](/:/g,':')[_0x54ce61(0x5db,0x6d9,0x6f5,0x61c)](/,/g,',');_0x1dc17f=_0x1dc17f['replace'](/下半身NSWebcam:/g,_0xddc6b9(-0x10,-0x22,-0x45,-0x47)),_0x1dc17f=_0x1dc17f[_0xddc6b9(-0x2c,-0x135,-0xa8,-0xba)](/下半身NSFW_背面:/g,_0x54ce61(0x633,0x73b,0x5d2,0x68f));function _0x54ce61(_0x486f9f,_0x5eeb71,_0x4885ca,_0x402d26){return _0x5da3a4(_0x4885ca,_0x5eeb71-0x2c,_0x402d26-0x651,_0x402d26-0x19b);}return _0x1dc17f=_0x1dc17f[_0xddc6b9(-0x187,-0x10,-0x138,-0xba)](/上半身NSFW_背面:/g,_0x34d135[_0x54ce61(0x5e6,0x668,0x5a0,0x593)]),_0x1dc17f;}function parseCharacterData(_0x109ce7){const _0x3f862b={};_0x3f862b[_0x4ef4dd(0xf7,0xd6,0x25,0xf9)]=_0x4ef4dd(-0xb9,-0x3c,0x43,-0xa4),_0x3f862b['keUKR']='nameEN',_0x3f862b[_0x26a862(-0xdd,-0x133,-0x36,-0x15)]=_0x26a862(-0xf5,-0x5b,-0xb1,-0x16a)+_0x26a862(-0x157,-0x80,-0x20f,-0x9a),_0x3f862b[_0x26a862(-0xc4,0x11,-0x133,-0x125)]='facialFeat'+_0x4ef4dd(0x6c,-0xc,0x6,0xc3),_0x3f862b[_0x4ef4dd(0x59,0x72,0xec,0x3a)]='upperBodyS'+'FW',_0x3f862b['fANbL']=_0x26a862(-0x1c,0x6c,0x71,-0xad)+'FWBack',_0x3f862b[_0x26a862(-0xee,-0x40,-0xbe,-0xf4)]=_0x26a862(-0x3d,0x14,0x93,-0x27)+'W',_0x3f862b[_0x26a862(-0x167,-0x10b,-0xbc,-0x13d)]=_0x4ef4dd(-0x3f,0x6b,0xa0,0xc7)+_0x4ef4dd(0xc9,0x92,0x15e,-0x3f),_0x3f862b['mSjnE']='fullBodyNS'+'FW',_0x3f862b[_0x26a862(-0x1b4,-0x288,-0x203,-0x18a)]='fullBodyNS'+_0x4ef4dd(0x66,0xfd,0x70,0x160),_0x3f862b[_0x26a862(-0x4,0xb9,0x34,0xb6)]=function(_0x114cb1,_0x39c4de){return _0x114cb1===_0x39c4de;},_0x3f862b[_0x4ef4dd(-0xd,-0x62,-0x10b,-0x5e)]=_0x26a862(-0xb7,0x3,-0x47,-0x5c),_0x3f862b[_0x4ef4dd(0x61,-0x61,-0x88,0x40)]=function(_0x124059,_0x49b873){return _0x124059===_0x49b873;},_0x3f862b['AMUPD']=function(_0x273f00,_0x283831){return _0x273f00+_0x283831;},_0x3f862b[_0x4ef4dd(-0x46,0x7,0x73,-0x32)]=function(_0xb597d9,_0x4cae9d){return _0xb597d9&&_0x4cae9d;};const _0x3cdb08=_0x3f862b,_0x59314e=_0x109ce7['split']('\x0a')['map'](_0x4ea180=>_0x4ea180[_0x4ef4dd(0x65,-0x15,-0xe9,0x19)]())[_0x4ef4dd(0xc2,0x5f,0xd1,0x85)](_0x6ff8e1=>_0x6ff8e1),_0xad2500={};_0xad2500[_0x4ef4dd(0x8a,-0x3c,0x26,-0x98)]='',_0xad2500['nameEN']='',_0xad2500[_0x26a862(-0xf5,-0xda,-0x181,-0xf0)+'raits']='',_0xad2500[_0x4ef4dd(-0x65,-0x23,-0x94,0x8a)+_0x26a862(-0xfd,-0x1cc,-0x1a1,-0xf2)]='',_0xad2500['facialFeat'+_0x4ef4dd(-0x2a,-0xc,0xaa,0x28)]='',_0xad2500[_0x4ef4dd(0xbe,0x115,0x129,0x47)+'FW']='',_0xad2500['upperBodyS'+_0x26a862(-0x34,0x75,0x4e,-0x107)]='',_0xad2500[_0x4ef4dd(0x102,0xf4,0x11b,0x9e)+'W']='',_0xad2500[_0x26a862(-0x3d,-0x31,0x44,-0x62)+_0x4ef4dd(-0xca,-0x32,0x18,0x69)]='',_0xad2500['upperBodyN'+_0x4ef4dd(0x131,0xc2,0xe0,0x15a)]='',_0xad2500[_0x26a862(-0xc6,-0x85,-0xcf,-0xcc)+'SFWBack']='',_0xad2500[_0x26a862(-0x175,-0xad,-0xfc,-0x1c7)+'FW']='';function _0x4ef4dd(_0x2087e5,_0x15d0d4,_0x591d14,_0x5cb902){return _0x5da3a4(_0x2087e5,_0x15d0d4-0x17d,_0x15d0d4-0x37,_0x5cb902-0x190);}_0xad2500[_0x4ef4dd(-0x23,-0x44,-0x11c,0x8d)+_0x26a862(-0x34,0x75,-0xc6,-0xc6)]='';function _0x26a862(_0x165de8,_0x5739e3,_0x40b7e5,_0x587567){return _0x5da3a4(_0x40b7e5,_0x5739e3-0x50,_0x165de8- -0xfa,_0x587567-0xaa);}const _0x5a2426=_0xad2500,_0x296118={};_0x296118[_0x4ef4dd(0x117,0xe0,0x70,0x186)]=_0x3cdb08[_0x26a862(-0x5b,-0x114,-0x37,-0xaf)],_0x296118['英文名称']=_0x3cdb08[_0x26a862(-0x14c,-0xae,-0x20e,-0x19d)],_0x296118[_0x26a862(-0x147,-0x179,-0x1e7,-0x1de)]=_0x3cdb08[_0x4ef4dd(-0x6c,0x54,0x9,-0x22)],_0x296118['五官外貌']=_0x4ef4dd(-0x94,-0x23,-0xbe,-0x47)+_0x26a862(-0xfd,-0xb0,-0x124,-0xde),_0x296118[_0x26a862(-0xa7,0x13,0x1a,-0xa9)]=_0x3cdb08[_0x26a862(-0xc4,-0xc,-0x187,-0x190)],_0x296118[_0x26a862(-0x8f,-0xdd,-0x12,-0x97)]=_0x3cdb08[_0x26a862(-0xbf,-0x76,-0x194,-0xd2)],_0x296118[_0x4ef4dd(-0x2f,0xac,0xd7,0x9c)]=_0x3cdb08[_0x4ef4dd(-0x27,-0x1d,0x74,-0xef)],_0x296118[_0x26a862(-0x135,-0x183,-0x14e,-0x14e)]=_0x3cdb08['CZHgs'],_0x296118[_0x26a862(-0x99,-0x66,-0x15,-0x77)]=_0x4ef4dd(0xa8,0xf4,0x52,0x4a)+_0x26a862(-0x163,-0x1db,-0xae,-0x155),_0x296118[_0x26a862(-0x7c,-0xbe,-0x94,-0x123)]='upperBodyN'+_0x26a862(-0x6f,0x35,0x8,-0xc7),_0x296118['上半身NSFW背面']=_0x3cdb08[_0x4ef4dd(0x36,-0x36,-0x9f,-0x69)],_0x296118[_0x26a862(-0xbb,-0xd7,0x1b,-0x7a)]=_0x3cdb08[_0x26a862(-0x7b,0x3e,-0x108,-0x72)],_0x296118['下半身NSFW背面']=_0x3cdb08[_0x4ef4dd(-0x118,-0x83,-0x12f,0x55)];const _0xafed43=_0x296118;for(const _0x16d0fc of _0x59314e){if(_0x3cdb08[_0x4ef4dd(0x83,0x12d,0x116,0x52)](_0x3cdb08['BPjIV'],_0x26a862(-0xb7,-0x17,-0x106,-0x29))){const _0x580d0e=_0x16d0fc[_0x4ef4dd(-0xd3,-0x24,0x13,-0x7e)](':');if(_0x3cdb08[_0x4ef4dd(-0x111,-0x61,0x3a,0x6b)](_0x580d0e,-(-0x1d1f+-0x13a2+0x30c2*0x1)))continue;const _0x5cd4ee=_0x16d0fc[_0x4ef4dd(0x21,0xcd,0x8a,0x186)](-0x3*0x3bb+-0x16a*-0x1a+0x1*-0x1993,_0x580d0e)['trim'](),_0x5e15cd=_0x16d0fc[_0x26a862(-0x64,-0x9c,0x2d,-0xd6)](_0x3cdb08[_0x4ef4dd(0xf8,0xf2,0x157,0x1d)](_0x580d0e,-0x3c0+0x52c+0x16b*-0x1))[_0x26a862(-0x146,-0x13f,-0xfd,-0x17a)]();if(_0xafed43[_0x5cd4ee])_0x5a2426[_0xafed43[_0x5cd4ee]]=_0x5e15cd;else _0x3cdb08['qbaXd'](_0x5cd4ee,_0x5e15cd)&&console['log'](_0x26a862(-0xed,-0x58,-0x89,-0xb9)+_0x4ef4dd(0x128,0x56,0xb6,-0x48)+'fy]\x20未识别的人物'+_0x26a862(-0x15e,-0x174,-0x23b,-0x109)+_0x5cd4ee+'\x22');}else{const _0x26c8ab=_0x2fbdf0(_0xf79f9a);if(_0x26c8ab){const _0x37a068={};_0x37a068['type']=_0x4ef4dd(0x35,-0x6c,-0x95,-0x65),_0x37a068[_0x4ef4dd(-0x3c,-0x2,0x27,-0x5f)]=_0x26c8ab,_0x37a068[_0x26a862(-0x177,-0x13a,-0x199,-0xf3)]=_0x4b9add,_0x3356bc[_0x26a862(-0x1a1,-0xde,-0x244,-0x13e)](_0x37a068);}}}if(!_0x5a2426[_0x26a862(-0x16d,-0x1fd,-0x191,-0xa2)])return null;return console[_0x4ef4dd(0x39,0xa3,0x13c,0x46)](_0x4ef4dd(0x72,0x44,0xba,0xc9)+_0x26a862(-0xdb,-0x29,-0x64,-0x12c)+_0x26a862(-0x158,-0x1ed,-0xd2,-0x204)+'数据:',_0x5a2426),_0x5a2426;}function parseOutfitData(_0x49310c){const _0x343ff0={};_0x343ff0[_0x70f31e(0x218,0x13b,0x1e9,0x183)]=_0x70f31e(0x26b,0x19c,0x219,0x29a),_0x343ff0[_0x478d3f(0x291,0x322,0x312,0x269)]=_0x70f31e(0x316,0x254,0x325,0x3f2),_0x343ff0[_0x478d3f(0x133,0x16b,0xd7,0xcd)]=_0x70f31e(0x338,0x2fe,0x38a,0x2dd)+_0x70f31e(0x28f,0x31a,0x1fe,0x24b),_0x343ff0[_0x478d3f(0x1d9,0x305,0x190,0x26b)]=_0x478d3f(0x10c,0x109,0x176,0xe9),_0x343ff0[_0x478d3f(0x14d,0x1ac,0x24d,0x209)]=_0x70f31e(0x31a,0x38b,0x26a,0x2af)+'ck',_0x343ff0[_0x70f31e(0x340,0x403,0x412,0x361)]=function(_0x473a1b,_0x48ab7f){return _0x473a1b===_0x48ab7f;},_0x343ff0[_0x478d3f(0x1b2,0x177,0x208,0x156)]=function(_0x26bd3e,_0x1b9079){return _0x26bd3e&&_0x1b9079;},_0x343ff0[_0x478d3f(0x1a6,0x18b,0x225,0x237)]=function(_0xc741cf,_0x59ee1e){return _0xc741cf!==_0x59ee1e;},_0x343ff0[_0x478d3f(0x168,0x13d,0x255,0x1ea)]=_0x478d3f(0x1ba,0x9b,0x33,0xe1),_0x343ff0['MHFOD']='[character'+_0x478d3f(0xf9,0x24d,0x10e,0x1a4)+_0x70f31e(0x30a,0x337,0x28c,0x26b)+_0x478d3f(0x11a,0x1e1,0x104,0x11b);const _0x549c10=_0x343ff0,_0x526bcd=_0x49310c[_0x70f31e(0x2fc,0x3bb,0x339,0x3ce)]('\x0a')[_0x70f31e(0x20e,0x28e,0x255,0x20d)](_0x3048ea=>_0x3048ea[_0x478d3f(0x11e,0x10c,0x71,0x139)]())[_0x70f31e(0x2de,0x2d6,0x336,0x317)](_0x5149f6=>_0x5149f6),_0x33a267={};_0x33a267['nameCN']='',_0x33a267[_0x478d3f(0x14c,0x16b,0x1c7,0x13a)]='',_0x33a267[_0x70f31e(0x336,0x387,0x3c3,0x301)]='',_0x33a267[_0x70f31e(0x316,0x3d7,0x34e,0x3a4)]='',_0x33a267[_0x478d3f(0x2b9,0x2ae,0x13c,0x207)+_0x70f31e(0x28f,0x238,0x2ab,0x1d6)]='',_0x33a267['fullBody']='',_0x33a267[_0x478d3f(0x23c,0x1b1,0x2ac,0x1e9)+'ck']='';const _0x42e19d=_0x33a267,_0xf7b29d={};_0xf7b29d[_0x478d3f(0x275,0x109,0x13d,0x1ae)]='owner';function _0x478d3f(_0x229f28,_0x55c3b7,_0x5e942d,_0x253ee8){return _0x5da3a4(_0x5e942d,_0x55c3b7-0x151,_0x253ee8-0x185,_0x253ee8-0x69);}_0xf7b29d[_0x70f31e(0x35f,0x36e,0x2a0,0x3ed)]=_0x478d3f(0x15d,0x5b,0x190,0x112),_0xf7b29d['英文名称']=_0x549c10[_0x70f31e(0x218,0x145,0x2c7,0x22f)],_0xf7b29d[_0x70f31e(0x29d,0x35a,0x288,0x2a1)]=_0x549c10[_0x70f31e(0x39a,0x408,0x3f6,0x378)],_0xf7b29d[_0x70f31e(0x2ee,0x3b6,0x2c0,0x3c4)]=_0x549c10['XQYFB'],_0xf7b29d[_0x70f31e(0x1fa,0x1af,0x27d,0x2ad)]=_0x549c10[_0x478d3f(0x1bc,0x193,0x2af,0x26b)],_0xf7b29d[_0x478d3f(0x299,0x20f,0x2d2,0x27c)]=_0x549c10['vrOHK'];const _0xb2d3c2=_0xf7b29d;function _0x70f31e(_0x2b953a,_0xb0a9e9,_0x1439dd,_0x54600d){return _0x5da3a4(_0x54600d,_0xb0a9e9-0x12a,_0x2b953a-0x2b6,_0x54600d-0x37);}for(const _0xb83994 of _0x526bcd){const _0x2ec248=_0xb83994[_0x478d3f(0xb2,0x195,0x94,0x12a)](':');if(_0x549c10['cTBWF'](_0x2ec248,-(-0xb3*0x1d+0x6*0x493+-0x72a)))continue;const _0x362879=_0xb83994[_0x70f31e(0x34c,0x2e6,0x29a,0x40f)](0x1a90+-0xb*-0x101+-0xc89*0x3,_0x2ec248)[_0x478d3f(0x139,0x5d,0xd5,0x139)](),_0x31dc2c=_0xb83994[_0x70f31e(0x34c,0x3f8,0x3af,0x352)](_0x2ec248+(-0x19*-0x175+0x1559*0x1+0x1*-0x39c5))[_0x478d3f(0x1e9,0x1ed,0xa9,0x139)]();if(_0xb2d3c2[_0x362879])_0x42e19d[_0xb2d3c2[_0x362879]]=_0x31dc2c;else _0x549c10[_0x478d3f(0x1ce,0x184,0x196,0x156)](_0x362879,_0x31dc2c)&&(_0x549c10['FslQT'](_0x478d3f(0x107,0x1e,0x116,0xe1),_0x549c10['Sngfv'])?_0x55d28e[_0x276b95[_0x2ed1d8]]=_0x207f6e:console[_0x70f31e(0x322,0x3c4,0x3e4,0x3d3)]('[character'+_0x478d3f(0x16a,0x24e,0x26f,0x1a4)+_0x478d3f(0x96,0x1a4,0xd2,0x11d)+_0x478d3f(0x194,0x162,0xf6,0x121)+_0x362879+'\x22'));}if(!_0x42e19d[_0x478d3f(0x1ce,0xe1,0xa1,0x112)])return null;return console[_0x70f31e(0x322,0x2fe,0x331,0x24a)](_0x549c10[_0x478d3f(0x72,0x177,0x4a,0x10f)],_0x42e19d),_0x42e19d;}function _0x2417(_0x309564,_0x25aa1f){_0x309564=_0x309564-(-0x133*-0xd+0x1*0x1111+-0x1ecf);const _0x2c6d4a=_0x3a83();let _0x396940=_0x2c6d4a[_0x309564];if(_0x2417['XCFRuQ']===undefined){var _0x2f34b8=function(_0xef0a83){const _0xbfd6ea='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4ce2e1='',_0x458238='',_0x22ab97=_0x4ce2e1+_0x2f34b8;for(let _0x8a8189=0x1547+0x1*-0x1111+-0x436,_0x5a5ed6,_0x1b3b5c,_0x826226=0x19*0x18d+0x48b+-0x3*0xe70;_0x1b3b5c=_0xef0a83['charAt'](_0x826226++);~_0x1b3b5c&&(_0x5a5ed6=_0x8a8189%(0x97a*-0x2+0x1*0xf77+0x27*0x17)?_0x5a5ed6*(0xa50+-0x11e3+-0x7d3*-0x1)+_0x1b3b5c:_0x1b3b5c,_0x8a8189++%(-0x225c+-0x1*0x379+0x1*0x25d9))?_0x4ce2e1+=_0x22ab97['charCodeAt'](_0x826226+(-0x5cb*-0x1+-0x199c+0x13db))-(0x867*0x1+0x2132+-0x298f)!==-0x1357+-0x2*-0x2c5+-0x1*-0xdcd?String['fromCharCode'](0x1*-0x1502+-0x13d2+0x2b*0xf9&_0x5a5ed6>>(-(0x3ec*-0x3+-0xff4+0x1bba)*_0x8a8189&-0x1f16+0x8ca+0x1652*0x1)):_0x8a8189:-0x1022+0x1*0x1c0b+-0xbe9*0x1){_0x1b3b5c=_0xbfd6ea['indexOf'](_0x1b3b5c);}for(let _0xa188f8=-0xb*0x89+-0x1*0x54a+0x1*0xb2d,_0x1b180d=_0x4ce2e1['length'];_0xa188f8<_0x1b180d;_0xa188f8++){_0x458238+='%'+('00'+_0x4ce2e1['charCodeAt'](_0xa188f8)['toString'](-0x3d*0x2b+-0x136b+-0x2f9*-0xa))['slice'](-(-0xbb1+-0xfe*0x2+0x1*0xdaf));}return decodeURIComponent(_0x458238);};_0x2417['jsKwNh']=_0x2f34b8,_0x2417['kTlTpL']={},_0x2417['XCFRuQ']=!![];}const _0x9565b8=_0x2c6d4a[0x9*0x417+-0x12dd+0x11f2*-0x1],_0x28ba69=_0x309564+_0x9565b8,_0x4c2ae5=_0x2417['kTlTpL'][_0x28ba69];if(!_0x4c2ae5){const _0x3ee23a=function(_0x17556f){this['zsKftF']=_0x17556f,this['FZUilZ']=[0xd1b+-0x168d+0x3b*0x29,0xae9+-0x10fa+0x611*0x1,-0x141b*0x1+0xcae+0x76d],this['ZKwhfh']=function(){return'newState';},this['ICWEQQ']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['xdfoPT']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x3ee23a['prototype']['ICBefr']=function(){const _0x4cfc13=new RegExp(this['ICWEQQ']+this['xdfoPT']),_0x3b5ece=_0x4cfc13['test'](this['ZKwhfh']['toString']())?--this['FZUilZ'][0xe6b*0x1+0x6a2+-0x2*0xa86]:--this['FZUilZ'][0x2*-0x1191+-0x1*-0x2212+0x110];return this['qsrCXC'](_0x3b5ece);},_0x3ee23a['prototype']['qsrCXC']=function(_0x1b4adc){if(!Boolean(~_0x1b4adc))return _0x1b4adc;return this['nrQoFz'](this['zsKftF']);},_0x3ee23a['prototype']['nrQoFz']=function(_0x1f4989){for(let _0x2b6751=-0x249b*-0x1+-0x1885+-0x60b*0x2,_0xad6150=this['FZUilZ']['length'];_0x2b6751<_0xad6150;_0x2b6751++){this['FZUilZ']['push'](Math['round'](Math['random']())),_0xad6150=this['FZUilZ']['length'];}return _0x1f4989(this['FZUilZ'][-0x8d1+-0x61*0x59+0x2a8a]);},new _0x3ee23a(_0x2417)['ICBefr'](),_0x396940=_0x2417['jsKwNh'](_0x396940),_0x2417['kTlTpL'][_0x28ba69]=_0x396940;}else _0x396940=_0x4c2ae5;return _0x396940;}function extractCharacterAndOutfitTags(_0x4fa9d0){const _0x3fc910={'yOUOR':function(_0x4b96fc,_0x18d4c9){return _0x4b96fc(_0x18d4c9);},'qekqz':'input','Iyuza':_0x1da2a4(0x17c,0x1be,0xb1,0x258),'OLehf':_0x1da2a4(0x163,0xbd,0x121,0x112),'UFmHD':_0x403b67(0x56a,0x568,0x4ca,0x494),'rTTHZ':_0x1da2a4(0x82,-0x40,0xeb,0x3f),'JGjvw':_0x403b67(0x40a,0x56a,0x4de,0x507),'ejgVm':function(_0x582081,_0x332f0e){return _0x582081===_0x332f0e;},'ypVaL':'uCSuS','uggYe':'GWUYP','CkSDE':'character','KVSWK':_0x403b67(0x4e9,0x3a6,0x462,0x429),'pOJuN':function(_0x1fe34d,_0x9ac187){return _0x1fe34d(_0x9ac187);},'KbmYs':function(_0x3c17c0,_0x2202de){return _0x3c17c0!==_0x2202de;},'NiuoU':'HSUsV','OTiuD':'pVlru','SBcLd':function(_0x4d7a85,_0x32b60a){return _0x4d7a85===_0x32b60a;},'ybLcq':function(_0x43009d,_0xa51b36){return _0x43009d!==_0xa51b36;},'gNSeX':_0x403b67(0x428,0x536,0x48c,0x492),'TbfeB':'gJxcc'},_0x128faa=[];_0x4fa9d0=_0x4fa9d0[_0x403b67(0x4bc,0x48f,0x424,0x4c4)](/<thinking>[\s\S]*?<\/thinking>/gi,'')[_0x1da2a4(0xd9,0x128,0x8,0x78)]();const _0x2d0891=/<(人物|服装)>([\s\S]*?)<\/\1>/g;let _0x17b295;while((_0x17b295=_0x2d0891[_0x403b67(0x557,0x55b,0x51a,0x4dc)](_0x4fa9d0))!==null){if(_0x3fc910['JGjvw']===_0x3fc910['JGjvw']){const _0x4251cf=_0x17b295[0x181+-0xb3d+0x3*0x33f],_0x45a752=preprocessTagContent(_0x17b295[-0x2*0xdf1+-0xbc9+-0x7*-0x5ab]),_0x2f2627=_0x17b295[_0x1da2a4(0x201,0x1a5,0x28c,0x296)];if(_0x3fc910[_0x403b67(0x4f3,0x52a,0x496,0x41f)](_0x4251cf,'人物')){const _0x18272f=_0x3fc910[_0x1da2a4(0x21f,0x1a4,0x297,0x289)](parseCharacterData,_0x45a752);if(_0x18272f){if(_0x3fc910[_0x403b67(0x487,0x43e,0x496,0x4d0)](_0x3fc910[_0x403b67(0x3ed,0x327,0x404,0x44e)],_0x3fc910[_0x1da2a4(0x1b7,0x1fd,0x165,0x106)]))_0x181981++;else{const _0x4ca4a7={};_0x4ca4a7[_0x1da2a4(0xf8,0x146,0x5b,0x17f)]=_0x3fc910[_0x403b67(0x4ea,0x4b6,0x43a,0x4ab)],_0x4ca4a7[_0x403b67(0x3dc,0x374,0x420,0x356)]=_0x18272f,_0x4ca4a7['position']=_0x2f2627,_0x4ca4a7[_0x1da2a4(0x11b,0x1ee,0xe7,0x5d)+_0x403b67(0x4ef,0x538,0x517,0x4ad)]=[],_0x128faa[_0x1da2a4(0x7e,0x7e,0x15a,-0x17)](_0x4ca4a7);}}}else{if(_0x3fc910[_0x403b67(0x4eb,0x41b,0x496,0x537)](_0x4251cf,'服装')){if(_0x403b67(0x4cc,0x612,0x54c,0x486)===_0x3fc910[_0x403b67(0x407,0x43b,0x493,0x55d)]){const _0x4f3e48=_0x619f17[_0x403b67(0x324,0x36f,0x3cd,0x30a)+_0x403b67(0x505,0x583,0x527,0x5ae)](_0x403b67(0x481,0x4b6,0x4d2,0x590)+_0x4fed80);_0x4f3e48&&(_0x4f3e48['value']=_0x5c0085[_0x337d8f],_0x3fc910[_0x1da2a4(0x21f,0x24a,0x1d0,0x2c3)](_0x3702c7,_0x4f3e48)[_0x403b67(0x4e0,0x463,0x4f2,0x58d)](_0x3fc910[_0x1da2a4(0x145,0x221,0x7b,0x178)]));}else{const _0x4ed3c9=_0x3fc910[_0x1da2a4(0xe3,0x2c,0x80,0x1a8)](parseOutfitData,_0x45a752);if(_0x4ed3c9){const _0x492ecb={};_0x492ecb['type']='outfit',_0x492ecb[_0x403b67(0x42b,0x3cb,0x420,0x3b0)]=_0x4ed3c9,_0x492ecb[_0x1da2a4(0xa8,0x173,0x130,0x1a)]=_0x2f2627,_0x128faa[_0x403b67(0x371,0x3cd,0x3b2,0x309)](_0x492ecb);}}}}}else{const _0x5294d4={};_0x5294d4[_0x403b67(0x46a,0x3aa,0x42c,0x3ed)]=_0x3fc910[_0x403b67(0x39d,0x4da,0x448,0x428)],_0x5294d4['text']=_0x32306a['content'],_0x42caa7['push'](_0x5294d4);}}function _0x403b67(_0x356c57,_0x4d31c5,_0x1d68d5,_0x3d58ac){return _0x5da3a4(_0x3d58ac,_0x4d31c5-0x189,_0x1d68d5-0x459,_0x3d58ac-0x26);}_0x128faa[_0x403b67(0x52f,0x4f5,0x543,0x52c)]((_0x37654f,_0x164023)=>_0x37654f[_0x403b67(0x401,0x376,0x3dc,0x3f9)]-_0x164023[_0x1da2a4(0xa8,-0x10,0x166,0x143)]);let _0x423153=null;const _0x2d2f7f=[],_0x3389ed=[];function _0x1da2a4(_0x19ae82,_0x10e87e,_0x48d033,_0x222ff3){return _0x5da3a4(_0x10e87e,_0x10e87e-0x5a,_0x19ae82-0x125,_0x222ff3-0xd3);}for(const _0x410c54 of _0x128faa){if(_0x3fc910[_0x1da2a4(0x167,0xdd,0x14a,0x1ff)](_0x3fc910[_0x1da2a4(0x20c,0x221,0x294,0x19e)],_0x3fc910[_0x403b67(0x4a8,0x5c7,0x53a,0x4ea)])){if(_0x3fc910[_0x1da2a4(0x1cf,0x27b,0x294,0x224)](_0x410c54[_0x403b67(0x4d6,0x3a6,0x42c,0x4be)],_0x1da2a4(0x1d5,0x138,0x1f5,0x24d)))_0x423153=_0x410c54,_0x2d2f7f['push'](_0x410c54);else{if(_0x3fc910[_0x403b67(0x5c7,0x586,0x503,0x4cd)](_0x410c54['type'],_0x403b67(0x345,0x365,0x3b6,0x490))){if(_0x3fc910[_0x1da2a4(0x167,0x157,0x13c,0x1ee)](_0x403b67(0x3c5,0x498,0x3ca,0x400),'YgZyu')){let _0x4dc51f=_0x1c5233[_0x1da2a4(0xf0,0x112,0x2a,0x14a)](/:/g,':')[_0x1da2a4(0xf0,0x108,0x106,0x2a)](/,/g,',');return _0x4dc51f=_0x4dc51f[_0x1da2a4(0xf0,0x40,0x169,0x18a)](/下半身NSWebcam:/g,_0x3fc910['OLehf']),_0x4dc51f=_0x4dc51f['replace'](/下半身NSFW_背面:/g,_0x3fc910['OLehf']),_0x4dc51f=_0x4dc51f[_0x1da2a4(0xf0,0x6b,0x11e,0x95)](/上半身NSFW_背面:/g,_0x3fc910[_0x1da2a4(0x75,-0x19,0x89,0x1a)]),_0x4dc51f;}else{if(_0x423153)_0x3fc910[_0x403b67(0x624,0x5f4,0x54d,0x55f)](_0x3fc910[_0x1da2a4(0x1bd,0x246,0x28f,0x16d)],_0x3fc910['gNSeX'])?_0x45b7c3['log'](_0x1da2a4(0x132,0x5c,0x137,0x164)+_0x403b67(0x4e5,0x3f9,0x478,0x39c)+_0x1da2a4(0xbd,0xc9,0x17c,0x155)+_0x403b67(0x3dc,0x45d,0x3f5,0x3c6)+_0x123dfb+'\x22'):_0x423153[_0x403b67(0x3a2,0x410,0x44f,0x510)+_0x403b67(0x5ab,0x514,0x517,0x568)][_0x403b67(0x444,0x446,0x3b2,0x42b)](_0x410c54[_0x403b67(0x3e8,0x495,0x420,0x457)]);else{if(_0x3fc910[_0x403b67(0x44f,0x4ce,0x49b,0x4db)](_0x403b67(0x393,0x468,0x45a,0x4d9),_0x3fc910[_0x1da2a4(0x147,0x11e,0xa1,0x1d7)]))_0x3389ed[_0x1da2a4(0x7e,-0xc,0x3d,0x135)](_0x410c54['data']);else{const _0x3e0aff={};_0x3e0aff[_0x403b67(0x3f5,0x3c0,0x42c,0x37d)]=_0x3fc910['rTTHZ'],_0x3e0aff[_0x403b67(0x3ac,0x41c,0x420,0x409)]=_0x5ad7ff,_0x3e0aff[_0x403b67(0x3d8,0x36e,0x3dc,0x3a6)]=_0x59882c,_0x10e109[_0x1da2a4(0x7e,-0x25,0x104,0x90)](_0x3e0aff);}}}}}}else _0x511853[_0x1da2a4(0x7e,0x14a,-0x1f,-0x29)](_0xdd7d2b);}return{'characters':_0x2d2f7f[_0x403b67(0x2f8,0x407,0x3b1,0x3a5)](_0x5240e=>({..._0x5240e[_0x1da2a4(0xec,0x67,0x111,0x62)],'matchedOutfits':_0x5240e[_0x403b67(0x435,0x39d,0x44f,0x4ff)+_0x1da2a4(0x1e3,0x20e,0x1c0,0x15b)]})),'outfits':_0x3389ed};}function getCurrentCharacterPreset(){const _0x455f37={};_0x455f37[_0x17846a(-0x135,-0x61,0xf,-0xb5)]=function(_0xa1ccae,_0x1e4286){return _0xa1ccae!==_0x1e4286;};function _0x17846a(_0x831c42,_0x362f96,_0x367459,_0xbf7633){return _0x5da3a4(_0xbf7633,_0x362f96-0x144,_0x362f96- -0x4f,_0xbf7633-0x149);}_0x455f37['OadFi']=_0x4dbfbd(0x54d,0x5da,0x55b,0x47b);const _0x12b56c=_0x455f37,_0x11218f=extension_settings[extensionName],_0x352ebd=_0x11218f[_0x17846a(0xf4,0x29,-0x5f,-0xae)+_0x4dbfbd(0x4ab,0x504,0x47f,0x3df)];if(!_0x352ebd||!_0x11218f['characterP'+_0x4dbfbd(0x4d9,0x4bf,0x485,0x4cb)][_0x352ebd])return _0x12b56c[_0x4dbfbd(0x4cb,0x516,0x561,0x52b)](_0x12b56c[_0x4dbfbd(0x468,0x4c3,0x53f,0x3b8)],'fkLge')?null:null;const _0x4392a7={};function _0x4dbfbd(_0x26c1cd,_0x5f19ed,_0x157195,_0x754413){return _0x5da3a4(_0x754413,_0x5f19ed-0xd9,_0x26c1cd-0x4dd,_0x754413-0x105);}return _0x4392a7['id']=_0x352ebd,_0x4392a7[_0x4dbfbd(0x4a4,0x3e6,0x3f1,0x422)]=_0x11218f[_0x17846a(-0x17,0x29,0x3,-0x1e)+'resets'][_0x352ebd],_0x4392a7;}function buildCharacterText(_0x586999){const _0x243a1c={};_0x243a1c[_0x248db8(-0xa0,-0x118,-0xa7,-0x4e)]=_0x248db8(-0x157,-0xbc,-0x3c,-0x193),_0x243a1c[_0x248db8(-0x139,-0x1ae,-0x245,-0x1c1)]=_0x3582e3(0x114,0x39,0xdc,0x12b);const _0x1bc96d=_0x243a1c,_0x5a85bc=_0x586999[_0x248db8(-0x172,-0x188,-0x1d5,-0x13b)];let _0x336fdf=_0x1bc96d['yZDIj'];_0x336fdf+=_0x248db8(-0x1bb,-0x17b,-0xa6,-0x1eb)+(_0x5a85bc[_0x3582e3(0x10,-0xc2,0xbd,0x88)]||'')+'\x0a',_0x336fdf+='英文名称:\x20'+(_0x5a85bc[_0x248db8(-0x156,-0x19a,-0xd3,-0x192)]||'')+'\x0a';function _0x248db8(_0x5bb54f,_0x705c38,_0x178f70,_0x1816e8){return _0x5da3a4(_0x1816e8,_0x705c38-0x101,_0x705c38- -0x14f,_0x1816e8-0x146);}_0x336fdf+=_0x3582e3(0x163,0xcf,0x15b,0xe6)+(_0x5a85bc['characterT'+_0x248db8(-0x1cf,-0x1ac,-0x108,-0x121)]||'')+'\x0a',_0x336fdf+='五官外貌:\x20'+(_0x5a85bc['facialFeat'+_0x3582e3(0x80,0x12b,0xc2,-0x1e)]||'')+'\x0a',_0x336fdf+=_0x248db8(-0x1d2,-0x203,-0x2d2,-0x26b)+(_0x5a85bc['facialFeat'+_0x3582e3(0x40,0xc6,0x24,0x24)]||'')+'\x0a',_0x336fdf+=_0x248db8(-0x125,-0x1cd,-0xfe,-0x121)+(_0x5a85bc['upperBodyS'+'FW']||'')+'\x0a';function _0x3582e3(_0x10fcf4,_0xeef27a,_0x26ce6f,_0x334f63){return _0x5da3a4(_0x26ce6f,_0xeef27a-0x83,_0x10fcf4-0x83,_0x334f63-0x112);}return _0x336fdf+=_0x248db8(-0x11a,-0x14c,-0x169,-0xee)+(_0x5a85bc[_0x3582e3(0x161,0x187,0x1a2,0xda)+_0x248db8(-0x70,-0x89,-0x20,-0x18)]||'')+'\x0a',_0x336fdf+='下半身SFW:\x20'+(_0x5a85bc['fullBodySF'+'W']||'')+'\x0a',_0x336fdf+=_0x248db8(-0x115,-0x1f0,-0x18f,-0x1cd)+(_0x5a85bc[_0x248db8(0x23,-0x92,0x3e,0x9)+_0x3582e3(0x1a,0x2d,-0x3d,0x85)]||'')+'\x0a',_0x336fdf+=_0x3582e3(0xdd,0x1a0,0xea,0xb9)+(_0x5a85bc[_0x3582e3(0xb7,0x15b,0xa,0x15c)+'SFW']||'')+'\x0a',_0x336fdf+=_0x3582e3(0xf4,0x1c7,0x14b,0x131)+'\x20'+(_0x5a85bc[_0x3582e3(0xb7,0xc,0x189,-0x9)+'SFWBack']||'')+'\x0a',_0x336fdf+=_0x248db8(-0x123,-0xc3,-0xba,-0x10d)+(_0x5a85bc[_0x248db8(-0x156,-0x1ca,-0x127,-0x1b7)+'FW']||'')+'\x0a',_0x336fdf+=_0x3582e3(0xc1,0x2,0x3c,0x173)+'\x20'+(_0x5a85bc[_0x3582e3(0x8,-0x60,-0x86,-0xad)+_0x248db8(-0x118,-0x89,-0x10a,-0xf4)]||'')+'\x0a',_0x336fdf+=_0x1bc96d[_0x248db8(-0x22c,-0x1ae,-0x12a,-0xef)],_0x336fdf;}export async function handleCharacterPromptModify(_0x1c272c,_0x4697c2=[]){const _0x4a8cfc={'QSTYA':function(_0x5d7bad){return _0x5d7bad();},'DqBPt':function(_0x223835,_0x41088d){return _0x223835(_0x41088d);},'Zfnfy':_0x173608(0x575,0x4c0,0x4e3,0x526)+_0x3407ba(0x1d2,0xc8,0x16e,0x195),'rQHbg':function(_0x10d66a,_0xa84866){return _0x10d66a===_0xa84866;},'stezH':_0x173608(0x565,0x5d0,0x518,0x6a1),'onAFv':_0x3407ba(0x137,0x144,0x12,0xe9)+'PromptModi'+_0x173608(0x5bf,0x654,0x662,0x62b)+_0x173608(0x6d5,0x63d,0x5c0,0x629)+_0x3407ba(0x132,0x146,0xa8,0x89)+_0x173608(0x434,0x4d0,0x40d,0x57a)+_0x3407ba(0x1bb,0x1c2,0x1a8,0x1c5),'FzliC':_0x3407ba(0x5e,0x9a,0x20,0xe9)+_0x173608(0x4e2,0x598,0x606,0x61e)+_0x173608(0x502,0x570,0x5fb,0x5b1)+_0x3407ba(0x157,0xfe,0x95,0xf6),'LNaLK':function(_0x4410e3){return _0x4410e3();},'gTPhC':_0x173608(0x52c,0x586,0x5ce,0x535)+_0x3407ba(0x166,0x144,0x6c,0xfb)+_0x3407ba(0x114,0x21,0x100,0xc6)+'context:','AEfZA':_0x173608(0x4cb,0x586,0x568,0x4b8)+'PromptModi'+_0x173608(0x48e,0x563,0x590,0x5e2)+_0x173608(0x595,0x4d3,0x462,0x4a8)+':','adYZU':_0x3407ba(0x15b,0x112,0x16f,0xe9)+'PromptModi'+_0x3407ba(0x7d,0xb1,0x10d,0xc6)+_0x3407ba(0x1f5,0x15d,0x113,0x14a),'rAwRr':function(_0x453dc6,_0x138d63){return _0x453dc6!==_0x138d63;},'YzpDq':function(_0x51b872,_0xe9e4c,_0x40f36b){return _0x51b872(_0xe9e4c,_0x40f36b);},'BOtYc':_0x173608(0x5ba,0x61f,0x645,0x629)+'y','xNVRg':_0x3407ba(0x12a,0x11c,0xa9,0xe9)+_0x173608(0x5fd,0x598,0x64e,0x53d)+_0x3407ba(0xc,-0xa,0x5,0x4a)+_0x3407ba(0x78,0x163,0x32,0xf1)+'ext\x20(trigg'+'ered):','MSpbW':_0x173608(0x5b6,0x586,0x569,0x526)+_0x3407ba(0x108,0x45,0x19d,0xfb)+'fy]\x20合并相邻消息'+'后:','iAhQM':_0x3407ba(0x13a,0x173,0x8f,0xe0),'hlCct':_0x173608(0x577,0x586,0x617,0x4eb)+_0x173608(0x575,0x598,0x577,0x510)+'fy]\x20User\x20r'+_0x3407ba(0x17,0x22,-0x6c,0x2a)+_0x173608(0x596,0x521,0x4fb,0x504)+_0x3407ba(0xbf,0x21b,0x18a,0x191),'hVyXB':function(_0x1699be,_0x1d31d1){return _0x1699be||_0x1d31d1;},'sIton':function(_0x1419c1,_0x37cdf9,_0x127193,_0x3bf561,_0x475d68){return _0x1419c1(_0x37cdf9,_0x127193,_0x3bf561,_0x475d68);},'Wnrkj':_0x3407ba(0x86,0x50,0x168,0xe9)+'PromptModi'+_0x173608(0x634,0x5d2,0x628,0x588)+_0x173608(0x6e4,0x609,0x5be,0x57d),'qJuIK':function(_0x4391ae,_0x24a5e8){return _0x4391ae>_0x24a5e8;},'hTvVD':function(_0x1958d2,_0x4a21f6){return _0x1958d2>=_0x4a21f6;},'GPzWu':_0x3407ba(0x171,0x18a,0x163,0x159),'fTlNP':_0x3407ba(0xc2,0x219,0x218,0x189)+_0x173608(0x48d,0x508,0x4e2,0x512)+'\x20index','lZlvj':_0x3407ba(0x12c,0x1d1,0x24d,0x1c1),'FdKdH':_0x173608(0x5c7,0x672,0x6e2,0x6f7),'GQmuZ':'未在\x20LLM\x20输出中'+_0x173608(0x52b,0x56a,0x5c3,0x4cc),'YPCKq':_0x3407ba(0x7b,0x15e,0x51,0xe9)+_0x173608(0x4bd,0x598,0x564,0x62f)+_0x173608(0x5fa,0x5a0,0x5c2,0x4e8)+'racter/out'+_0x173608(0x5cb,0x5a7,0x5dd,0x678)+'ound\x20in\x20ou'+_0x3407ba(0x53,0xbd,-0x35,0x3d),'csaHG':_0x3407ba(0xfb,0xb5,0x6b,0xe9)+_0x3407ba(0x1cc,0x73,0x1b7,0xfb)+_0x3407ba(0xb6,0xf5,0x83,0xa2)+_0x3407ba(0x100,0x114,0xef,0x19b)+_0x173608(0x5cd,0x550,0x5d4,0x58d)+_0x173608(0x526,0x535,0x528,0x51e),'zdFLP':'[character'+_0x173608(0x5b5,0x598,0x4c1,0x4e0)+_0x173608(0x644,0x578,0x4fb,0x5d3)+_0x3407ba(0x5e,0xd8,0x109,0xbe),'Jyups':_0x173608(0x4a5,0x4f8,0x4ad,0x518),'jmprY':_0x3407ba(0x190,0x159,0xac,0xe9)+'PromptModi'+_0x3407ba(0x15b,0x7c,0x192,0x138)};function _0x3407ba(_0x5cdd5c,_0x2b2c18,_0x3a9a35,_0x11b9e6){return _0x5da3a4(_0x5cdd5c,_0x2b2c18-0xc8,_0x11b9e6-0xdc,_0x11b9e6-0xce);}console['log'](_0x4a8cfc[_0x173608(0x4a9,0x583,0x5f6,0x619)]);function _0x173608(_0x28eb38,_0x3d9af7,_0x45582b,_0x244d4f){return _0x5da3a4(_0x45582b,_0x3d9af7-0x17e,_0x3d9af7-0x579,_0x244d4f-0x29);}toastr[_0x173608(0x4bb,0x51d,0x4f7,0x5be)](_0x4a8cfc[_0x3407ba(0x1d7,0x208,0x23c,0x1a7)]);try{if(_0x4a8cfc[_0x173608(0x577,0x595,0x645,0x65e)](_0x3407ba(0x15d,0xf8,0xa1,0x86),'ESfgw')){if(_0x28945f){const _0x32836d=_0x106e07[_0x173608(0x4f8,0x55d,0x4d2,0x632)](_0x322d84,arguments);return _0x10b43b=null,_0x32836d;}}else{const _0x5528c7=_0x4a8cfc[_0x3407ba(0x1c0,0x186,0x1ce,0x187)](getContext),_0x3df070=extension_settings[extensionName],_0x2c9e2e=_0x4a8cfc[_0x173608(0x58d,0x5f3,0x56c,0x694)](getCurrentCharacterPreset);if(!_0x2c9e2e){toastr['error'](_0x173608(0x655,0x5c9,0x542,0x52d));return;}console[_0x3407ba(0x11d,0xd3,0x117,0x148)](_0x173608(0x4df,0x586,0x534,0x521)+'PromptModi'+'fy]\x20Curren'+_0x173608(0x547,0x551,0x475,0x494),_0x2c9e2e['id']);const _0x13a234=_0x2c9e2e[_0x173608(0x555,0x540,0x59a,0x58b)][_0x173608(0x550,0x5fa,0x570,0x611)+_0x3407ba(0xd8,0xd6,0x1be,0x1b4)]||'',_0x161096=_0x2c9e2e[_0x173608(0x59f,0x540,0x464,0x49b)][_0x173608(0x606,0x5fa,0x59a,0x62d)+_0x3407ba(-0x7d,0x9b,0x1c,0x3a)]||'',_0x1b694f=_0x2c9e2e[_0x173608(0x5b2,0x540,0x4fe,0x600)]['generation'+_0x173608(0x509,0x5db,0x5a4,0x5d5)]||{};console[_0x3407ba(0x1d2,0x8b,0x182,0x148)](_0x4a8cfc[_0x3407ba(0x1eb,0x21e,0x237,0x181)],_0x13a234),console['log'](_0x4a8cfc[_0x3407ba(0xf7,0x9,0x90,0x95)],_0x161096),console[_0x3407ba(0x1fd,0x20a,0x163,0x148)](_0x4a8cfc[_0x173608(0x582,0x656,0x586,0x721)],_0x1b694f);const _0x48d5a7=_0x1c272c||'',_0x6df1be=[];_0x1c272c&&(_0x4a8cfc['rAwRr']('phLZy',_0x173608(0x544,0x53b,0x573,0x58e))?_0x26e434[_0x3407ba(0x64,0x8e,0x71,0xe4)+'ets']={}:_0x6df1be[_0x173608(0x4e6,0x4d2,0x463,0x469)](_0x1c272c));_0x13a234&&_0x6df1be[_0x3407ba(-0x2e,-0x8a,0x32,0x35)](_0x13a234);_0x161096&&_0x6df1be[_0x3407ba(0x35,0x21,0xa3,0x35)](_0x161096);const _0x1328ff=_0x6df1be[_0x3407ba(0x45,0xb5,-0x7d,0x5a)]('\x0a');console[_0x173608(0x6c2,0x5e5,0x664,0x52b)](_0x173608(0x4fc,0x586,0x4c4,0x5f6)+_0x3407ba(0x39,0x5e,0x145,0xfb)+_0x3407ba(0x5b,-0x66,-0x6e,0x4a)+_0x173608(0x5bc,0x613,0x635,0x6b4)+_0x3407ba(0x1eb,0x15b,0x204,0x152),_0x1328ff);let _0x3e1cd8=_0x4a8cfc['YzpDq'](buildPromptForRequestType,_0x4a8cfc[_0x173608(0x5b7,0x5eb,0x5da,0x63f)],_0x48d5a7);const _0x1b939f=generateCharacterListText(_0x1328ff),_0x1b0bd5=generateOutfitEnableListText(),_0xdb0ae1=_0x4a8cfc[_0x3407ba(0x1ba,0x224,0x261,0x187)](generateCommonCharacterListText);console['log'](_0x4a8cfc[_0x173608(0x6cc,0x617,0x5de,0x597)],_0x1b939f);const _0x19c865=_0x5528c7[_0x3407ba(0x15c,0x148,0x10b,0xee)+'ta']?.[_0x3407ba(0x20c,0x207,0x69,0x132)]||{},_0x552144=buildCharacterText(_0x2c9e2e);_0x3e1cd8=mergeAdjacentMessages(_0x3e1cd8),console[_0x173608(0x574,0x5e5,0x5a2,0x66f)](_0x4a8cfc['MSpbW'],_0x3e1cd8);const _0x240118=_0x4a8cfc[_0x3407ba(0x17a,0x1fa,0x148,0x1a9)](findMessageIndexWithPlaceholder,_0x3e1cd8,_0x4a8cfc[_0x3407ba(0xc5,0xd3,0x229,0x173)]);console['log'](_0x4a8cfc[_0x173608(0x4ce,0x4e2,0x452,0x540)],_0x240118);const _0x2a3c46={..._0x1b694f,..._0x19c865},_0x5e2d94={'context':_0x13a234,'worldBookContent':_0x161096,'variables':_0x2a3c46,'userDemand':_0x4a8cfc[_0x173608(0x592,0x5e3,0x610,0x5e2)](_0x1c272c,''),'characterListText':_0x1b939f,'outfitEnableListText':_0x1b0bd5,'commonCharacterListText':_0xdb0ae1},{messages:_0x356335,replacedVariables:_0x105b9d}=_0x4a8cfc[_0x173608(0x60a,0x646,0x6b5,0x622)](replaceAllPlaceholders,_0x3e1cd8,_0x5e2d94);_0x3e1cd8=_0x356335,_0x3e1cd8=_0x4a8cfc[_0x3407ba(0x8e,0xac,0xb4,0xd1)](_0x59b962,_0x3e1cd8,_0x173608(0x4fc,0x57f,0x4f2,0x4e5),_0x552144,_0x105b9d),console[_0x173608(0x69c,0x5e5,0x636,0x678)](_0x4a8cfc['Wnrkj'],_0x3e1cd8);let _0x49cfd9='';_0x4a8cfc[_0x3407ba(0x135,0x128,0xa5,0xb9)](_0x105b9d[_0x173608(0x4d5,0x4bc,0x576,0x54b)],-0x215*0x11+-0x1506+-0x521*-0xb)&&(_0x49cfd9=_0x3407ba(0x132,0x1cc,0x1a8,0x1ca)+_0x173608(0x59d,0x4c6,0x4ec,0x4a3)+[..._0x105b9d][_0x3407ba(0xd6,0x135,0x16,0x5a)]('、')+'\x0a');_0x4697c2&&_0x4a8cfc[_0x3407ba(-0x4,0xd1,0x111,0xb9)](_0x4697c2[_0x3407ba(0x72,0x143,0x1ac,0x12d)],0xc6a+0x2ad*-0x2+-0x1*0x710)&&_0x4a8cfc[_0x3407ba(0x213,0x147,0x106,0x14b)](_0x240118,0x41d*0x1+0x5*0xa3+0x4*-0x1d3)&&(_0x3e1cd8=_0x4a8cfc['sIton'](attachImagesToMessage,_0x3e1cd8,_0x240118,_0x4697c2,_0x4a8cfc[_0x3407ba(0xa2,0x19c,0x70,0x100)]),console[_0x3407ba(0x90,0x181,0x192,0x148)]('[character'+_0x3407ba(0xe2,0x1c2,0x1cb,0xfb)+_0x173608(0x58e,0x649,0x628,0x644)+'ed',_0x4697c2[_0x173608(0x577,0x5ca,0x638,0x512)],_0x4a8cfc['fTlNP'],_0x240118));updateCombinedPrompt(_0x3e1cd8,_0x49cfd9);const _0x4a82a6={};_0x4a82a6[_0x3407ba(0x129,-0x3,0x14f,0xab)]=0x493e0;const _0x34796e=await LLM_CHAR_MODIFY(_0x3e1cd8,_0x4a82a6);console[_0x173608(0x5d9,0x5e5,0x605,0x632)](_0x173608(0x5a5,0x586,0x4b8,0x4fb)+_0x173608(0x5b0,0x598,0x531,0x57f)+_0x173608(0x5ab,0x631,0x58d,0x677)+'tput:',_0x34796e);if(!_0x34796e){toastr[_0x3407ba(0x133,0x9b,-0x16,0x6d)](_0x3407ba(0xc9,0x19f,0x228,0x1a1));return;}const _0x228139=extractCharacterAndOutfitTags(_0x34796e);if(_0x228139[_0x173608(0x571,0x58d,0x5f8,0x4fa)]['length']===-0x269e+0x26e8+0x4a*-0x1&&_0x228139[_0x173608(0x5ef,0x643,0x63c,0x6de)][_0x3407ba(0x1b9,0x17e,0x83,0x12d)]===-0x1eeb+-0x1c73+-0x3*-0x13ca){if(_0x4a8cfc['rAwRr'](_0x4a8cfc[_0x173608(0x615,0x66a,0x744,0x62b)],_0x4a8cfc[_0x3407ba(0x16b,0x131,0x171,0xd4)])){toastr[_0x3407ba(0x112,0x13d,0x176,0x12b)](_0x4a8cfc['GQmuZ']),console[_0x3407ba(0x136,0x10a,0x153,0x148)](_0x4a8cfc[_0x3407ba(0x177,0x12e,0x95,0x111)]),console[_0x173608(0x69e,0x5e5,0x5bd,0x536)](_0x4a8cfc['csaHG'],_0x34796e);return;}else _0x4a8cfc[_0x3407ba(0x11c,0x192,0x1c2,0x156)](_0x3f42df),_0x4a8cfc['DqBPt'](_0x2b22c0,new _0x701704(_0x4a8cfc[_0x3407ba(0xe3,-0x64,0x83,0x6e)]));}console[_0x3407ba(0x142,0xb6,0x109,0x148)](_0x4a8cfc[_0x3407ba(0x12f,0x16c,0x12c,0x1c8)],_0x228139);if(_0x4a8cfc[_0x3407ba(0x17f,0x31,0x191,0xb9)](_0x228139[_0x3407ba(0x9a,0x1a2,0x124,0xf0)][_0x173608(0x5e8,0x5ca,0x578,0x605)],-0x17c2+-0x2599+0x3d5b)){const _0x3c6e62=_0x228139[_0x173608(0x5f9,0x58d,0x4e1,0x64a)][0x18bb+0x11a2+-0x2d3*0xf];await _0x4a8cfc[_0x3407ba(0x1ba,0x276,0x11f,0x1a9)](updateCharacterPresetFromLLM,_0x2c9e2e['id'],_0x3c6e62);}const _0x259af6=[..._0x228139[_0x173608(0x659,0x643,0x6a8,0x66f)]];for(const _0x5439c5 of _0x228139[_0x3407ba(0x15e,0x26,0x1c1,0xf0)]){if(_0x4a8cfc[_0x173608(0x570,0x64d,0x5be,0x66f)](_0x4a8cfc[_0x173608(0x503,0x4f3,0x555,0x5c9)],_0x173608(0x41d,0x4f8,0x560,0x4e0)))for(const _0xba5e0e of _0x1b7868[_0x3407ba(0x104,0x10f,0x1d9,0x134)]){if(_0x4a8cfc['rQHbg'](_0xba5e0e[_0x3407ba(0xdf,0x18,0x142,0xaf)],_0x4a8cfc[_0x3407ba(0x15,0xd4,0xc,0x21)])&&_0xba5e0e[_0x3407ba(0x7a,0x119,0x78,0x133)]['includes'](_0x11d91d))return _0x3fdf61;}else _0x5439c5[_0x3407ba(0x176,0x154,0xa,0xd2)+_0x3407ba(0x156,0x16d,0xca,0x19a)]&&_0x5439c5['matchedOut'+'fits'][_0x3407ba(0x1ec,0x1b3,0xac,0x12d)]>-0xbcb+0x22+-0x3e3*-0x3&&_0x259af6[_0x173608(0x42d,0x4d2,0x440,0x4ae)](..._0x5439c5[_0x3407ba(0x5d,0x14b,0xcf,0xd2)+'fits']);}_0x4a8cfc[_0x3407ba(0x7,0x122,0x6d,0xb9)](_0x259af6[_0x3407ba(0x1e0,0xf7,0x1e7,0x12d)],-0x1d77+-0x98c+0x2703)&&await _0x4a8cfc[_0x173608(0x651,0x668,0x6f6,0x6a2)](updateOutfitPresetsFromLLM,_0x259af6),toastr[_0x3407ba(0xb,0xfa,0xd4,0x3c)](_0x173608(0x52b,0x5c4,0x602,0x68a)+_0x173608(0x5c8,0x4f4,0x55d,0x4ee));}}catch(_0x5edbc1){console[_0x3407ba(-0xa,0xd7,-0x6,0x6d)](_0x4a8cfc['jmprY'],_0x5edbc1),toastr[_0x3407ba(-0x36,0x104,-0x55,0x6d)](_0x173608(0x628,0x573,0x4ed,0x5a7)+'\x20'+_0x5edbc1['message']);}}async function updateCharacterPresetFromLLM(_0x550941,_0x525cf6){const _0x2a1529={'ZRbqT':function(_0x3315be,_0x5a6412){return _0x3315be===_0x5a6412;},'qPCpX':_0xe18e4a(0x6c2,0x6b5,0x67e,0x63e),'qJUqF':function(_0x4efb1d,_0x465259){return _0x4efb1d===_0x465259;},'GnYjw':_0x2d715f(-0x65,-0x1ea,-0x114,-0xc5),'JvsSo':'text','JRNAv':_0x2d715f(-0x118,-0x126,-0x1b9,-0x13e),'XuINB':_0xe18e4a(0x70c,0x6df,0x6ad,0x67d),'kpKJl':_0xe18e4a(0x580,0x5da,0x696,0x5f7),'EXeaS':'找不到指定的角色预设','pMglx':'中文名称','VEQca':_0xe18e4a(0x5bb,0x6ed,0x6a8,0x68d),'PEvnl':_0x2d715f(-0x146,-0x185,-0x17f,-0x11d),'wIMwd':'五官外貌','uhFLb':_0xe18e4a(0x5e2,0x6e3,0x6c1,0x654),'FCmQo':_0xe18e4a(0x73a,0x688,0x6f4,0x65e),'qXgvT':'下半身SFW','pJreT':_0xe18e4a(0x6ed,0x608,0x685,0x64a),'qwwAJ':_0xe18e4a(0x4ba,0x4e0,0x5ac,0x571),'uxZpL':_0xe18e4a(0x6e9,0x704,0x630,0x628),'kGHXA':'下半身NSFW背面','bPwQR':function(_0x191cfc,_0x42d51a){return _0x191cfc!==_0x42d51a;},'ssKzh':_0x2d715f(0x36,-0x7a,-0xa4,-0x8a),'dYrTv':_0xe18e4a(0x596,0x6ff,0x677,0x637),'ZkObA':_0x2d715f(-0xa5,-0x70,-0xaa,-0x87),'Fpfha':function(_0x133df9,_0x4abe25){return _0x133df9===_0x4abe25;},'LcOlS':'已取消更新','sOAnR':_0xe18e4a(0x6b8,0x6c4,0x6f3,0x691),'BTDYR':function(_0x68d0e9){return _0x68d0e9();},'EaFNV':function(_0x346524,_0x4913a3){return _0x346524(_0x4913a3);},'JKFSJ':_0xe18e4a(0x619,0x54c,0x4e0,0x55e)+'-tab-chara'+_0x2d715f(-0x1f3,-0x283,-0x1dc,-0x227),'JafRS':function(_0x172005,_0x265f7e){return _0x172005(_0x265f7e);},'XELRx':function(_0x387a67,_0x463573){return _0x387a67(_0x463573);}},_0x1f865e=extension_settings[extensionName],_0x3c6a80=_0x1f865e[_0xe18e4a(0x5f3,0x5f7,0x5a9,0x661)+_0x2d715f(-0x1eb,-0x147,-0x136,-0x98)][_0x550941];if(!_0x3c6a80){toastr[_0xe18e4a(0x50c,0x61c,0x530,0x57a)](_0x2a1529[_0x2d715f(-0x44,-0x12e,-0x96,-0xf3)]);return;}const _0x968e4e={};_0x968e4e[_0xe18e4a(0x4f2,0x5fa,0x5b2,0x576)]=_0x2a1529[_0xe18e4a(0x6e9,0x61d,0x691,0x65d)],_0x968e4e[_0xe18e4a(0x4d2,0x52a,0x5f2,0x59e)]=_0x2a1529['VEQca'];function _0xe18e4a(_0x25780c,_0x246edb,_0x19ec08,_0x4328b5){return _0x5da3a4(_0x19ec08,_0x246edb-0x1d1,_0x4328b5-0x5e9,_0x4328b5-0x171);}_0x968e4e[_0xe18e4a(0x637,0x644,0x602,0x5ee)+_0xe18e4a(0x4f0,0x545,0x5f2,0x58c)]=_0x2a1529[_0xe18e4a(0x4fa,0x688,0x50f,0x5d1)],_0x968e4e['facialFeat'+_0x2d715f(-0x143,-0x5a,-0x135,-0xe6)]=_0x2a1529['wIMwd'],_0x968e4e[_0x2d715f(-0x214,-0x22c,-0x18c,-0x254)+'uresBack']=_0xe18e4a(0x61c,0x668,0x5b0,0x63c);function _0x2d715f(_0x1f99a1,_0x40d1a9,_0x43f39b,_0xd4d7ea){return _0x5da3a4(_0xd4d7ea,_0x40d1a9-0x12,_0x43f39b- -0x132,_0xd4d7ea-0x173);}_0x968e4e['upperBodyS'+'FW']=_0x2a1529[_0xe18e4a(0x631,0x682,0x751,0x6bf)],_0x968e4e[_0x2d715f(-0x52,-0xec,-0x54,-0x42)+_0x2d715f(-0xc3,-0xdb,-0x6c,0x4c)]=_0x2a1529[_0x2d715f(-0x12e,-0x184,-0x130,-0x1c7)],_0x968e4e[_0x2d715f(-0x2f,-0x69,-0x75,-0x57)+'W']=_0x2a1529[_0x2d715f(-0x17d,-0x126,-0x121,-0x73)],_0x968e4e['fullBodySF'+'WBack']=_0x2a1529[_0xe18e4a(0x6af,0x641,0x723,0x64f)],_0x968e4e[_0xe18e4a(0x6e9,0x655,0x5ee,0x61d)+'SFW']=_0xe18e4a(0x5cc,0x655,0x6eb,0x667),_0x968e4e[_0x2d715f(-0x28,-0x70,-0xfe,-0x127)+_0x2d715f(-0x8e,-0x10d,-0xd7,-0x17d)]=_0x2a1529[_0xe18e4a(0x589,0x689,0x658,0x61a)],_0x968e4e[_0xe18e4a(0x582,0x499,0x60e,0x56e)+'FW']=_0x2a1529[_0xe18e4a(0x675,0x661,0x5e4,0x68b)],_0x968e4e['fullBodyNS'+_0x2d715f(0xc,0x32,-0x6c,0x5a)]=_0x2a1529[_0x2d715f(-0x197,-0x23,-0xe0,-0x177)];const _0x9a1cc6=_0x968e4e;let _0x3c2434=0xfe8+0x9d1+-0x19b9;for(const _0x40ae4a in _0x9a1cc6){if(_0x2a1529['bPwQR'](_0x2a1529['ssKzh'],'nffTm')){if(_0x525cf6[_0x40ae4a]&&_0x2a1529[_0x2d715f(-0x272,-0x114,-0x1c0,-0x262)](_0x525cf6[_0x40ae4a],_0x3c6a80[_0x40ae4a])){if(_0x2a1529[_0x2d715f(-0x11d,-0x277,-0x1c0,-0x186)](_0x2a1529[_0x2d715f(-0x240,-0x10f,-0x198,-0xe1)],_0x2a1529[_0x2d715f(-0x254,-0x249,-0x1e8,-0x247)]))_0x3c2434++;else return _0x55b072;}}else _0x39a90f[_0xe18e4a(0x719,0x6f0,0x74b,0x6b3)]=[];}if(_0x2a1529[_0x2d715f(0x65,-0x47,-0x59,-0x12f)](_0x3c2434,0x936+0x19*-0x12b+0x13fd)){toastr[_0xe18e4a(0x560,0x605,0x551,0x58d)]('没有检测到需要更新的'+'内容');return;}const _0x3683de='检测到角色\x20\x22'+_0x550941+'\x22\x20有\x20'+_0x3c2434+_0x2d715f(-0x3b,-0x106,-0xd3,-0x33),_0x5721c7=await stylishConfirm(_0x3683de);if(!_0x5721c7){toastr[_0x2d715f(-0x184,-0x1dd,-0x18e,-0x13a)](_0x2a1529[_0x2d715f(-0x11,0x81,-0x47,-0x63)]);return;}for(const _0x3f84ea in _0x9a1cc6){if(_0x525cf6[_0x3f84ea]){if(_0x2a1529['bPwQR'](_0x2a1529[_0xe18e4a(0x5ed,0x697,0x53c,0x613)],_0xe18e4a(0x5fe,0x6d7,0x6ff,0x691))){const _0x2af7d9=_0x2a1529[_0x2d715f(-0x52,0x52,-0x6b,0x6)](typeof _0x5a5ed6,_0x2a1529[_0xe18e4a(0x57c,0x59e,0x59b,0x579)])?_0x1b3b5c:_0x826226['base64'],_0x4f745d=_0x2a1529[_0xe18e4a(0x644,0x590,0x6bc,0x5f8)](typeof _0xa188f8,_0x2a1529[_0x2d715f(-0x2,-0x129,-0xd4,0x2)])&&_0x1b180d['name']?_0x3ee23a['name']:''+_0x17556f+(_0x4cfc13+(0xef3*-0x1+-0x2386+-0xe*-0x39b)),_0x3b8695={};_0x3b8695[_0xe18e4a(0x617,0x5e3,0x5ca,0x5bc)]=_0x2a1529[_0xe18e4a(0x604,0x5a5,0x5af,0x5b2)],_0x3b8695[_0x2d715f(-0xf7,-0xb,-0xdb,-0x186)]='['+_0x4f745d+']',_0x3b5ece[_0xe18e4a(0x4c1,0x5e8,0x4d4,0x542)](_0x3b8695);let _0x3bd95b=_0x2af7d9;!_0x2af7d9['startsWith'](_0x2a1529[_0xe18e4a(0x4c2,0x595,0x52b,0x57e)])&&(_0x3bd95b=_0xe18e4a(0x59c,0x64c,0x642,0x625)+_0x2d715f(-0x1a2,-0x1ef,-0x156,-0x179)+'4,'+_0x2af7d9);const _0x231335={};_0x231335['type']=_0x2a1529[_0x2d715f(-0xe,-0xde,-0x78,-0x5f)],_0x231335[_0x2d715f(-0xbe,-0x86,-0x9e,-0x9f)]={},_0x231335[_0x2d715f(-0xbe,-0x86,-0x9e,-0x9f)][_0x2d715f(-0x1a1,-0x1b9,-0x146,-0x1d5)]=_0x3bd95b,_0x231335[_0x2d715f(-0xbe,-0x86,-0x9e,-0x9f)][_0x2d715f(-0x174,-0x261,-0x1bb,-0x23b)]=_0x2a1529[_0x2d715f(-0x1cb,-0x2c5,-0x1f1,-0x255)],_0x1b4adc['push'](_0x231335);}else _0x3c6a80[_0x3f84ea]=_0x525cf6[_0x3f84ea];}}_0x2a1529[_0xe18e4a(0x620,0x5d8,0x5e1,0x695)](saveSettingsDebounced);const _0x77d7f6=_0x2a1529[_0xe18e4a(0x64d,0x502,0x515,0x586)]($,_0x2a1529[_0xe18e4a(0x539,0x600,0x5f8,0x59f)]);_0x77d7f6[_0x2d715f(-0xd4,-0x156,-0xe1,-0x16f)]&&_0x2a1529[_0xe18e4a(0x703,0x72a,0x69b,0x6e4)](refreshCharacterSettings,_0x77d7f6),_0x2a1529[_0x2d715f(-0x1e8,-0xb0,-0x177,-0x1ae)](updateFormFields,_0x525cf6),console[_0x2d715f(0x0,-0x155,-0xc6,-0x128)](_0x2d715f(-0x1c5,-0xd0,-0x125,-0x62)+'PromptModi'+_0xe18e4a(0x6c1,0x692,0x66b,0x672)+_0x2d715f(-0x7e,-0x165,-0xa5,-0xaa)+_0x550941+'\x22');}async function updateOutfitPresetsFromLLM(_0x3afc1a){const _0x4bb662={'hYlRM':'character','tIthe':_0x1936c6(-0xf0,-0x12b,-0x13f,-0xc7),'hGrVD':_0x1936c6(0x9b,0xcb,-0x9b,0xd),'yMSwl':'英文名称','mUTlR':_0x1936c6(-0x13f,0x1b,-0x25,-0x73),'pdAIS':_0x28984f(0x66,-0xc,-0x3,0x38),'epiQT':'上半身背面','RmPBX':_0x1936c6(-0xe0,-0x1df,-0xd4,-0x158),'iZkdi':'SZqBt','RmApn':function(_0x306ae3,_0x2e9f3c){return _0x306ae3===_0x2e9f3c;},'duews':_0x1936c6(-0x35,0x25,-0x95,-0x5b),'NxAFX':function(_0x20e28f,_0x2142fb){return _0x20e28f(_0x2142fb);},'QDQvi':function(_0x138468,_0x2e99c7){return _0x138468!==_0x2e99c7;},'byCrV':_0x1936c6(-0x20b,-0x1d1,-0x186,-0x139),'FxSBu':'drbvq','hWYdF':function(_0x52dd0f,_0xd7e1d8){return _0x52dd0f===_0xd7e1d8;},'Geyzj':'RneSJ','txhvT':_0x28984f(-0x32,0x67,-0x89,0x74),'zORur':function(_0xbae179,_0x2a04cf){return _0xbae179===_0x2a04cf;},'FQrHa':function(_0x3a9bc5,_0xeb178){return _0x3a9bc5===_0xeb178;},'LVcJN':_0x28984f(0x154,0x15c,0x1a5,0x1b5),'TLvZG':_0x28984f(-0xc,0x62,0x6d,-0x55)+'-tab-chara'+_0x28984f(-0x2b,-0x109,-0x48,-0x98)},_0x560f12=extension_settings[extensionName],_0x28eff8={};_0x28eff8[_0x28984f(0xc,-0x3f,-0x1e,-0xbd)]=_0x4bb662[_0x28984f(-0x1c,0x13,0x2c,0x66)],_0x28eff8[_0x1936c6(-0x8d,-0x23,-0x141,-0xe7)]=_0x4bb662[_0x1936c6(-0xb7,-0x16b,-0x105,-0x14b)],_0x28eff8[_0x1936c6(-0x96,0x2a,-0x3d,-0x1c)]=_0x4bb662[_0x1936c6(-0x53,0x110,0x11a,0x59)];function _0x1936c6(_0x351f24,_0x1feab6,_0x34f7d8,_0x54f9f0){return _0x5da3a4(_0x1feab6,_0x1feab6-0x4e,_0x54f9f0- -0x9c,_0x54f9f0-0x6);}_0x28eff8[_0x28984f(0xdf,0x2c,0xb3,0x68)]=_0x4bb662[_0x28984f(0x72,0xd6,0x13d,0x80)],_0x28eff8[_0x28984f(0x101,0x17b,0x190,0x8f)+_0x1936c6(-0x13b,-0x47,-0xd,-0xc3)]=_0x4bb662[_0x1936c6(0x64,0x4d,0x53,-0x71)],_0x28eff8['fullBody']=_0x4bb662[_0x28984f(0x5f,0x21,0x6f,-0x2a)],_0x28eff8[_0x1936c6(-0xc7,0x5c,-0x105,-0x38)+'ck']='下半身背面';const _0x255a0d=_0x28eff8;function _0x28984f(_0x49f5c9,_0x1b6f39,_0x3550dd,_0x1265c0){return _0x5da3a4(_0x1265c0,_0x1b6f39-0x1e0,_0x49f5c9-0x7f,_0x1265c0-0x12c);}for(const _0x1ad23f of _0x3afc1a){const _0x37b975=_0x1ad23f[_0x28984f(0xc,-0x62,0x18,-0x1e)];if(!_0x37b975)continue;const _0x4bc9e8=_0x560f12[_0x1936c6(-0xd9,0x4,-0x108,-0x94)+_0x28984f(0x8a,0x1a,0xee,0x69)]?.[_0x37b975];if(_0x4bc9e8){let _0x12cde9=-0x4*-0x903+-0x173e+-0xcce;for(const _0x5be8f0 in _0x255a0d){if(_0x1ad23f[_0x5be8f0]&&_0x1ad23f[_0x5be8f0]!==_0x4bc9e8[_0x5be8f0]){if(_0x4bb662[_0x28984f(0x4b,0xfb,0x10e,0xf1)]===_0x4bb662[_0x1936c6(-0xaa,-0x12b,-0xdc,-0xd0)])_0x12cde9++;else{const _0x581e0e={};_0x581e0e[_0x1936c6(-0xbf,-0x125,-0x147,-0xc9)]=_0x4bb662[_0x28984f(0x177,0xbe,0xad,0x224)],_0x581e0e['data']=_0x41336c,_0x581e0e[_0x1936c6(-0xe9,-0x8f,-0xa9,-0x119)]=_0x11ff32,_0x581e0e[_0x1936c6(-0x120,-0x75,0x36,-0xa6)+_0x1936c6(-0x26,0x1,-0x3,0x22)]=[],_0x160c8e[_0x28984f(-0x28,-0xbc,0x7,-0x9e)](_0x581e0e);}}}if(_0x4bb662['RmApn'](_0x12cde9,0xe98+0x153*0x1d+-0x1*0x34ff)){console[_0x28984f(0xeb,0x1c0,0xc6,0x1a4)](_0x1936c6(-0x109,-0x1c,-0x2b,-0x8f)+_0x1936c6(-0x11a,-0xda,0x3e,-0x7d)+_0x1936c6(-0xd3,-0x23,-0xb8,-0xd9)+_0x37b975+'\x22\x20没有变更');continue;}const _0x2e80ee=_0x28984f(0xf2,0x3e,0x30,0x1f)+_0x37b975+_0x1936c6(-0x36,-0x8f,-0x122,-0x113)+_0x12cde9+'\x20项更改,是否应用?',_0x368152=await stylishConfirm(_0x2e80ee);if(!_0x368152){if(_0x4bb662[_0x1936c6(-0x2c,-0xd7,-0xd2,0x7)](_0x28984f(0x18,-0x19,0x30,-0x43),_0x4bb662[_0x28984f(0x161,0x134,0xb4,0x1b7)]))_0x108e35(new _0x1f7a0b(_0x97b628[_0x28984f(0x156,0xba,0x1e3,0x1e0)]||_0x4bb662[_0x28984f(0x3,-0x29,0x4b,-0x22)]));else continue;}for(const _0x2fedc9 in _0x255a0d){_0x1ad23f[_0x2fedc9]&&(_0x4bc9e8[_0x2fedc9]=_0x1ad23f[_0x2fedc9]);}console[_0x1936c6(-0xc6,0x46,-0xdb,-0x30)](_0x28984f(0x8c,0xbb,0x7e,0x84)+_0x1936c6(-0x40,0x31,-0x139,-0x7d)+_0x28984f(0xa5,-0x2,0xa6,-0x33)+_0x28984f(0x10c,0x4a,0x19e,0x11d)+_0x37b975+'\x22');}else{const _0x395e9=_0x1936c6(-0xb,-0x118,0x75,-0x50)+_0x37b975+'\x22,是否录入?',_0x125efa=await _0x4bb662['NxAFX'](stylishConfirm,_0x395e9);if(!_0x125efa){if(_0x4bb662[_0x1936c6(-0x156,-0x204,-0x1e3,-0x141)](_0x4bb662['byCrV'],_0x4bb662[_0x1936c6(-0x164,-0x198,-0x37,-0xeb)]))continue;else _0x39beff[_0x276b49]&&(_0x228f92[_0x1d193c]=_0x45483a[_0x4cbf6d]);}!_0x560f12[_0x28984f(0x87,0x86,0x2f,0x2e)+'ets']&&(_0x4bb662[_0x1936c6(-0xa6,-0x16e,-0x61,-0xa3)](_0x4bb662[_0x28984f(-0x14,0xa5,-0x37,-0xb9)],_0x4bb662[_0x28984f(0x14e,0x1b3,0x137,0x186)])?_0x3761fa[_0x348ca7]&&_0x312e4a[_0x386956]!==_0x160249[_0x36a7ae]&&_0x4ac801++:_0x560f12[_0x1936c6(-0x69,-0x80,-0x5b,-0x94)+_0x1936c6(-0xa9,0x25,-0xc,-0x91)]={});const _0x4de55c={};_0x4de55c[_0x28984f(0xc,-0x9e,0x22,0xad)]=_0x1ad23f[_0x1936c6(-0x7d,-0x18f,-0x5c,-0x10f)],_0x4de55c[_0x28984f(0x34,-0x5f,-0x7a,-0x50)]=_0x1ad23f[_0x1936c6(-0x143,-0x103,-0xe7,-0xe7)]||'',_0x4de55c[_0x1936c6(-0x9b,-0x42,-0x1a,-0x1c)]=_0x1ad23f[_0x1936c6(-0x4,-0x51,-0x16,-0x1c)]||'',_0x4de55c['upperBody']=_0x1ad23f[_0x1936c6(-0x69,-0x32,0x42,-0x3c)]||'',_0x4de55c[_0x1936c6(0x9b,-0x1b,0x2c,-0x1a)+_0x1936c6(-0x9a,-0x3e,-0x85,-0xc3)]=_0x1ad23f[_0x1936c6(0x50,0x5,0x75,-0x1a)+'ack']||'',_0x4de55c[_0x28984f(-0x1d,0xc1,-0x16,-0x2b)]=_0x1ad23f[_0x28984f(-0x1d,0xb8,-0x99,-0xbd)]||'',_0x4de55c[_0x28984f(0xe3,0x102,0x14d,0xa7)+'ck']=_0x1ad23f[_0x28984f(0xe3,0x164,0xa8,0xd7)+'ck']||'',_0x560f12[_0x28984f(0x87,-0x4c,0x65,0xbc)+_0x28984f(0x8a,-0x9,0x13f,-0x42)][_0x37b975]=_0x4de55c,console['log'](_0x1936c6(-0x9a,-0x7e,-0x9a,-0x8f)+_0x28984f(0x9e,0xef,0xf3,0x75)+_0x28984f(0x102,0x1b8,0x19f,0x185)+_0x1936c6(-0xb6,0xa2,-0x67,-0xf)+_0x37b975+'\x22');if(_0x1ad23f[_0x28984f(0xff,0x84,0x32,0x7e)]&&_0x1ad23f[_0x28984f(0xff,0xd3,0x50,0x75)][_0x1936c6(-0x1b4,-0xa3,-0xe4,-0xe8)]()){const _0x4ba5f0=_0x1ad23f[_0x1936c6(-0x3f,0x9d,-0x1f,-0x1c)][_0x28984f(0x33,-0xa,0x60,-0x69)]()[_0x28984f(0x14b,0x11d,0xa6,0x7e)+'e']()[_0x28984f(0x4a,-0x43,0x7,-0x62)](/\s+/g,'');for(const [_0x5ee344,_0x386369]of Object['entries'](_0x560f12['characterP'+_0x1936c6(-0x108,-0x16b,-0x142,-0xa0)]||{})){if(_0x386369['nameEN']&&_0x4bb662['zORur'](_0x386369['nameEN'][_0x28984f(0x14b,0x136,0x113,0x1fe)+'e']()[_0x1936c6(-0xd,-0x93,-0x11a,-0xd1)](/\s+/g,''),_0x4ba5f0)){!_0x386369[_0x1936c6(-0x4e,-0x1a,0xbb,0x2e)]&&(_0x4bb662['FQrHa'](_0x4bb662[_0x1936c6(-0xa2,-0x2a,-0xc4,-0x108)],_0x4bb662[_0x28984f(0x13,-0x4f,0x45,0xe5)])?_0x386369['outfits']=[]:_0x1feb06[_0x28984f(0xeb,0x163,0x94,0xf8)](_0x28984f(0x8c,0x96,0x78,0x163)+'PromptModi'+_0x1936c6(-0x9b,-0x53,0x6c,-0x33)+'字段\x20\x22'+_0x1a0edc+'\x22'));!_0x386369[_0x1936c6(0xd9,0xf,0x83,0x2e)][_0x1936c6(0x12,-0x85,-0x49,-0x52)](_0x37b975)&&(_0x386369['outfits'][_0x28984f(-0x28,0x22,0x3b,-0x2a)](_0x37b975),console[_0x28984f(0xeb,0xe5,0x177,0x131)](_0x28984f(0x8c,0xf5,0x92,0x96)+_0x28984f(0x9e,0x167,0x20,0xe6)+_0x1936c6(-0xfe,-0x1a5,-0xfa,-0xd9)+_0x37b975+_0x28984f(0xac,0x83,0x180,0x109)+_0x5ee344+'\x22'));break;}}}}}saveSettingsDebounced();const _0x610296=_0x4bb662[_0x28984f(0xc4,-0x11,0x86,0x59)]($,_0x4bb662[_0x28984f(0x136,0x8c,0x1f4,0x6f)]);_0x610296[_0x28984f(0xd0,0xbb,0x144,-0xe)]&&_0x4bb662[_0x28984f(0xc4,0x107,0x21,0x86)](refreshCharacterSettings,_0x610296);}function updateFormFields(_0x158a49){const _0x52087c={'aWpid':function(_0x4b6e56,_0x36038c){return _0x4b6e56(_0x36038c);},'osaWA':_0x46d534(0x17c,0x109,0x13c,0x117),'bKyHI':_0xcb2361(0x299,0x33d,0x211,0x2e6),'MLLdK':_0x46d534(0x14c,0x170,0x8d,0x72)+_0x46d534(0x1a3,0x20a,0x1d9,0x255),'HElgV':'facialFeat'+_0xcb2361(0x2c9,0x261,0x329,0x2a4),'BpmmH':_0xcb2361(0x3ea,0x36a,0x3bc,0x3c3)+'FW','GKgAR':_0xcb2361(0x3ea,0x3cc,0x42a,0x452)+_0xcb2361(0x3d2,0x30a,0x44b,0x411),'qswqp':_0xcb2361(0x3c9,0x3c8,0x337,0x3e7)+'W','gJDFo':_0x46d534(0x1da,0x21a,0x124,0x1b5)+_0xcb2361(0x397,0x320,0x2dc,0x37d),'ZHesH':_0x46d534(0x12b,0x14e,0x10e,0x52)+'FW','UjjRM':'fullBodyNS'+_0xcb2361(0x3d2,0x350,0x391,0x340)};function _0x46d534(_0x1d06a7,_0x55b067,_0x232f81,_0x102ba4){return _0x5da3a4(_0x102ba4,_0x55b067-0x165,_0x1d06a7-0x1a6,_0x102ba4-0x1c3);}const _0x48471c=[_0x52087c[_0xcb2361(0x307,0x3a1,0x295,0x3b9)],_0xcb2361(0x2c1,0x1e3,0x362,0x362),_0xcb2361(0x311,0x39e,0x25c,0x2f8)+'raits',_0x52087c[_0x46d534(0x165,0x1a6,0x240,0x1d6)],_0x52087c[_0xcb2361(0x2f2,0x316,0x34d,0x308)],_0x52087c[_0xcb2361(0x2e6,0x3ac,0x28b,0x25c)],_0x52087c[_0x46d534(0x122,0x1d1,0x164,0x9f)],_0x52087c[_0xcb2361(0x3cc,0x3c1,0x333,0x405)],_0xcb2361(0x3c9,0x4a1,0x3ee,0x375)+'WBack',_0x52087c[_0x46d534(0x16e,0x155,0xe5,0x1cf)],_0xcb2361(0x340,0x26f,0x350,0x299)+_0x46d534(0x201,0x13b,0x226,0x227),_0x52087c[_0x46d534(0x144,0x13a,0x206,0x14f)],_0x52087c[_0x46d534(0x1ef,0x21d,0x246,0x21d)]];function _0xcb2361(_0x117713,_0x68235f,_0x4a071b,_0x2bfa27){return _0x5da3a4(_0x68235f,_0x68235f-0x1a5,_0x117713-0x30c,_0x2bfa27-0xa3);}_0x48471c[_0x46d534(0x247,0x284,0x26d,0x2b5)](_0xaa8e43=>{function _0x31fe19(_0x14cb93,_0x5eb7a9,_0x1269b7,_0x466cb9){return _0xcb2361(_0x14cb93- -0x249,_0x5eb7a9,_0x1269b7-0x19a,_0x466cb9-0x34);}function _0x476adf(_0x55035b,_0x548faf,_0x3359f2,_0x6a7946){return _0x46d534(_0x3359f2-0x427,_0x548faf-0xba,_0x3359f2-0x2a,_0x548faf);}if(_0x158a49[_0xaa8e43]){const _0x484ef9=document[_0x31fe19(0x37,-0x3b,-0xa6,0x10b)+_0x476adf(0x71b,0x635,0x69b,0x72f)]('char_'+_0xaa8e43);_0x484ef9&&(_0x484ef9['value']=_0x158a49[_0xaa8e43],_0x52087c[_0x476adf(0x5e5,0x71f,0x67b,0x6ef)]($,_0x484ef9)[_0x31fe19(0x15c,0x132,0x1a0,0xd8)](_0x52087c['osaWA']));}});}
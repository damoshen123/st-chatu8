(function(_0x3df351,_0x22b23c){function _0x266d41(_0x403f5c,_0x39529f,_0x4a3a5d,_0x3bd1e6){return _0x38b7(_0x403f5c- -0x128,_0x39529f);}function _0x1681db(_0x1cfa87,_0x102851,_0x3b80d2,_0x1d2b85){return _0x38b7(_0x102851- -0x1a1,_0x3b80d2);}const _0x2cbcf4=_0x3df351();while(!![]){try{const _0x4506c1=parseInt(_0x266d41(0x10b,0x107,0x14f,0xf8))/(-0x8f4+-0x2462+0x2d57)+-parseInt(_0x1681db(-0x1e,0x74,0x7,0xf0))/(0x7e9+-0x773*-0x3+-0x1e40)+-parseInt(_0x1681db(-0x57,0x3,-0x78,-0x37))/(0xd72*-0x2+0x2293+-0x7ac)+parseInt(_0x266d41(0x64,0x27,-0x22,0x2))/(-0x2cd*-0xc+-0x1*-0xc+-0x2*0x10d2)*(-parseInt(_0x1681db(0x65,0x98,0x124,0x37))/(-0xcd6+0x841+0x49a))+parseInt(_0x1681db(0x82,-0xc,-0x87,-0xad))/(-0x202*0x13+-0x1*0x2a5+-0x51*-0x81)+parseInt(_0x266d41(0xae,0x142,0x7e,0xdb))/(-0x3eb*0x8+0x1e0e*-0x1+0x3d6d)+parseInt(_0x1681db(-0xef,-0x8d,-0xdc,0x16))/(0x7e*-0x4c+0x20*0xce+0x11*0xb0);if(_0x4506c1===_0x22b23c)break;else _0x2cbcf4['push'](_0x2cbcf4['shift']());}catch(_0x406f0f){_0x2cbcf4['push'](_0x2cbcf4['shift']());}}}(_0x1527,-0x1*-0xb5409+0x13f89*-0x5+0x36749));const _0x2fe016=(function(){const _0x55aa06={};_0x55aa06[_0xb680ee(0x1,-0x2d,0x25,-0x8b)]=function(_0x16fd64,_0x3cb861){return _0x16fd64===_0x3cb861;},_0x55aa06['jCAtb']='WPEXj';function _0x46c78a(_0x2b6c25,_0x5353d4,_0x2492a4,_0x5cc2a2){return _0x38b7(_0x5353d4- -0xab,_0x5cc2a2);}_0x55aa06[_0xb680ee(0x2a,-0x59,-0x9,-0xbd)]=_0xb680ee(0x56,0x46,0x70,0xf);const _0x2a4cd1=_0x55aa06;let _0x2dac60=!![];function _0xb680ee(_0x9ed33,_0x2efcae,_0x5413e3,_0x1e53a8){return _0x38b7(_0x5413e3- -0x135,_0x2efcae);}return function(_0x481bb7,_0xe42243){function _0x5bc83d(_0x3f1f39,_0x54db93,_0x459ecf,_0x53342f){return _0x46c78a(_0x3f1f39-0xa1,_0x53342f-0x11,_0x459ecf-0xbb,_0x459ecf);}function _0x220a7f(_0x3eb118,_0x12d656,_0x2c9098,_0x599487){return _0x46c78a(_0x3eb118-0x19b,_0x12d656- -0x2b9,_0x2c9098-0x82,_0x3eb118);}if(_0x2a4cd1['RZXlR'](_0x2a4cd1['jCAtb'],_0x2a4cd1[_0x220a7f(-0x1d1,-0x238,-0x25c,-0x1b7)]))return _0x491f59&&_0x31b89b[_0x5bc83d(0x1fe,0x221,0x238,0x178)](_0x5311c5)&&(_0x2bb2a0&&_0x40d8bb[_0x220a7f(-0xea,-0x199,-0xea,-0x17c)](_0x2fe8bb)),_0x2c04e9[_0x5bc83d(0xc3,0xb1,0x199,0x163)](_0x1ba57e,_0x4d6466);else{const _0x98c5b8=_0x2dac60?function(){function _0x2bf5c1(_0x2137d9,_0x72f643,_0x2d94fc,_0x38fbe9){return _0x5bc83d(_0x2137d9-0xd2,_0x72f643-0x1f4,_0x38fbe9,_0x2137d9-0x35e);}if(_0xe42243){const _0x32684d=_0xe42243[_0x2bf5c1(0x42f,0x4e3,0x40f,0x4bd)](_0x481bb7,arguments);return _0xe42243=null,_0x32684d;}}:function(){};return _0x2dac60=![],_0x98c5b8;}};}()),_0x1a9337=_0x2fe016(this,function(){const _0x2f0a77={};function _0x313a14(_0x3ee6bc,_0x1b9c55,_0x16e5d8,_0x25147c){return _0x38b7(_0x3ee6bc-0x131,_0x16e5d8);}_0x2f0a77['Gqhdy']=_0x313a14(0x2f5,0x251,0x339,0x38c)+'+$';function _0x2af26d(_0x20d190,_0xe79f58,_0xb36ada,_0xd00ca9){return _0x38b7(_0xb36ada-0x363,_0xd00ca9);}const _0x5da133=_0x2f0a77;return _0x1a9337[_0x2af26d(0x568,0x4c6,0x53c,0x483)]()['search'](_0x5da133[_0x2af26d(0x58e,0x568,0x5ab,0x540)])['toString']()[_0x2af26d(0x614,0x531,0x5b2,0x544)+'r'](_0x1a9337)[_0x2af26d(0x4d3,0x534,0x57f,0x50e)](_0x5da133[_0x313a14(0x379,0x2ec,0x2e2,0x2d1)]);});function _0x38b7(_0x469d04,_0x4404a0){_0x469d04=_0x469d04-(-0x33*-0x45+-0x6d*-0x3d+0x4*-0x9af);const _0x14e37d=_0x1527();let _0x5e65ea=_0x14e37d[_0x469d04];if(_0x38b7['WWRREC']===undefined){var _0x9265ef=function(_0x53cc3d){const _0x23f783='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2cb144='',_0x39e49a='',_0x180c53=_0x2cb144+_0x9265ef;for(let _0x1c17af=0x14*0x136+-0x192+0x1a*-0xdf,_0x258c30,_0x11389b,_0x2f0bd4=0x1d39*-0x1+-0x7*-0x35f+-0x5*-0x120;_0x11389b=_0x53cc3d['charAt'](_0x2f0bd4++);~_0x11389b&&(_0x258c30=_0x1c17af%(-0x2327+-0x634+0x59*0x77)?_0x258c30*(-0x18eb*0x1+-0x1*0x158f+0x2eba)+_0x11389b:_0x11389b,_0x1c17af++%(0x1165+-0x1377+0x59*0x6))?_0x2cb144+=_0x180c53['charCodeAt'](_0x2f0bd4+(0x18*-0x9d+-0x116b+-0x202d*-0x1))-(0x371*-0x2+-0x2430+-0x1f*-0x164)!==0x1*-0x5b0+-0x1536+0x139*0x16?String['fromCharCode'](0x1aee+0x2*0xd0b+-0x3405*0x1&_0x258c30>>(-(0x9bf+0x5f3+-0x1*0xfb0)*_0x1c17af&0x1*0x1296+-0x2619+-0x3*-0x683)):_0x1c17af:-0x1*0x1115+0x25aa+-0x1df*0xb){_0x11389b=_0x23f783['indexOf'](_0x11389b);}for(let _0x1a2bd4=-0x13c3*-0x1+0x1*-0x564+0xd*-0x11b,_0x3dc369=_0x2cb144['length'];_0x1a2bd4<_0x3dc369;_0x1a2bd4++){_0x39e49a+='%'+('00'+_0x2cb144['charCodeAt'](_0x1a2bd4)['toString'](-0x244b+0x7df+0x2*0xe3e))['slice'](-(0x120a+-0x25a8+0x9d0*0x2));}return decodeURIComponent(_0x39e49a);};_0x38b7['rtMOOz']=_0x9265ef,_0x38b7['MTQfFA']={},_0x38b7['WWRREC']=!![];}const _0x87a47=_0x14e37d[0x1*0x1884+-0x1e*0x94+-0x36*0x22],_0xe568e5=_0x469d04+_0x87a47,_0x3ae0f4=_0x38b7['MTQfFA'][_0xe568e5];if(!_0x3ae0f4){const _0x2722f2=function(_0x58d538){this['sCkKIV']=_0x58d538,this['NnBnGu']=[0x1eaf+-0x3b*-0x6a+0x2*-0x1b8e,0x35f*-0x3+0x14da+-0xabd,0x350*-0x5+-0x23e6+0x3476],this['NjfGyE']=function(){return'newState';},this['LrMxyG']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['rtbhZI']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x2722f2['prototype']['euqjxO']=function(){const _0x34abe5=new RegExp(this['LrMxyG']+this['rtbhZI']),_0x479d51=_0x34abe5['test'](this['NjfGyE']['toString']())?--this['NnBnGu'][-0x26e8+0x2d*0x43+-0xd91*-0x2]:--this['NnBnGu'][-0x1a4d+-0x1*0x107+-0x1*-0x1b54];return this['ZbupDP'](_0x479d51);},_0x2722f2['prototype']['ZbupDP']=function(_0x566813){if(!Boolean(~_0x566813))return _0x566813;return this['vKEASh'](this['sCkKIV']);},_0x2722f2['prototype']['vKEASh']=function(_0x56aec9){for(let _0x2ee160=-0x61*0x2b+-0x1b42+0x1*0x2b8d,_0x482d75=this['NnBnGu']['length'];_0x2ee160<_0x482d75;_0x2ee160++){this['NnBnGu']['push'](Math['round'](Math['random']())),_0x482d75=this['NnBnGu']['length'];}return _0x56aec9(this['NnBnGu'][0x1e5e+-0x2e+-0x1e30]);},new _0x2722f2(_0x38b7)['euqjxO'](),_0x5e65ea=_0x38b7['rtMOOz'](_0x5e65ea),_0x38b7['MTQfFA'][_0xe568e5]=_0x5e65ea;}else _0x5e65ea=_0x3ae0f4;return _0x5e65ea;}_0x1a9337();import{eventSource}from'../../../../../script.js';import{eventNames,extensionName}from'./config.js';import{extension_settings}from'../../../../extensions.js';function _0x1527(){const _0x58b608=['sKTAAhi','t0rjrLLFuKvrvq','ruXuvfC','ALf0Afy','rNnsDM8','6i635y+w6kEs6iMY5l+U5Ps55O+q56s66k+n6lAf','CfLvwgm','DgvYihrYAwDNzq','EuvRqwG','CMvWBgfJzufSBa','zw5LCG','B3iGzgvIDwDNAq','AKf2D3q','D2PwqvG','Aw5WDxq','B0Tdv2S','zM9YrwfJAa','5O+q56s66k+n5l+U5Ps56k+35RgclI4U','whvxt24','r2jJrxq','BNztsvu','rxnIA1e','rLDcywnR','wLvUDvC','rwT1zwi','pos6UUEjQt4k','txb4y28','t05trq','CMfUzg9T','v3nRrKC','Aw5JBhvKzxm','DgLUzYbJAgfYia','DLD3zum','mtaZmZmXoev4sLrYvW','yxbVugK','qKn0veO','zNLDifnHDMvKia','C1vhuvG','v29YBgrcB29R','EMP2qLy','C2vHCMnO','CwvVrKK','wfHpD0i','rMvZtxy','5lIk5y2k6lQRu0zx','CxjIC2i','tgnPuMi','y29UDgv4DdO','zgf0ytO','5A2x5Q61ici','uLz1uhi','ChjVBxb0oG','u0zx','zvPKvfi','rwzLsfC','vKHxqvG','qNL2rNu','vwTyrMi','DxbWzxjcB2r5tG','v3zRsxe','rvnu','zNLDien1CNjLBG','C2P5vxK','mZmWntmXwxfgwuLH','y3jXqKS','D3vPD1y','5lIl5y2k6lQRtLngv+IdJoMDOJO','uvrZD3C','zw1PDa','nJa1nda1uwX5u2rI','zNLDifn0yxj0Aq','B2rPzNKGteXnia','vwfsrgS','Ae5eEey','AxrbBuW','A0f1wNa','Bg9N','yMXpDuK','tgXXrKm','DgLTzw91De1Z','BeDhDKK','zw9vAey','pc/KURRNIAK+','y2HHCL9TB2rPzG','r3fOzhK','tsbVDxrWDxqGzG','t0rjrLLFuKvtua','s09sD1m','iIdNMOtKU6xKUiVMLBdMJA46cGO','Bvjny2S','D29YBgqGyM9VAW','y29UC3rYDwn0BW','Dgv4Da','teXnioI/LowBNUE7K+AENos4UUEPUG','Cufpwhm','zxH0icH0CMLNzW','y29UDgvUDa','sKrnugW','quDWq1e','B1bhrMq','6iUX5PAh5zcn56EW','BhniwgC','u0zxqMfJAW','sfPOCe4','C3vJy2vZCW','zMfJAwfSrMvHDa','uur2uuW','ufjptvbux1jfuq','ExHzAui','ve14rwG','zNvSBejVzhLtrG','5lIl5y2k6lQRu0zx6iom6z2IoIa','B1DLDuy','CMfUzg9Tvvvjra','zvbgyxK','BMfTzuno','sxHeCvO','B3HPr2q','yKrkzNe','wujtrKi','koEPUIK','s3fMBu4','BwfW','z0PlsfC','5lQu5A6y5Asw6lkm','5RkH5PYj5Qoa5Rwl5yIW6zYa6kAb5PU05PAW55Qe','6k6+ici','r1bZue8','zNLDifjHDYbmta','zNvSBejVzhLouW','5PwW5O2UoG','zNvuwKS','5lQu5A6y5Asw6lkmoIa','ChjVBxb0','zxHLyW','BMfTzq','DKTLu2C','r2HsEMq','ANDnuuC','DhLWzq','sNfPtxO','rMzntgi','Dwjjt3C','uujdtfG','t2Ltsu8','AwPIz2G','B25vzK4','DhjPBq','revqD2y','zxf1AxjLBwvUDa','teXnx0niqvjFtq','DMfYAwfIBgvZoG','rfveuw8','5lIk5y2k6lQRtLngvW','ENj1vxy','rfrvy04','s056ug4','swfdtuy','C3bSAxq','CYbMB3vUzcbPBG','A2jZCLK','AM9Yseu','ntC1ndKYmejowMPqCG','vhjkCgG','AvnczgK','z2v0rwXLBwvUDa','5BEY5y+w5RAi5PU05PAW','CMvZzxrjza','y3fjEgi','5Qoa5Rwl5yIW6kEs6iMY5Qch562+','zgf3EhG','Aw5KzxHpzG','EKnXsfO','AxnbCNjHEq','yMfZzty0','icdMLRa6ia','s3LUAg0','BKHdB28','s1rWv0q','CMvWBgfJzq','BePwA0y','B3bVvMS','6kEs6iMY5O+q56s66k+n5l+U5Ps55A6m5OIq77Yb','C2Hmrwm','u2jmthG','ufjptvbux1jfuW','v21yDfe','Aw1Hz2vFDxjS','z2vUzxjHDgLVBG','6kEs6iMY5O+q56s66k+n5l+U5Ps55AsX6lsLoG','5lIk5y2k6lQRtLngv+IdJoMDOJO','5OM+5lIn5yIW5OYh5A6A55Qe6kEs6iMY6Ake6k6+','s1butey','wKrMwfC','r0DWC3K','sejqrw8','vMfYAwfIBgvZ','t2noueG','AgTrz3m','r1DcsNO','rdOG','BMLxA1y','A2Txuuy','wKH6ww0','zgf0ytPPBwfNzq','zNLDiowqIow5TUEBUoMcU+A2IoAbRW','uhjVBxb0tw9KAq','DxjLC0jHy2S','EennAue','Bwz4CMe','5lQu5A6y5Asw6lkm6iom6z2I','EMLdq1q','DxvRzfi','whPJA3e','teXnioIVT+AXGUwKSEI0Pq','t3rLvei','De5KD00','DezVy2W','AM5Kuwe','u2HWv3K','BMfTzuvo','EMzKD2y','5lIl5y2k6lQRtLngvW','BLvgDve','y2HHCMfJDgvYua','vKLRwe4','wNr3B0e','vvvgu08','5lIl5y2k6lQRtLngv+IdJoMDOG','zNLDiow3SUABToAwSoINKUIjSUMIHa','vNfHAvC','AM9PBG','uLPyBfi','zfnwvLe','Bw9mDKC','ChvZAa','BMrLEdO','y1bXsLq','vuvtva','CMvZzxrZ','qMH1z2K','igLUzgv4','CMvTB3zLtgLZDa','tffsq2W','wevAtK8','zNLDiezPBMfSia','sNrADw4','wgnTAxK','Aw5NignOyxiGBq','yxbWBhK','Eg9cqK0','C3rYAw5N','ufrWvwq','DMfYAwfIBgvZ','6k+k5PAT77YA5Qoa5Rwl5yIW5lUL5lIl5y+y6yEp','CMfJDgvYihrHzW','Aw5MBW','zevoBva','zNLDiev4DhjHyW','rvPpqvG','CMvXDwvZDcaOsq','zNLDiev4zwn1Da','DhHHzg8','zgf0yq','5lIl5y2k6lQRu0zx6iom6z2I','zNLDievYCM9YoG','vvPmsue','uKf0q24','ALPHCgS','t0rjrLLFr0vuxW','5y+c6icd5zU+54Mh','sgfWteu','rKzvDvK','ig91Dhb1Da','5lIk5y2k6lQRu0zxoIa','t2r0rhu','BMCGy2HHCMfJDa','lI4U','zxjYB3i','tNPYz24','zNLDioINO+AEKowiSoEAHos6UUEjQq','ufLotKi','ogP1BLnMAW','zxLyyK0','5lIk5y2k6lQRu0zx6iom6z2I','CMvZDwX0','u0XhrKS','vMn1wKm','z1zjsfC','w2nOyxjHy3rLCG','s1v6vg0','mJKZnta2oeLpExvOuW','D2HUrK0','q09Zrwe','re9jrKy','u0XQCKS','y2HHCL8','AvzmENy','zNLDioACQUIVHUwiQ+EAHos6UUEjQq','BgnOrgO','v0jHy2S','6k+35ywi6ycj5OUP5lIa5lIQ6kEs6iMY6Ake6k6+','zxjLzcK6','DhjPz2DLCG','5lIk5y2k6lQRu0zx6iom6z2IoIa','C3rHCNrZv2L0Aa','mJG5ndCWnKXVt0futG','zwPwDNC','wwvNC2W','Bxb0icHjrdOG','5PYQ5zYOieXmtsdOVPpLH7RKUk0','zNLDioATO+wCQowKHoEqHUINKUIjSG','t21crwq','E3VLVzpLIy3OP5lOIBj9Fq','yNn3AuS','s1LMAwe','y1bqqMS','vMHdBLO','DxjLCW','y2HHDe1LDgfKyq','B2jQzwn0','Bw9KAwz5ihbYBW','B0Dtywy','s1nsAeK','BMC6','Bw9KAwz5ihjLCq','Dhb1DdO','BwvZC2fNzq','zernweO','vuTfB1e','6kkR5l2/55sO77YA','CvDHy1q','u2zLrNy','DMfSDwu','y2HHCMfJDgvYCW','C3vIC3rYAw5N','qNLjza','qvHYC2m','kcGOlISPkYKRkq','v0vJvfO','uuLxqKu','zNr4BM8','wvLlseS','ue9ou0u','DxjS','ywrK','BhHUs1u','qxHfwM0','6kEs6iMY5l+U5Ps5ieXmtsdOR7C','zgv0ywLS','EMnVvxa','l3bUzZTIyxnLnG','lxrHyI1JAgfYyq','tvrAu1O','tLH4z2m','rw1nuhi','nte4nZCXnezSqundCG','zNLDienOyxjHyW','uNr6vLi','Dg9tDhjPBMC','DwvZDc4UlG','shvRqLe','AfbVC2K','5lIT5PAh5zcn56EW','ig1LC3nHz2uGAq','i3n0lwnOyxr1oa','yw1YCK8','rgffq3C','zNLDifjLCxvLCW','zxLzwKO','CKDAC3K','DxbWzxjcB2r5uW','5lIk5y2k6lQRtLngv+IdJoMDOG','zNLDie5VignOyq','vw9QzNm','Eu9dqMW','zNzwuee','zefsz2G','yxv0BW','t2vAyMC','BgvUz3rO','qwr1t0W','qKvkwuW','E3VNLkJMIlFPNidMSyj9Fq','5yEg5Ash5PU05PAW6kEs6iMYici','DLDTyuG'];_0x1527=function(){return _0x58b608;};return _0x1527();}import{getContext}from'../../../../st-context.js';import{saveSettingsDebounced}from'../../../../../script.js';import{generateCharacterListText,generateOutfitEnableListText,generateCommonCharacterListText}from'./settings/worldbook.js';import{updateCombinedPrompt}from'./settings/llm.js';import{buildPromptForRequestType}from'./settings/llmService.js';import{refreshCharacterSettings}from'./settings/character/index.js';function _0x4d67dd(_0x59e852,_0x51507c,_0xcef6c2,_0x2d8ae9){return _0x38b7(_0xcef6c2-0xf3,_0x2d8ae9);}import{stylishConfirm}from'./ui_common.js';import{mergeAdjacentMessages,replaceAllPlaceholders,replacePlaceholder as _0x429f94}from'./promptProcessor.js';function replacePlaceholder(_0x5a55a4,_0x340258,_0x48f9ea,_0x2b0188){const _0x225513={'IxDqZ':function(_0x1f1c1b,_0x3b732f){return _0x1f1c1b!==_0x3b732f;},'OmBEd':function(_0x4d6988,_0x7419ff){return _0x4d6988(_0x7419ff);},'jQthV':function(_0x387af1,_0xae6e27){return _0x387af1===_0xae6e27;},'VYQZK':_0x335570(-0x104,-0x80,-0x84,-0x1c5),'Bhugi':function(_0x262352,_0x235cfc){return _0x262352!==_0x235cfc;},'HnWIQ':_0x335570(-0x64,-0xf8,-0x20,-0xfa),'OiSIO':function(_0x1c766f,_0xb38966,_0x3c05d2,_0x4ac040,_0xf9e056){return _0x1c766f(_0xb38966,_0x3c05d2,_0x4ac040,_0xf9e056);}};if(typeof _0x5a55a4===_0x2c75b5(0x104,-0x22,0x89,0xaa))return _0x48f9ea&&_0x5a55a4[_0x335570(-0xa4,-0xba,-0xad,-0x111)](_0x340258)&&(_0x2b0188&&_0x2b0188[_0x2c75b5(0x195,0xb4,0xe7,0x19b)](_0x340258)),_0x5a55a4['replaceAll'](_0x340258,_0x48f9ea);function _0x2c75b5(_0x5e7c0e,_0x38a456,_0x17e1fd,_0xc918b5){return _0x38b7(_0x17e1fd- -0xe4,_0x5e7c0e);}if(Array[_0x335570(-0x197,-0x10d,-0x166,-0x1f5)](_0x5a55a4))return _0x5a55a4[_0x335570(-0x48,0x57,-0x9f,-0x94)](_0x593d7f=>replacePlaceholder(_0x593d7f,_0x340258,_0x48f9ea,_0x2b0188));function _0x335570(_0x5b1931,_0xa7d0d1,_0x110d74,_0x101b64){return _0x38b7(_0x5b1931- -0x2b6,_0xa7d0d1);}if(_0x5a55a4&&_0x225513[_0x335570(-0xbf,-0xd3,-0x11c,-0x153)](typeof _0x5a55a4,_0x225513['VYQZK'])){if(_0x225513[_0x2c75b5(0xd0,0xf9,0x7e,0xed)](_0x225513['HnWIQ'],'qAOXs')){const _0x1a0b90={};_0x1a0b90['characters']=[];const _0x4ba363=_0x1a0b90;_0x11e575=_0x16a88e[_0x335570(-0x191,-0x207,-0x1c8,-0x13f)](/<thinking>[\s\S]*?<\/thinking>/gi,'')['trim']();const _0x2796c9=/<人物>([\s\S]*?)<\/人物>/g;let _0x3b34a0;while(_0x225513[_0x335570(-0x4e,0x23,-0x4,-0x3c)](_0x3b34a0=_0x2796c9[_0x335570(-0x3c,0x49,0x39,0x61)](_0x2f7735),null)){const _0x4fb027=_0x225513[_0x335570(-0x10c,-0xb0,-0x83,-0x57)](_0x1efa93,_0x3b34a0[0x1*-0x2408+0xca1+-0x358*-0x7]),_0x53f038=_0x225513[_0x335570(-0x10c,-0xa4,-0x13c,-0x18d)](_0xb93404,_0x4fb027);_0x53f038&&_0x4ba363[_0x335570(-0xf6,-0xaf,-0x182,-0xbf)]['push'](_0x53f038);}return _0x4ba363;}else{const _0x12be67={};for(const _0x4d91ce in _0x5a55a4){_0x12be67[_0x4d91ce]=_0x225513[_0x335570(-0x1b4,-0x1dc,-0x15e,-0x255)](replacePlaceholder,_0x5a55a4[_0x4d91ce],_0x340258,_0x48f9ea,_0x2b0188);}return _0x12be67;}}return _0x5a55a4;}function attachImagesToMessage(_0x2d4c6d,_0x37809a,_0x334ad0,_0xfc0c80=_0x4d67dd(0x28e,0x2fe,0x273,0x2b7)){const _0x14841d={};_0x14841d[_0xbceee0(0x247,0x1d8,0x266,0x2c4)]=_0xbceee0(0x10d,0x195,0x171,0xe5),_0x14841d['LlqFC']=function(_0x1b62dc,_0x12a652){return _0x1b62dc===_0x12a652;},_0x14841d['pezhG']='object',_0x14841d[_0x338e02(0x410,0x405,0x355,0x3fb)]=function(_0x3b7294,_0x454e1c){return _0x3b7294+_0x454e1c;},_0x14841d[_0xbceee0(0x164,0x1e0,0x161,0x1ba)]=_0x338e02(0x4db,0x51e,0x448,0x4ff),_0x14841d[_0x338e02(0x470,0x447,0x3f0,0x475)]=_0xbceee0(0x23f,0x1cc,0x24d,0x1cc),_0x14841d[_0xbceee0(0x17d,0x247,0x1f5,0x1e8)]=function(_0xdc9b74,_0x1f1064){return _0xdc9b74===_0x1f1064;},_0x14841d[_0xbceee0(0x1f8,0x80,0x13f,0xaa)]='GYIZW',_0x14841d['ZHzYm']=function(_0x5cea83,_0x46b880){return _0x5cea83===_0x46b880;},_0x14841d[_0xbceee0(0x181,0x15a,0x213,0x245)]=_0x338e02(0x3c3,0x3cd,0x4db,0x41c),_0x14841d[_0xbceee0(0x111,0x264,0x1bb,0x13c)]=function(_0x3f8fe0,_0x1b2990){return _0x3f8fe0===_0x1b2990;},_0x14841d[_0x338e02(0x45c,0x31e,0x41f,0x3c4)]=_0xbceee0(0x1d2,0x74,0x12f,0x144),_0x14841d[_0xbceee0(0x129,0x179,0x147,0x113)]=function(_0x18c5ad,_0xab47dd){return _0x18c5ad===_0xab47dd;},_0x14841d[_0xbceee0(0x313,0x225,0x27f,0x25f)]=_0x338e02(0x33b,0x43a,0x45f,0x3e6);const _0x2284fe=_0x14841d;if(!_0x334ad0||_0x2284fe[_0x338e02(0x456,0x331,0x32e,0x3ec)](_0x334ad0[_0x338e02(0x3f2,0x447,0x4ab,0x49d)],0x1*-0x17ba+-0xd9d+0x2557)||_0x37809a<0x1f61+0x15aa+0x350b*-0x1||_0x37809a>=_0x2d4c6d['length'])return _0x2d4c6d;const _0x4bb3a9=[..._0x2d4c6d],_0x126c0f=_0x4bb3a9[_0x37809a],_0x3e00f0=[];if(_0x2284fe[_0x338e02(0x400,0x464,0x34e,0x3ec)](typeof _0x126c0f[_0xbceee0(0x2cb,0x2b3,0x27d,0x2ac)],_0x2284fe['fvVPA'])){if(_0x2284fe[_0x338e02(0x380,0x4e2,0x4b7,0x441)](_0x2284fe[_0x338e02(0x447,0x417,0x3ff,0x3c4)],_0x2284fe[_0x338e02(0x430,0x3a9,0x466,0x3c4)])){const _0x580b4d={};_0x580b4d[_0xbceee0(0x19e,0x151,0x126,0x14c)]=_0xbceee0(0x264,0x278,0x279,0x1f2),_0x580b4d['text']=_0x126c0f[_0x338e02(0x4e3,0x549,0x4c2,0x503)],_0x3e00f0[_0x338e02(0x393,0x38b,0x420,0x40c)](_0x580b4d);}else _0x1016cc(new _0x5ac7f9(_0x2c3e54[_0xbceee0(0x1f4,0x26c,0x1b8,0x18b)]||_0x2284fe[_0xbceee0(0x224,0x1d3,0x266,0x2d1)]));}else{if(Array[_0x338e02(0x413,0x323,0x46a,0x3ce)](_0x126c0f[_0x338e02(0x4e1,0x590,0x46a,0x503)])){if(_0x2284fe[_0xbceee0(0xfc,0x97,0x147,0x16e)](_0x2284fe[_0x338e02(0x52a,0x45a,0x510,0x505)],_0xbceee0(0x30b,0x270,0x25e,0x23f))){const _0x30c8e1=_0x40d394?function(){function _0x460b73(_0x5ba617,_0x3ceb00,_0x59d727,_0x46c478){return _0xbceee0(_0x46c478,_0x3ceb00-0x193,_0x5ba617- -0x2ed,_0x46c478-0x1da);}if(_0x9d9f6b){const _0x2353a8=_0x114651[_0x460b73(-0x159,-0x1a4,-0xbb,-0x155)](_0x15607a,arguments);return _0x406056=null,_0x2353a8;}}:function(){};return _0x281e90=![],_0x30c8e1;}else _0x3e00f0[_0xbceee0(0x1c3,0x23e,0x186,0x1e0)](..._0x126c0f['content']);}}function _0x338e02(_0x4b0718,_0x16c429,_0x4f7ca9,_0x54a9d8){return _0x4d67dd(_0x4b0718-0x1cb,_0x16c429-0x129,_0x54a9d8-0x1bc,_0x4f7ca9);}if(_0x334ad0[_0x338e02(0x515,0x3ee,0x4a0,0x49d)]>-0x26a5+-0x2*0x31a+-0x2cd9*-0x1){const _0x23c81a={};_0x23c81a['type']=_0x2284fe[_0xbceee0(0x12f,0x197,0x161,0x120)],_0x23c81a[_0xbceee0(0x27d,0x207,0x279,0x2e2)]='\x0a[以下是用户上传的'+_0x334ad0[_0x338e02(0x4bc,0x487,0x50a,0x49d)]+'张'+_0xfc0c80+']',_0x3e00f0[_0x338e02(0x371,0x450,0x3b2,0x40c)](_0x23c81a);}_0x334ad0[_0x338e02(0x4d5,0x4ac,0x54c,0x4b3)]((_0xf1334,_0x4627a5)=>{function _0x10ab3c(_0x1b120a,_0x25527a,_0x3a946b,_0x51e9d5){return _0x338e02(_0x1b120a-0xea,_0x25527a-0x165,_0x25527a,_0x51e9d5- -0x16f);}const _0xf82961=typeof _0xf1334===_0x45b04f(0x434,0x392,0x38b,0x442)?_0xf1334:_0xf1334[_0x45b04f(0x2a7,0x2bf,0x33e,0x2e5)],_0x1b19df=_0x2284fe[_0x10ab3c(0x3b9,0x3fe,0x40f,0x382)](typeof _0xf1334,_0x2284fe['pezhG'])&&_0xf1334[_0x45b04f(0x4a1,0x4e1,0x499,0x4c7)]?_0xf1334[_0x45b04f(0x3dc,0x3e0,0x499,0x42f)]:''+_0xfc0c80+_0x2284fe[_0x45b04f(0x38e,0x406,0x36a,0x40b)](_0x4627a5,0x68*0x51+0xd15+-0x2dfc),_0xde3b6b={};_0xde3b6b[_0x10ab3c(0x2c9,0x207,0x180,0x23d)]=_0x2284fe[_0x45b04f(0x397,0x29c,0x356,0x3fb)],_0xde3b6b['text']='['+_0x1b19df+']',_0x3e00f0[_0x45b04f(0x338,0x3ae,0x37b,0x34b)](_0xde3b6b);let _0x5433b2=_0xf82961;if(!_0xf82961[_0x10ab3c(0x2cc,0x2e0,0x295,0x2e3)](_0x2284fe[_0x10ab3c(0x34f,0x2cd,0x349,0x306)])){if(_0x2284fe[_0x10ab3c(0x2b6,0x371,0x3ae,0x30c)](_0x2284fe['iSBdi'],_0x2284fe['iSBdi']))_0x5433b2=_0x10ab3c(0x2dc,0x21e,0x24a,0x27e)+_0x45b04f(0x4ad,0x36b,0x3ef,0x3c7)+'4,'+_0xf82961;else{const _0x1767e1={};for(const _0x5ba4b0 in _0x4d80fd){_0x1767e1[_0x5ba4b0]=_0x235886(_0x4922c9[_0x5ba4b0],_0x40738a,_0x502eff,_0x24b6e5);}return _0x1767e1;}}const _0x7275cd={};_0x7275cd[_0x10ab3c(0x2eb,0x2c3,0x299,0x30a)]=_0x5433b2,_0x7275cd[_0x45b04f(0x45a,0x41a,0x3ed,0x3e6)]=_0x45b04f(0x45e,0x44b,0x40a,0x4b1);const _0x4fb0b9={};function _0x45b04f(_0x2472fc,_0x51201d,_0x8c7292,_0x433236){return _0x338e02(_0x2472fc-0xa2,_0x51201d-0x183,_0x2472fc,_0x8c7292- -0x91);}_0x4fb0b9[_0x45b04f(0x2ff,0x279,0x31b,0x38c)]='image_url',_0x4fb0b9[_0x10ab3c(0x288,0x263,0x1f2,0x26d)]=_0x7275cd,_0x3e00f0['push'](_0x4fb0b9);});const _0x21b55f={..._0x126c0f};function _0xbceee0(_0x4b5d24,_0x39d51f,_0x2feb55,_0x54d3fe){return _0x4d67dd(_0x4b5d24-0xdf,_0x39d51f-0x143,_0x2feb55- -0xca,_0x4b5d24);}return _0x21b55f[_0x338e02(0x4d3,0x54b,0x47f,0x503)]=_0x3e00f0,_0x4bb3a9[_0x37809a]=_0x21b55f,_0x4bb3a9;}function findMessageIndexWithPlaceholder(_0x2b3e22,_0x574f78){const _0x44ce10={'RVuPr':function(_0x2f7701,_0x526d50){return _0x2f7701!==_0x526d50;},'iAXYu':function(_0xae3360){return _0xae3360();},'zcoUp':function(_0x5cb6c9,_0x152b8e){return _0x5cb6c9(_0x152b8e);},'shLEc':function(_0x3293f1,_0x2510f2){return _0x3293f1<_0x2510f2;},'QhVFv':_0x183d1c(-0x1b7,-0x140,-0x1b9,-0x193),'lchDj':function(_0x274566,_0x2ad4d7){return _0x274566===_0x2ad4d7;},'xCMiA':'text','rzIwi':_0x183d1c(-0x192,-0xd1,-0xaa,-0x12e)};for(let _0x37fc9c=0x1*0x252+0xf7f+-0x1*0x11d1;_0x44ce10[_0x4e8fd4(-0x103,-0x143,-0x16e,-0x12a)](_0x37fc9c,_0x2b3e22['length']);_0x37fc9c++){const _0x1bc829=_0x2b3e22[_0x37fc9c];if(typeof _0x1bc829[_0x183d1c(0x3d,-0x59,-0x102,-0x84)]===_0x44ce10['QhVFv']&&_0x1bc829['content'][_0x183d1c(0x3,-0x9b,-0x109,-0x94)](_0x574f78))return _0x37fc9c;else{if(Array[_0x183d1c(-0xf7,-0x18e,-0x1e0,-0x17c)](_0x1bc829[_0x183d1c(-0xa4,-0x59,-0x1f,0x20)]))for(const _0x4a9393 of _0x1bc829[_0x4e8fd4(-0x67,-0x18,0x1c,0x12)]){if(_0x44ce10[_0x4e8fd4(-0x21,-0xcf,-0xe9,-0x74)](_0x4a9393[_0x183d1c(-0x1c6,-0x1b0,-0x25c,-0x249)],_0x44ce10[_0x183d1c(-0x1dc,-0x16b,-0xfe,-0x1eb)])&&_0x4a9393[_0x183d1c(-0x59,-0x5d,-0xbf,-0x112)][_0x4e8fd4(-0x35,-0x5a,-0xc,-0xc9)](_0x574f78)){if(_0x44ce10[_0x183d1c(-0x9e,-0x110,-0xa6,-0x97)](_0x4e8fd4(-0x40,0x3,0xa4,0x6d),_0x44ce10['rzIwi'])){if(_0x44ce10[_0x4e8fd4(-0x80,-0x46,-0x5d,-0x7d)](_0x3e1834['id'],_0xde6efd))return;_0x44ce10['iAXYu'](_0x3a7700),_0x1c18bf[_0x183d1c(-0xa5,-0x51,-0xec,-0x57)]?_0x44ce10['zcoUp'](_0x369c9f,_0x471849[_0x183d1c(-0x18f,-0x11e,-0x131,-0x1d0)]):_0x44ce10[_0x4e8fd4(0xd,-0x9c,-0x90,-0x5a)](_0x3b2b0f,new _0xe6aaf0(_0x434077[_0x4e8fd4(-0x12c,-0xdd,-0xe5,-0x136)]||_0x183d1c(-0xa6,-0x165,-0xfd,-0x21f)));}else return _0x37fc9c;}}}}function _0x4e8fd4(_0x1568a9,_0x2fd96e,_0x1a1cd0,_0x1ff1d1){return _0x4d67dd(_0x1568a9-0xf6,_0x2fd96e-0x47,_0x2fd96e- -0x35f,_0x1a1cd0);}function _0x183d1c(_0x4502ea,_0x4c5de1,_0xbfd51d,_0x38ac1f){return _0x4d67dd(_0x4502ea-0x146,_0x4c5de1-0x146,_0x4c5de1- -0x3a0,_0x4502ea);}return-(0xb96+0x95f*-0x2+0x729);}function generateRequestId(){function _0x3c460b(_0x7847e5,_0x3d5929,_0x4c7804,_0x3a2b49){return _0x4d67dd(_0x7847e5-0x16f,_0x3d5929-0x15f,_0x4c7804-0x1fe,_0x3d5929);}function _0x4049b5(_0x22ccfe,_0x1aa749,_0x32b19c,_0x1689ac){return _0x4d67dd(_0x22ccfe-0x161,_0x1aa749-0x34,_0x32b19c- -0x11a,_0x1689ac);}if(crypto&&crypto[_0x4049b5(0x294,0x28d,0x23e,0x2a9)])return _0x3c460b(0x489,0x44a,0x4eb,0x47b)!==_0x4049b5(0x1ee,0x97,0x14e,0x152)?crypto[_0x4049b5(0x2d9,0x255,0x23e,0x1bf)]():_0x438779[_0x3c460b(0x54a,0x5cf,0x55f,0x536)](_0x1651fc=>_0x3716be(_0x1651fc,_0x3d86e7,_0x45b523,_0x1ba774));return Date['now']()[_0x3c460b(0x462,0x579,0x4ca,0x42f)](-0x1834+-0x6*0x2cc+0x38*0xbc)+Math[_0x4049b5(0x166,0x17a,0x1e9,0x204)]()[_0x3c460b(0x485,0x475,0x4ca,0x448)](-0x42d*-0x1+-0x94b+0x542)[_0x3c460b(0x51b,0x3f5,0x4b2,0x4ed)](-0x1a2*-0x1+0x1f6e+-0x210e);}export function LLM_CHAR_MODIFY_GET_PROMPT(){const _0x4e87c5={'LQRCl':function(_0x55eab4,_0xa3f756){return _0x55eab4!==_0xa3f756;},'QBCLX':_0x28b384(-0x16a,-0x2c,-0xb6,-0xba),'Ekueb':function(_0xc5ce83,_0x513784){return _0xc5ce83(_0x513784);},'sukrG':_0x28b384(0xb7,-0x97,0x24,-0x9),'oPGFd':_0x28b384(0xda,0xd6,0x46,0x89),'FesMv':function(_0x11d2e4,_0x1fb462){return _0x11d2e4!==_0x1fb462;},'itAmL':function(_0x3cc284,_0x1a53f2,_0x5c912b){return _0x3cc284(_0x1a53f2,_0x5c912b);}};function _0x28b384(_0x6afde7,_0x29b284,_0x37ea20,_0x326c8d){return _0x4d67dd(_0x6afde7-0x1c8,_0x29b284-0x1e7,_0x37ea20- -0x2cb,_0x29b284);}function _0xb75c86(_0x307f72,_0x2b2444,_0x29d573,_0x23bc9d){return _0x4d67dd(_0x307f72-0x123,_0x2b2444-0x1ac,_0x307f72-0x1ce,_0x23bc9d);}return new Promise((_0x2c742a,_0x155475)=>{const _0x1352bb={'VqaiW':function(_0xa4b252,_0x59ad4c){return _0xa4b252!==_0x59ad4c;},'bCbGW':_0x4e87c5['sukrG'],'iVLzv':_0x4e87c5[_0x415cc8(0x54e,0x600,0x64c,0x5eb)],'GWBJz':function(_0x5474d4,_0x1ccce2){function _0x50607c(_0x31bb95,_0x1ecb34,_0xa2e414,_0x367a32){return _0x415cc8(_0x31bb95-0xcb,_0x31bb95,_0xa2e414-0x110,_0x1ecb34- -0x4d7);}return _0x4e87c5[_0x50607c(0x33,0xdc,0x5b,0x186)](_0x5474d4,_0x1ccce2);}},_0x1adc16=generateRequestId();console[_0x415cc8(0x67f,0x67c,0x648,0x5d4)]('[character'+_0xdc7617(-0x279,-0x237,-0x1d2,-0x267)+'fy]\x20Reques'+'ting\x20char\x20'+'modify\x20pro'+_0x415cc8(0x515,0x598,0x5c3,0x53b)+_0x1adc16+')');const _0x5d04c4=_0x2223c4=>{function _0x244d84(_0x346946,_0x391c29,_0x3a8741,_0xb9d96){return _0xdc7617(_0x346946-0x695,_0x391c29-0x153,_0xb9d96,_0xb9d96-0xb4);}function _0x2eba10(_0x3650eb,_0x19e0c6,_0x30e05a,_0x335df8){return _0xdc7617(_0x30e05a-0x57,_0x19e0c6-0x135,_0x335df8,_0x335df8-0x73);}if(_0x1352bb[_0x244d84(0x434,0x425,0x4e3,0x3fa)](_0x1352bb['bCbGW'],_0x1352bb[_0x244d84(0x477,0x460,0x3fd,0x40b)])){if(_0x1352bb[_0x244d84(0x415,0x481,0x481,0x46c)](_0x2223c4['id'],_0x1adc16))return;eventSource[_0x244d84(0x440,0x4d7,0x4fc,0x3ce)+_0x244d84(0x4da,0x4b2,0x474,0x53b)](eventNames[_0x244d84(0x3e4,0x373,0x479,0x3db)+_0x2eba10(-0x158,-0x1ea,-0x1e3,-0x240)+'PROMPT_RES'+'PONSE'],_0x5d04c4),_0x2c742a(_0x2223c4[_0x244d84(0x555,0x59b,0x57e,0x566)]);}else return _0x53c4c5;};eventSource['on'](eventNames['LLM_CHAR_M'+_0x415cc8(0x520,0x523,0x496,0x513)+_0x415cc8(0x4d1,0x42e,0x44d,0x4bf)+_0xdc7617(-0x1f0,-0x24c,-0x1ed,-0x17b)],_0x5d04c4);function _0x415cc8(_0x512a5d,_0x3c95ba,_0x313935,_0x279df3){return _0x28b384(_0x512a5d-0x121,_0x3c95ba,_0x279df3-0x56c,_0x279df3-0x15b);}const _0x20af66={};_0x20af66['id']=_0x1adc16;function _0xdc7617(_0x46aab7,_0x43c729,_0x290fba,_0x50a5a2){return _0xb75c86(_0x46aab7- -0x67a,_0x43c729-0x68,_0x290fba-0x3f,_0x290fba);}eventSource['emit'](eventNames[_0x415cc8(0x4e9,0x546,0x454,0x49c)+_0xdc7617(-0x23a,-0x280,-0x261,-0x2f2)+_0xdc7617(-0x15a,-0x1c2,-0x113,-0x99)+_0x415cc8(0x485,0x51f,0x45a,0x4f4)],_0x20af66),_0x4e87c5[_0x415cc8(0x5fd,0x682,0x669,0x5d2)](setTimeout,()=>{function _0x515a08(_0x37d9c5,_0x4accca,_0x1d8dc3,_0x276417){return _0x415cc8(_0x37d9c5-0x11d,_0x4accca,_0x1d8dc3-0xa3,_0x37d9c5- -0x2d2);}function _0x501f62(_0x14077e,_0x1ed9c3,_0x2b4ccf,_0x31d0ae){return _0xdc7617(_0x31d0ae-0x528,_0x1ed9c3-0x90,_0x14077e,_0x31d0ae-0x189);}_0x4e87c5[_0x515a08(0x227,0x1cb,0x16b,0x27b)](_0x4e87c5[_0x501f62(0x328,0x329,0x23a,0x270)],_0x4e87c5[_0x501f62(0x2fc,0x2cf,0x217,0x270)])?_0xdb415d[_0x445bb8]=_0x234bbe[_0x1697bc]:(eventSource[_0x501f62(0x2dc,0x384,0x38d,0x2d3)+_0x515a08(0x2c0,0x28a,0x348,0x210)](eventNames[_0x515a08(0x1ca,0x147,0x1e5,0x23e)+_0x515a08(0x241,0x2f1,0x2f5,0x2e7)+'PROMPT_RES'+_0x501f62(0x3b1,0x363,0x355,0x338)],_0x5d04c4),_0x4e87c5[_0x501f62(0x31e,0x388,0x333,0x37b)](_0x155475,new Error(_0x515a08(0x2bb,0x32d,0x327,0x27b)+'时')));},0x1b71+-0x9b7+0x1556);});}export function LLM_CHAR_MODIFY(_0x10fb90,_0x13af86={}){function _0x4872fc(_0x3914f4,_0x3ae40,_0x5ca64e,_0x4c5a08){return _0x4d67dd(_0x3914f4-0x7b,_0x3ae40-0x131,_0x3ae40- -0x72,_0x4c5a08);}const _0x2a7edf={'qNTjX':function(_0x335252,_0x8ef9cd){return _0x335252(_0x8ef9cd);},'SLGFK':function(_0x21a690,_0x7c520f){return _0x21a690(_0x7c520f);},'bDJfq':_0x4872fc(0x26b,0x283,0x324,0x1c8),'WvkIq':_0x34aeb6(0x43,0x90,0xb,0x97),'ZtwoA':function(_0x2b0eef,_0x47ea59){return _0x2b0eef===_0x47ea59;},'kAuZp':_0x4872fc(0x1c0,0x227,0x16b,0x207),'WOLDy':'JJOMp','whnFM':_0x34aeb6(0x20,0x12d,0xb5,0x78),'zfdwf':_0x34aeb6(0x5d,-0xb4,-0x19,-0x2e),'HapLE':_0x4872fc(0x1b9,0x220,0x207,0x2ca),'eZdTR':_0x34aeb6(0x91,0xf6,0x77,0xd4),'QtdJq':_0x4872fc(0x298,0x24f,0x1f4,0x261)+'求超时','BEJYL':_0x4872fc(0x2d8,0x256,0x1a5,0x2c4),'mTHYk':'PHtkd','jwMQG':function(_0x148c82){return _0x148c82();}};function _0x34aeb6(_0x54c148,_0xf61885,_0x3b6b43,_0x4ff51f){return _0x4d67dd(_0x54c148-0x179,_0xf61885-0xe2,_0x3b6b43- -0x254,_0xf61885);}return new Promise((_0x5b31ff,_0x373899)=>{function _0x49491e(_0x2374e8,_0x18c279,_0xbe8a46,_0x37daf9){return _0x4872fc(_0x2374e8-0x118,_0xbe8a46-0x13a,_0xbe8a46-0xce,_0x37daf9);}function _0x4f4f4a(_0x4f85c4,_0x176818,_0x2d1006,_0x33aa0a){return _0x34aeb6(_0x4f85c4-0x66,_0x176818,_0x33aa0a- -0x9e,_0x33aa0a-0x1ee);}const _0x304412={'HukBQ':function(_0x31109b,_0x3f6a44){function _0x5e1027(_0xe790b1,_0x14b8f4,_0x2d1e79,_0x2530ce){return _0x38b7(_0xe790b1-0x155,_0x2530ce);}return _0x2a7edf[_0x5e1027(0x2e5,0x34d,0x363,0x27f)](_0x31109b,_0x3f6a44);},'PIOxX':_0x2a7edf[_0x4f4f4a(0xe7,0x117,0x3e,0x6b)],'lGGvI':_0x2a7edf[_0x49491e(0x336,0x3bc,0x3ea,0x464)],'opoVk':function(_0x1830f2){return _0x1830f2();},'yOCBl':function(_0x5acc9f,_0x28ae67){function _0x4a8eab(_0x5404eb,_0x4a1276,_0x66a1e2,_0x10f003){return _0x4f4f4a(_0x5404eb-0x1b1,_0x10f003,_0x66a1e2-0x49,_0x66a1e2-0x3d7);}return _0x2a7edf[_0x4a8eab(0x30a,0x302,0x32c,0x2a1)](_0x5acc9f,_0x28ae67);},'DOIFF':_0x2a7edf[_0x4f4f4a(-0x52,-0x80,-0x2b,0x40)],'GPsPO':function(_0x1ebab4,_0xa4f900){return _0x1ebab4!==_0xa4f900;},'UZLIA':_0x2a7edf['WOLDy'],'RATeH':_0x2a7edf[_0x4f4f4a(-0x111,-0x10c,-0x85,-0x69)],'onUfN':function(_0x4537da,_0x334d44){return _0x4537da(_0x334d44);},'IaCMF':_0x2a7edf[_0x4f4f4a(-0x170,-0x8,-0x3c,-0xb0)],'HaJkx':_0x2a7edf[_0x49491e(0x332,0x2cf,0x33c,0x30b)],'YHufl':_0x2a7edf[_0x49491e(0x47e,0x410,0x3e4,0x46c)],'QDvQL':_0x2a7edf['QtdJq']};if(_0x2a7edf['ZtwoA'](_0x2a7edf[_0x4f4f4a(-0x8a,0x1,0x73,-0xf)],_0x2a7edf['mTHYk']))return null;else{const _0x49babb=_0x2a7edf[_0x49491e(0x267,0x2c1,0x2b7,0x30a)](generateRequestId),_0x412f9e=_0x13af86[_0x49491e(0x359,0x36e,0x3fe,0x411)]||-0x1ce46+0x3fba*-0x4+0x2*0x1dbc7;let _0x1cf552=null;console[_0x4f4f4a(0x40,0xa0,0x2f,0x41)](_0x4f4f4a(-0x108,-0x44,0x46,-0x6c)+_0x4f4f4a(-0xa1,-0xdc,-0x81,-0xbf)+_0x4f4f4a(-0x144,-0xc3,-0x148,-0x88)+_0x4f4f4a(-0xdd,-0x4f,-0x2a,-0x95)+_0x4f4f4a(0xa8,0xac,-0x20,0x3c)+_0x4f4f4a(-0xfb,-0xcf,-0xfd,-0x89)+_0x4f4f4a(-0xbc,-0xec,-0xb5,-0xc5)+_0x49babb+')');const _0x27c45d=()=>{function _0x43490b(_0x46f818,_0x1b92ea,_0x46cff0,_0x2fd6f3){return _0x4f4f4a(_0x46f818-0x10a,_0x46cff0,_0x46cff0-0x1af,_0x46f818- -0x108);}eventSource['removeList'+_0xbe3e08(-0x7a,0x2c,-0x133,-0x11b)](eventNames[_0x43490b(-0x1ff,-0x27a,-0x27f,-0x29b)+_0xbe3e08(-0x2e,0x51,-0xa,-0xa5)+'ONSE'],_0xace8d1);function _0xbe3e08(_0x348c21,_0x319dbd,_0x9156b,_0x373a30){return _0x49491e(_0x348c21-0x102,_0x319dbd-0xc8,_0x348c21- -0x433,_0x9156b);}_0x1cf552&&(_0x2a7edf['qNTjX'](clearTimeout,_0x1cf552),_0x1cf552=null);},_0xace8d1=_0x56637f=>{function _0x385e96(_0x5eca89,_0x2ac9b6,_0x473713,_0x21e670){return _0x4f4f4a(_0x5eca89-0x194,_0x473713,_0x473713-0x172,_0x5eca89-0x4b8);}function _0x3cfc5c(_0x45258b,_0x191f36,_0x485c14,_0x401a0b){return _0x4f4f4a(_0x45258b-0x13b,_0x401a0b,_0x485c14-0x7a,_0x45258b-0x3cf);}if(_0x304412[_0x3cfc5c(0x414,0x3c7,0x3b7,0x468)]===_0x304412['lGGvI']){if(_0x56637f['id']!==_0x49babb)return;_0x304412['opoVk'](_0x27c45d);if(_0x56637f[_0x3cfc5c(0x42c,0x4dc,0x4a0,0x428)]){if(_0x304412[_0x385e96(0x4a2,0x4bc,0x41c,0x55b)](_0x385e96(0x3fc,0x390,0x434,0x3b6),_0x304412[_0x385e96(0x451,0x479,0x3f4,0x3b0)]))return _0x1e7b3a;else _0x5b31ff(_0x56637f['result']);}else _0x304412[_0x3cfc5c(0x443,0x496,0x40e,0x490)](_0x304412[_0x3cfc5c(0x34c,0x37d,0x2c6,0x392)],_0x304412['RATeH'])?_0x304412[_0x3cfc5c(0x2d4,0x359,0x389,0x26a)](_0x373899,new Error(_0x56637f[_0x385e96(0x448,0x4c3,0x4a6,0x3f7)]||_0x304412[_0x3cfc5c(0x2df,0x2e7,0x37a,0x342)])):_0xe339ee=_0x3cfc5c(0x340,0x3ab,0x38f,0x281)+_0x385e96(0x475,0x509,0x41b,0x440)+[..._0x2994c9][_0x3cfc5c(0x329,0x29c,0x322,0x339)]('、')+'\x0a';}else{if(_0x55b80b[_0x34c309]){const _0x382703=_0x4a009a[_0x385e96(0x3d0,0x31a,0x3cb,0x396)+_0x385e96(0x47b,0x445,0x454,0x422)](_0x3cfc5c(0x36a,0x39a,0x369,0x3b7)+_0x129599);_0x382703&&(_0x382703[_0x3cfc5c(0x38f,0x3ec,0x3dc,0x3b1)]=_0x270123[_0x3a7043],_0x304412[_0x385e96(0x494,0x460,0x406,0x500)](_0x4947bd,_0x382703)[_0x3cfc5c(0x371,0x42f,0x2e8,0x37c)](_0x304412['PIOxX']));}}};eventSource['on'](eventNames[_0x4f4f4a(-0x60,-0x83,-0x87,-0xf7)+_0x49491e(0x4ba,0x4a6,0x405,0x391)+_0x4f4f4a(-0x7e,0x51,-0x93,0x10)],_0xace8d1);const _0x2e7ddf={};_0x2e7ddf['prompt']=_0x10fb90,_0x2e7ddf['id']=_0x49babb,eventSource[_0x4f4f4a(0x29,0xd,0x4e,0x39)](eventNames[_0x49491e(0x2c9,0x24b,0x2c3,0x20e)+_0x4f4f4a(0xa9,0x93,-0xa0,-0xa)+_0x4f4f4a(-0x65,-0x5f,0x6d,0x31)],_0x2e7ddf),_0x1cf552=setTimeout(()=>{const _0x2c2ee2={};_0x2c2ee2[_0x426925(0x23b,0x246,0x1a4,0x1b5)]=_0x304412['HaJkx'];function _0x426925(_0x1b8bb2,_0x4b36d0,_0x36c55f,_0x14c379){return _0x49491e(_0x1b8bb2-0x199,_0x4b36d0-0x13a,_0x36c55f- -0x17d,_0x1b8bb2);}const _0x13153f=_0x2c2ee2;function _0x1eb3b5(_0x20ae96,_0x1b86b7,_0x4a40ab,_0x1349be){return _0x49491e(_0x20ae96-0x176,_0x1b86b7-0x18d,_0x20ae96-0x1fa,_0x1b86b7);}if(_0x304412[_0x1eb3b5(0x59e,0x51e,0x62c,0x4dd)](_0x304412['YHufl'],_0x1eb3b5(0x5ad,0x664,0x56b,0x5b9))){_0x41b498[_0x1eb3b5(0x53d,0x4d9,0x565,0x5b3)](_0x13153f['XEZNO']);return;}else _0x304412[_0x426925(0xcb,0x182,0x165,0x1e6)](_0x27c45d),_0x373899(new Error(_0x304412[_0x426925(0x27f,0x229,0x29c,0x353)]));},_0x412f9e);}});}function preprocessTagContent(_0x5cf21f){const _0x47ddd9={};_0x47ddd9[_0x5e5f29(0x2a8,0x33f,0x336,0x3b2)]=_0x3b4e4d(0x3e,-0x3d,-0x1c,-0x43),_0x47ddd9['iuNrP']='上半身NSFW背面:';function _0x5e5f29(_0x3e639d,_0x36bbfa,_0x3abeb2,_0x44a5dd){return _0x4d67dd(_0x3e639d-0x7,_0x36bbfa-0x116,_0x3abeb2-0x96,_0x36bbfa);}const _0x24cb22=_0x47ddd9;let _0x519f09=_0x5cf21f[_0x3b4e4d(-0xcb,-0x14e,-0xa5,-0x151)](/:/g,':')['replace'](/\(/g,'（')[_0x3b4e4d(-0x105,-0x14e,-0xf4,-0x1ef)](/\)/g,'）')[_0x3b4e4d(-0x1aa,-0x14e,-0x1f6,-0x1b0)](/,/g,',');_0x519f09=_0x519f09[_0x5e5f29(0x35b,0x330,0x2ae,0x28e)](/下半身NSWebcam:/g,_0x24cb22[_0x5e5f29(0x32d,0x374,0x336,0x3b2)]),_0x519f09=_0x519f09[_0x3b4e4d(-0x13b,-0x14e,-0xbb,-0xd3)](/下半身NSFW_背面:/g,_0x3b4e4d(-0x84,-0x3d,0x65,-0xf5));function _0x3b4e4d(_0x24ca03,_0x3691d7,_0x5242b7,_0x3ed6fc){return _0x4d67dd(_0x24ca03-0x172,_0x3691d7-0x1c5,_0x3691d7- -0x366,_0x24ca03);}return _0x519f09=_0x519f09[_0x5e5f29(0x357,0x30a,0x2ae,0x2d4)](/上半身NSFW_背面:/g,_0x24cb22['iuNrP']),_0x519f09;}function parseCharacterData(_0x3408e0){const _0x1cbed4={'KUzTm':function(_0x4da17c,_0x206837){return _0x4da17c(_0x206837);},'kkWQF':function(_0x1a86bc,_0x3f3ce6,_0x5841be){return _0x1a86bc(_0x3f3ce6,_0x5841be);},'jZapk':'没有检测到需要更新的'+'内容','ePFay':_0x1a8ed5(0x268,0x28f,0x242,0x1ae),'qrbsb':'facialFeat'+_0x1a8ed5(0x13e,0x149,0x18b,0x146),'UaRDk':_0x1a8ed5(0x1b4,0x1ef,0x238,0x263)+_0x1a8ed5(0x17a,0xbb,0x11c,0xc6),'nUFuQ':_0x1a8ed5(0x1f1,0x14f,0x1c0,0x1b4)+'FW','txado':_0x1a8ed5(0x237,0x23a,0x1c0,0x180)+_0x2c303c(0x615,0x4eb,0x56e,0x4dc),'dSVVQ':_0x1a8ed5(0x2e3,0x1f1,0x23d,0x206)+'WBack','WEcTZ':'upperBodyN'+'SFW','JtZun':_0x2c303c(0x5d4,0x627,0x592,0x60d)+_0x1a8ed5(0x19d,0x2b8,0x235,0x1b5),'ijbgh':_0x1a8ed5(0x2f5,0x201,0x250,0x2ff)+'FW','dARgh':'fullBodyNS'+'FWBack','BCtTJ':function(_0x2a3970,_0x39d569){return _0x2a3970!==_0x39d569;},'MTZSZ':_0x2c303c(0x67a,0x659,0x5cf,0x5fb),'dEKhy':'eeHqk','JqiMz':function(_0x507376,_0x767df7){return _0x507376===_0x767df7;},'ZDfXW':function(_0x4321ed,_0x480852){return _0x4321ed+_0x480852;},'Addxh':function(_0x419597,_0x288cec){return _0x419597===_0x288cec;},'HBPEo':_0x2c303c(0x615,0x630,0x5c5,0x64a),'LciRb':_0x1a8ed5(0xd0,0xb1,0xff,0x1bc),'QTsww':function(_0x6f365e,_0x41c6fc){return _0x6f365e===_0x41c6fc;},'KORwS':_0x1a8ed5(0x20a,0x1d9,0x1be,0x243),'moLvG':_0x2c303c(0x567,0x565,0x4f7,0x43d)+_0x1a8ed5(0x187,0x166,0x11b,0x87)+_0x1a8ed5(0x186,0x154,0x165,0x1b9)+_0x1a8ed5(0x29f,0x1a3,0x251,0x1df)},_0x4bb77e=_0x3408e0[_0x1a8ed5(0xac,0x52,0xeb,0x17a)]('\x0a')[_0x2c303c(0x666,0x68c,0x5d2,0x54e)](_0x1b2ea8=>_0x1b2ea8[_0x1a8ed5(0x6d,0x12e,0xe0,0x15d)]())['filter'](_0x3d0c44=>_0x3d0c44);function _0x2c303c(_0x4c3a5b,_0x5c1cbf,_0x1b304e,_0x5d8681){return _0x4d67dd(_0x4c3a5b-0xc1,_0x5c1cbf-0x17b,_0x1b304e-0x271,_0x4c3a5b);}const _0x4f3f65={};_0x4f3f65[_0x2c303c(0x542,0x65e,0x5cb,0x672)]='',_0x4f3f65[_0x1a8ed5(0x156,0xd2,0x129,0x1c9)]='',_0x4f3f65[_0x1a8ed5(0x27d,0x2c0,0x238,0x240)+_0x2c303c(0x5ab,0x508,0x514,0x543)]='',_0x4f3f65[_0x1a8ed5(0x2ee,0x1e9,0x238,0x199)+'uresBack']='',_0x4f3f65['upperBodyS'+'FW']='',_0x4f3f65[_0x1a8ed5(0x11b,0x259,0x1c0,0x179)+_0x1a8ed5(0x1f3,0x18f,0x1e5,0x1f3)]='',_0x4f3f65[_0x1a8ed5(0x2e9,0x206,0x23d,0x1fa)+'W']='',_0x4f3f65[_0x2c303c(0x557,0x5c4,0x5c6,0x5f9)+_0x2c303c(0x486,0x57f,0x502,0x510)]='',_0x4f3f65[_0x1a8ed5(0x16a,0x1b9,0x209,0x287)+_0x1a8ed5(0x282,0x21d,0x203,0x204)]='',_0x4f3f65[_0x2c303c(0x531,0x500,0x592,0x538)+_0x2c303c(0x664,0x5d6,0x5be,0x5c1)]='',_0x4f3f65[_0x2c303c(0x619,0x558,0x5d9,0x531)+'FW']='',_0x4f3f65[_0x2c303c(0x569,0x5a0,0x5d9,0x544)+_0x2c303c(0x592,0x551,0x56e,0x4cf)]='';const _0x29205f=_0x4f3f65;function _0x1a8ed5(_0x2d602d,_0x4f87b9,_0x2dde1f,_0x4fdd8a){return _0x4d67dd(_0x2d602d-0x0,_0x4f87b9-0xa3,_0x2dde1f- -0x118,_0x2d602d);}const _0x5909fb={};_0x5909fb['中文名称']=_0x1cbed4[_0x1a8ed5(0x235,0x243,0x241,0x289)],_0x5909fb['英文名称']=_0x1a8ed5(0x68,0xc5,0x129,0x117),_0x5909fb['五官外貌']=_0x1cbed4[_0x2c303c(0x5d2,0x5a2,0x585,0x59f)],_0x5909fb[_0x2c303c(0x3fa,0x4d1,0x4a8,0x4d1)]=_0x1cbed4[_0x1a8ed5(0x1e3,0x1c0,0x217,0x2b4)],_0x5909fb[_0x2c303c(0x522,0x521,0x584,0x638)]=_0x1cbed4[_0x2c303c(0x42b,0x485,0x4b5,0x451)],_0x5909fb[_0x1a8ed5(0xf0,0xaa,0x169,0x210)]=_0x1cbed4[_0x1a8ed5(0x92,0x155,0x153,0xf8)],_0x5909fb['下半身SFW']='fullBodySF'+'W',_0x5909fb[_0x2c303c(0x44c,0x534,0x4de,0x52a)]=_0x1cbed4[_0x2c303c(0x40c,0x424,0x4bf,0x4da)],_0x5909fb[_0x2c303c(0x3d9,0x4e2,0x46f,0x4ec)]=_0x1cbed4[_0x2c303c(0x57f,0x514,0x529,0x554)],_0x5909fb[_0x1a8ed5(0x1a3,0x1f2,0x1c1,0x27e)]=_0x1cbed4[_0x2c303c(0x4ba,0x577,0x4cc,0x4ef)],_0x5909fb[_0x2c303c(0x431,0x42e,0x4b4,0x430)]=_0x1cbed4[_0x1a8ed5(0xf4,0xf7,0xde,0xab)],_0x5909fb[_0x2c303c(0x41c,0x45e,0x4ba,0x47b)]=_0x1cbed4[_0x2c303c(0x5f5,0x4d5,0x54f,0x4d1)];const _0x5c15fc=_0x5909fb;for(const _0x1597c8 of _0x4bb77e){if(_0x1cbed4[_0x1a8ed5(0x1b5,0x1a8,0x1f2,0x19c)](_0x1cbed4[_0x2c303c(0x59c,0x5ef,0x537,0x4ba)],_0x1cbed4['dEKhy'])){const _0xe36643=_0x1597c8[_0x1a8ed5(0x173,0x12d,0xf8,0x194)](':');if(_0x1cbed4[_0x1a8ed5(0x183,0x18a,0xd9,0x18e)](_0xe36643,-(0x16*-0x1ba+-0x407*0x2+0x2e0b)))continue;const _0x5b0f3e=_0x1597c8[_0x1a8ed5(0x25a,0x1fc,0x19c,0x1de)](-0x372+0x2336*0x1+0x2*-0xfe2,_0xe36643)[_0x2c303c(0x502,0x479,0x469,0x498)](),_0x314762=_0x1597c8[_0x2c303c(0x48e,0x50b,0x525,0x4a5)](_0x1cbed4[_0x1a8ed5(0x137,0x75,0x10e,0x14d)](_0xe36643,-0x375+0x1*0x92b+-0x5b5))[_0x2c303c(0x471,0x50d,0x469,0x488)]();if(_0x5c15fc[_0x5b0f3e]){if(_0x1cbed4['Addxh'](_0x1cbed4[_0x1a8ed5(0x15a,0x137,0x110,0xf1)],_0x1cbed4[_0x2c303c(0x5d4,0x585,0x586,0x4c9)])){const _0x3bc36a={'amrrO':function(_0x3437d7,_0x524cd6){return _0x3437d7!==_0x524cd6;},'niWkV':function(_0x49fd04,_0x1a8fb0){function _0x1341dc(_0xd613d,_0x148574,_0x8455de,_0x93df2e){return _0x1a8ed5(_0x93df2e,_0x148574-0x156,_0x148574- -0x235,_0x93df2e-0x12c);}return _0x1cbed4[_0x1341dc(-0x50,-0xc6,-0x22,-0x13f)](_0x49fd04,_0x1a8fb0);}},_0x36c527=_0xc65687();_0xa386e6[_0x1a8ed5(0x1b8,0x29b,0x21b,0x210)](_0x1a8ed5(0xfa,0x163,0x16e,0x1e9)+_0x1a8ed5(0x12b,0xe0,0x11b,0x19e)+_0x1a8ed5(0x149,0x1ce,0x1bd,0x24a)+_0x1a8ed5(0x19e,0x21a,0x1ee,0x193)+_0x1a8ed5(0x1a6,0x1ba,0x18e,0x1a6)+'mpt\x20(ID:\x20'+_0x36c527+')');const _0x33d285=_0x51dcfb=>{if(_0x3bc36a[_0x3b1519(-0x194,-0x14e,-0x16c,-0x185)](_0x51dcfb['id'],_0x36c527))return;_0x10af3e[_0xedce51(0x217,0x15b,0x1e9,0x200)+_0x3b1519(-0x176,-0xc6,-0x130,-0xdb)](_0xf8c4e6['LLM_CHAR_M'+_0xedce51(0x260,0x2b0,0x204,0x184)+_0xedce51(0x14b,0x169,0x1b0,0x153)+_0x3b1519(-0x1ab,-0x247,-0x11e,-0x215)],_0x33d285);function _0xedce51(_0x54cc58,_0x107f38,_0x5b7b52,_0x51d8ea){return _0x2c303c(_0x107f38,_0x107f38-0x120,_0x5b7b52- -0x2df,_0x51d8ea-0x1de);}function _0x3b1519(_0x185cf8,_0x289353,_0x465cd2,_0x47bcfe){return _0x2c303c(_0x289353,_0x289353-0x18a,_0x185cf8- -0x6d8,_0x47bcfe-0x6);}_0x3bc36a[_0x3b1519(-0x239,-0x24c,-0x1a7,-0x1d9)](_0x9ef279,_0x51dcfb[_0xedce51(0x293,0x2c7,0x2fe,0x29a)]);};_0x5503d5['on'](_0x59a3a7[_0x2c303c(0x46a,0x4c0,0x46c,0x48c)+_0x2c303c(0x54e,0x434,0x4e3,0x4c2)+_0x1a8ed5(0x74,0xac,0x106,0xec)+_0x1a8ed5(0x143,0x14b,0x1a4,0x159)],_0x33d285);const _0x305887={};_0x305887['id']=_0x36c527,_0x5ca7c['emit'](_0x2d3e5e[_0x2c303c(0x50c,0x4f0,0x46c,0x406)+'ODIFY_GET_'+_0x1a8ed5(0x185,0x227,0x23a,0x193)+'UEST'],_0x305887),_0x1cbed4[_0x2c303c(0x45d,0x4f7,0x4a0,0x450)](_0x4b9ec3,()=>{function _0x4aee25(_0x52883d,_0x3e28e4,_0x16a343,_0x18af40){return _0x1a8ed5(_0x16a343,_0x3e28e4-0x11e,_0x52883d-0x6d,_0x18af40-0x122);}function _0x11d040(_0xe4d66f,_0x3993a6,_0x4326b8,_0x58c367){return _0x2c303c(_0x3993a6,_0x3993a6-0x15e,_0x4326b8- -0x66e,_0x58c367-0x28);}_0xf85b6b[_0x4aee25(0x1ac,0x171,0x13d,0x1c0)+_0x11d040(-0x65,-0x124,-0x10c,-0x194)](_0x40f095[_0x4aee25(0x150,0x1db,0xbe,0x155)+_0x4aee25(0x1c7,0x279,0x152,0x23c)+_0x4aee25(0x173,0x175,0xc6,0x184)+_0x11d040(-0x1ca,-0x144,-0x141,-0x122)],_0x33d285),_0x21d4ac(new _0x4b7609(_0x4aee25(0x241,0x190,0x2e1,0x287)+'时'));},-0x3e23*-0x1+-0x2a1d+0x130a);}else _0x29205f[_0x5c15fc[_0x5b0f3e]]=_0x314762;}else{if(_0x5b0f3e&&_0x314762){if(_0x1cbed4[_0x1a8ed5(0x214,0x16b,0x212,0x18a)]('iVBuN',_0x1cbed4[_0x1a8ed5(0x1b8,0x233,0x226,0x165)])){_0x52059d[_0x2c303c(0x512,0x4a2,0x4d6,0x4b6)](_0x1cbed4[_0x2c303c(0x46e,0x4f9,0x4e2,0x468)]);return;}else console['log']('[character'+_0x2c303c(0x47c,0x4e7,0x4a4,0x4cd)+_0x2c303c(0x5ab,0x476,0x500,0x50f)+_0x2c303c(0x4e9,0x5c2,0x589,0x5a9)+_0x5b0f3e+'\x22');}}}else _0x47cea3[_0x1a8ed5(0x100,0x187,0x1a6,0x177)](_0x291c62);}if(!_0x29205f[_0x1a8ed5(0x2ec,0x196,0x242,0x256)])return null;return console[_0x1a8ed5(0x1ae,0x1fd,0x21b,0x252)](_0x1cbed4[_0x1a8ed5(0x153,0x1c1,0x137,0x177)],_0x29205f),_0x29205f;}function extractCharacterTags(_0x5ac2f2){const _0x335c5a={'OdtDu':function(_0x54812f,_0x546569){return _0x54812f(_0x546569);},'ZUnuW':_0x133601(0x8,-0x23,-0x6b,-0x88),'oWeuF':_0x20368e(0xb9,0x138,0x10a,0xaf)},_0x1ace52={};_0x1ace52[_0x20368e(0x87,0xe7,0xb3,0x146)]=[];function _0x133601(_0x102d6a,_0x4d1323,_0x4b22f6,_0x106598){return _0x4d67dd(_0x102d6a-0x16c,_0x4d1323-0x58,_0x4b22f6- -0x2a5,_0x102d6a);}const _0x255465=_0x1ace52;_0x5ac2f2=_0x5ac2f2[_0x133601(-0xc6,0x34,-0x8d,-0x127)](/<thinking>[\s\S]*?<\/thinking>/gi,'')[_0x133601(-0xac,-0xf7,-0xad,-0xd5)]();function _0x20368e(_0x47d165,_0x5a8869,_0x1f8ea4,_0x2f8080){return _0x4d67dd(_0x47d165-0x6e,_0x5a8869-0x32,_0x5a8869- -0x1cc,_0x1f8ea4);}const _0x158e87=/<人物>([\s\S]*?)<\/人物>/g;let _0x36cfcc;while((_0x36cfcc=_0x158e87['exec'](_0x5ac2f2))!==null){const _0x322bde=_0x335c5a['OdtDu'](preprocessTagContent,_0x36cfcc[-0x11*0x119+-0x1495*0x1+0x273f]),_0x281f1d=_0x335c5a[_0x20368e(0x71,0xac,0x128,0x30)](parseCharacterData,_0x322bde);if(_0x281f1d){if(_0x335c5a[_0x20368e(0x108,0x132,0x1df,0xe2)]!==_0x335c5a[_0x133601(0x4,0x92,0xb2,0x10c)])_0x255465[_0x133601(0x2,0x30,0xe,-0x42)]['push'](_0x281f1d);else return _0x580d08;}}return _0x255465;}function getCurrentCharacterPreset(){const _0x3c1d24=extension_settings[extensionName],_0x37b83d=_0x3c1d24[_0x44b66f(0x223,0x271,0x1d3,0x233)+_0x454ecd(-0x379,-0x2b8,-0x363,-0x321)];if(!_0x37b83d||!_0x3c1d24[_0x454ecd(-0x2e3,-0x27f,-0x32b,-0x1c0)+'resets'][_0x37b83d])return null;const _0x3d9a7f={};function _0x44b66f(_0x50cf34,_0x33b805,_0x45385e,_0x104d1f){return _0x4d67dd(_0x50cf34-0x6a,_0x33b805-0xc6,_0x104d1f- -0x12,_0x33b805);}_0x3d9a7f['id']=_0x37b83d;function _0x454ecd(_0x51f6d5,_0x2286ef,_0x3846e2,_0x59fea5){return _0x4d67dd(_0x51f6d5-0x6,_0x2286ef-0xb6,_0x2286ef- -0x4c4,_0x51f6d5);}return _0x3d9a7f[_0x454ecd(-0x1e6,-0x258,-0x1ae,-0x2cd)]=_0x3c1d24['characterP'+_0x44b66f(0x1ec,0x2dd,0x21a,0x242)][_0x37b83d],_0x3d9a7f;}function buildCharacterText(_0x1ea19b){const _0x105d18={};_0x105d18[_0x264426(0x127,0x1e2,0x21b,0x1b1)]=_0x264426(0x234,0x2b5,0x313,0x23f);function _0x5367bd(_0x3cca3f,_0x29cec4,_0x2911e1,_0xa6f5bf){return _0x4d67dd(_0x3cca3f-0x124,_0x29cec4-0x1b,_0x29cec4- -0x194,_0x2911e1);}const _0x5481e1=_0x105d18;function _0x264426(_0x28b941,_0xaa3d60,_0x1db381,_0x18bc35){return _0x4d67dd(_0x28b941-0x14,_0xaa3d60-0x145,_0xaa3d60- -0x84,_0x18bc35);}const _0x4a60d3=_0x1ea19b['data'];let _0x12959f=_0x5367bd(0x1e5,0x16c,0x1b0,0x183);return _0x12959f+='中文名称:\x20'+(_0x4a60d3['nameCN']||'')+'\x0a',_0x12959f+='英文名称:\x20'+(_0x4a60d3[_0x5367bd(0x168,0xad,0x0,0x45)]||'')+'\x0a',_0x12959f+=_0x5367bd(0x189,0x1d7,0x1d2,0x24a)+(_0x4a60d3[_0x264426(0x20e,0x2cc,0x35d,0x2f5)+_0x5367bd(0x13b,0x10f,0x6b,0x16f)]||'')+'\x0a',_0x12959f+='五官外貌背面:\x20'+(_0x4a60d3[_0x264426(0x21b,0x2cc,0x385,0x35d)+_0x264426(0x178,0x1b0,0x183,0x24f)]||'')+'\x0a',_0x12959f+=_0x5367bd(0x2a,0xe3,0xea,0x10e)+(_0x4a60d3[_0x264426(0x208,0x254,0x228,0x310)+'FW']||'')+'\x0a',_0x12959f+=_0x5367bd(0xde,0x101,0x1be,0x5b)+(_0x4a60d3[_0x264426(0x2cb,0x254,0x1d9,0x26f)+_0x264426(0x1e1,0x279,0x20f,0x2a2)]||'')+'\x0a',_0x12959f+='下半身SFW:\x20'+(_0x4a60d3[_0x5367bd(0x246,0x1c1,0x228,0x224)+'W']||'')+'\x0a',_0x12959f+=_0x264426(0x354,0x2d2,0x2db,0x2b8)+(_0x4a60d3[_0x264426(0x2cb,0x2d1,0x291,0x223)+_0x5367bd(0xcc,0xfd,0x1ae,0x15b)]||'')+'\x0a',_0x12959f+='上半身NSFW:\x20'+(_0x4a60d3['upperBodyN'+'SFW']||'')+'\x0a',_0x12959f+=_0x5367bd(0x106,0x8f,0x2f,0x136)+'\x20'+(_0x4a60d3['upperBodyN'+_0x264426(0x368,0x2c9,0x306,0x2d8)]||'')+'\x0a',_0x12959f+='下半身NSFW:\x20'+(_0x4a60d3[_0x264426(0x28e,0x2e4,0x273,0x2c5)+'FW']||'')+'\x0a',_0x12959f+=_0x264426(0x279,0x2a5,0x320,0x28c)+'\x20'+(_0x4a60d3[_0x264426(0x35a,0x2e4,0x276,0x2f1)+_0x264426(0x311,0x279,0x1be,0x271)]||'')+'\x0a',_0x12959f+=_0x5481e1[_0x264426(0x179,0x1e2,0x263,0x1d1)],_0x12959f;}export async function handleCharacterPromptModify(_0x119a9d,_0x469f87=[]){function _0x549469(_0xcd6999,_0x40fb7a,_0x5e9869,_0x52dda7){return _0x4d67dd(_0xcd6999-0x10,_0x40fb7a-0xed,_0x5e9869- -0x280,_0xcd6999);}const _0x5ceff7={'EfeHW':_0x549469(0x5a,0xee,0x75,-0x1a),'VHWAX':function(_0x323265,_0x35a211){return _0x323265(_0x35a211);},'dDMXJ':_0x1dd85c(0xd7,0x144,0x8a,0x5b)+'时','Mpxco':function(_0x5074cc,_0x54b0b1,_0xd0a32d){return _0x5074cc(_0x54b0b1,_0xd0a32d);},'sBrhu':'nameCN','seKOp':_0x549469(-0xa2,-0x49,-0x3f,-0x34),'zruUv':_0x1dd85c(0x13b,0xcc,0x152,0x179)+_0x549469(0x51,-0x54,0x23,-0x64),'VIkXN':_0x549469(0xf5,0x123,0xd0,0xa3)+_0x549469(0x41,-0x42,-0x4c,-0x3d),'oxiGd':_0x549469(0xd9,0xc0,0x58,0xc9)+'FW','GbcEt':_0x549469(-0x5f,0xa7,0x58,-0x65)+'FWBack','OeZbg':'fullBodySF'+'W','PTpUd':'fullBodySF'+_0x549469(0xaf,-0x4c,0x11,0x1e),'vWweC':_0x549469(0x14e,0x9b,0xa1,0x27)+'SFW','sjyUy':_0x1dd85c(0x10c,0xba,0x151,0x136)+'SFWBack','vKeSg':_0x549469(0x18a,0x7a,0xe8,0x10a)+'FW','COsEa':_0x549469(0x8f,0x89,0xe8,0xf6)+_0x549469(0x136,0x132,0x7d,0xe3),'SfeFv':function(_0x1afce5,_0x4161d6){return _0x1afce5(_0x4161d6);},'FFUuY':_0x549469(0xa5,0x92,0x6,0x11)+_0x1dd85c(0x1e,-0x7f,0x42,0x1f)+_0x549469(0x149,0x131,0xad,0x105)+_0x549469(0x7,-0x4a,-0x7,0x48)+'er\x20prompt\x20'+_0x1dd85c(0x95,0x106,0xf8,0x18)+_0x1dd85c(0xb8,0x41,0x1e,0xa0),'GhRzd':_0x1dd85c(0xf9,0x74,0x105,0xf1),'crqBK':function(_0x226d36){return _0x226d36();},'fuTZK':_0x549469(0x8f,-0x17,0x12,0xa),'vvvpq':_0x549469(-0x9,-0x70,0x6,-0x4c)+'PromptModi'+_0x549469(0x8f,0xf2,0xa4,0xbc)+'t\x20preset:','Ereim':_0x549469(0x30,0x12,0x6,0x94)+_0x549469(-0xba,-0x103,-0x4d,-0x35)+_0x549469(0x103,0xf8,0x8b,0x69)+_0x1dd85c(0x101,0x87,0x171,0x180),'flBTc':function(_0x5f5cad,_0x2bc7b5){return _0x5f5cad||_0x2bc7b5;},'VhCnZ':function(_0x2cee56,_0xf8626){return _0x2cee56===_0xf8626;},'yxYiB':function(_0xed3327,_0x5c9597){return _0xed3327===_0x5c9597;},'UkXFb':_0x1dd85c(0x10,0x4b,-0x57,0x7a),'KNzPn':_0x549469(0x54,0xc,0x6,0xb5)+_0x1dd85c(0x1e,-0x3a,-0x3,0x37)+_0x1dd85c(0xb5,0x137,0x98,0xe0)+_0x549469(0xb0,-0x2c,0x6e,0x4b)+'r\x20text:','KuRrU':_0x1dd85c(0x125,0x107,0x1db,0x175)+'y','GGpsy':function(_0x4ce7d9,_0x288567){return _0x4ce7d9(_0x288567);},'DaECw':function(_0x2c58dc){return _0x2c58dc();},'RiQEl':_0x549469(-0x9e,-0x49,0x6,-0x56)+'PromptModi'+'fy]\x20Charac'+'ter\x20list\x20t'+_0x549469(0x15,0x131,0xc6,0x153)+_0x549469(-0x1,0xca,0x13,0x4a),'eyXbM':function(_0x41ca29,_0x49c736){return _0x41ca29(_0x49c736);},'wjVAX':'[character'+'PromptModi'+_0x549469(-0x9d,-0x7e,-0x4e,-0x109)+'后:','RAtCn':function(_0x4c4e25,_0x452241,_0x29ee72){return _0x4c4e25(_0x452241,_0x29ee72);},'snHVL':_0x549469(0x74,0x29,0x64,-0x35),'cqIxb':_0x549469(0xb4,-0xb2,0x6,-0x64)+_0x549469(-0x2a,-0xd1,-0x4d,-0x46)+'fy]\x20User\x20r'+_0x549469(-0x2,-0x65,-0x86,-0x8)+_0x1dd85c(0xbc,0x99,0x149,0x161)+_0x1dd85c(0x3c,0x69,0x42,-0x6b),'Tqdzc':function(_0x38b407,_0x4aa703){return _0x38b407||_0x4aa703;},'HZhpN':function(_0x1f556d,_0x2dcc00,_0xc07a6f,_0xd21f8b,_0x4b2efb){return _0x1f556d(_0x2dcc00,_0xc07a6f,_0xd21f8b,_0x4b2efb);},'iXOKI':_0x549469(0xc4,-0x3b,0x1e,0x7),'BLekb':'[character'+_0x1dd85c(0x1e,-0x60,0x47,0x4a)+_0x549469(-0x6b,-0xac,-0x26,0x37)+_0x549469(0x11,0x85,0x9a,0x13),'vWmaH':function(_0x1da292,_0x5555e2){return _0x1da292>_0x5555e2;},'iwBcv':function(_0x240624,_0x14840f){return _0x240624>=_0x14840f;},'qZhbz':function(_0xec81fa,_0x144fb7){return _0xec81fa===_0x144fb7;},'AxEZm':_0x1dd85c(-0x15,-0xd2,-0x4c,-0x6),'JDMPl':function(_0x3f3f52,_0x53a11d,_0x2e346c,_0x1dc8cf,_0x2a0972){return _0x3f3f52(_0x53a11d,_0x2e346c,_0x1dc8cf,_0x2a0972);},'Uojfs':_0x1dd85c(0x5e,-0x45,0x3f,-0x3b),'Xcmiy':'[character'+_0x1dd85c(0x1e,0x75,0x88,0x23)+'fy]\x20Attach'+'ed','qWacT':function(_0x433845,_0x3810b5,_0x574295){return _0x433845(_0x3810b5,_0x574295);},'tFocl':function(_0x2ebe1d,_0x41fda1,_0x1f0526){return _0x2ebe1d(_0x41fda1,_0x1f0526);},'cPqJT':_0x1dd85c(0x71,0x42,-0x50,0x11e)+_0x549469(-0xf0,-0x37,-0x4d,0x3e)+'fy]\x20LLM\x20ou'+_0x1dd85c(0x96,0xcf,-0xc,0x39),'mRMck':_0x1dd85c(0x12f,0x1b8,0x88,0x148),'NXxgc':function(_0x3997ef,_0x382198){return _0x3997ef(_0x382198);},'qeoFI':_0x1dd85c(0x86,0xab,0xdf,-0x2b)+_0x1dd85c(-0x7,-0x1d,-0x31,0x67),'hnwJM':'[character'+_0x1dd85c(0x1e,-0x8b,-0x54,0x93)+_0x1dd85c(0xc5,0x93,0x8a,0x157)+_0x1dd85c(0x4f,0xc8,0x69,0xe1)+_0x1dd85c(-0x11,-0x23,0x34,-0x5c)+_0x1dd85c(0x61,-0x23,0x3e,0xed),'blOuI':'[character'+_0x1dd85c(0x1e,0x76,-0x94,0x49)+_0x549469(0x19a,0x52,0xe7,0xc3)+_0x549469(0x120,0x148,0xbc,0xd4)+_0x1dd85c(0xdd,0x19c,0xa4,0x10e)+_0x549469(-0x27,-0x76,0x29,-0x69),'bswiK':_0x1dd85c(0x71,0xe,0x73,0x20)+_0x549469(-0x6e,0x20,-0x4d,-0x13)+_0x1dd85c(0x52,0x8f,0x102,0xe7)+'ted\x20data:','tNdwM':_0x1dd85c(0x6,-0xa5,0x7e,0x72),'ELTTW':'DUlno','RekiL':'[character'+_0x1dd85c(0x1e,0x7f,0x82,0x2b)+_0x549469(-0x91,-0x7f,-0x12,0x80)};console['log'](_0x5ceff7[_0x1dd85c(0x60,-0x45,0x17,-0x2)]),toastr[_0x1dd85c(0x50,-0x20,-0x1b,-0x10)]('[character'+'PromptModi'+_0x549469(0x19,0xbb,0x1c,0x99)+_0x1dd85c(0xe3,0x6b,0xd5,0xa0));function _0x1dd85c(_0x50f330,_0x8becbf,_0x2104fd,_0x224596){return _0x4d67dd(_0x50f330-0x13,_0x8becbf-0x59,_0x50f330- -0x215,_0x8becbf);}try{if(_0x549469(0x100,0x9a,0x8e,0xa2)!==_0x5ceff7[_0x549469(0x117,0xd6,0xf0,0x175)]){const _0x2d040d=_0x1aaff9['getElement'+_0x1dd85c(0xa0,0x13f,0x1,0x12f)](_0x1dd85c(0x78,0x10a,0x2e,0x1)+_0x20dc50);_0x2d040d&&(_0x2d040d[_0x549469(0x58,-0x49,0x32,0x72)]=_0x3d1c1c[_0x322311],_0x11135c(_0x2d040d)[_0x1dd85c(0x7f,0x40,0xbe,0x1a)](_0x5ceff7[_0x549469(0x1e,0x132,0x9d,0x5f)]));}else{const _0x178657=_0x5ceff7[_0x1dd85c(0x112,0x7e,0x119,0x17c)](getContext),_0x27c9a3=extension_settings[extensionName],_0x2cce72=getCurrentCharacterPreset();if(!_0x2cce72){toastr[_0x549469(-0x66,-0xb7,-0x5,0x54)](_0x5ceff7[_0x1dd85c(0x155,0x168,0xe1,0x187)]);return;}console[_0x549469(0xdd,0x95,0xb3,0x11f)](_0x5ceff7['vvvpq'],_0x2cce72['id']);const _0x3ed4f6=_0x2cce72['data']['generation'+'Context']||'',_0x2dfaf8=_0x2cce72[_0x1dd85c(0x57,0x6e,0x2,0xe8)][_0x549469(-0x88,-0xaa,-0x5f,-0x57)+_0x549469(0x13b,0x19,0x8d,0x41)]||'',_0x482718=_0x2cce72['data']['generation'+_0x1dd85c(0x14,-0x8c,0x3,-0x4f)]||{};console['log'](_0x5ceff7['Ereim'],_0x3ed4f6),console[_0x549469(0x114,0x32,0xb3,0xc8)](_0x1dd85c(0x71,0x37,0x67,-0x12)+_0x1dd85c(0x1e,0x99,0xc9,-0x68)+_0x549469(0x70,-0x11,0x8b,0x13e)+_0x549469(0xe7,0x131,0xc1,0xa0)+':',_0x2dfaf8),console[_0x1dd85c(0x11e,0x141,0xe4,0x185)](_0x549469(-0xa4,0x56,0x6,-0x4d)+'PromptModi'+_0x1dd85c(0xf6,0xa2,0x108,0x143)+_0x549469(-0x27,-0x79,-0x84,-0x84),_0x482718);const _0x5d6ad3=_0x5ceff7['flBTc'](_0x119a9d,''),_0x612359=[];_0x119a9d&&_0x612359[_0x549469(0x15,0x87,-0x30,-0xcf)](_0x119a9d);_0x3ed4f6&&(_0x5ceff7[_0x1dd85c(0x8d,0x61,0xf1,0xbd)](_0x1dd85c(0x8c,0x68,0x6a,0x65),_0x1dd85c(0x77,-0x2e,0x12e,0xaa))?_0x3a2b87[_0x1dd85c(0x3b,-0x24,-0x1,-0x60)](..._0x33d14e[_0x1dd85c(0x132,0xb2,0x15f,0x146)]):_0x612359['push'](_0x3ed4f6));if(_0x2dfaf8){if(_0x5ceff7[_0x549469(0x65,0x12,0xd3,0xff)](_0x5ceff7[_0x549469(0xb5,0x3d,0xa0,0x49)],_0x5ceff7[_0x1dd85c(0x10b,0xdc,0x1bb,0x72)]))_0x612359[_0x549469(0x5b,-0xd8,-0x30,-0x8d)](_0x2dfaf8);else return new _0x95f3f0((_0x3e6751,_0x4e95c2)=>{const _0x3319a7={'kbsrY':function(_0x1284c4,_0x3f6f9b){function _0x4b4508(_0x4b7e67,_0x441e75,_0x387aca,_0x359b1b){return _0x38b7(_0x441e75-0x31,_0x359b1b);}return _0x5ceff7[_0x4b4508(0x2bd,0x25c,0x2cc,0x257)](_0x1284c4,_0x3f6f9b);},'dawxx':_0x5ceff7[_0xdea51c(0x354,0x38d,0x3a1,0x324)]},_0x77b664=_0x57c493();function _0x22ac09(_0x1ea46f,_0x3b2fcc,_0x5eacc4,_0x2f555f){return _0x1dd85c(_0x2f555f-0x2d2,_0x1ea46f,_0x5eacc4-0x80,_0x2f555f-0x172);}_0x50a0c0['log'](_0xdea51c(0x330,0x366,0x368,0x3c0)+_0xdea51c(0x369,0x313,0x2e9,0x36d)+_0x22ac09(0x2db,0x3c9,0x3c3,0x392)+'ting\x20char\x20'+_0xdea51c(0x35d,0x386,0x358,0x3f3)+_0x22ac09(0x3eb,0x3d3,0x2b6,0x357)+_0x77b664+')');const _0x225332=_0x12c426=>{if(_0x12c426['id']!==_0x77b664)return;_0x351d9b[_0x3836df(-0x125,-0x81,-0x11e,-0xaf)+_0x3836df(-0x57,-0x4e,-0x84,-0x86)](_0x30663f['LLM_CHAR_M'+_0x3836df(-0x105,-0x4b,-0x103,-0x11c)+'PROMPT_RES'+_0x34f868(-0x1eb,-0x22d,-0x20e,-0x160)],_0x225332);function _0x34f868(_0x5457be,_0x109ac5,_0x59715c,_0x2f9dd4){return _0x22ac09(_0x2f9dd4,_0x109ac5-0xe4,_0x59715c-0x12f,_0x59715c- -0x587);}function _0x3836df(_0x376646,_0x75dae1,_0x50720c,_0x55b563){return _0xdea51c(_0x376646-0xc9,_0x50720c- -0x455,_0x75dae1,_0x55b563-0x14d);}_0x3e6751(_0x12c426[_0x34f868(-0xdf,-0x1c9,-0x15e,-0xf2)]);};function _0xdea51c(_0xb0299a,_0x2e5b49,_0x5ea929,_0x2279fb){return _0x549469(_0x5ea929,_0x2e5b49-0xc4,_0x2e5b49-0x360,_0x2279fb-0xf0);}_0x295862['on'](_0x4628f0['LLM_CHAR_M'+_0xdea51c(0x37f,0x352,0x2c7,0x31c)+_0xdea51c(0x35b,0x2fe,0x270,0x301)+_0x22ac09(0x2d7,0x301,0x37c,0x379)],_0x225332);const _0xbe2b0d={};_0xbe2b0d['id']=_0x77b664,_0x21c823[_0xdea51c(0x4c2,0x40b,0x34d,0x394)](_0x2e3970[_0x22ac09(0x367,0x2bb,0x2fa,0x2b8)+_0xdea51c(0x3a9,0x352,0x2a9,0x30e)+_0xdea51c(0x420,0x432,0x4b1,0x402)+_0xdea51c(0x357,0x333,0x2cc,0x37b)],_0xbe2b0d),_0x5ceff7[_0xdea51c(0x326,0x3e1,0x340,0x49a)](_0x3670e9,()=>{function _0x532dee(_0x4d1550,_0x30e08f,_0x482feb,_0x2da009){return _0x22ac09(_0x4d1550,_0x30e08f-0x77,_0x482feb-0xe5,_0x30e08f-0x6e);}function _0x56a75f(_0x24568a,_0x277966,_0x2ced46,_0x28c160){return _0x22ac09(_0x277966,_0x277966-0x1a2,_0x2ced46-0x182,_0x24568a-0x1a7);}_0x185ee2[_0x56a75f(0x4bb,0x460,0x479,0x402)+_0x532dee(0x426,0x41c,0x39b,0x3a3)](_0x219c91['LLM_CHAR_M'+'ODIFY_GET_'+_0x56a75f(0x482,0x3ee,0x3f6,0x412)+_0x56a75f(0x520,0x536,0x5a2,0x4bc)],_0x225332),_0x3319a7[_0x56a75f(0x469,0x3f3,0x3c0,0x465)](_0x4e95c2,new _0x4ba5e3(_0x3319a7[_0x56a75f(0x473,0x503,0x446,0x4f5)]));},0x4417*0x1+-0x22fd+-0xda*-0x7);});}const _0x300845=_0x612359[_0x549469(0x7f,0x8b,-0x34,0x6d)]('\x0a');console[_0x1dd85c(0x11e,0x116,0x80,0x9e)](_0x5ceff7[_0x549469(-0x122,-0x16,-0x7f,-0xb6)],_0x300845);let _0x159e89=buildPromptForRequestType(_0x5ceff7['KuRrU'],_0x5d6ad3);const _0x391eae=_0x5ceff7[_0x549469(-0xa5,-0xb2,-0x59,-0x27)](generateCharacterListText,_0x300845),_0x18cbf0=_0x5ceff7['DaECw'](generateOutfitEnableListText),_0x2e36a8=_0x5ceff7[_0x1dd85c(0xbf,0x115,0xe4,0x14e)](generateCommonCharacterListText);console[_0x1dd85c(0x11e,0x19f,0xc9,0x1b4)](_0x5ceff7['RiQEl'],_0x391eae);const _0x1b6ebc=_0x178657[_0x549469(0x6b,0x38,0x24,0x30)+'ta']?.[_0x1dd85c(0x4d,0x17,-0x42,-0x1a)]||{},_0x15e001=_0x5ceff7[_0x549469(-0xc1,-0x81,0x0,0x65)](buildCharacterText,_0x2cce72);_0x159e89=_0x5ceff7[_0x1dd85c(0x12,0xbf,0xa2,0x4d)](mergeAdjacentMessages,_0x159e89),console[_0x549469(0x67,0x26,0xb3,0x6c)](_0x5ceff7[_0x549469(0x1e,-0x39,0x74,0x19)],_0x159e89);const _0x4dc9c8=_0x5ceff7[_0x1dd85c(0x5b,0x21,0xa9,0x1a)](findMessageIndexWithPlaceholder,_0x159e89,_0x5ceff7['snHVL']);console[_0x549469(0x167,0x9b,0xb3,0xa3)](_0x5ceff7[_0x1dd85c(-0x8,-0x95,-0x83,-0x66)],_0x4dc9c8);const _0x4d35b1={..._0x482718,..._0x1b6ebc},_0x4dd823={'context':_0x3ed4f6,'worldBookContent':_0x2dfaf8,'variables':_0x4d35b1,'userDemand':_0x5ceff7['Tqdzc'](_0x119a9d,''),'characterListText':_0x391eae,'outfitEnableListText':_0x18cbf0,'commonCharacterListText':_0x2e36a8},{messages:_0x38c668,replacedVariables:_0x38374b}=replaceAllPlaceholders(_0x159e89,_0x4dd823);_0x159e89=_0x38c668,_0x159e89=_0x5ceff7[_0x1dd85c(0x139,0x18e,0x9f,0xdd)](_0x429f94,_0x159e89,_0x5ceff7['iXOKI'],_0x15e001,_0x38374b),console[_0x1dd85c(0x11e,0xdb,0x1da,0x5d)](_0x5ceff7['BLekb'],_0x159e89);let _0x227803='';_0x38374b['size']>0x18fa+0xc7f*0x2+-0x31f8&&(_0x227803=_0x549469(-0xae,0x7b,-0x1d,-0x88)+_0x549469(0x4d,0x30,0x2f,-0xc)+[..._0x38374b][_0x549469(-0xf0,-0x87,-0x34,0x7f)]('、')+'\x0a');if(_0x469f87&&_0x5ceff7[_0x549469(0x95,0x54,0x66,-0x4c)](_0x469f87[_0x1dd85c(0xcc,0xb4,0x163,0x13a)],0x242e+0x9d6+-0x2e04)&&_0x5ceff7['iwBcv'](_0x4dc9c8,0x6e*0x1f+-0x6*0x3a9+-0x2*-0x452)){if(_0x5ceff7['qZhbz']('DTUcN',_0x5ceff7[_0x1dd85c(0xab,0x0,0x45,0x145)]))_0x159e89=_0x5ceff7[_0x1dd85c(0x133,0x11d,0x1d7,0x1d4)](attachImagesToMessage,_0x159e89,_0x4dc9c8,_0x469f87,_0x5ceff7[_0x1dd85c(0xc6,0x180,0x14a,0x157)]),console[_0x1dd85c(0x11e,0x18a,0xd2,0x14d)](_0x5ceff7[_0x1dd85c(0x47,0x60,-0x8,0x90)],_0x469f87['length'],'images\x20to\x20'+'message\x20at'+_0x549469(0x3a,-0x53,-0x2a,0x17),_0x4dc9c8);else{const _0x4c4402={};_0x4c4402[_0x1dd85c(0x99,0x120,0x3f,-0x23)]=_0x5ceff7[_0x549469(0x5e,0x7b,0x9d,0x115)];const _0x5ae7db=_0x4c4402,_0x17b416=[_0x5ceff7['sBrhu'],_0x5ceff7['seKOp'],_0x5ceff7[_0x549469(-0x11c,-0xa2,-0x81,-0xb1)],_0x5ceff7[_0x1dd85c(0x31,0x27,0x6b,0x58)],_0x5ceff7[_0x1dd85c(0x147,0x16d,0x10d,0x145)],_0x5ceff7[_0x549469(-0x22,0x137,0x7a,0x1f)],_0x5ceff7[_0x1dd85c(0xcb,0x129,0x88,0x92)],_0x5ceff7[_0x549469(0x9b,-0x4e,-0x1f,-0x68)],_0x5ceff7[_0x549469(-0x15,0xd6,0x87,0x102)],_0x5ceff7[_0x1dd85c(0x110,0x190,0x87,0x1ac)],_0x5ceff7[_0x549469(0x5c,0x1a7,0xef,0x5b)],_0x5ceff7[_0x549469(0x7d,0x25,0xa,0xac)]];_0x17b416[_0x549469(-0x12,0x52,0x77,-0x4)](_0x4b08cb=>{function _0x203f7f(_0x24f940,_0x5ab8ae,_0x51e0e1,_0x534545){return _0x1dd85c(_0x51e0e1- -0xf7,_0x5ab8ae,_0x51e0e1-0x0,_0x534545-0x1cb);}function _0x4cac8b(_0x2a8f11,_0xdd65d,_0x2ec754,_0x47606e){return _0x549469(_0xdd65d,_0xdd65d-0x110,_0x47606e- -0x111,_0x47606e-0xa3);}if(_0xe57e9[_0x4b08cb]){const _0x376e31=_0x39015f[_0x203f7f(-0x56,-0x15b,-0x102,-0x159)+_0x203f7f(-0xc8,-0x57,-0x57,0x27)](_0x203f7f(-0x49,-0x41,-0x7f,-0x6a)+_0x4b08cb);_0x376e31&&(_0x376e31[_0x203f7f(-0xd7,-0x92,-0x5a,-0xc6)]=_0x61b1db[_0x4b08cb],_0x16b266(_0x376e31)[_0x203f7f(-0xf3,-0x73,-0x78,-0xb7)](_0x5ae7db['UKEoQ']));}});}}_0x5ceff7[_0x549469(0xcd,-0x6b,0x30,0x34)](updateCombinedPrompt,_0x159e89,_0x227803);const _0x42ec2f={};_0x42ec2f['timeoutMs']=0x493e0;const _0x587e44=await _0x5ceff7[_0x1dd85c(0x29,0xcb,0xe6,0x48)](LLM_CHAR_MODIFY,_0x159e89,_0x42ec2f);console[_0x1dd85c(0x11e,0x170,0x84,0x1c6)](_0x5ceff7[_0x1dd85c(0x3d,0xd0,-0x6e,0xc7)],_0x587e44);if(!_0x587e44){toastr['error'](_0x5ceff7[_0x1dd85c(0x12b,0x103,0x1c3,0x7d)]);return;}const _0x2bc408=_0x5ceff7[_0x549469(0x99,-0x52,0x47,-0x53)](extractCharacterTags,_0x587e44);if(_0x2bc408[_0x549469(-0x76,-0x3a,0x33,0x92)][_0x1dd85c(0xcc,0x144,0xb1,0x9a)]===-0x12b6+-0x1f83+0x3239){toastr['warning'](_0x5ceff7[_0x1dd85c(0xfb,0x7f,0x119,0x129)]),console[_0x549469(0x103,0x106,0xb3,0x7f)](_0x5ceff7['hnwJM']),console[_0x549469(0xed,0x3f,0xb3,0x4e)](_0x5ceff7[_0x1dd85c(0x11f,0x1c1,0xb8,0x10e)],_0x587e44);return;}console[_0x1dd85c(0x11e,0x198,0x199,0x74)](_0x5ceff7[_0x549469(0x97,0x7f,0x1f,0x2e)],_0x2bc408);const _0x1ab279=_0x2bc408[_0x549469(-0x5d,0xb4,0x33,0xe2)][0x1*-0x38f+0x2275+-0x1ee6];await updateCharacterPresetFromLLM(_0x2cce72['id'],_0x1ab279),toastr[_0x1dd85c(0x13a,0x1c7,0x160,0x134)](_0x5ceff7[_0x1dd85c(0x28,0x24,0x28,0x6e)]);}}catch(_0x2706a2){if(_0x5ceff7[_0x549469(-0xc,0x120,0x69,0x55)]!==_0x5ceff7[_0x549469(0x69,0x47,0x69,0x8c)]){const _0x1598c4=_0x5ceff7[_0x1dd85c(0x109,0x1a0,0x173,0xe3)](_0xfed485,_0x178b38[0x1*-0x20f9+-0x160b+0x3705]),_0x3a67dd=_0x5ceff7[_0x549469(0x90,-0x16,0x31,-0xc)](_0x4040e7,_0x1598c4);_0x3a67dd&&_0x2d3ed6[_0x549469(0x86,0x1d,0x33,0xe0)][_0x1dd85c(0x3b,0x6,-0xf,0x8b)](_0x3a67dd);}else console[_0x1dd85c(0x66,0x8,0x101,0xa9)](_0x5ceff7['RekiL'],_0x2706a2),toastr['error'](_0x1dd85c(0xd,0x89,0x9a,0xa9)+'\x20'+_0x2706a2[_0x1dd85c(0x97,0x7e,0xed,0x14a)]);}}async function updateCharacterPresetFromLLM(_0x52a97a,_0xffd833){const _0x54eb87={'kMGlr':function(_0x344690,_0x122f06){return _0x344690(_0x122f06);},'KSRhI':_0x4731c8(0x2fb,0x28b,0x2c0,0x36c),'nHCoo':function(_0x361b6f,_0xb9ce14){return _0x361b6f>_0xb9ce14;},'ubIOw':_0x4731c8(0x210,0x16f,0x1db,0x1d3),'Nzrgn':'text','xwxOM':_0x5cc1bd(0x23a,0x29a,0x258,0x234),'SbLLx':_0x4731c8(0x1f6,0x2aa,0x231,0x186),'KqfmN':_0x4731c8(0x373,0x30d,0x2c4,0x246),'AduOL':_0x4731c8(0x29a,0x215,0x274,0x27c),'oGSaf':'下半身SFW','ODVDX':_0x5cc1bd(0x214,0x171,0x232,0x28f),'oKCWk':_0x4731c8(0x27b,0x2cc,0x23a,0x22b),'XuWOn':_0x4731c8(0x161,0xfb,0x1a4,0x12d),'jAvwt':_0x4731c8(0xef,0x182,0x1aa,0x102),'cPTKy':function(_0x4d418c,_0x65ca5){return _0x4d418c===_0x65ca5;},'VcuZC':function(_0x3088dc,_0x2671ba){return _0x3088dc(_0x2671ba);},'eoUhF':function(_0x47c928,_0x280803){return _0x47c928!==_0x280803;},'JKZhr':'sOuyS','AXrsc':'QNJlE','nvSIU':_0x5cc1bd(0x213,0x1ed,0x1e3,0x1a5),'FfMLb':_0x4731c8(0x21c,0x24c,0x26d,0x1f8),'ziCCT':function(_0x38879e){return _0x38879e();},'PYNNB':function(_0x1037c1,_0x5435d9){return _0x1037c1(_0x5435d9);},'jorHE':_0x4731c8(0x2e8,0x18a,0x233,0x22c)+_0x5cc1bd(0x2db,0x2f5,0x388,0x39a)+'cter'},_0x379fca=extension_settings[extensionName];function _0x5cc1bd(_0x30d601,_0x2d91fa,_0x1342bc,_0x4beb59){return _0x4d67dd(_0x30d601-0x1e3,_0x2d91fa-0x55,_0x30d601-0x16,_0x1342bc);}const _0x5ec8bb=_0x379fca[_0x4731c8(0x148,0xf1,0x1a6,0x168)+_0x5cc1bd(0x26a,0x1b4,0x26d,0x1e3)][_0x52a97a];if(!_0x5ec8bb){toastr[_0x4731c8(0x1d6,0x1ba,0x1dc,0x148)](_0x54eb87['xwxOM']);return;}let _0xede118=_0x4731c8(0x302,0x19f,0x246,0x268)+_0x52a97a+_0x4731c8(0x351,0x1f2,0x2a0,0x250);const _0x1082c2={};_0x1082c2['nameCN']=_0x54eb87[_0x5cc1bd(0x233,0x2c2,0x1bb,0x261)],_0x1082c2[_0x4731c8(0xf7,0x130,0x1a2,0x177)]=_0x4731c8(0x219,0x288,0x2ac,0x23a),_0x1082c2[_0x4731c8(0x2a5,0x338,0x2b1,0x341)+'ures']=_0x54eb87[_0x4731c8(0x2f3,0x2b0,0x2c1,0x2e1)],_0x1082c2['facialFeat'+_0x4731c8(0x151,0x158,0x195,0x176)]=_0x5cc1bd(0x24d,0x2c9,0x24b,0x190),_0x1082c2[_0x4731c8(0x2f4,0x22f,0x239,0x1f2)+'FW']=_0x54eb87[_0x4731c8(0x276,0x27a,0x243,0x1eb)],_0x1082c2['upperBodyS'+_0x5cc1bd(0x313,0x31d,0x281,0x387)]=_0x5cc1bd(0x297,0x2cb,0x270,0x30a),_0x1082c2[_0x5cc1bd(0x36b,0x3ab,0x2e1,0x34d)+'W']=_0x54eb87[_0x5cc1bd(0x2bd,0x35a,0x220,0x2cf)],_0x1082c2[_0x4731c8(0x26e,0x2b6,0x2b6,0x22e)+_0x4731c8(0x25f,0x19f,0x1f2,0x1ea)]='下半身SFW背面',_0x1082c2['upperBodyN'+_0x5cc1bd(0x331,0x3ba,0x381,0x2a8)]=_0x54eb87['ODVDX'],_0x1082c2[_0x4731c8(0x1f7,0x310,0x282,0x314)+_0x4731c8(0x2a2,0x343,0x2ae,0x341)]=_0x54eb87[_0x5cc1bd(0x30c,0x2cb,0x36d,0x254)],_0x1082c2[_0x4731c8(0x240,0x35a,0x2c9,0x373)+'FW']=_0x54eb87[_0x4731c8(0x1e8,0x231,0x25a,0x2a1)],_0x1082c2[_0x4731c8(0x341,0x337,0x2c9,0x381)+_0x4731c8(0x310,0x1f1,0x25e,0x2dc)]=_0x54eb87[_0x4731c8(0x252,0x1d7,0x254,0x200)];const _0x53651f=_0x1082c2;let _0x32db80=0x1a17+0x26d+0x1c84*-0x1;for(const _0x2fb6ae in _0x53651f){if(_0xffd833[_0x2fb6ae]&&_0xffd833[_0x2fb6ae]!==_0x5ec8bb[_0x2fb6ae]){const _0x360d8a=_0x5ec8bb[_0x2fb6ae]||_0x54eb87['KSRhI'],_0x1ef985=_0xffd833[_0x2fb6ae];_0xede118+='•\x20'+_0x53651f[_0x2fb6ae]+':\x0a',_0xede118+='\x20\x20旧:\x20'+_0x360d8a[_0x4731c8(0x2a8,0x28e,0x215,0x159)](-0x26ad+-0x4a3*0x2+0x5*0x997,0x1e2c+-0x1f81+0x17*0x11)+(_0x360d8a[_0x5cc1bd(0x2f7,0x2a4,0x30d,0x376)]>0x1d*0x18+-0xf8*-0x7+-0x6*0x18d?_0x4731c8(0x27d,0x250,0x1db,0x1dc):'')+'\x0a',_0xede118+=_0x4731c8(0xf1,0x191,0x175,0x1b5)+_0x1ef985[_0x4731c8(0x15c,0x2a4,0x215,0x164)](0x69*-0x5+0x709+-0x4fc,-0x5f8+0x843*-0x1+0xe6d*0x1)+(_0x54eb87[_0x4731c8(0x194,0x188,0x177,0x191)](_0x1ef985[_0x4731c8(0x28b,0x211,0x242,0x25f)],-0x6*-0x38a+-0x1c13+-0x709*-0x1)?_0x54eb87[_0x4731c8(0x147,0x99,0x154,0x1a1)]:'')+'\x0a\x0a',_0x32db80++;}}if(_0x54eb87['cPTKy'](_0x32db80,0x47d*-0x8+0xc6c+0x5df*0x4)){toastr['info'](_0x5cc1bd(0x37a,0x398,0x409,0x371)+'内容');return;}_0xede118+='共\x20'+_0x32db80+'\x20项更改,是否应用?';const _0x3f0d01=await _0x54eb87[_0x4731c8(0x223,0x23f,0x1e5,0x237)](stylishConfirm,_0xede118);if(!_0x3f0d01){if(_0x54eb87['eoUhF'](_0x54eb87[_0x5cc1bd(0x2fd,0x30d,0x242,0x36a)],_0x54eb87[_0x5cc1bd(0x2cc,0x35c,0x288,0x358)])){toastr[_0x5cc1bd(0x27b,0x1c1,0x1c8,0x25d)](_0x4731c8(0xcf,0xf8,0x16c,0x107));return;}else _0x54eb87['kMGlr'](_0x4f5648,_0xfd0251[_0x4731c8(0x22d,0x233,0x1e3,0x262)]);}for(const _0x1e2103 in _0x53651f){if(_0x54eb87[_0x5cc1bd(0x34e,0x2bc,0x2db,0x2ce)](_0x54eb87[_0x4731c8(0x22b,0x2eb,0x25c,0x23e)],_0x54eb87[_0x4731c8(0x212,0x2cf,0x25c,0x2f7)])){const _0x1549d3=_0x4ee326[_0x569a19]||_0x54eb87[_0x5cc1bd(0x2be,0x2c2,0x2c6,0x346)],_0x5aa783=_0x2bf9e6[_0x4b48e7];_0x57a332+='•\x20'+_0x4aaf80[_0x485170]+':\x0a',_0x28b4b2+='\x20\x20旧:\x20'+_0x1549d3[_0x4731c8(0x221,0x1b7,0x215,0x160)](0x725+-0x316+-0x40f,-0x244b+-0x3f5*0x1+-0xa7*-0x3e)+(_0x54eb87[_0x4731c8(0x152,0x123,0x177,0x202)](_0x1549d3[_0x4731c8(0x219,0x27a,0x242,0x278)],0x2*-0xe46+-0x107*0x13+0x23*0x161)?_0x54eb87[_0x5cc1bd(0x209,0x21a,0x211,0x2a1)]:'')+'\x0a',_0x2498a6+=_0x4731c8(0xc2,0x219,0x175,0x1b2)+_0x5aa783['substring'](0xd9e+-0xf65*-0x2+-0x2c68,0x1dba+0xe*-0x6f+0x21*-0xb6)+(_0x54eb87['nHCoo'](_0x5aa783['length'],-0x17*-0x25+-0x256d+0x1*0x224c)?_0x54eb87[_0x4731c8(0x131,0x205,0x154,0x18a)]:'')+'\x0a\x0a',_0xaabd69++;}else{if(_0xffd833[_0x1e2103]){if(_0x54eb87[_0x5cc1bd(0x34e,0x368,0x37e,0x3c2)](_0x54eb87[_0x5cc1bd(0x208,0x1e9,0x222,0x14c)],_0x54eb87[_0x5cc1bd(0x208,0x16b,0x151,0x235)])){const _0xa0daec={};_0xa0daec[_0x5cc1bd(0x206,0x291,0x1a7,0x1ca)]=_0x54eb87[_0x5cc1bd(0x292,0x237,0x322,0x28f)],_0xa0daec[_0x4731c8(0x301,0x213,0x2a4,0x324)]=_0x4c90bc[_0x5cc1bd(0x35d,0x340,0x3ca,0x352)],_0xe6bac0[_0x4731c8(0x230,0x190,0x1b1,0x1f4)](_0xa0daec);}else _0x5ec8bb[_0x1e2103]=_0xffd833[_0x1e2103];}}}_0x54eb87[_0x4731c8(0x169,0x23e,0x199,0x23d)](saveSettingsDebounced);function _0x4731c8(_0x34a75e,_0x372982,_0x16c9d0,_0xfb67e7){return _0x4d67dd(_0x34a75e-0xb5,_0x372982-0x3f,_0x16c9d0- -0x9f,_0xfb67e7);}const _0x2d66af=_0x54eb87[_0x5cc1bd(0x294,0x2df,0x1f7,0x2d2)]($,_0x54eb87[_0x5cc1bd(0x21c,0x174,0x212,0x213)]);_0x2d66af[_0x5cc1bd(0x2f7,0x332,0x28d,0x24b)]&&refreshCharacterSettings(_0x2d66af),updateFormFields(_0xffd833),console['log'](_0x4731c8(0x184,0x1bd,0x1e7,0x24a)+_0x5cc1bd(0x249,0x2ed,0x19c,0x29d)+_0x4731c8(0x102,0x212,0x1ab,0x179)+_0x4731c8(0x235,0x208,0x2c6,0x2b8)+_0x52a97a+'\x22');}function updateFormFields(_0x4da094){const _0x378439={'SjCCW':function(_0xd9612b,_0x3b8d02){return _0xd9612b!==_0x3b8d02;},'rGZsy':function(_0x5ede54,_0x1e4086){return _0x5ede54(_0x1e4086);},'ftxno':function(_0x169ac2,_0x480b95){return _0x169ac2===_0x480b95;},'ShpWy':_0x1ccd55(0x46f,0x4fe,0x4a7,0x4ae),'OteTB':_0x470dd0(-0x261,-0x249,-0x225,-0x1a2),'iovSq':'nameCN','uukdR':_0x470dd0(-0x1ab,-0x1b1,-0x262,-0x256),'tGoLK':_0x1ccd55(0x654,0x55f,0x67e,0x5e5)+'ures','ByvFu':'upperBodyS'+'FW','qSPrL':_0x1ccd55(0x4f1,0x62d,0x60c,0x56d)+_0x470dd0(-0x24b,-0x13a,-0x14b,-0x19a),'UUFSO':'fullBodySF'+'W','lsHXg':_0x1ccd55(0x5a6,0x630,0x546,0x5ea)+_0x1ccd55(0x5af,0x595,0x56a,0x526),'xTZOy':_0x470dd0(-0x131,-0x16a,-0x1d5,-0x176)+'SFW','YYKHK':_0x1ccd55(0x6af,0x62f,0x621,0x5fd)+'FW','jkIQr':'fullBodyNS'+'FWBack'};function _0x470dd0(_0x245e15,_0x288e9f,_0x383a4c,_0x596f33){return _0x4d67dd(_0x245e15-0x5e,_0x288e9f-0x16c,_0x596f33- -0x497,_0x245e15);}function _0x1ccd55(_0x18176e,_0x25d0a7,_0xae8de,_0x120c61){return _0x4d67dd(_0x18176e-0x171,_0x25d0a7-0xd3,_0x120c61-0x295,_0x18176e);}const _0x375ae5=[_0x378439['iovSq'],_0x378439[_0x1ccd55(0x4d3,0x476,0x534,0x4ce)],_0x378439['tGoLK'],_0x1ccd55(0x682,0x671,0x607,0x5e5)+_0x470dd0(-0x1cc,-0x2e4,-0x279,-0x263),_0x378439[_0x1ccd55(0x5cf,0x5e6,0x667,0x5b4)],_0x378439['qSPrL'],_0x378439[_0x1ccd55(0x4cb,0x583,0x527,0x4dd)],_0x378439[_0x1ccd55(0x65f,0x65d,0x582,0x5e1)],_0x378439['xTZOy'],_0x1ccd55(0x548,0x627,0x5d5,0x5b6)+_0x1ccd55(0x58c,0x54f,0x60f,0x5e2),_0x378439[_0x1ccd55(0x4b4,0x53c,0x4eb,0x550)],_0x378439['jkIQr']];_0x375ae5[_0x1ccd55(0x4d5,0x5cf,0x5ce,0x58c)](_0x163508=>{function _0x316110(_0x25ea7f,_0x5b3a72,_0x183282,_0x4a38ec){return _0x470dd0(_0x5b3a72,_0x5b3a72-0x1b5,_0x183282-0x6c,_0x4a38ec-0x64b);}function _0x264acd(_0xa376cc,_0x4d287e,_0x11e240,_0x5bb7d8){return _0x470dd0(_0x5bb7d8,_0x4d287e-0x161,_0x11e240-0x12c,_0xa376cc-0x27c);}const _0x3c9869={'rCMEy':function(_0x2c69d5,_0x183d54){return _0x378439['SjCCW'](_0x2c69d5,_0x183d54);},'EsbkQ':function(_0x401ffc,_0x154739){function _0x535286(_0x393b36,_0x95d242,_0x4af87f,_0x522290){return _0x38b7(_0x4af87f- -0x39b,_0x95d242);}return _0x378439[_0x535286(-0x18b,-0x12c,-0x1b7,-0x146)](_0x401ffc,_0x154739);}};if(_0x378439[_0x316110(0x4c3,0x515,0x3de,0x46e)](_0x378439[_0x316110(0x418,0x424,0x3bf,0x3f4)],_0x378439[_0x264acd(0x25,-0x52,-0x7d,0x91)])){if(_0x4da094[_0x163508]){const _0x45bc9d=document[_0x264acd(-0x11,-0x25,0x5b,-0x3a)+_0x264acd(0x9a,0xcb,0x10,0x108)]('char_'+_0x163508);_0x45bc9d&&(_0x45bc9d['value']=_0x4da094[_0x163508],_0x378439[_0x316110(0x4dd,0x40d,0x47c,0x48b)]($,_0x45bc9d)[_0x316110(0x4f6,0x44c,0x3bb,0x448)](_0x378439[_0x316110(0x434,0x389,0x440,0x3f0)]));}}else{if(_0x3c9869['rCMEy'](_0xd92619['id'],_0x59f66b))return;_0x1dd834[_0x264acd(0x3c,-0x2c,0x28,0x64)+_0x264acd(0xd6,0x10b,0x55,0x130)](_0x44a69c[_0x316110(0x322,0x449,0x2f6,0x3af)+'ODIFY_GET_'+'PROMPT_RES'+_0x316110(0x4a4,0x3e6,0x420,0x470)],_0x1d33b9),_0x3c9869[_0x264acd(0xe1,0x16f,0x153,0x198)](_0x12be32,_0x504172[_0x264acd(0x151,0x146,0x199,0x1c4)]);}});}
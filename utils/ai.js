(function(_0x388a7d,_0x20fb47){const _0x149e1a=_0x388a7d();function _0x3339dd(_0x4fd846,_0x5b84a,_0x386783,_0x2a6de8){return _0x304a(_0x2a6de8- -0x116,_0x4fd846);}function _0x180d96(_0x594e75,_0x5c3c23,_0x32eacc,_0x1a202b){return _0x304a(_0x594e75- -0x241,_0x32eacc);}while(!![]){try{const _0x322276=-parseInt(_0x3339dd(-0x1c,-0x36,-0x2,-0x8))/(0x3bd+-0x123a*0x1+-0x173*-0xa)+parseInt(_0x3339dd(-0x80,-0x28,-0x98,-0x3b))/(0x22ae+0x4e5*-0x1+-0x1dc7)+-parseInt(_0x180d96(-0x131,-0x14a,-0x18d,-0xec))/(-0x2632+0x2176*-0x1+0x7*0xa3d)*(parseInt(_0x3339dd(0x40,-0x42,0x42,-0x1))/(0x863*0x2+0x1*0x1df3+0xb*-0x43f))+parseInt(_0x3339dd(0x81,0x12,0x16,0x2e))/(0x21f*0x3+0x1*-0xf60+0x242*0x4)*(-parseInt(_0x180d96(-0xe6,-0x115,-0xaa,-0x9b))/(0x4*0x783+-0x229f*0x1+0x6b*0xb))+parseInt(_0x180d96(-0x125,-0xd7,-0x180,-0x113))/(-0x1900+0xccb+0xc3c)*(-parseInt(_0x180d96(-0xff,-0x126,-0xd3,-0xd3))/(0xf*0x139+0x9*-0x287+0x470))+parseInt(_0x3339dd(-0x76,-0x90,-0x6a,-0x45))/(0x1089+0x115*0x6+0x3*-0x7aa)+parseInt(_0x180d96(-0x10f,-0x122,-0x159,-0x100))/(-0x1*0x16+-0x2362+0x2382)*(parseInt(_0x3339dd(-0x46,-0x27,-0x9c,-0x5e))/(-0x741+-0x19e2*-0x1+0x3d*-0x4e));if(_0x322276===_0x20fb47)break;else _0x149e1a['push'](_0x149e1a['shift']());}catch(_0x304317){_0x149e1a['push'](_0x149e1a['shift']());}}}(_0x33d6,0x17a2d8+0x774dd*-0x1+-0x17f61));const _0x47e723=(function(){const _0x446c3a={};function _0x1fec84(_0x15d261,_0x218162,_0x5a22d1,_0x5cb25a){return _0x304a(_0x15d261-0x166,_0x218162);}_0x446c3a[_0x28ffb4(0x1ae,0x1f6,0x21e,0x1dd)]=function(_0x2de27e,_0x526b94){return _0x2de27e===_0x526b94;},_0x446c3a[_0x1fec84(0x23e,0x202,0x210,0x27b)]=_0x28ffb4(0x1b1,0x1ed,0x1c6,0x19e),_0x446c3a[_0x28ffb4(0x1a3,0x1fd,0x21c,0x1b9)]=_0x28ffb4(0x294,0x26d,0x28c,0x27e);function _0x28ffb4(_0xef97fd,_0x451c01,_0x4894d0,_0x300a59){return _0x304a(_0x451c01-0x121,_0x300a59);}const _0x41e209=_0x446c3a;let _0x34ae4c=!![];return function(_0x13df30,_0x4abc96){function _0x345035(_0x13f190,_0x588987,_0xd46552,_0x5a1f0e){return _0x1fec84(_0x5a1f0e- -0x515,_0x588987,_0xd46552-0x65,_0x5a1f0e-0x152);}function _0x40b06b(_0x26d347,_0x4010c9,_0xc4e243,_0x50d8af){return _0x1fec84(_0xc4e243- -0x48e,_0x50d8af,_0xc4e243-0x9,_0x50d8af-0xf3);}if(_0x41e209[_0x40b06b(-0x29b,-0x258,-0x253,-0x26a)](_0x41e209[_0x345035(-0x2c1,-0x29a,-0x2a0,-0x2d3)],'fdjXy')){const _0x3d0272=_0x34ae4c?function(){function _0x26892f(_0x1538b9,_0x415500,_0x205007,_0xcb4713){return _0x40b06b(_0x1538b9-0x38,_0x415500-0x1d0,_0x415500-0x17d,_0xcb4713);}function _0x425595(_0x20aa94,_0x54fd35,_0x37708b,_0x3aa645){return _0x345035(_0x20aa94-0x8a,_0x54fd35,_0x37708b-0x122,_0x3aa645-0x4bf);}if(_0x4abc96){if(_0x41e209['qHlHU'](_0x41e209['fsIfC'],_0x425595(0x196,0x1e2,0x184,0x1dc))){const _0x485c39=_0x4abc96[_0x425595(0x1c4,0x1e3,0x1bf,0x216)](_0x13df30,arguments);return _0x4abc96=null,_0x485c39;}else return[];}}:function(){};return _0x34ae4c=![],_0x3d0272;}else for(const [_0x3abf89,_0x7c0288]of _0x40273d[_0x40b06b(-0x1c0,-0x210,-0x1ee,-0x1d0)](_0x117125)){_0x390bf5[_0x3abf89[_0x345035(-0x270,-0x29b,-0x2cf,-0x2ab)+'e']()]=_0x7c0288;}};}()),_0x518090=_0x47e723(this,function(){const _0x5e3c64={};_0x5e3c64[_0x1c3978(0x59,0x5e,0x0,0x1a)]=_0x3396ed(0x2a3,0x260,0x2b1,0x2a0)+'+$';const _0x2b165b=_0x5e3c64;function _0x1c3978(_0x5e45b3,_0x1f58e4,_0x3e2461,_0x373e42){return _0x304a(_0x373e42- -0xda,_0x3e2461);}function _0x3396ed(_0x1160aa,_0x1a3721,_0xca44cc,_0x2fb948){return _0x304a(_0x2fb948-0x1c0,_0x1160aa);}return _0x518090[_0x1c3978(0x6c,-0x1f,0x1c,0x21)]()[_0x3396ed(0x264,0x2ca,0x244,0x294)](_0x2b165b[_0x3396ed(0x2fa,0x293,0x262,0x2b4)])[_0x1c3978(-0x33,0x39,0x5c,0x21)]()[_0x1c3978(0x77,0x3b,0x7c,0x89)+'r'](_0x518090)['search'](_0x2b165b[_0x3396ed(0x2ba,0x2ab,0x2bc,0x2b4)]);});function _0x304a(_0x337c52,_0x1535a9){const _0x80574=_0x33d6();return _0x304a=function(_0x49a8cb,_0x3a02ad){_0x49a8cb=_0x49a8cb-(0x13e4+0x133*0x13+0x1*-0x2a01);let _0x426c3e=_0x80574[_0x49a8cb];if(_0x304a['DwWRWh']===undefined){var _0x3ed7f1=function(_0x541942){const _0x9c202c='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4b81aa='',_0x435b9b='',_0x29a1bf=_0x4b81aa+_0x3ed7f1;for(let _0x31f3e8=0x1*-0xe8b+-0x2482+0x330d*0x1,_0x3bf98b,_0x33674f,_0x50b74f=0x1678+0x141c+0x884*-0x5;_0x33674f=_0x541942['charAt'](_0x50b74f++);~_0x33674f&&(_0x3bf98b=_0x31f3e8%(-0x1a40+-0x358+0x1d9c*0x1)?_0x3bf98b*(0x75e*0x1+0x501*-0x7+0x1*0x1be9)+_0x33674f:_0x33674f,_0x31f3e8++%(0x44e+0xb*0x335+-0x2791))?_0x4b81aa+=_0x29a1bf['charCodeAt'](_0x50b74f+(-0x1*-0x2215+0x2*0x11ea+-0x45df))-(0xad5+0x269c*0x1+-0x3167)!==-0x8b*-0x2f+0x19fd*0x1+-0x2b6*0x13?String['fromCharCode'](0x19e6+-0x1061*-0x2+0x1d*-0x1fd&_0x3bf98b>>(-(0x14b4+-0x149f*0x1+0x1*-0x13)*_0x31f3e8&0x12a6+-0x197*0x11+-0xef*-0x9)):_0x31f3e8:0xc4e+-0x16f9+0xaab){_0x33674f=_0x9c202c['indexOf'](_0x33674f);}for(let _0x4d62e7=0xe44+0x1267*-0x1+-0x3*-0x161,_0x5eb32d=_0x4b81aa['length'];_0x4d62e7<_0x5eb32d;_0x4d62e7++){_0x435b9b+='%'+('00'+_0x4b81aa['charCodeAt'](_0x4d62e7)['toString'](-0x2443+-0x1ca*-0x7+0x17cd))['slice'](-(-0x210e+0x1*0x1072+0x2c5*0x6));}return decodeURIComponent(_0x435b9b);};_0x304a['ZLPJNW']=_0x3ed7f1,_0x337c52=arguments,_0x304a['DwWRWh']=!![];}const _0x444dca=_0x80574[0x1*-0x8ed+0x239c+-0x1aaf],_0x25e645=_0x49a8cb+_0x444dca,_0x2f2349=_0x337c52[_0x25e645];if(!_0x2f2349){const _0x5e762c=function(_0x3c0b39){this['ldsLNx']=_0x3c0b39,this['yXucTx']=[0xa0*-0xd+-0x231f+0x15a0*0x2,0x250c+-0x14b7*-0x1+-0x39c3,0x1*-0x21ca+0xb3*-0x11+0x2dad],this['BoNHxf']=function(){return'newState';},this['eEJxOj']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['qxFyHb']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x5e762c['prototype']['giHyDH']=function(){const _0x173a6d=new RegExp(this['eEJxOj']+this['qxFyHb']),_0x5a7d35=_0x173a6d['test'](this['BoNHxf']['toString']())?--this['yXucTx'][0x1503+0x1c72+-0x3174]:--this['yXucTx'][-0xdd4+0x509+0x8cb];return this['cjlDSo'](_0x5a7d35);},_0x5e762c['prototype']['cjlDSo']=function(_0x54dbd1){if(!Boolean(~_0x54dbd1))return _0x54dbd1;return this['RRZoas'](this['ldsLNx']);},_0x5e762c['prototype']['RRZoas']=function(_0x134894){for(let _0x1f0b73=-0xfa8+0x12df*0x1+-0x337,_0x2d9e20=this['yXucTx']['length'];_0x1f0b73<_0x2d9e20;_0x1f0b73++){this['yXucTx']['push'](Math['round'](Math['random']())),_0x2d9e20=this['yXucTx']['length'];}return _0x134894(this['yXucTx'][0x1*-0x7f6+-0x1177+0x196d]);},new _0x5e762c(_0x304a)['giHyDH'](),_0x426c3e=_0x304a['ZLPJNW'](_0x426c3e),_0x337c52[_0x25e645]=_0x426c3e;}else _0x426c3e=_0x2f2349;return _0x426c3e;},_0x304a(_0x337c52,_0x1535a9);}_0x518090();import{extension_settings}from'../../../../extensions.js';import{saveSettingsDebounced,eventSource}from'../../../../../script.js';import{extensionName,eventNames}from'./config.js';import{addLog}from'./utils.js';import{updateCombinedPrompt}from'./settings/llm.js';import{buildPromptForRequestType}from'./settings/llmService.js';import{mergeAdjacentMessages}from'./promptProcessor.js';let settings;const SD_SYMBOL_PATTERN=/^([\(\[\{<]+)?(.*?)([\)\]\}>]+)?(:[\d.]+)?$/,SKIP_PATTERNS=[/^<lora:/i,/^<lyco:/i,/^<hypernet:/i,/^[\d.:]+$/,/^$/,/^\$.*\$$/];function shouldSkipTranslation(_0x47cb90){function _0x239485(_0xca366b,_0x2ed216,_0x2d2898,_0x4c219f){return _0x304a(_0x2d2898-0x30b,_0xca366b);}function _0x1e9dbb(_0x416ceb,_0x439de0,_0x15700c,_0x2ed274){return _0x304a(_0x416ceb- -0xce,_0x2ed274);}return SKIP_PATTERNS[_0x239485(0x3ca,0x3a0,0x3fc,0x3a7)](_0x1b36fd=>_0x1b36fd['test'](_0x47cb90[_0x1e9dbb(0x70,0x65,0x46,0x7f)]()));}export function tagsToJsonString(_0x5dd300){if(!Array[_0x1d7400(-0x26b,-0x25e,-0x24b,-0x26e)](_0x5dd300))return'[]';function _0x2f7e7e(_0xcc09ac,_0x2acdac,_0x2a2cab,_0x408ca2){return _0x304a(_0x2a2cab- -0x5e,_0x2acdac);}function _0x1d7400(_0x507b0c,_0x4c27db,_0x237f22,_0x188a65){return _0x304a(_0x237f22- -0x374,_0x4c27db);}return JSON[_0x2f7e7e(0x6e,0xd2,0x7b,0x77)](_0x5dd300[_0x2f7e7e(0x73,0x8c,0xb3,0x99)](_0x10e69f=>_0x10e69f&&typeof _0x10e69f===_0x1d7400(-0x2e8,-0x27d,-0x2bf,-0x26c)));}export function preprocessPromptForTranslation(_0x5f4f67){const _0x2fe539={'ZZDzu':function(_0x1b7790,_0x4e1b3c){return _0x1b7790===_0x4e1b3c;},'nEzeV':function(_0x20e8bc,_0x2b6f65){return _0x20e8bc===_0x2b6f65;},'OWHWR':_0x430f81(0x337,0x38a,0x304,0x300)+_0x430f81(0x357,0x378,0x32f,0x36e)+':','UkrQW':function(_0x441bd1,_0x35914b){return _0x441bd1<_0x35914b;},'bOIeX':_0x42f6e8(0x1a1,0x1c3,0x231,0x1df),'YkyfD':function(_0x58dde7,_0x335334){return _0x58dde7===_0x335334;},'ovSTa':function(_0x545b37,_0xd73d22){return _0x545b37!==_0xd73d22;},'wFwCQ':_0x430f81(0x322,0x2fe,0x370,0x372),'qeucx':function(_0x25821b){return _0x25821b();},'negyI':function(_0x1a283a,_0x506b07,_0x362773){return _0x1a283a(_0x506b07,_0x362773);},'FpLFs':function(_0xbedc04){return _0xbedc04();},'BxxIU':function(_0x218e21,_0x45655b){return _0x218e21(_0x45655b);},'VRYPU':_0x430f81(0x2eb,0x293,0x2a1,0x2a8),'bHYzm':function(_0x31a5bd,_0x5f54b0){return _0x31a5bd(_0x5f54b0);},'hmEBL':function(_0x39ac05,_0x37c8d3){return _0x39ac05(_0x37c8d3);},'FyzHU':function(_0x4b7d90,_0x3424ad){return _0x4b7d90(_0x3424ad);},'BsSVn':function(_0x393e5f,_0x4630b5){return _0x393e5f!==_0x4630b5;},'zbDUV':'fEuXQ','oCNyf':_0x42f6e8(0x20f,0x20b,0x266,0x231),'BHCVB':function(_0x4e9733,_0x5cdbaa){return _0x4e9733!==_0x5cdbaa;},'dfGRo':'LNUZP','cTPSO':_0x430f81(0x325,0x36f,0x330,0x369)};if(!_0x5f4f67||_0x2fe539['ovSTa'](typeof _0x5f4f67,_0x2fe539[_0x430f81(0x30c,0x30e,0x35d,0x340)]))return{'originalTags':[],'cleanedTags':[],'cleanedText':'','tagMap':new Map()};const _0x43fbe2=_0x372b00=>{function _0x9b17f0(_0x104692,_0x37a260,_0x5d3ec1,_0x1d8092){return _0x42f6e8(_0x104692-0xa1,_0x5d3ec1,_0x5d3ec1-0x1c2,_0x37a260-0xce);}const _0x450eeb={};_0x450eeb[_0x9b17f0(0x29d,0x2d0,0x2df,0x2b4)]=_0x2fe539[_0x9b17f0(0x314,0x309,0x2ae,0x2f1)];const _0x263f57=_0x450eeb,_0x53a251=[];let _0x3f55aa='',_0x344b36=![];function _0x4e927f(_0x4e2b4d,_0x2c51b3,_0x4ca247,_0x11e3b9){return _0x430f81(_0x11e3b9- -0x360,_0x2c51b3,_0x4ca247-0x72,_0x11e3b9-0xb);}for(let _0x9b60e9=0x71b+-0x919*0x1+-0x6*-0x55;_0x2fe539['UkrQW'](_0x9b60e9,_0x372b00['length']);_0x9b60e9++){if(_0x2fe539[_0x4e927f(0x70,0x56,0x4,0x25)](_0x2fe539[_0x4e927f(-0x90,-0x14,-0x1a,-0x43)],_0x2fe539[_0x4e927f(-0x87,-0x62,-0x47,-0x43)])){const _0x55f4d4=_0x372b00[_0x9b60e9];if(_0x2fe539[_0x9b17f0(0x29b,0x2cf,0x316,0x2ed)](_0x55f4d4,'$')){if(_0x2fe539[_0x9b17f0(0x2b2,0x308,0x361,0x367)](_0x2fe539[_0x4e927f(-0x1f,-0x73,-0x70,-0x5c)],_0x9b17f0(0x319,0x2bf,0x2ba,0x28a))){_0x41dc7d[_0x9b17f0(0x2a3,0x2a5,0x2c1,0x2e2)](_0x263f57[_0x9b17f0(0x314,0x2d0,0x303,0x2d2)],_0x13881e);throw _0x118ebb;}else _0x344b36=!_0x344b36,_0x3f55aa+=_0x55f4d4;}else{if((_0x55f4d4===','||_0x2fe539[_0x4e927f(-0x87,-0x24,-0xf,-0x6d)](_0x55f4d4,'，'))&&!_0x344b36){if(_0x4e927f(0x20,-0x8,-0x19,0xf)===_0x9b17f0(0x2e5,0x294,0x259,0x273)){const _0xef41b7={};return _0xef41b7[_0x9b17f0(0x2bb,0x2cd,0x2c8,0x29e)]=[],_0xef41b7['displayTex'+'t']='',_0xef41b7['originalTa'+'gs']=[],_0xef41b7;}else{const _0x5c1843=_0x3f55aa[_0x4e927f(-0x35,0x3f,-0x3a,0x14)]();if(_0x5c1843)_0x53a251[_0x4e927f(-0xab,-0xca,-0x2a,-0x76)](_0x5c1843);_0x3f55aa='';}}else _0x3f55aa+=_0x55f4d4;}}else{const _0x3b31e3=_0xde642[_0x5c5c7b];if(_0x2fe539[_0x9b17f0(0x31c,0x322,0x32b,0x356)](_0x3b31e3,'$'))_0x36d95a=!_0x3ef8d1,_0x237e39+=_0x3b31e3;else{if((_0x2fe539[_0x9b17f0(0x2d9,0x290,0x2d3,0x2ee)](_0x3b31e3,',')||_0x2fe539['ZZDzu'](_0x3b31e3,'，'))&&!_0x1a8203){const _0x3c1749=_0x5bde6d[_0x4e927f(-0x2e,0x19,-0x17,0x14)]();if(_0x3c1749)_0xeaba54['push'](_0x3c1749);_0x8dd932='';}else _0x7582b8+=_0x3b31e3;}}}if(_0x3f55aa['trim']())_0x53a251[_0x4e927f(-0x61,-0x1c,-0x6b,-0x76)](_0x3f55aa[_0x9b17f0(0x2c6,0x311,0x34b,0x34c)]());return _0x53a251;};function _0x430f81(_0x5b2b5e,_0x193fc,_0x481138,_0x5a29a5){return _0x304a(_0x5b2b5e-0x236,_0x193fc);}const _0x54ff5d=_0x2fe539['bHYzm'](_0x43fbe2,_0x5f4f67),_0x5aae7e=[],_0x62a89f=[],_0x70ac30=new Map();function _0x42f6e8(_0x11e104,_0x397b49,_0x3aa048,_0x42383d){return _0x304a(_0x42383d-0x105,_0x397b49);}for(const _0x70d66a of _0x54ff5d){const _0x54efcd=_0x70d66a[_0x430f81(0x345,0x357,0x32a,0x349)](SD_SYMBOL_PATTERN);if(_0x54efcd){const _0x3f300a=_0x54efcd[-0x33*-0x86+0x1*0x1ec9+-0x397a]||'',_0x353fa3=(_0x54efcd[-0x1b5a+0x26*0x25+0x9*0x26e]||'')[_0x42f6e8(0x214,0x22b,0x248,0x243)](),_0x1aded3=_0x54efcd[-0xe63+-0x1d*-0x1f+0x3a1*0x3]||'',_0x595bd8=_0x54efcd[-0xfe4*-0x2+0x2a+-0x43*0x7a]||'',_0x428e55={'original':_0x70d66a,'cleaned':_0x353fa3,'prefix':_0x3f300a,'suffix':_0x1aded3,'weight':_0x595bd8,'skip':_0x2fe539[_0x42f6e8(0x20d,0x1b5,0x1a8,0x1ef)](shouldSkipTranslation,_0x70d66a)||_0x2fe539[_0x430f81(0x2fc,0x2b7,0x2ff,0x31c)](shouldSkipTranslation,_0x353fa3)};_0x5aae7e[_0x42f6e8(0x1dd,0x1b0,0x1d6,0x1b9)](_0x428e55);if(!_0x428e55[_0x42f6e8(0x18f,0x1eb,0x17f,0x1b7)]&&_0x353fa3){if(_0x2fe539[_0x42f6e8(0x249,0x2bb,0x20c,0x261)](_0x2fe539[_0x42f6e8(0x267,0x228,0x247,0x256)],_0x2fe539[_0x42f6e8(0x2a7,0x203,0x266,0x256)])){const _0x9136ce={'qaiMo':_0x42f6e8(0x1ae,0x1b7,0x153,0x1b1),'FEzIC':function(_0x10963e){function _0x539f37(_0x1ae7a8,_0x4d4714,_0x33483f,_0x4fdb52){return _0x430f81(_0x4d4714- -0x2a8,_0x4fdb52,_0x33483f-0xe6,_0x4fdb52-0x1c);}return _0x2fe539[_0x539f37(0xb0,0x77,0x88,0x31)](_0x10963e);},'qligX':function(_0x2989e0,_0x1a68ae,_0x5ce905){function _0x188161(_0x1a73ae,_0x321eec,_0x5248e3,_0x37f97b){return _0x430f81(_0x1a73ae- -0x4b1,_0x321eec,_0x5248e3-0x4a,_0x37f97b-0x5d);}return _0x2fe539[_0x188161(-0x11b,-0x117,-0xfb,-0x15d)](_0x2989e0,_0x1a68ae,_0x5ce905);}};return new _0x2b7b4f((_0x50a8fa,_0x1ac0ca)=>{function _0x234c87(_0x556487,_0x49aa7c,_0x39cfbf,_0xcb2828){return _0x430f81(_0xcb2828- -0x141,_0x49aa7c,_0x39cfbf-0x15e,_0xcb2828-0x131);}const _0x1bc3f3={};_0x1bc3f3[_0x234c87(0x24a,0x204,0x25a,0x20c)]=_0x9136ce[_0x5c4877(0x3c3,0x39a,0x404,0x3a6)];const _0x5eeba2=_0x1bc3f3,_0x1c560e=_0x9136ce[_0x234c87(0x212,0x24a,0x18e,0x1eb)](_0xbaf121);_0x407fe8[_0x5c4877(0x339,0x346,0x2e3,0x381)](_0x234c87(0x1a6,0x205,0x1b2,0x1f6)+_0x234c87(0x1d5,0x1dd,0x1de,0x222)+'\x20(ID:\x20'+_0x1c560e+')');const _0x52f715=_0x5d30c6=>{if(_0x5d30c6['id']!==_0x1c560e)return;_0x23a87c['removeList'+_0xfaa311(-0x1f3,-0x1b9,-0x20f,-0x1bd)](_0x1eea5e[_0x21f875(0x20f,0x208,0x1c7,0x236)+_0xfaa311(-0x202,-0x1d7,-0x1f0,-0x201)+_0xfaa311(-0x1ab,-0x1f5,-0x205,-0x1cb)+'PONSE'],_0x52f715);function _0x21f875(_0x1ee981,_0x3be14e,_0x642147,_0x75f8f7){return _0x234c87(_0x1ee981-0x37,_0x642147,_0x642147-0x103,_0x3be14e-0x1);}function _0xfaa311(_0x8896ce,_0x1af463,_0x52f7e4,_0x392b85){return _0x5c4877(_0x8896ce- -0x537,_0x1af463,_0x52f7e4-0x12d,_0x392b85-0x177);}const {prompt:_0xf65d5c}=_0x5d30c6;_0x68dfe5['log'](_0xfaa311(-0x1d0,-0x212,-0x228,-0x21f)+_0x21f875(0x18e,0x1da,0x1ac,0x1f2)+'(ID:\x20'+_0x1c560e+'):',_0xf65d5c),_0x50a8fa(_0xf65d5c);};_0xc0a284['on'](_0x13efe8['LLM_TRANSL'+_0x5c4877(0x335,0x33d,0x30f,0x384)+_0x234c87(0x263,0x25d,0x265,0x21b)+_0x234c87(0x1f9,0x1ce,0x258,0x219)],_0x52f715);const _0x56b6d9={};_0x56b6d9['id']=_0x1c560e;function _0x5c4877(_0x54a0ae,_0x302bde,_0x5a6cb2,_0x29dba1){return _0x430f81(_0x54a0ae-0x30,_0x302bde,_0x5a6cb2-0x75,_0x29dba1-0x1a0);}_0x362c62['emit'](_0x35244c['LLM_TRANSL'+_0x5c4877(0x335,0x32e,0x2e5,0x2e6)+_0x234c87(0x279,0x1ee,0x1d5,0x234)+_0x234c87(0x1d6,0x1bc,0x19f,0x1f3)],_0x56b6d9),_0x9136ce[_0x5c4877(0x389,0x3b0,0x371,0x363)](_0x127f2a,()=>{function _0x86eec4(_0x3b5e34,_0x50e0f7,_0x1fc1fa,_0xc84c93){return _0x234c87(_0x3b5e34-0xdf,_0x50e0f7,_0x1fc1fa-0x9d,_0x3b5e34-0x24f);}function _0x1d87cc(_0x469e94,_0x211c60,_0x1f93ec,_0x424b9b){return _0x234c87(_0x469e94-0x3,_0x211c60,_0x1f93ec-0x141,_0x1f93ec- -0x209);}_0x31ac37['removeList'+'ener'](_0x13d770['LLM_TRANSL'+_0x1d87cc(0x7,-0x9f,-0x45,-0x20)+_0x86eec4(0x46a,0x4ad,0x477,0x438)+_0x1d87cc(0x59,0xf,0x10,-0x14)],_0x52f715),_0x1ac0ca(new _0x4dd972(_0x5eeba2['frkUF']));},-0xcf7*0x1+0x27bb*-0x1+0x5bc2);});}else _0x62a89f[_0x430f81(0x2ea,0x32f,0x2f2,0x32d)](_0x353fa3),_0x70ac30[_0x42f6e8(0x1e2,0x23e,0x235,0x21b)](_0x353fa3[_0x42f6e8(0x21c,0x253,0x1d6,0x209)+'e'](),_0x428e55);}}else{if(_0x2fe539['nEzeV'](_0x2fe539[_0x42f6e8(0x19c,0x1f7,0x213,0x1cc)],_0x2fe539[_0x430f81(0x2fd,0x338,0x2ac,0x34a)])){const _0x67463d={'original':_0x70d66a,'cleaned':_0x70d66a,'prefix':'','suffix':'','weight':'','skip':_0x2fe539[_0x42f6e8(0x1f5,0x1f6,0x249,0x24d)](shouldSkipTranslation,_0x70d66a)};_0x5aae7e['push'](_0x67463d),!_0x67463d[_0x430f81(0x2e8,0x324,0x2d2,0x2f2)]&&_0x70d66a&&(_0x2fe539['BHCVB'](_0x2fe539[_0x430f81(0x34f,0x38c,0x2f6,0x380)],_0x2fe539[_0x430f81(0x336,0x357,0x35b,0x35e)])?(_0x62a89f[_0x42f6e8(0x1f8,0x194,0x19f,0x1b9)](_0x70d66a),_0x70ac30[_0x42f6e8(0x22e,0x1cc,0x245,0x21b)](_0x70d66a['toLowerCas'+'e'](),_0x67463d)):(_0x2fe539[_0x42f6e8(0x1d4,0x1b7,0x1bf,0x1be)](_0x1f5fc0),_0x2fe539[_0x430f81(0x324,0x382,0x2d8,0x2fb)](_0x10a021,new _0x53a6b8('翻译\x20LLM\x20执行超'+'时（'+_0xdf14f8+_0x42f6e8(0x287,0x234,0x1fa,0x24b)))));}else{const _0x32b6d3=_0x4d21eb[_0x430f81(0x374,0x351,0x3c4,0x324)]();if(_0x32b6d3)_0x4dc09d[_0x430f81(0x2ea,0x2e9,0x292,0x2c9)](_0x32b6d3);_0x518494='';}}}return{'originalTags':_0x5aae7e,'cleanedTags':_0x62a89f,'cleanedText':tagsToJsonString(_0x62a89f),'tagMap':_0x70ac30};}export function combineTranslationResult(_0x5c21a5,_0x544eb6){const _0x1c733a={};_0x1c733a[_0x43739a(0x89,0xe3,0x91,0x93)]=_0x19cb88(0x41d,0x428,0x423,0x426)+_0x19cb88(0x454,0x430,0x3cd,0x402)+_0x43739a(0x1ad,0x186,0x1cb,0x145),_0x1c733a[_0x43739a(0xb3,0x111,0xc7,0xb9)]=function(_0x3f9e4d,_0x1527e3){return _0x3f9e4d!==_0x1527e3;},_0x1c733a[_0x19cb88(0x484,0x4b0,0x49e,0x462)]='dWcnC',_0x1c733a[_0x19cb88(0x3c8,0x405,0x466,0x41c)]=function(_0x24528a,_0x12c1a9){return _0x24528a!==_0x12c1a9;},_0x1c733a['mZqAN']='ZrauE',_0x1c733a['XpdfB']=function(_0x4bb380,_0x4c5513){return _0x4bb380===_0x4c5513;},_0x1c733a['ilRAY']='object',_0x1c733a['QQTVj']=_0x43739a(0xfb,0x137,0x107,0x170),_0x1c733a[_0x43739a(0x12a,0x11f,0x147,0xd1)]='iGefD';const _0x3a8e66=_0x1c733a;if(!_0x5c21a5||!Array[_0x19cb88(0x45b,0x410,0x450,0x44e)](_0x5c21a5))return[];function _0x19cb88(_0x30d663,_0x25634b,_0x4d7b72,_0x576c41){return _0x304a(_0x576c41-0x325,_0x30d663);}function _0x43739a(_0x35210d,_0x413acd,_0x58b01c,_0x2d0a2c){return _0x304a(_0x413acd-0x2c,_0x58b01c);}const _0x5c0c22={};if(_0x544eb6&&_0x3a8e66[_0x19cb88(0x419,0x412,0x4af,0x458)](typeof _0x544eb6,_0x3a8e66[_0x43739a(0xae,0xf6,0x146,0xc1)]))for(const [_0x351f36,_0x18616a]of Object[_0x43739a(0x1c2,0x166,0x159,0x1b4)](_0x544eb6)){if(_0x3a8e66[_0x19cb88(0x412,0x412,0x3f3,0x41c)](_0x3a8e66[_0x19cb88(0x3ca,0x421,0x447,0x404)],_0x3a8e66[_0x43739a(0x113,0x11f,0xd8,0x13c)]))_0x5c0c22[_0x351f36[_0x19cb88(0x3fe,0x464,0x3ee,0x429)+'e']()]=_0x18616a;else{const {original:_0x42da80,cleaned:_0x1a4e3e,skip:_0x42a97f}=_0x50d34a;if(_0x42a97f){const _0x332720={};return _0x332720[_0x43739a(0xb4,0xe7,0xce,0x89)]=_0x42da80,_0x332720[_0x43739a(0x130,0x119,0x115,0x157)+'n']='',_0x332720['cleaned']=_0x1a4e3e,_0x332720['skipped']=!![],_0x332720;}const _0x5198d4=_0x463d0c[_0x1a4e3e[_0x19cb88(0x454,0x404,0x431,0x429)+'e']()]||'',_0x4a7e66={};return _0x4a7e66['original']=_0x42da80,_0x4a7e66['translatio'+'n']=_0x5198d4,_0x4a7e66[_0x19cb88(0x484,0x428,0x43c,0x450)]=_0x1a4e3e,_0x4a7e66[_0x43739a(0x133,0x139,0x167,0x17a)]=![],_0x4a7e66;}}return _0x5c21a5['map'](_0x3f46bb=>{function _0x2f1600(_0x6806ec,_0xca7c61,_0x1f5d8f,_0x51407d){return _0x43739a(_0x6806ec-0x38,_0xca7c61-0x19,_0x6806ec,_0x51407d-0x40);}function _0x4e76db(_0x34da34,_0x82c782,_0x45dd67,_0xc7ed56){return _0x19cb88(_0x34da34,_0x82c782-0x127,_0x45dd67-0x1e1,_0xc7ed56- -0x11);}if(_0x3a8e66[_0x2f1600(0x10f,0x12a,0x155,0x166)](_0x2f1600(0x11e,0x135,0x13b,0x188),_0x3a8e66['TtWau'])){const {original:_0x39dd60,cleaned:_0x1e0888,skip:_0x5f0938}=_0x3f46bb;if(_0x5f0938){if(_0x3a8e66['OWxhx'](_0x3a8e66[_0x4e76db(0x3f3,0x432,0x481,0x42e)],_0x3a8e66['mZqAN']))_0x3722b9['log'](_0x3a8e66['XnJqR']),_0x585253=!![];else{const _0x23cbea={};return _0x23cbea[_0x4e76db(0x371,0x40c,0x415,0x3cf)]=_0x39dd60,_0x23cbea[_0x2f1600(0x13e,0x132,0x18a,0xe4)+'n']='',_0x23cbea['cleaned']=_0x1e0888,_0x23cbea[_0x4e76db(0x416,0x3d3,0x438,0x421)]=!![],_0x23cbea;}}const _0x56ab63=_0x5c0c22[_0x1e0888['toLowerCas'+'e']()]||'',_0x931b66={};return _0x931b66[_0x4e76db(0x3db,0x3c4,0x41f,0x3cf)]=_0x39dd60,_0x931b66[_0x2f1600(0xf2,0x132,0xdd,0xef)+'n']=_0x56ab63,_0x931b66[_0x2f1600(0x171,0x170,0x19a,0x1a9)]=_0x1e0888,_0x931b66['skipped']=![],_0x931b66;}else _0x5ce78d+=_0x48f833;});}export function formatTranslationDisplay(_0x26f88e,_0x4df832={}){const _0x361f52={'RyXwk':function(_0x3bbcf7,_0x2c7a36){return _0x3bbcf7!==_0x2c7a36;},'kYzis':function(_0x3a1e6b,_0x1f812b){return _0x3a1e6b(_0x1f812b);},'JtqDd':function(_0x22af81,_0xdf7c22){return _0x22af81(_0xdf7c22);},'KYfTL':'获取翻译提示词超时','WbSUN':function(_0x2ac996){return _0x2ac996();},'HDJQB':'dwKzS','qcpjc':_0x3902f8(0x4b4,0x45d,0x449,0x44d)};function _0x3902f8(_0x2b926d,_0xa475e9,_0x2ec5a2,_0x30bfda){return _0x304a(_0xa475e9-0x3aa,_0x30bfda);}function _0x349a21(_0x120b77,_0x38e94f,_0x3df0b4,_0x232c50){return _0x304a(_0x38e94f- -0x28b,_0x3df0b4);}const {separator:separator=',\x20',showOriginal:showOriginal=!![],showTranslation:showTranslation=!![]}=_0x4df832;if(!_0x26f88e||!Array[_0x3902f8(0x4eb,0x4d3,0x4f4,0x502)](_0x26f88e)){if(_0x361f52['HDJQB']===_0x361f52[_0x349a21(-0x181,-0x15b,-0x13f,-0x13d)]){const _0x4775c4=_0x361f52[_0x3902f8(0x519,0x4d8,0x4cf,0x4b8)](_0x23cb9e);_0x431f84[_0x3902f8(0x4ca,0x47d,0x4a4,0x49a)](_0x3902f8(0x4f4,0x4ab,0x4a9,0x4c4)+_0x3902f8(0x4e5,0x4d7,0x4fc,0x488)+_0x349a21(-0x14e,-0x18c,-0x1b5,-0x1ca)+_0x4775c4+')');const _0x1b176e=_0x16c638=>{if(_0x361f52['RyXwk'](_0x16c638['id'],_0x4775c4))return;function _0x2aadec(_0x134d31,_0x2a3370,_0x23ca9c,_0x538a63){return _0x349a21(_0x134d31-0x1b8,_0x23ca9c-0x12d,_0x538a63,_0x538a63-0x175);}_0x4afc9c[_0x5b5077(0x46a,0x449,0x473,0x4a8)+_0x2aadec(-0x97,-0x6d,-0x80,-0x9c)](_0x20637b[_0x5b5077(0x461,0x416,0x47d,0x43f)+_0x5b5077(0x41e,0x41d,0x3fc,0x46f)+'PROMPT_RES'+'PONSE'],_0x1b176e);const {prompt:_0x56e9a2}=_0x16c638;function _0x5b5077(_0x464bf5,_0x22cceb,_0x1c5afa,_0x3201dc){return _0x349a21(_0x464bf5-0x117,_0x464bf5-0x5da,_0x22cceb,_0x3201dc-0x61);}_0x48eede['log'](_0x5b5077(0x450,0x48a,0x40e,0x3fe)+_0x2aadec(-0x72,-0x46,-0x7a,-0x7e)+_0x2aadec(-0x2a,-0x7,-0x3e,-0x86)+_0x4775c4+'):',_0x56e9a2),_0x361f52[_0x5b5077(0x4a2,0x495,0x484,0x48b)](_0x2f43d3,_0x56e9a2);};_0x11629e['on'](_0x3d4b38[_0x349a21(-0x1ca,-0x179,-0x133,-0x1c3)+'ATION_GET_'+_0x3902f8(0x522,0x4d0,0x4f0,0x4ca)+'PONSE'],_0x1b176e);const _0x1b19d2={};_0x1b19d2['id']=_0x4775c4,_0x167c0a['emit'](_0x32b844[_0x349a21(-0x1a9,-0x179,-0x197,-0x1a9)+'ATION_GET_'+_0x349a21(-0x19b,-0x14c,-0x115,-0x10c)+_0x349a21(-0x12e,-0x18d,-0x157,-0x159)],_0x1b19d2),_0xe750fe(()=>{function _0x42dd60(_0x4dc351,_0x3ed74a,_0x18377e,_0x1540f3){return _0x349a21(_0x4dc351-0x13c,_0x4dc351-0xb1,_0x18377e,_0x1540f3-0x172);}_0x213621[_0x582ef7(0x4b9,0x471,0x4b0,0x503)+'ener'](_0x3fe6f5[_0x42dd60(-0xc8,-0xa0,-0xa6,-0x8b)+_0x42dd60(-0x10b,-0x154,-0x110,-0x11a)+_0x582ef7(0x4e4,0x4eb,0x4bb,0x4fd)+'PONSE'],_0x1b176e);function _0x582ef7(_0xe31e30,_0x5a26a3,_0x813196,_0x11add5){return _0x349a21(_0xe31e30-0xbd,_0x813196-0x620,_0x5a26a3,_0x11add5-0x10f);}_0x361f52[_0x582ef7(0x46a,0x46a,0x453,0x40a)](_0xd3f641,new _0x1e319b(_0x361f52[_0x582ef7(0x4aa,0x49c,0x480,0x466)]));},-0x1*0x39a1+0x32c2+0x2def);}else return'';}return _0x26f88e[_0x3902f8(0x52a,0x4fe,0x50b,0x510)](_0x20777a=>{if(_0x20777a['skipped'])return showOriginal?_0x20777a[_0xb8cfbf(-0x304,-0x355,-0x306,-0x304)]:'';function _0xb8cfbf(_0x208f9d,_0x3409d0,_0x550624,_0x12d990){return _0x349a21(_0x208f9d-0x13,_0x208f9d- -0x134,_0x550624,_0x12d990-0x162);}const _0x4e4563=[];if(showOriginal)_0x4e4563[_0xb8cfbf(-0x30b,-0x334,-0x2db,-0x333)](_0x20777a['original']);function _0x16c48e(_0x120c43,_0x411ae9,_0x335f1d,_0x38c573){return _0x349a21(_0x120c43-0x165,_0x335f1d-0x25b,_0x38c573,_0x38c573-0x183);}return showTranslation&&_0x20777a['translatio'+'n']&&_0x4e4563[_0xb8cfbf(-0x30b,-0x34e,-0x2fd,-0x351)]('('+_0x20777a[_0xb8cfbf(-0x2d2,-0x303,-0x32a,-0x32a)+'n']+')'),_0x4e4563[_0x16c48e(0x11b,0xb5,0x10b,0x11e)]('\x20');})[_0x3902f8(0x4b8,0x4bb,0x476,0x485)](Boolean)[_0x349a21(-0x192,-0x150,-0x18a,-0x154)](separator);}export async function translatePromptTags(_0x39069a){const _0x285d76={'oZwyj':function(_0x7bc880,_0x5f042d){return _0x7bc880(_0x5f042d);},'akOAr':function(_0x36fcc6,_0x1e864a){return _0x36fcc6(_0x1e864a);},'eZycH':_0x216fc4(-0x9f,-0x46,-0x58,-0xa5),'KOHfG':function(_0x5d6892,_0x3c443c,_0x5784bc){return _0x5d6892(_0x3c443c,_0x5784bc);},'OogSF':function(_0x3899f9,_0x1507e5){return _0x3899f9!==_0x1507e5;},'QDBex':_0x216fc4(-0x54,-0x8e,-0x3d,-0x75),'qVusb':_0x249d3f(0x42,-0x37,0x76,0x28)+_0x249d3f(0x99,0x8a,0x40,0x48)+':'},{originalTags:_0x4161b5,cleanedText:_0x325bc7}=_0x285d76[_0x216fc4(-0x5a,-0x34,-0x9b,-0x8e)](preprocessPromptForTranslation,_0x39069a);function _0x249d3f(_0x490dc1,_0xb4b63d,_0x193b67,_0x3ab9a6){return _0x304a(_0x3ab9a6- -0xd9,_0x193b67);}if(!_0x325bc7){if(_0x285d76['eZycH']!==_0x285d76['eZycH']){const _0x66f6df={'original':_0x3bf98b,'cleaned':_0x33674f,'prefix':'','suffix':'','weight':'','skip':_0x285d76[_0x216fc4(-0x69,-0xa3,-0x82,-0x83)](_0x50b74f,_0x4d62e7)};_0x5eb32d['push'](_0x66f6df),!_0x66f6df[_0x249d3f(-0x6f,0x12,-0x16,-0x27)]&&_0x5e762c&&(_0x134894['push'](_0x1f0b73),_0x2d9e20[_0x249d3f(0xd,0x2f,0x46,0x3d)](_0x5a9773[_0x249d3f(0x87,0x62,-0x33,0x2b)+'e'](),_0x66f6df));}else{const _0x2a5a97={};return _0x2a5a97[_0x249d3f(0x4a,0x12,0x79,0x21)]=[],_0x2a5a97[_0x249d3f(-0x26,-0x3a,0x67,0x9)+'t']='',_0x2a5a97['originalTa'+'gs']=[],_0x2a5a97;}}function _0x216fc4(_0xb41f62,_0x1a8004,_0x42a555,_0x1b1f7a){return _0x304a(_0xb41f62- -0x1a1,_0x1b1f7a);}try{const _0x3c7e71=await callTranslation(_0x325bc7),_0x3e064d=_0x285d76[_0x216fc4(-0x5a,-0x80,-0x5f,-0x22)](parseTranslationResult,_0x3c7e71),_0x1d72c8=_0x285d76[_0x216fc4(-0xd4,-0x114,-0xbd,-0xaa)](combineTranslationResult,_0x4161b5,_0x3e064d),_0x39fed9=_0x285d76[_0x216fc4(-0x5a,-0x78,-0x80,-0x3c)](formatTranslationDisplay,_0x1d72c8),_0x3947af={};return _0x3947af['results']=_0x1d72c8,_0x3947af[_0x249d3f(0xe,0x32,0x8,0x9)+'t']=_0x39fed9,_0x3947af['originalTa'+'gs']=_0x4161b5,_0x3947af;}catch(_0x1cf2cc){if(_0x285d76['OogSF'](_0x285d76[_0x216fc4(-0x9a,-0x6e,-0x3c,-0x53)],_0x216fc4(-0x54,-0x73,-0x30,-0x34)))return _0x35b183?_0x2a5e1c[_0x216fc4(-0xe6,-0xce,-0xe4,-0x12e)]:'';else{console[_0x216fc4(-0xcf,-0xad,-0xe0,-0xc3)](_0x285d76[_0x216fc4(-0x9c,-0xbb,-0x9c,-0x73)],_0x1cf2cc);throw _0x1cf2cc;}}}export function parseTranslationResult(_0xcb49e5){const _0x166465={};_0x166465[_0x2b2f2f(-0x9e,-0x78,-0xbd,-0xb7)]=function(_0x1f2fc4,_0x19195b){return _0x1f2fc4+_0x19195b;},_0x166465[_0x2b2f2f(-0xc5,-0x172,-0x114,-0x16b)]=function(_0x2780bb,_0x89e857){return _0x2780bb!==_0x89e857;};function _0x453e75(_0x19059f,_0x588574,_0xeb3989,_0x41e4f2){return _0x304a(_0x19059f- -0x34,_0x41e4f2);}_0x166465[_0x453e75(0x10c,0xd9,0x149,0xc8)]='tuXwV',_0x166465['detBp']=function(_0x238962,_0x5e5cf9){return _0x238962===_0x5e5cf9;},_0x166465[_0x453e75(0xf4,0xc9,0x9b,0xe7)]='object',_0x166465[_0x453e75(0xcf,0xcf,0x8e,0x104)]=function(_0x57642b,_0x3a6605){return _0x57642b===_0x3a6605;},_0x166465['yAYhd']=_0x453e75(0xcd,0xf7,0xe7,0x123)+_0x453e75(0xfb,0x14f,0xb4,0x106)+_0x2b2f2f(-0xde,-0xdb,-0x123,-0x13f),_0x166465['lBelS']=function(_0x562eb3,_0x2d0c85){return _0x562eb3>_0x2d0c85;},_0x166465[_0x2b2f2f(-0x30,-0x52,-0x8b,-0xe4)]=function(_0x303b97,_0x5cf4ad){return _0x303b97!==_0x5cf4ad;},_0x166465[_0x2b2f2f(-0x54,-0x60,-0x79,-0x94)]=_0x2b2f2f(-0x153,-0xac,-0x108,-0x140);const _0x479707=_0x166465;if(!_0xcb49e5)return{};try{if(_0x479707[_0x2b2f2f(-0xc0,-0x157,-0x114,-0x133)](_0x479707['xuwQY'],'tyhzb')){const _0x33195b=_0xcb49e5['match'](/\{[\s\S]*\}/);if(_0x33195b){const _0x42401d=JSON[_0x2b2f2f(-0xd,-0x66,-0x6a,-0x85)](_0x33195b[0x99c+-0x1f0a+0x156e*0x1]);if(_0x479707[_0x453e75(0xeb,0xc3,0x121,0xfc)](typeof _0x42401d,_0x479707[_0x2b2f2f(-0xc4,-0xaa,-0xa8,-0x61)])&&_0x42401d!==null){if(_0x479707['qhqgt'](_0x2b2f2f(-0xb0,-0x12,-0x68,-0x2d),_0x2b2f2f(-0x40,-0x81,-0x68,-0xc4)))return _0x42401d;else _0x339abe(_0x4582f7[_0x2b2f2f(-0x160,-0xb6,-0x111,-0xf9)]);}}}else{if(_0xa7213d&&_0x1a86ea['randomUUID'])return _0x56180b[_0x453e75(0x130,0x186,0x128,0x13f)]();return _0x479707['LFDDV'](_0x33e05d['now']()[_0x453e75(0xc7,0x107,0xa3,0x9d)](0x1023+-0x1*0x1ff+-0x700*0x2),_0x3de026[_0x2b2f2f(-0xd7,-0x92,-0x8f,-0xce)]()['toString'](0x1087+0x12a6+-0x2309)[_0x2b2f2f(-0xc3,-0x49,-0x86,-0x74)](-0x1a03+-0x12df+0x2ce4));}}catch(_0x5e75ee){console[_0x453e75(0xd8,0x9c,0xf6,0xed)](_0x479707[_0x453e75(0xe9,0x107,0x144,0x10e)],_0x5e75ee['message']);}const _0x45b331=String(_0xcb49e5)['replace'](/[\r\n]+/g,'\x20')[_0x453e75(0xad,0xdd,0xb2,0xf1)](/^[\s"'`]+|[\s"'`]+$/g,'')['trim']();function _0x2b2f2f(_0x412445,_0x408910,_0x637214,_0x325800){return _0x304a(_0x637214- -0x1d0,_0x325800);}const _0x5c68b3=_0x45b331['split'](/[,，]/)[_0x453e75(0x120,0x119,0x152,0x142)](_0x71d326=>_0x71d326[_0x453e75(0x10a,0x107,0x13c,0xda)]())[_0x453e75(0xdd,0x133,0x96,0x12d)](Boolean),_0x2c0a0a={};for(const _0x42c95c of _0x5c68b3){const _0x5a9955=_0x42c95c[_0x2b2f2f(-0x95,-0xfb,-0xc8,-0xd9)]('\x5c');if(_0x479707['lBelS'](_0x5a9955,0x109*-0x1f+-0x1be9*0x1+-0xc00*-0x5)){if(_0x479707[_0x453e75(0x111,0xeb,0x126,0x12c)](_0x479707[_0x453e75(0x123,0xc5,0x10b,0x172)],_0x2b2f2f(-0xac,-0xc1,-0x108,-0x156)))return _0xbb2be3['randomUUID']();else{const _0x2bfe62=_0x42c95c[_0x2b2f2f(-0xc9,-0x12f,-0x10d,-0xf4)](-0x1da4+-0x49*0x35+0x2cc1,_0x5a9955)[_0x453e75(0x10a,0x104,0xd4,0xd2)](),_0x36820d=_0x42c95c['slice'](_0x5a9955+(-0x149d+-0xdb4*0x2+-0x12*-0x2ab))[_0x453e75(0x10a,0xc8,0xdb,0x135)]();if(_0x2bfe62)_0x2c0a0a[_0x2bfe62]=_0x36820d;}}}return _0x2c0a0a;}function generateRequestId(){const _0x13d849={};_0x13d849['AKsXl']='st-chatu8:'+_0x29b5a6(0x10a,0x10f,0xb8,0xe5)+'\x20LLM\x20设置页面',_0x13d849['FwktM']=function(_0x32d4f5,_0x27fa54){return _0x32d4f5===_0x27fa54;},_0x13d849[_0x4c8b07(-0x60,0x1,-0x5,-0x5b)]=_0x4c8b07(0x18,0x40,0x22,0x79),_0x13d849['cKYhd']=function(_0x40d25e,_0x15329b){return _0x40d25e+_0x15329b;};function _0x29b5a6(_0x2623b6,_0x1599fa,_0x2e8110,_0x83035f){return _0x304a(_0x83035f-0x8,_0x1599fa);}const _0x3d5e72=_0x13d849;if(crypto&&crypto[_0x29b5a6(0x191,0x144,0x195,0x16c)]){if(_0x3d5e72['FwktM'](_0x29b5a6(0x152,0x139,0x1a8,0x166),_0x3d5e72['DFYwY']))return crypto[_0x4c8b07(-0x2,0x7a,0x28,0x54)]();else!_0x4cf554&&(_0xed49cf[_0x29b5a6(0xa1,0x121,0xf9,0xdb)](_0x3d5e72[_0x29b5a6(0x132,0x113,0xc2,0xdf)]),_0x3a6351=!![]);}function _0x4c8b07(_0x3ba7a6,_0x2c2414,_0x3a8d98,_0x5935b8){return _0x304a(_0x3a8d98- -0x13c,_0x2c2414);}return _0x3d5e72[_0x4c8b07(-0x25,-0xb5,-0x77,-0xb8)](Date[_0x29b5a6(0xc9,0xce,0xf1,0xb7)]()[_0x29b5a6(0xc3,0x136,0xf2,0x103)](0x7*0x9b+-0x40*-0x1+0x9f*-0x7),Math[_0x29b5a6(0x10d,0x145,0x12f,0x149)]()[_0x4c8b07(-0x8f,-0x13,-0x41,-0x2)](-0xa84+-0x1*0x135b+0x1e03)['substring'](-0x5*-0x3a+-0x235c+0x4e4*0x7));}export function LLM_TRANSLATION_GET_PROMPT(){function _0x5d93e5(_0x1735d1,_0x100c66,_0x2e438a,_0x1e6a7c){return _0x304a(_0x1e6a7c- -0xae,_0x2e438a);}function _0x16e677(_0x3c301b,_0x4f5d12,_0x7931cc,_0x4400c6){return _0x304a(_0x4f5d12-0x2c7,_0x7931cc);}const _0x122bad={'dMVkX':_0x16e677(0x3a0,0x373,0x381,0x391),'AIsmw':function(_0x2af5a5,_0x12b812){return _0x2af5a5!==_0x12b812;},'qPkkc':function(_0x5e8f09,_0xb604f0){return _0x5e8f09(_0xb604f0);},'sxDOO':function(_0x25094e,_0x104c03){return _0x25094e===_0x104c03;},'VsEYg':_0x5d93e5(0x7c,0x7a,0x3,0x44),'vWOlA':function(_0x5591a5){return _0x5591a5();},'aCcIE':function(_0x1e190a,_0x57ad1b,_0xc31cd4){return _0x1e190a(_0x57ad1b,_0xc31cd4);}};return new Promise((_0x78a0a9,_0x30289c)=>{function _0x4e2681(_0x408232,_0x2fe80f,_0xee7d4e,_0x3437e1){return _0x5d93e5(_0x408232-0xd6,_0x2fe80f-0xf7,_0xee7d4e,_0x3437e1- -0x12b);}const _0x289447={'FvUZC':function(_0x61b812,_0x517fd0){function _0x319b32(_0x4ede7b,_0x2903b2,_0x5ad9fc,_0x25f7bd){return _0x304a(_0x2903b2-0x16c,_0x25f7bd);}return _0x122bad[_0x319b32(0x2a8,0x280,0x298,0x260)](_0x61b812,_0x517fd0);},'BGddF':function(_0x50ea16,_0x3823e6){function _0xde15a9(_0xb0d66f,_0x17ee77,_0x194dbd,_0x2d1563){return _0x304a(_0x17ee77- -0x192,_0x194dbd);}return _0x122bad[_0xde15a9(-0x96,-0xac,-0xbb,-0x109)](_0x50ea16,_0x3823e6);}};function _0x244611(_0x16c929,_0x419f55,_0x235694,_0x1be819){return _0x16e677(_0x16c929-0xed,_0x16c929-0x56,_0x1be819,_0x1be819-0x190);}if(_0x122bad[_0x4e2681(-0xda,-0xd9,-0x81,-0x81)](_0x122bad[_0x4e2681(-0x41,-0xeb,-0x33,-0x90)],_0x122bad[_0x244611(0x466,0x47e,0x41a,0x4b9)])){const _0xb518e4=_0x122bad[_0x244611(0x3e6,0x3d5,0x3d1,0x3e6)](generateRequestId);console[_0x4e2681(-0x13d,-0xb3,-0x12a,-0x106)](_0x244611(0x41e,0x3f1,0x455,0x46c)+'\x20请求获取翻译提示词'+'\x20(ID:\x20'+_0xb518e4+')');const _0x245cf3=_0x17b746=>{if(_0x289447[_0x419548(-0x53,-0xbf,-0x7a,-0x24)](_0x17b746['id'],_0xb518e4))return;function _0x191a93(_0x384f3b,_0x351a54,_0xa500c4,_0x26628d){return _0x4e2681(_0x384f3b-0x1a2,_0x351a54-0x118,_0x351a54,_0x26628d-0x59a);}eventSource[_0x191a93(0x513,0x48e,0x53a,0x4dc)+_0x191a93(0x496,0x4ae,0x492,0x49f)](eventNames['LLM_TRANSL'+'ATION_GET_'+_0x419548(0x2b,0x36,-0x2,-0x19)+_0x419548(0xa,0x1,-0x4,0x49)],_0x245cf3);const {prompt:_0x2f5fb3}=_0x17b746;console['log'](_0x419548(-0x8,0x31,-0x27,0x2d)+'\x20已获取翻译提示词\x20'+_0x419548(-0x16,-0x5c,-0x8,0x4b)+_0xb518e4+'):',_0x2f5fb3);function _0x419548(_0x1fdce6,_0x1701c,_0x186102,_0x1a1edf){return _0x4e2681(_0x1fdce6-0xf4,_0x1701c-0x84,_0x1701c,_0x186102-0xb1);}_0x289447[_0x419548(-0x12,0x29,0x37,0x13)](_0x78a0a9,_0x2f5fb3);};eventSource['on'](eventNames['LLM_TRANSL'+_0x4e2681(-0x103,-0x11e,-0x13e,-0x10a)+_0x244611(0x443,0x495,0x472,0x48d)+_0x4e2681(-0xa0,-0xb6,-0x5a,-0xb5)],_0x245cf3);const _0x267179={};_0x267179['id']=_0xb518e4,eventSource[_0x244611(0x400,0x43f,0x3a6,0x3e2)](eventNames[_0x4e2681(-0xdc,-0x96,-0x126,-0xc7)+'ATION_GET_'+'PROMPT_REQ'+'UEST'],_0x267179),_0x122bad['aCcIE'](setTimeout,()=>{function _0x3d2b88(_0x50f566,_0x49fd73,_0x3f9060,_0x419082){return _0x244611(_0x50f566- -0x3a1,_0x49fd73-0xb1,_0x3f9060-0x129,_0x419082);}eventSource['removeList'+_0x3d2b88(0x5a,0x29,0x84,0x7)](eventNames[_0x32c89a(0x70,0xdc,0xcb,0xe7)+_0x3d2b88(0x4b,0x7f,0xa4,0x78)+_0x32c89a(0xbc,0x121,0xdf,0xf7)+'PONSE'],_0x245cf3);function _0x32c89a(_0x1ad899,_0x599fad,_0xb0e89c,_0x45efea){return _0x4e2681(_0x1ad899-0x77,_0x599fad-0xf2,_0x45efea,_0xb0e89c-0x192);}_0x30289c(new Error(_0x122bad[_0x3d2b88(0x3e,0x79,0x28,0x6a)]));},0xa0*-0x49+0x1*0x2df8+0x26b8);}else _0x2fb15f[_0x244611(0x3d1,0x38b,0x3ed,0x3d3)]('('+_0x170233[_0x244611(0x40a,0x411,0x3b9,0x3b7)+'n']+')');});}function _0x33d6(){const _0x1d79bd=['A3vzywK','DLDpBee','AwXsqvK','yxnPqxG','t0fwr0u','s09izKC','D0z3q1e','qvrjt05Fr0vuxW','C3vJy2vZCW','mte2mJC2mdriAwP0Dui','zxjYB3i','Bg9N','C2vHCMnO','CuHSsfu','vLjzufu','quTZwgW','zNnjzKm','C3rYAw5NAwz5','C2LirhC','mtGYnJG0meLdyw1RqG','zu1frvK','iefjioIUVUE9RUw3SUE7N+s4GowiSa','zw5LCG','uvfuvMO','kcGOlISPkYKRkq','CMvWBgfJzq','zgLZCgXHEvrLEa','zw1PDa','iow3SUIoT+wpLUE/U+IVKEApKoEKUUIVJsa','v2rfz0G','CvbRA2m','yK9jzvG','BwvZC2fNzq','Cwv1y3G','Ag1fqKW','s1LMveW','Dwvxr0e','DhjHBNnSyxrPBW','qNH4svu','uerju1y','AuTYyvK','C29Tzq','thHrq0W','uhz5z1G','rxvrt0O','CMfWrMy','rKv6sum','t1D4AhG','57+76k+r5AsX6lsLoG','BMfTzq','CMvZDwX0CW','Dg9tDhjPBMC','wwT5zKq','zxHYD2S','vuvtva','icHjrdOG','y1rqu08','C3qTy2HHDhu4oG','yuHbueu','CwHXz3q','Dg9mB3DLCKnHCW','Cvz1C2i','yxbWBhK','uurczxG','Aw5KzxHpzG','iow3SUAuTUwiSoE/U+IVKsbmte0','D1rzu3K','tfnVq2y','D2fYBG','C2TPChbLza','mty4mJeWnK1hthrRtW','Bwf0y2G','mtC4mde3yLzqzNnW','zMLSDgvY','teXnx1rsqu5tta','tezerfy','quLZBxC','mti0tgjstM9p','C2v0','zNjRvuy','CxDbAvC','zgzhuM8','BvPXqu4','CMvTB3zLtgLZDa','n29XtfDbuG','EufzAgq','ELzwDuC','zgv0qNa','keLeoIa','ioE/U+IVKEApKoEKUUIVJEAGH+ETVUwKSEI0Pq','qvrjt05FuKvtua','CwXPz1G','ue9ou0u','wNPQu2e','ufjptvbux1jfuW','vfbKugm','yvLyqNG','AxnbCNjHEq','qwjVCNrfCNjVCG','y2XLyw5Lza','D1jdBfe','ioIVT+AXGUIoT+wpLUE/U+IVKEApKoEKUUIVJq','v2jtvu4','iePtt07OP6pMNPdLPlhOTkxVViW','CwnWAMm','qxblwM8','ntqXnZGXmgrkqxLsyW','whbKzKi','BLnUBMi','B3ztvge','t1Div1i','rezzD1K','B1P3EwO','qwzcDuK','zw50CMLLCW','AM9PBG','r2zTB3a','vhrxyxu','DhjPBq','ufjptvbux1jfuq','Ehv3uvK','CMfUzg9T','mtm3mtu5mLb6quvjzG','ANfeAee','ndG1uNzmD2Xq','u05drxq','BxpVViK','ywTpqxi','yKHzEM0','vNnfwwC','C3vIC3rYAw5N','wKLmBwi','zMrQwhK','uMrIBwK','qxz0zhC','wLPeENu','ioIVT+AXGUE/U+IVKsbmte0G','EMjevvy','CenhCK8','A1L6Axm','BwfW','wM50quC','57+76k+rieXmtsdMIAFOOyZOTOu','rNLwvxu','C3Het08','57+76k+r5AsX6lsLoIa','ieXmtsdORR7NVA7POBxPNAi','odmWndzQt1HuB2q','qNntvM4','CwfPtw8','uMz2AeO','qKDKzey','BMvNEuK','t05trq','ywjMu3K','y29UC3rYDwn0BW','CMfUzg9Tvvvjra','zLnKyNm','CgfYC2u','swvOC3m','uxrLwhq','6i635y+w57+76k+r5O+q56s66k+n6lAf5PE2','5BcD6k+v5PEN5Qc85BYpoG','rNzvwKm','BM93','whHKy0W','DxnLCG','C2TPCa','zvHesMy','ChvZAa','C3rYAw5N','sLLtwu4','wg5kCvi','nZDqvuzTqK4','rNbmrNm','rvnu','B3jPz2LUywW','CefwrMu','BKv6zvy','sNrXrgq','CMvZDwX0','ChjVBxb0','rxvQqLC','ze1wA1G','C2XPy2u','seHUt1q','y0TzAgq','rNL6sfu','B0noEwy'];_0x33d6=function(){return _0x1d79bd;};return _0x33d6();}export function LLM_TRANSLATION(_0xc25fb9,{timeoutMs:timeoutMs=0x8dfd+0x7e*-0x8f+0xa2c5}={}){function _0x4b281e(_0x20c085,_0x1012c2,_0x4e5dbd,_0x7a7cad){return _0x304a(_0x1012c2- -0x23e,_0x7a7cad);}function _0x299f40(_0x206c15,_0x5de95c,_0x54183b,_0x439055){return _0x304a(_0x54183b- -0x7d,_0x439055);}const _0x2a07a1={'ZzjSa':function(_0x458bf2,_0x23d32a){return _0x458bf2===_0x23d32a;},'wTYSy':_0x299f40(0x82,0x6a,0xc6,0xb0),'asiAx':function(_0x4b8b2c,_0x525061){return _0x4b8b2c(_0x525061);},'jKycJ':function(_0x4b5be6){return _0x4b5be6();},'Gfmop':function(_0x4cb5d9,_0x2a461e){return _0x4cb5d9(_0x2a461e);},'ApKZo':function(_0x6c5dba,_0x200dc3){return _0x6c5dba!==_0x200dc3;},'zVVuG':_0x299f40(0x42,0x20,0x78,0x92),'dEKfC':_0x299f40(0x89,0xa6,0xad,0x6e),'fSdbs':function(_0x10b1a1,_0x432f7f){return _0x10b1a1(_0x432f7f);},'Iehss':function(_0x43c391){return _0x43c391();},'szteq':function(_0x140474,_0x1029dd){return _0x140474(_0x1029dd);},'qwAiW':function(_0x48def4){return _0x48def4();},'ZntAG':function(_0x375a45,_0x24ad84,_0x30c0d6){return _0x375a45(_0x24ad84,_0x30c0d6);}};return new Promise((_0x5ad4eb,_0x41163d)=>{const _0x15073a=_0x2a07a1[_0x5c6f34(0x48a,0x4c6,0x41a,0x46a)](generateRequestId);console[_0x5c6f34(0x438,0x479,0x3da,0x425)](_0x5c6f34(0x4aa,0x43d,0x492,0x453)+_0x4b7d84(0x2a,0x81,0x89,0xd7)+_0x5c6f34(0x46f,0x478,0x471,0x472)+_0x15073a+')');function _0x4b7d84(_0x738690,_0x1ccf27,_0x1315f3,_0x43b1df){return _0x299f40(_0x738690-0x22,_0x1ccf27-0xda,_0x1ccf27- -0x52,_0x1315f3);}function _0x5c6f34(_0x453af7,_0x2f9f12,_0x4fe7fc,_0xa109f0){return _0x299f40(_0x453af7-0xa4,_0x2f9f12-0x126,_0xa109f0-0x3cf,_0x2f9f12);}let _0x40d16c=null;const _0x2cc41b=()=>{function _0x4cc63f(_0x50abe9,_0x20c1c3,_0x31274a,_0x409618){return _0x4b7d84(_0x50abe9-0x166,_0x31274a-0x13f,_0x409618,_0x409618-0x99);}function _0x2a4792(_0x4dd311,_0xa6d33a,_0xc91b5f,_0x5cbafb){return _0x5c6f34(_0x4dd311-0x1e7,_0xc91b5f,_0xc91b5f-0x1f0,_0xa6d33a- -0x5b0);}if(_0x2a07a1[_0x2a4792(-0xfd,-0x139,-0x10e,-0x159)](_0x2a07a1[_0x4cc63f(0x1ad,0x121,0x17a,0x1bb)],_0x2a07a1['wTYSy'])){eventSource[_0x4cc63f(0x169,0x179,0x18b,0x17f)+'ener'](eventNames[_0x2a4792(-0x1a2,-0x14c,-0x13c,-0x157)+_0x4cc63f(0x19b,0x165,0x192,0x153)+'ONSE'],_0x59a89b);if(_0x40d16c)_0x2a07a1[_0x2a4792(-0x142,-0x193,-0x191,-0x181)](clearTimeout,_0x40d16c);}else _0x24cb37=!_0x5b26b2,_0x3b3e4c+=_0x3a2ee6;},_0x59a89b=_0x2e4234=>{if(_0x2e4234['id']!==_0x15073a)return;function _0x2f2b27(_0x3ce78b,_0x21f652,_0x47ad30,_0x26c417){return _0x5c6f34(_0x3ce78b-0x8a,_0x26c417,_0x47ad30-0x1b8,_0x47ad30- -0x436);}function _0x37cfa6(_0x13ceaa,_0x1da5e0,_0xcebbc2,_0x158853){return _0x5c6f34(_0x13ceaa-0x129,_0x13ceaa,_0xcebbc2-0xe6,_0x158853- -0x139);}_0x2a07a1['jKycJ'](_0x2cc41b),console[_0x2f2b27(0x32,0x47,-0x11,0x28)]('st-chatu8:'+_0x37cfa6(0x32e,0x358,0x316,0x322)+'\x20执行结果\x20(ID:'+'\x20'+_0x15073a+'):',_0x2e4234);if(_0x2e4234[_0x37cfa6(0x2cc,0x33c,0x2a8,0x2e9)])_0x2a07a1['Gfmop'](_0x5ad4eb,_0x2e4234[_0x2f2b27(-0x78,-0x22,-0x25,-0x2b)]);else{if(_0x2e4234['error']&&_0x2a07a1[_0x37cfa6(0x30f,0x31a,0x385,0x33e)](_0x2e4234[_0x37cfa6(0x33f,0x325,0x2f5,0x2eb)][_0x37cfa6(0x2c5,0x328,0x31e,0x312)],_0x2f2b27(0x80,0x8,0x46,0x65))){if(_0x2a07a1[_0x2f2b27(0x8d,0xa2,0x4d,0xaa)](_0x2a07a1[_0x37cfa6(0x35d,0x324,0x391,0x337)],_0x2a07a1[_0x2f2b27(0x73,0x28,0x3a,0x45)])){if(_0x43316d){const _0x1a107e=_0x38e570[_0x2f2b27(0x11,0xf,0x22,0x47)](_0x2e3101,arguments);return _0x4d395c=null,_0x1a107e;}}else{const _0x3c810c=new Error(_0x2e4234[_0x2f2b27(-0x2a,-0x6f,-0x12,0x35)][_0x2f2b27(-0x5a,0x61,0x4,0x3a)]);_0x3c810c[_0x2f2b27(-0xe,0x22,0x15,0x17)]=_0x2a07a1['dEKfC'],_0x2a07a1[_0x2f2b27(0x64,0xdb,0x81,0x9e)](_0x41163d,_0x3c810c);}}else _0x2a07a1[_0x37cfa6(0x355,0x375,0x332,0x355)](_0x41163d,new Error(_0x2e4234[_0x37cfa6(0x2cf,0x2b9,0x2c1,0x2d8)]));}};eventSource['on'](eventNames['LLM_TRANSL'+_0x4b7d84(-0x9,0x53,0x32,0x62)+_0x4b7d84(0x3e,0x92,0x3f,0xa1)],_0x59a89b);const _0x667b7c={};_0x667b7c[_0x5c6f34(0x457,0x411,0x3f4,0x412)]=_0xc25fb9,_0x667b7c['id']=_0x15073a,eventSource[_0x5c6f34(0x48d,0x40a,0x3f7,0x435)](eventNames[_0x5c6f34(0x42f,0x491,0x473,0x464)+'ATION_REQU'+_0x5c6f34(0x3ce,0x3cf,0x464,0x40c)],_0x667b7c),_0x40d16c=_0x2a07a1[_0x4b7d84(0xd7,0x86,0x3b,0xbb)](setTimeout,()=>{_0x2a07a1[_0x59276a(-0xba,-0xce,-0xd6,-0xa2)](_0x2cc41b);function _0x5997e8(_0x206d07,_0x4f6448,_0xc1fe23,_0x271454){return _0x5c6f34(_0x206d07-0xf1,_0x4f6448,_0xc1fe23-0xfd,_0x271454- -0x173);}function _0x59276a(_0x542d43,_0x284c0c,_0xe68bff,_0x12d877){return _0x5c6f34(_0x542d43-0x50,_0xe68bff,_0xe68bff-0x131,_0x284c0c- -0x587);}_0x2a07a1['szteq'](_0x41163d,new Error(_0x5997e8(0x30d,0x37a,0x306,0x335)+'时（'+timeoutMs+_0x5997e8(0x304,0x2db,0x2cf,0x325)));},timeoutMs);});}export async function callTranslation(_0x4ed9ad){function _0x14b211(_0x437711,_0x33eb2f,_0x343fe3,_0x918c70){return _0x304a(_0x918c70-0x2e,_0x437711);}const _0xf9a91c={'ZILmb':function(_0x52dffb,_0x4950a3){return _0x52dffb+_0x4950a3;},'TPdPc':_0x2d3077(0x4bc,0x4fa,0x536,0x522),'HHnOT':function(_0x1f4a9d,_0xddd12b,_0x9dfd6){return _0x1f4a9d(_0xddd12b,_0x9dfd6);},'JYSYN':function(_0x7766fc,_0x20109b){return _0x7766fc(_0x20109b);},'abfSy':_0x2d3077(0x475,0x477,0x461,0x4c3),'pCGrO':function(_0x3a81d3,_0x40c5c5){return _0x3a81d3||_0x40c5c5;},'Avtdw':function(_0x4ee6db,_0xb8c386){return _0x4ee6db(_0xb8c386);},'FRktW':_0x2d3077(0x4e9,0x4be,0x496,0x510)};function _0x2d3077(_0x9f5c64,_0x36b74e,_0x3546fd,_0x197699){return _0x304a(_0x36b74e-0x3c6,_0x3546fd);}try{if(_0x14b211(0x102,0x89,0x12c,0xde)!==_0xf9a91c[_0x14b211(0x169,0x125,0x15d,0x155)]){let _0x12dbe4=_0xf9a91c[_0x2d3077(0x49e,0x48a,0x43f,0x4e8)](buildPromptForRequestType,_0x2d3077(0x48b,0x4b3,0x4df,0x4f6)+'n',_0x4ed9ad||'');_0x12dbe4=_0xf9a91c[_0x14b211(0x136,0x9f,0xcb,0xe4)](mergeAdjacentMessages,_0x12dbe4);const _0xbc643b=[..._0x12dbe4,{'role':_0xf9a91c[_0x14b211(0x1c1,0x167,0x13d,0x190)],'content':_0xf9a91c[_0x14b211(0x160,0x12b,0x1b2,0x180)](_0x4ed9ad,'')}];_0xf9a91c[_0x2d3077(0x4f4,0x514,0x52a,0x519)](updateCombinedPrompt,_0xbc643b);const _0x5c53f8=await _0xf9a91c['JYSYN'](LLM_TRANSLATION,_0xbc643b);return _0x5c53f8;}else{const _0x31fb74=_0x212ddb[_0x14b211(0x101,0xa9,0xd7,0xf1)](-0x15*0x135+-0x23b*0xd+-0x25*-0x178,_0x3ee0da)[_0x2d3077(0x4fd,0x504,0x4e3,0x4ff)](),_0x343731=_0x3fee6c[_0x2d3077(0x4a9,0x489,0x4ad,0x4ca)](_0xf9a91c[_0x2d3077(0x4d0,0x511,0x56c,0x4e8)](_0x4586e7,-0xc5+-0x3*-0x20f+-0x1*0x567))[_0x2d3077(0x4cf,0x504,0x535,0x53f)]();if(_0x31fb74)_0x64bcfd[_0x31fb74]=_0x343731;}}catch(_0x3bec5f){_0xf9a91c['JYSYN'](addLog,_0x2d3077(0x53d,0x51f,0x562,0x521)+_0x3bec5f['message']),console[_0x2d3077(0x456,0x498,0x4e3,0x4d7)](_0xf9a91c['FRktW'],_0x3bec5f);throw _0x3bec5f;}}let isAiInitialized=![];export function initAiSettings(_0x237187){function _0x4c1c76(_0x4b71ca,_0x42adcb,_0x5a4065,_0x5fef0e){return _0x304a(_0x5fef0e-0x228,_0x42adcb);}function _0x58837a(_0xda93ed,_0x5cbab6,_0x3c13f6,_0xca1c88){return _0x304a(_0xda93ed- -0xdb,_0x5cbab6);}!isAiInitialized&&(console[_0x58837a(-0x8,0x37,-0x3c,-0x3)]('st-chatu8:'+_0x58837a(0x2,0x1,0x13,0x58)+_0x58837a(0x7f,0x8f,0xcc,0xc9)),isAiInitialized=!![]);}
//# sourceMappingURL=http://localhost:8000/ai.js.map
(function(_0x1d48f4,_0x21fc8c){const _0x5e4240=_0x1d48f4();function _0x3fb28c(_0x3871a8,_0x3d43fb,_0x46e9ba,_0x3da3aa){return _0x27f5(_0x3871a8- -0x1f3,_0x46e9ba);}function _0x4c0525(_0x36eaf0,_0x2b4043,_0x11465d,_0xd4b0f8){return _0x27f5(_0x36eaf0- -0x35e,_0x11465d);}while(!![]){try{const _0x295e10=parseInt(_0x3fb28c(-0x10e,-0xfc,-0x114,-0xf9))/(-0x115e*0x1+-0x1*0x1c6a+0x1*0x2dc9)*(-parseInt(_0x4c0525(-0x22b,-0x266,-0x244,-0x27e))/(0x1a08+0x2049+-0x3a4f))+parseInt(_0x4c0525(-0x26b,-0x253,-0x29b,-0x27e))/(0x85*0x35+-0x403+0x1cf*-0xd)*(parseInt(_0x4c0525(-0x1fb,-0x1b0,-0x21a,-0x1f4))/(0x16dd*-0x1+0xe9e+-0x2d*-0x2f))+-parseInt(_0x4c0525(-0x1ff,-0x1fe,-0x218,-0x238))/(-0x1*-0xc3e+-0x1e49+0x1210)*(parseInt(_0x3fb28c(-0xee,-0xdd,-0xb3,-0x125))/(-0x217+0x1f*0xde+-0x18c5))+-parseInt(_0x3fb28c(-0x116,-0xe9,-0x104,-0xc9))/(0x4bd+-0x2e6+-0x1d0)*(parseInt(_0x3fb28c(-0xde,-0x11d,-0xdb,-0x97))/(0xb3d+0x251c+-0x3051))+parseInt(_0x4c0525(-0x255,-0x215,-0x23b,-0x29a))/(-0x222e+-0x1faf+0x41e6)*(parseInt(_0x3fb28c(-0xcb,-0xc4,-0x92,-0xf6))/(-0x2437+0x1fb3+0x247*0x2))+-parseInt(_0x3fb28c(-0xc1,-0x82,-0xfc,-0x77))/(-0x55b*-0x3+-0x2a*0x4+0x2*-0x7af)+parseInt(_0x4c0525(-0x1fd,-0x1bc,-0x1ad,-0x1c2))/(-0xa32+-0x142*0x1e+0x2ffa)*(parseInt(_0x3fb28c(-0x11a,-0xe0,-0xd3,-0x13d))/(0x1d41+0x281*0x1+-0x1fb5));if(_0x295e10===_0x21fc8c)break;else _0x5e4240['push'](_0x5e4240['shift']());}catch(_0xd60008){_0x5e4240['push'](_0x5e4240['shift']());}}}(_0x4fbd,-0x109*-0x393+0xdde7d+-0x2d4b4));const _0x199c1b=(function(){let _0x1f3b64=!![];return function(_0x35ff58,_0xc35b87){const _0x27878d={};function _0x27e4ac(_0x1222f1,_0x27c005,_0x46f440,_0x5bae63){return _0x27f5(_0x1222f1- -0x3cd,_0x5bae63);}function _0x176d78(_0x2ad91a,_0x43e0e3,_0x490201,_0x22f736){return _0x27f5(_0x43e0e3-0x161,_0x2ad91a);}_0x27878d[_0x176d78(0x1e1,0x224,0x215,0x1e9)]=_0x27e4ac(-0x2d8,-0x30b,-0x2ff,-0x2de);const _0x1004a6=_0x27878d,_0x5c43b0=_0x1f3b64?function(){function _0x5ca186(_0x5d8ce1,_0xae91c2,_0x12a277,_0x5abeee){return _0x176d78(_0x5abeee,_0x12a277-0x159,_0x12a277-0xb5,_0x5abeee-0x1a3);}function _0x343636(_0x457492,_0x13cdff,_0x2ed0b8,_0x32fb91){return _0x176d78(_0x457492,_0x13cdff-0x287,_0x2ed0b8-0xe8,_0x32fb91-0x59);}if(_0x1004a6[_0x5ca186(0x373,0x37a,0x37d,0x357)]!==_0x1004a6[_0x343636(0x45a,0x4ab,0x46d,0x47f)])_0x4cb169[_0x5db753][_0x343636(0x510,0x4be,0x510,0x4f3)+_0x5ca186(0x3b8,0x3a1,0x3d3,0x418)]={};else{if(_0xc35b87){const _0x3ef048=_0xc35b87['apply'](_0x35ff58,arguments);return _0xc35b87=null,_0x3ef048;}}}:function(){};return _0x1f3b64=![],_0x5c43b0;};}()),_0x597f29=_0x199c1b(this,function(){const _0x18de41={};function _0x1f39ab(_0x5e9291,_0xd0afdb,_0x2670ff,_0x1286b5){return _0x27f5(_0x2670ff-0x357,_0x1286b5);}_0x18de41[_0xf007da(0x3fc,0x424,0x451,0x41f)]=_0xf007da(0x438,0x41c,0x481,0x451)+'+$';const _0x2525a8=_0x18de41;function _0xf007da(_0x244d2b,_0x2a33bc,_0xef0c9b,_0x4cbb07){return _0x27f5(_0x4cbb07-0x33e,_0x244d2b);}return _0x597f29[_0xf007da(0x47b,0x46d,0x420,0x45d)]()['search'](_0x2525a8[_0x1f39ab(0x47b,0x3ff,0x438,0x3f0)])[_0xf007da(0x439,0x470,0x444,0x45d)]()['constructo'+'r'](_0x597f29)[_0xf007da(0x492,0x494,0x457,0x463)](_0x2525a8['gIugx']);});_0x597f29();import{extension_settings}from'../../../../extensions.js';import{extensionName}from'./config.js';import{saveSettingsDebounced}from'../../../../../script.js';import{getRequestHeaders}from'./utils.js';const CONFIG_DB_NAME=_0x3b549d(0x1a8,0x1ac,0x1b0,0x204)+'fig_images',CONFIG_DB_VERSION=0x1a*-0x3b+-0x250+0x3*0x2c5,CONFIG_STORE_NAME='config_ima'+_0x24e901(0x479,0x4c0,0x47d,0x4a3);function _0x24e901(_0x4daa4c,_0x427565,_0x1b2299,_0x15b09d){return _0x27f5(_0x1b2299-0x313,_0x15b09d);}let configDb=null;function generateUUID(){const _0x11a56b={};_0x11a56b['ppICU']=function(_0x15c07e,_0x4fd2e6){return _0x15c07e|_0x4fd2e6;};function _0x581dea(_0x24e177,_0x40165e,_0x5eadf2,_0x140c8b){return _0x24e901(_0x24e177-0x106,_0x40165e-0x92,_0x40165e- -0x240,_0x140c8b);}_0x11a56b[_0x581dea(0x1d5,0x215,0x1cf,0x1ce)]=function(_0x3b5adc,_0x10220b){return _0x3b5adc*_0x10220b;},_0x11a56b[_0xfaf2bb(0x54,0xa9,0x9d,0xaa)]=function(_0x41d370,_0x1d0ac7){return _0x41d370!==_0x1d0ac7;},_0x11a56b[_0xfaf2bb(0x102,0xd3,0xb6,0x9b)]=_0xfaf2bb(0x9b,0xa4,0xf8,0x5b),_0x11a56b[_0x581dea(0x201,0x213,0x236,0x22b)]=_0xfaf2bb(0xa2,0x83,0x58,0x55)+'xxx-4xxx-y'+'xxx-xxxxxx'+_0xfaf2bb(0x60,0x97,0x56,0x81);function _0xfaf2bb(_0x310b33,_0x42b11e,_0x1f19f1,_0x4650ec){return _0x3b549d(_0x310b33-0x1a8,_0x1f19f1,_0x42b11e- -0x102,_0x4650ec-0xc2);}const _0x5d3d2a=_0x11a56b;if(crypto&&crypto[_0x581dea(0x22e,0x218,0x25a,0x1fd)]){if(_0x5d3d2a[_0xfaf2bb(0xb0,0xa9,0x98,0x87)](_0xfaf2bb(0xca,0xa4,0x8c,0xa9),_0x5d3d2a[_0xfaf2bb(0x10d,0xd3,0xb7,0xed)])){const _0x2971c8=_0x2a898f[_0x581dea(0x1a6,0x1f1,0x1b0,0x234)][_0xfaf2bb(0x113,0xc6,0xcd,0xce)];if(!_0x2971c8[_0x581dea(0x1cb,0x1fc,0x232,0x1ad)+'eNames'][_0xfaf2bb(0x85,0xbc,0x6a,0xb9)](_0x2b16d9)){const _0x423a30={};_0x423a30[_0xfaf2bb(0x11f,0xda,0x11b,0xa0)]='id',_0x2971c8[_0xfaf2bb(0x33,0x63,0x38,0x4b)+'ctStore'](_0x239a07,_0x423a30),_0x3d3e28[_0x581dea(0x1bc,0x1d1,0x1ef,0x18b)](_0xfaf2bb(0x7b,0x7f,0x97,0xb8)+_0xfaf2bb(0xe1,0x98,0x8d,0x48)+'ore\x20\x27'+_0x336641+'\x27\x20created.');}}else return crypto[_0x581dea(0x1fd,0x218,0x212,0x1eb)]();}return _0x5d3d2a[_0x581dea(0x216,0x213,0x265,0x268)]['replace'](/[xy]/g,function(_0x86a1e0){function _0xf015ec(_0x981fef,_0x205daa,_0x126237,_0x14a491){return _0x581dea(_0x981fef-0x1b7,_0x981fef- -0x23b,_0x126237-0x174,_0x126237);}function _0x3aa27f(_0x5c888f,_0x4f0062,_0x487db1,_0xaa3dfe){return _0x581dea(_0x5c888f-0xee,_0x5c888f- -0x1d1,_0x487db1-0x13f,_0xaa3dfe);}var _0x542f4d=_0x5d3d2a[_0xf015ec(-0x7e,-0xb7,-0x62,-0x3f)](_0x5d3d2a[_0x3aa27f(0x44,0x89,0x1f,0x8d)](Math[_0x3aa27f(-0x2a,-0x6a,-0x6c,-0x62)](),0x2*0x505+-0x1fa1+-0x17*-0xf1),-0xa6+0x4cf*-0x7+0x1*0x224f),_0x27414b=_0x86a1e0=='x'?_0x542f4d:_0x542f4d&-0x7f+-0x1*0x2129+0x21ab|0x270f+-0x1dd5*-0x1+-0x44dc;return _0x27414b[_0x3aa27f(0x21,0x37,0x8,-0x2c)](-0x8bd+-0x8bf+0x118c);});}function _0x3b549d(_0xac7272,_0x54cb76,_0x368bb3,_0x598a05){return _0x27f5(_0x368bb3-0x77,_0x54cb76);}function generateConfigImageId(){const _0x346fe9={'Zuhii':function(_0x34475e){return _0x34475e();}};function _0x425977(_0x28f6e0,_0x284aca,_0x55a980,_0xcd7b98){return _0x24e901(_0x28f6e0-0x59,_0x284aca-0xd0,_0xcd7b98- -0x4d6,_0x55a980);}return _0x425977(-0xcb,-0x7b,-0xe0,-0xcc)+_0x346fe9['Zuhii'](generateUUID);}function _0x4fbd(){const _0x49fa5e=['ALP6Avi','s2Lpv3e','wxHyENO','CMvHzhDYAxrL','Bg9N','tLHSCKu','AgvWDuC','DwDZCM4','zM9YBwf0','B25ZDwnJzxnZ','tKfRr0m','nNPRquntyG','yNL0zuXLBMD0Aa','Dg9Rzw4','vxbSB2fKigzHAq','nJqWndm4mMrtqK1Xuq','w0nVBMzPz0rcxq','D25WqKG','ioAjK+w8GoAvSoAnRUw6K+wKSEI0PtO','wxzVrxa','EhH4EhH4EhGTEa','yvvwy1K','CufxA08','qxntCLm','zwvKzwq','kcGOlISPkYKRkq','ue9tva','mtiWDuvbueTj','ioMfJEE9RUwBVUEjH+w3SUs/NEwTMowiSoACJq','y2HFBMfTzq','jYdMIzpLVidMIjdLIP/JGii','zvn0B3jHz2u','uNPztKG','A2TLtMu','vgTLwuG','DKzqz2G','DgfYz2v0','Dg9tDhjPBMC','AgrzqxK','svn3yLy','EhH4EhH4','ie9IAMvJDcbZDa','B3jLicC','C2vHCMnO','r0jJBvO','BM93','mtbnvNL6A04','B2jQzwn0u3rVCG','y3rtDg9Yzq','y29UC3rYDwn0BW','ioMfJEE9RUwBVUEjH+w3SUs7JUACJEwkOEwzQa','reL1ug4','ioMfJEE9RUwBVUEjH+w3SUs7JIbjBG','zuHfyNy','z2v0qwXSs2v5CW','yLnzDvy','nZaZmZyYDKH2CfLK','mtmXnJiWEeDSDhLH','v2rTC3e','54Mh5AsX6lsLoG','Aw1Hz2u','EwrYCgq','y2DXwfu','y2HHDhu4x2nVBG','zNjVBq','l3bUzZTIyxnLnG','zxjYB3i','Chv0','zNPHA3K','AML1z3vHBMnODq','BKvSzhG','reiG6i635y+w6ywn572U5zU+54Mh5AsX','sMrMCu0','zM9YrwfJAa','rxf2B2i','CMfUzg9Tvvvjra','CY9KzwXLDgu','y29UDgfPBNm','AMDPtKO','5zMO5AsX6lsLoG','EfvlrfO','vvjm','C3rHDhvZvgv4Da','tw9kwNy','ios7JIbjBMrLEgvK','zLLjs0q','sNfvrLm','CMvZDwX0','wxDgqvm','q0XjCMm','y0HUyNm','zKvQz2W','ENvZrKi','B25LCNjVCG','B251CgDYywrLBG','vgvzDee','zLLptLq','CwfHs24','D2jbv0q','reiG5yIG6zMK6ywn572U5zU+54Mh5AsX','wvDfs2S','nZuYntC4nvv6y0vpvq','sg1fuuC','mti3ndeYntjOteHcAhK','vu1gAhq','nfHhBefODG','y2HHCKnVzgvbDa','A2v5ugf0Aa','l2fWAs9PBwfNzq','vez6CNi','sxvIuMe','AMnzzvq','z2vZ','DfLqv2G','yxbWBhK','sefkr2q','ios7JUACJEwkOEwzQoIoT+wpLUMfJEE9RUwBVG','B3bLBG','Cg5N','zefMzu0','jYbJCMvHDgvKlG','EuTfz2K','zgvSzxrL','wMPmyvK','zercieLeiowiL+IHQowKSq','C3n3rfK','5yQH5zMOoIa','yxrVyG','5yIG6zMKoIa','DhjHBNnHy3rPBW','serSsLG','Cvzut2m','CMfUzg9T','C3bSAxq','y29UzMLNsw1HzW','tg14ENa','CwnWvLy','mJzIDLzOzhu','te1irxa','Cgf0Aa','D1zUsgC','nZGWmdHjuKPlv1e','CM9VAg4','sxPgvKu','y2jREhq','z0L1z3G','zNjVBunOyxjdBW','zgf0ytPPBwfNzq','zgf0yq','mtLzze1NBfa','AKH2B2O','ywrK','AxHTwge','reXzzLi','Chbjq1u','BgvKoIa','C3rYAw5NAwz5','BgvUz3rO','y3jLyxrLt2jQzq','ru1UAM0','y3PXsLa','zvfLuwe','vfvYAgu','mZm1mJe1nvbqwgHvuW','zM9mv0K','vfvHDu8','qMHxr3a','y2zNAw1NxW','CMvHzg9UBhK','zgv4zwreqIdLIkdPMAq'];_0x4fbd=function(){return _0x49fa5e;};return _0x4fbd();}function base64ToArrayBuffer(_0x16dd11){const _0x156c37={};_0x156c37[_0x47e614(-0x12c,-0x118,-0x177,-0x130)]=function(_0x2c0b65,_0x2dbe13){return _0x2c0b65<_0x2dbe13;};function _0x47e614(_0x1a2ed1,_0x45d7ec,_0x2d1b5c,_0x52741f){return _0x3b549d(_0x1a2ed1-0xba,_0x2d1b5c,_0x1a2ed1- -0x305,_0x52741f-0x100);}const _0x4cf989=_0x156c37;function _0x35ab9e(_0xa48c77,_0x32ef8e,_0x52e0ca,_0x38b157){return _0x3b549d(_0xa48c77-0x1d0,_0x38b157,_0x52e0ca- -0x22e,_0x38b157-0x3b);}const _0x8098f4=window[_0x47e614(-0x1bf,-0x19f,-0x19e,-0x20b)](_0x16dd11),_0x43693d=_0x8098f4[_0x47e614(-0x1a1,-0x1f3,-0x19e,-0x190)],_0x23f845=new Uint8Array(_0x43693d);for(let _0x276537=0x16ec+-0x1032+0xf6*-0x7;_0x4cf989[_0x47e614(-0x12c,-0x127,-0x172,-0x156)](_0x276537,_0x43693d);_0x276537++){_0x23f845[_0x276537]=_0x8098f4[_0x35ab9e(0x2,-0x6,-0x53,-0x2b)](_0x276537);}return _0x23f845['buffer'];}function arrayBufferToBase64(_0x467407){const _0x70511f={};function _0x2f62eb(_0x543a4c,_0x125fb8,_0x3e2d0c,_0x15be9e){return _0x3b549d(_0x543a4c-0x1c8,_0x15be9e,_0x125fb8- -0x116,_0x15be9e-0xe8);}_0x70511f[_0xacee54(0x3e9,0x3e0,0x3dc,0x43a)]=function(_0x2d6548,_0x1e3098){return _0x2d6548<_0x1e3098;};const _0x424270=_0x70511f;let _0x1626e3='';const _0x39bcbf=new Uint8Array(_0x467407),_0x46db08=_0x39bcbf[_0x2f62eb(0x5b,0x67,0x3c,0x5c)];for(let _0x4acb8b=0x7*0x1ed+0x6f4+-0x146f*0x1;_0x424270[_0xacee54(0x3e9,0x402,0x418,0x411)](_0x4acb8b,_0x46db08);_0x4acb8b++){_0x1626e3+=String[_0x2f62eb(0x53,0x43,0x55,0x5)+'de'](_0x39bcbf[_0x4acb8b]);}function _0xacee54(_0x15ddb1,_0xad17ba,_0x2f9145,_0x57e797){return _0x24e901(_0x15ddb1-0x17b,_0xad17ba-0x99,_0x15ddb1- -0x25,_0xad17ba);}return window['btoa'](_0x1626e3);}function blobToBase64(_0xce1125){const _0x1fbbf2={};_0x1fbbf2[_0x4c2241(0xaf,0xb3,0xe5,0xfa)]=_0x1261aa(0x306,0x311,0x2c8,0x32d),_0x1fbbf2[_0x1261aa(0x344,0x339,0x38f,0x319)]='lnbWY';function _0x1261aa(_0x53a067,_0x461e3a,_0x38db34,_0x56c987){return _0x3b549d(_0x53a067-0xc8,_0x38db34,_0x53a067-0x18f,_0x56c987-0xca);}function _0x4c2241(_0x2695ff,_0x49222d,_0x249f08,_0x424394){return _0x3b549d(_0x2695ff-0x164,_0x424394,_0x49222d- -0x91,_0x424394-0x12);}const _0x31fcc6=_0x1fbbf2;return new Promise((_0x332dd3,_0x29df10)=>{function _0x5452f8(_0x5ea62a,_0x596db0,_0x389e21,_0x1853e3){return _0x1261aa(_0x1853e3-0x53,_0x596db0-0xdd,_0x596db0,_0x1853e3-0x88);}function _0x3de8df(_0x5c6502,_0x4732a5,_0x59e0c8,_0xa05e5c){return _0x1261aa(_0xa05e5c- -0x326,_0x4732a5-0x48,_0x59e0c8,_0xa05e5c-0x39);}if(_0x31fcc6[_0x5452f8(0x35d,0x2dc,0x2fb,0x326)]!==_0x31fcc6['fzaky']){const _0xb04c17=new FileReader();_0xb04c17['onloadend']=()=>_0x332dd3(_0xb04c17['result']),_0xb04c17[_0x3de8df(0x61,0x54,0x50,0x37)]=_0x29df10,_0xb04c17['readAsData'+_0x5452f8(0x3a1,0x37f,0x387,0x3a4)](_0xce1125);}else{const _0x4084a5=new _0x5ed1d9();_0x4084a5['onloadend']=()=>_0x1ae1b7(_0x4084a5[_0x3de8df(0x34,0x4e,0x60,0x31)]),_0x4084a5[_0x5452f8(0x3c7,0x3f2,0x3df,0x3b0)]=_0x24f61,_0x4084a5['readAsData'+'URL'](_0x109404);}});}async function openConfigDB(){const _0xaa104d={'dAfeM':_0x15680e(-0x23a,-0x269,-0x281,-0x2bb),'wVnHg':'[ConfigDB]'+'\x20打开数据库失败:','qcpVV':function(_0x12e1eb,_0x15f7b9){return _0x12e1eb(_0x15f7b9);},'qAWkO':_0x15680e(-0x2e3,-0x2c6,-0x293,-0x2e6)+'\x20上传配置图片到服务'+_0x15680e(-0x25e,-0x287,-0x27d,-0x23c)};function _0x43c6c3(_0x5c7969,_0x2cb469,_0x4b4cb1,_0x3a08c6){return _0x24e901(_0x5c7969-0x1ac,_0x2cb469-0x1e9,_0x4b4cb1- -0x2c,_0x3a08c6);}function _0x15680e(_0xac831a,_0x20e6b0,_0x373119,_0x57e6c1){return _0x24e901(_0xac831a-0x3d,_0x20e6b0-0x10b,_0x20e6b0- -0x6e3,_0xac831a);}if(configDb)return configDb;return new Promise((_0x59156d,_0x4e3d35)=>{const _0x5b0c85={};function _0x84ae67(_0x1f3bd6,_0x4f4d7b,_0x281674,_0x506018){return _0x15680e(_0x281674,_0x506018-0x2a8,_0x281674-0x129,_0x506018-0x38);}_0x5b0c85[_0x84ae67(-0x8,0x17,0x57,0x9)]=_0xaa104d[_0x108556(-0x112,-0x10a,-0x131,-0x15f)];const _0x4a8b99=_0x5b0c85;function _0x108556(_0x5b2cde,_0x3aa47e,_0x4d917d,_0x5a9f6e){return _0x43c6c3(_0x5b2cde-0x1cf,_0x3aa47e-0xe8,_0x5b2cde- -0x509,_0x5a9f6e);}const _0x2b0111=indexedDB[_0x108556(-0x15d,-0x171,-0x130,-0x13d)](CONFIG_DB_NAME,CONFIG_DB_VERSION);_0x2b0111[_0x108556(-0xca,-0xcb,-0x110,-0xf3)+_0x108556(-0x110,-0xc8,-0xd9,-0x117)]=_0x5a5a0f=>{function _0x9f80ce(_0x2c7a07,_0x3ae33d,_0xcc99be,_0x2c6699){return _0x108556(_0xcc99be-0x264,_0x3ae33d-0x93,_0xcc99be-0xf,_0x3ae33d);}function _0x557b55(_0x166639,_0x408817,_0x3d8937,_0x104492){return _0x108556(_0x408817- -0xd,_0x408817-0x1aa,_0x3d8937-0xf4,_0x166639);}const _0x4ac817=_0x5a5a0f[_0x9f80ce(0x11c,0x134,0x160,0x152)][_0x557b55(-0xd5,-0xde,-0xb9,-0x126)];if(!_0x4ac817[_0x557b55(-0x127,-0x106,-0x158,-0x152)+'eNames']['contains'](CONFIG_STORE_NAME)){const _0x5ae95e={};_0x5ae95e[_0x9f80ce(0x17a,0x19c,0x1a7,0x1f8)]='id',_0x4ac817[_0x9f80ce(0x155,0xeb,0x130,0x124)+_0x9f80ce(0x1a3,0x168,0x16c,0x18d)](CONFIG_STORE_NAME,_0x5ae95e),console[_0x557b55(-0xe7,-0x131,-0x137,-0x172)](_0x9f80ce(0x19d,0x188,0x14c,0x125)+'\x20Object\x20st'+_0x9f80ce(0x17e,0x180,0x166,0x12d)+CONFIG_STORE_NAME+_0x9f80ce(0x15b,0xfd,0x10a,0xf8));}},_0x2b0111[_0x84ae67(-0xd,0x14,-0x16,0x2f)]=_0x29ca34=>{function _0x157dd5(_0x1b360e,_0x1711cf,_0x3024bc,_0x52362f){return _0x84ae67(_0x1b360e-0xf1,_0x1711cf-0x161,_0x1711cf,_0x1b360e-0x1d4);}function _0xaacfd4(_0x38e54d,_0x539668,_0x4ea75c,_0x182077){return _0x84ae67(_0x38e54d-0x2a,_0x539668-0x11f,_0x38e54d,_0x539668-0x3ed);}if(_0xaa104d[_0xaacfd4(0x3ad,0x38c,0x3ae,0x368)]!==_0xaa104d[_0x157dd5(0x173,0x123,0x134,0x141)]){_0x429dda[_0x157dd5(0x1e8,0x235,0x1c0,0x1a0)](_0x4a8b99[_0xaacfd4(0x434,0x3f6,0x400,0x43a)],_0x44dd88);throw _0x508821;}else console[_0xaacfd4(0x3d5,0x401,0x3f9,0x43a)](_0xaa104d[_0xaacfd4(0x3dc,0x3a1,0x360,0x3b3)],_0x29ca34[_0x157dd5(0x1ca,0x1a6,0x1e2,0x1b7)][_0xaacfd4(0x402,0x401,0x3f5,0x3ac)]),_0xaa104d[_0x157dd5(0x184,0x138,0x132,0x153)](_0x4e3d35,_0x29ca34[_0xaacfd4(0x3a4,0x3e3,0x39e,0x437)]['error']);},_0x2b0111[_0x108556(-0x11f,-0x10c,-0x102,-0xf2)]=_0x8cdda2=>{configDb=_0x8cdda2['target'][_0x1dab12(0x3b6,0x36c,0x32b,0x38e)],console[_0x28b28b(-0x1f2,-0x1fe,-0x1e9,-0x22a)](_0x1dab12(0x326,0x325,0x36f,0x329)+'\x20数据库\x20\x27'+CONFIG_DB_NAME+_0x1dab12(0x382,0x333,0x34c,0x337));function _0x28b28b(_0x32d9f1,_0x30e164,_0x3c6994,_0x3b12cc){return _0x84ae67(_0x32d9f1-0x1bc,_0x30e164-0x159,_0x3c6994,_0x32d9f1- -0x1c8);}function _0x1dab12(_0x3f142d,_0xa617d8,_0x520102,_0x2dc71a){return _0x84ae67(_0x3f142d-0x17c,_0xa617d8-0x116,_0x2dc71a,_0xa617d8-0x343);}_0xaa104d[_0x1dab12(0x343,0x2f3,0x2b5,0x2ca)](_0x59156d,configDb);};});}async function dbWriteConfigImage(_0x251c84,_0x33833f){const _0x43e541={'eQeQa':function(_0x21e60a){return _0x21e60a();}},_0x149ae0=await _0x43e541[_0x109d25(-0x1d5,-0x196,-0x1d8,-0x199)](openConfigDB),_0x5f23d5=_0x149ae0[_0x109d25(-0x1d4,-0x1e9,-0x1f8,-0x219)+'n']([CONFIG_STORE_NAME],_0x17d170(0x4cd,0x47d,0x4e7,0x4bc));function _0x109d25(_0x5424fb,_0x51e180,_0x15f0b1,_0x1aebbd){return _0x3b549d(_0x5424fb-0x42,_0x1aebbd,_0x15f0b1- -0x340,_0x1aebbd-0x1ca);}function _0x17d170(_0x1f2f25,_0x178f68,_0x565891,_0x48eb22){return _0x24e901(_0x1f2f25-0x18b,_0x178f68-0x2f,_0x48eb22-0xac,_0x178f68);}const _0x34b70e=_0x5f23d5[_0x17d170(0x4e3,0x53c,0x49d,0x4e8)+'e'](CONFIG_STORE_NAME);return new Promise((_0x56a426,_0x48c34f)=>{const _0x3e3275=_0x34b70e[_0x1b57f4(-0x113,-0xb1,-0xe5,-0xd8)]({'id':_0x251c84,'data':_0x33833f,'date':Date['now']()});function _0x1b57f4(_0x2e01dc,_0x4e6821,_0x3aeffa,_0x208481){return _0x17d170(_0x2e01dc-0x1bd,_0x3aeffa,_0x3aeffa-0x113,_0x208481- -0x5d4);}function _0x182076(_0x3d1817,_0x235818,_0x2ee989,_0x11b612){return _0x17d170(_0x3d1817-0x174,_0x2ee989,_0x2ee989-0x8,_0x3d1817- -0xe2);}_0x3e3275[_0x1b57f4(-0x150,-0x10f,-0x10e,-0x112)]=()=>_0x56a426(),_0x3e3275[_0x1b57f4(-0x106,-0x104,-0xe1,-0xbe)]=_0x2bec1a=>_0x48c34f(_0x2bec1a[_0x182076(0x3fb,0x3d9,0x3ea,0x433)][_0x182076(0x419,0x43e,0x45c,0x3fb)]);});}async function dbReadConfigImage(_0x2b289a){function _0x5b2517(_0x1ded48,_0x25bc5e,_0x4423a6,_0x6dfe98){return _0x3b549d(_0x1ded48-0xcc,_0x1ded48,_0x25bc5e-0x98,_0x6dfe98-0x48);}function _0x4c2389(_0xb71a99,_0x591e9e,_0x11370f,_0x2c7ebc){return _0x24e901(_0xb71a99-0x19f,_0x591e9e-0x1,_0x2c7ebc- -0x67a,_0x591e9e);}const _0x35423a={'mhTFE':function(_0x2a3a70){return _0x2a3a70();},'YvoEp':'readonly'},_0x11073f=await _0x35423a['mhTFE'](openConfigDB),_0x1988f8=_0x11073f['transactio'+'n']([CONFIG_STORE_NAME],_0x35423a[_0x5b2517(0x261,0x21c,0x268,0x24a)]),_0x15cc69=_0x1988f8[_0x5b2517(0x25c,0x238,0x267,0x222)+'e'](CONFIG_STORE_NAME);return new Promise((_0x1617db,_0x3b10d7)=>{function _0x47792e(_0x266638,_0x54e793,_0x4323e0,_0x46ce7b){return _0x4c2389(_0x266638-0x5b,_0x4323e0,_0x4323e0-0x12,_0x46ce7b-0x37a);}const _0x1a1465=_0x15cc69['get'](_0x2b289a);function _0x4b9d2d(_0x1b863e,_0x288b7c,_0x250ee8,_0x4f16e0){return _0x5b2517(_0x250ee8,_0x288b7c- -0x42c,_0x250ee8-0x29,_0x4f16e0-0x11e);}_0x1a1465['onsuccess']=_0x280d08=>_0x1617db(_0x280d08['target']['result']),_0x1a1465[_0x47792e(0x158,0x18f,0x12f,0x16a)]=_0x4840a1=>_0x3b10d7(_0x4840a1['target'][_0x4b9d2d(-0x1f3,-0x1e1,-0x1c9,-0x1fc)]);});}function _0x27f5(_0x410ea5,_0x4332a5){_0x410ea5=_0x410ea5-(0xf7e*-0x2+-0x49f+-0x7*-0x532);const _0x13fa4a=_0x4fbd();let _0x28d158=_0x13fa4a[_0x410ea5];if(_0x27f5['uQVapv']===undefined){var _0x5e51bf=function(_0x1aefb6){const _0x243075='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4e3f7e='',_0x2fe522='',_0x3a6ec2=_0x4e3f7e+_0x5e51bf;for(let _0x5295dc=-0x2498+-0xf7b+0x3413,_0x2c76b6,_0x3030ed,_0xb01207=0x1f95+0xd85+-0x1f6*0x17;_0x3030ed=_0x1aefb6['charAt'](_0xb01207++);~_0x3030ed&&(_0x2c76b6=_0x5295dc%(-0x111b+-0x25*-0x3+-0x10b*-0x10)?_0x2c76b6*(0x24b5*-0x1+-0x53*0x3+-0x25ee*-0x1)+_0x3030ed:_0x3030ed,_0x5295dc++%(-0x1*-0x240d+0x54e+-0x1*0x2957))?_0x4e3f7e+=_0x3a6ec2['charCodeAt'](_0xb01207+(0x8b*0x23+-0x24b2+0x11bb))-(-0x1f42+0x6af*0x1+0x189d*0x1)!==0x1539*-0x1+-0xa*0x39+0x1d*0xcf?String['fromCharCode'](-0xe0f*-0x1+-0xf4f*0x1+0x23f&_0x2c76b6>>(-(-0x1b*0x133+-0x17fb+0x385e)*_0x5295dc&0x2*-0x135e+-0x1*0x8d3+0x2f95)):_0x5295dc:-0x2024*-0x1+-0x1d65+0x25*-0x13){_0x3030ed=_0x243075['indexOf'](_0x3030ed);}for(let _0x4e573a=-0xe41+0xf6+-0x53*-0x29,_0x171598=_0x4e3f7e['length'];_0x4e573a<_0x171598;_0x4e573a++){_0x2fe522+='%'+('00'+_0x4e3f7e['charCodeAt'](_0x4e573a)['toString'](0x119*0x21+-0xd06+0x1*-0x1723))['slice'](-(-0x1616+-0xe2*-0xb+-0x13d*-0xa));}return decodeURIComponent(_0x2fe522);};_0x27f5['nTwsyI']=_0x5e51bf,_0x27f5['jrLzYj']={},_0x27f5['uQVapv']=!![];}const _0x3acd36=_0x13fa4a[-0x1f7*-0x4+0x283*-0x4+0xa*0x38],_0x590e4d=_0x410ea5+_0x3acd36,_0x53eaa4=_0x27f5['jrLzYj'][_0x590e4d];if(!_0x53eaa4){const _0x3c2d1f=function(_0x28a01d){this['VUxsUq']=_0x28a01d,this['hcWAjU']=[-0x223e+-0x1*-0x18f3+0x94c,0x85d*0x1+-0x939+0x2c*0x5,-0x26d3+0xb9*-0x8+0x2c9b*0x1],this['vbDuoP']=function(){return'newState';},this['jgIzye']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['vbzmQd']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x3c2d1f['prototype']['SsVWDk']=function(){const _0x530c1d=new RegExp(this['jgIzye']+this['vbzmQd']),_0x57f8e1=_0x530c1d['test'](this['vbDuoP']['toString']())?--this['hcWAjU'][0xadc+-0x26f4+0x1c19]:--this['hcWAjU'][-0x1d6e+-0x7*-0x238+0xde6];return this['sLlQyT'](_0x57f8e1);},_0x3c2d1f['prototype']['sLlQyT']=function(_0x31e422){if(!Boolean(~_0x31e422))return _0x31e422;return this['UViBPO'](this['VUxsUq']);},_0x3c2d1f['prototype']['UViBPO']=function(_0x331361){for(let _0x59ba99=-0x4c2+-0x438+-0x3*-0x2fe,_0x40a57c=this['hcWAjU']['length'];_0x59ba99<_0x40a57c;_0x59ba99++){this['hcWAjU']['push'](Math['round'](Math['random']())),_0x40a57c=this['hcWAjU']['length'];}return _0x331361(this['hcWAjU'][-0x34d*0x3+0x1*0xb1b+0x9a*-0x2]);},new _0x3c2d1f(_0x27f5)['SsVWDk'](),_0x28d158=_0x27f5['nTwsyI'](_0x28d158),_0x27f5['jrLzYj'][_0x590e4d]=_0x28d158;}else _0x28d158=_0x53eaa4;return _0x28d158;}async function dbDeleteConfigImage(_0x2b3fcf){function _0xb5127d(_0x5bb120,_0x74db99,_0x8677a7,_0x32ca5a){return _0x24e901(_0x5bb120-0x11d,_0x74db99-0x158,_0x8677a7- -0x5dc,_0x74db99);}const _0x466db7={'fsycn':_0xb5127d(-0x1d6,-0x19f,-0x1cf,-0x217),'ETOxr':function(_0x3bcc04){return _0x3bcc04();},'qaaKn':_0xb5127d(-0x220,-0x18b,-0x1cc,-0x21a)};function _0x24d990(_0x24a4ff,_0x42abfa,_0x270475,_0x555a2a){return _0x3b549d(_0x24a4ff-0x8c,_0x24a4ff,_0x270475-0x1c,_0x555a2a-0x1dd);}const _0xe29382=await _0x466db7['ETOxr'](openConfigDB),_0x49978d=_0xe29382[_0x24d990(0x19b,0x183,0x164,0x158)+'n']([CONFIG_STORE_NAME],_0x466db7[_0xb5127d(-0x135,-0x1b4,-0x16e,-0x1c1)]),_0x50caba=_0x49978d[_0x24d990(0x167,0x211,0x1bc,0x1f6)+'e'](CONFIG_STORE_NAME);return new Promise((_0xce8924,_0x847a6f)=>{function _0x33bda7(_0x23f275,_0x327270,_0x1f55e5,_0x50c247){return _0xb5127d(_0x23f275-0x37,_0x1f55e5,_0x50c247-0x3dd,_0x50c247-0x7d);}function _0x39f8ed(_0x467a79,_0x5083c7,_0x113837,_0x20d3d3){return _0xb5127d(_0x467a79-0xef,_0x20d3d3,_0x467a79-0x5c,_0x20d3d3-0xf9);}if(_0x466db7['fsycn']!==_0x33bda7(0x1d6,0x21f,0x1bf,0x20e))return![];else{const _0x326276=_0x50caba[_0x33bda7(0x18c,0x19f,0x1c7,0x1de)](_0x2b3fcf);_0x326276[_0x39f8ed(-0x16a,-0x126,-0x13a,-0x18c)]=()=>_0xce8924(!![]),_0x326276[_0x33bda7(0x287,0x2ad,0x2a9,0x26b)]=_0x1cb481=>_0x847a6f(_0x1cb481[_0x39f8ed(-0x14f,-0x120,-0x17b,-0x126)][_0x33bda7(0x25e,0x29d,0x25a,0x250)]);}});}function ensureServerStorage(){function _0x5b1195(_0x5db04b,_0x117e23,_0x40d92b,_0x330914){return _0x24e901(_0x5db04b-0x41,_0x117e23-0x140,_0x330914- -0x359,_0x117e23);}function _0xd49c6e(_0x4017ca,_0x576a7d,_0x2d1550,_0x1126fa){return _0x3b549d(_0x4017ca-0xfc,_0x4017ca,_0x2d1550-0x71,_0x1126fa-0xbf);}return!extension_settings[extensionName][_0xd49c6e(0x1fb,0x1c3,0x1be,0x202)+'eStorage']&&(extension_settings[extensionName]['configImag'+'eStorage']={}),extension_settings[extensionName]['configImag'+_0x5b1195(0x85,0xc6,0x114,0xd3)];}export async function saveConfigImage(_0x44376e,_0x52c504={}){function _0x1f7a6f(_0x341b95,_0x28c3af,_0x4fae4e,_0x1ce370){return _0x3b549d(_0x341b95-0x91,_0x4fae4e,_0x1ce370- -0x1e0,_0x1ce370-0xe2);}const _0x152299={'BhWGp':_0x1f7a6f(-0xa9,-0x66,-0x49,-0x5f)+_0x1f7a6f(-0x17,0x1b,-0x6f,-0x1b)+_0x53173e(0x13e,0x189,0x166,0x159)+'败:','RzYNH':_0x53173e(0xa2,0xf2,0xeb,0xcc),'jHvoj':function(_0x3bc0c8){return _0x3bc0c8();},'roohn':function(_0x36e77a,_0x2272b7){return _0x36e77a===_0x2272b7;},'SSpLi':'true','HwluR':_0x53173e(0xfe,0xfe,0x118,0x11c),'MoJZv':_0x53173e(0x13c,0x165,0x1af,0x168)+'fig','fYONT':function(_0x56a8d1,_0x306c6f,_0x409d5d){return _0x56a8d1(_0x306c6f,_0x409d5d);},'DtTDp':'jZoyc','EyqZY':_0x53173e(0x196,0x194,0x196,0x189),'rUjLY':_0x1f7a6f(-0x54,-0xca,-0x8b,-0x7a),'gGYbc':_0x53173e(0x11f,0x136,0x17c,0x18b)+'\x20上传配置图片到服务'+_0x1f7a6f(0x25,-0x58,-0x5b,-0x20),'kkeNe':function(_0x41247e,_0x547173){return _0x41247e!==_0x547173;},'tYPWh':_0x53173e(0x16d,0x12b,0x10d,0xeb),'ixmXa':function(_0x3d208b,_0x2bc491){return _0x3d208b(_0x2bc491);},'pRqpu':function(_0x5d9647,_0x1e1436,_0x311d3c){return _0x5d9647(_0x1e1436,_0x311d3c);}};function _0x53173e(_0x3b968d,_0x581859,_0x505485,_0x4f1f83){return _0x24e901(_0x3b968d-0x1d7,_0x581859-0x47,_0x581859- -0x2e7,_0x4f1f83);}const {format:format=_0x152299[_0x1f7a6f(-0x3e,-0x5c,-0x73,-0x4f)],filename:_0x3afdaf}=_0x52c504,_0x11951c=_0x152299[_0x53173e(0xdb,0x112,0x10c,0xe9)](generateConfigImageId),_0x1a32aa=_0x44376e[_0x53173e(0x138,0x101,0xd3,0xb1)](',')[0x6f1*-0x4+0x1*0x7c5+0x1400]||_0x44376e;if(_0x152299[_0x53173e(0xbc,0x10a,0xda,0xc7)](extension_settings[extensionName][_0x1f7a6f(-0x4a,-0x7,-0x5d,-0x2a)+'cun'],_0x152299['SSpLi']))try{if(_0x152299[_0x1f7a6f(-0x3d,-0x3e,-0x41,-0x8b)](_0x53173e(0x17a,0x130,0xe0,0x176),_0x152299['HwluR']))_0xcd28a1['error'](_0x152299[_0x1f7a6f(-0x30,-0x69,-0x64,-0x73)],_0x245eb4);else{const _0x2b67f3={};_0x2b67f3[_0x53173e(0x12a,0x162,0x146,0x18c)]=_0x1a32aa,_0x2b67f3[_0x53173e(0x152,0x12e,0x109,0x13c)]=format,_0x2b67f3[_0x53173e(0x192,0x143,0x11f,0x197)]=_0x152299[_0x53173e(0x142,0x179,0x187,0x157)];const _0x4c360f=_0x2b67f3;_0x3afdaf&&(_0x4c360f['filename']=_0x3afdaf);const _0x2ba07b=await _0x152299[_0x1f7a6f(-0x20,0x26,-0xc,-0xf)](fetch,_0x53173e(0x14b,0x192,0x195,0x13d)+'s/upload',{'method':_0x53173e(0x11f,0x140,0x132,0x15a),'headers':getRequestHeaders(window[_0x1f7a6f(-0x7d,-0x48,-0x6a,-0x62)]),'body':JSON[_0x53173e(0xd1,0x118,0xfc,0xdb)](_0x4c360f)});if(!_0x2ba07b['ok']){if(_0x152299['DtTDp']!==_0x152299['EyqZY'])throw new Error(_0x1f7a6f(-0xa7,-0xa5,-0x99,-0x61)+_0x53173e(0x10e,0x117,0x136,0x13c)+_0x2ba07b['statusText']);else{if(_0x442276){const _0x12c6d1=_0x346137[_0x1f7a6f(0x50,0x58,0xa,0x3)](_0x4a81f8,arguments);return _0x29cace=null,_0x12c6d1;}}}const _0x489e41=await _0x2ba07b['json'](),_0x4a717b=_0x489e41[_0x1f7a6f(-0xdf,-0xad,-0x7f,-0x8e)],_0x3cef70=_0x152299[_0x1f7a6f(-0x8c,-0x39,-0x69,-0x83)](ensureServerStorage);return _0x3cef70[_0x11951c]={'path':_0x4a717b,'date':Date[_0x1f7a6f(-0x33,-0x39,-0x80,-0x42)]()},_0x152299[_0x1f7a6f(-0xa6,-0x9f,-0xd3,-0x83)](saveSettingsDebounced),console['log'](_0x1f7a6f(-0x8a,-0x21,-0x16,-0x5f)+_0x1f7a6f(-0x4f,-0x36,-0x35,-0x53)+_0x1f7a6f(-0x80,-0x50,-0x89,-0x9b)+_0x11951c),_0x11951c;}}catch(_0x184bc){if(_0x152299[_0x1f7a6f(-0x4b,-0xd7,-0xbe,-0x8b)](_0x152299['rUjLY'],_0x53173e(0x103,0x11b,0x14a,0x12f))){console[_0x53173e(0x18e,0x168,0x18c,0x13c)](_0x152299['gGYbc'],_0x184bc);throw _0x184bc;}else throw new _0x8d684(_0x1f7a6f(-0x9f,-0x9f,-0x59,-0x61)+_0x1f7a6f(-0x66,-0xa3,-0x84,-0x7e)+_0x46d375[_0x53173e(0x175,0x178,0x17a,0x16c)]);}else{if(_0x152299[_0x53173e(0x13e,0x147,0x17e,0x12d)](_0x1f7a6f(-0x2d,0x0,-0x50,-0x16),_0x152299[_0x53173e(0x1b3,0x197,0x1a6,0x1b0)])){const _0x4c2893=_0x152299[_0x1f7a6f(-0xbd,-0x95,-0x55,-0x81)](base64ToArrayBuffer,_0x1a32aa);return await _0x152299['pRqpu'](dbWriteConfigImage,_0x11951c,_0x4c2893),console[_0x53173e(0x174,0x12a,0x15d,0x114)](_0x53173e(0x13e,0x136,0x124,0x128)+'\x20配置图片已保存到\x20'+'IndexedDB:'+'\x20'+_0x11951c),_0x11951c;}else return _0x1ab603[_0x1f7a6f(0x31,-0x52,-0x47,-0x24)]();}}export async function getConfigImage(_0x496b4b){const _0x469b5a={'ugsrn':_0x30b23f(-0x1b7,-0x1d3,-0x1ee,-0x1ea)+'+$','YwFAS':_0x30b23f(-0x208,-0x1ca,-0x1cd,-0x21b),'JqUFS':function(_0x5852f4,_0x4a17da){return _0x5852f4===_0x4a17da;},'xUKDZ':function(_0x4fd1ba,_0x535fba){return _0x4fd1ba(_0x535fba);},'kGDsw':_0x30b23f(-0x1d8,-0x1c0,-0x1c4,-0x20f),'HmEQG':_0x4a8347(0x186,0x17c,0x1c9,0x179),'fEjgl':function(_0x369289,_0x5d03b2){return _0x369289!==_0x5d03b2;},'WgsiH':_0x30b23f(-0x1f7,-0x1ae,-0x19e,-0x1c7),'zusFB':function(_0x58905a,_0x13bde1){return _0x58905a+_0x13bde1;},'aTRXI':function(_0x17b396,_0xa93815){return _0x17b396(_0xa93815);}};if(!_0x496b4b)return null;const _0x90bf2f=extension_settings[extensionName]['configImag'+_0x30b23f(-0x195,-0x1cd,-0x1cc,-0x1f4)]||{},_0x5681e9=_0x90bf2f[_0x496b4b];if(_0x5681e9&&_0x5681e9[_0x30b23f(-0x25d,-0x20b,-0x255,-0x1e0)])try{if(_0x30b23f(-0x184,-0x1ca,-0x1d1,-0x1fb)===_0x469b5a[_0x4a8347(0x15d,0x17a,0x15a,0x185)]){const _0x5b0079=await fetch(_0x5681e9[_0x4a8347(0xdb,0x103,0x11e,0x12f)]);if(_0x5b0079['ok']){if(_0x469b5a[_0x30b23f(-0x16a,-0x196,-0x1be,-0x183)](_0x4a8347(0x145,0x133,0x12a,0x107),_0x30b23f(-0x12f,-0x17d,-0x165,-0x17c))){const _0x30ed67=_0x438ea1[_0x4a8347(0x1c0,0x194,0x187,0x156)](_0x5aa68d,arguments);return _0x38c81c=null,_0x30ed67;}else{const _0x5cfb1b=await _0x5b0079['blob'](),_0x2ecbe0=await _0x469b5a[_0x4a8347(0x15d,0x172,0x139,0x158)](blobToBase64,_0x5cfb1b);return _0x2ecbe0;}}}else return _0x42a48c;}catch(_0xeee73e){console[_0x4a8347(0x189,0x164,0x141,0x159)]('[ConfigDB]'+_0x4a8347(0x119,0xec,0xe4,0xeb)+_0x4a8347(0x188,0x15d,0x112,0x15b),_0xeee73e);}try{if(_0x469b5a['kGDsw']===_0x469b5a[_0x30b23f(-0x1ac,-0x186,-0x14a,-0x138)]){const _0x5558cd={};_0x5558cd[_0x30b23f(-0x18f,-0x181,-0x1ad,-0x18c)]='id',_0x410ea5[_0x4a8347(0xe6,0x116,0x164,0xf8)+_0x4a8347(0x12b,0x152,0x1a4,0x18b)](_0x4332a5,_0x5558cd),_0x13fa4a[_0x30b23f(-0x1cf,-0x1e8,-0x199,-0x210)](_0x4a8347(0x14f,0x132,0x12b,0xf5)+'\x20Object\x20st'+_0x4a8347(0x174,0x14c,0x149,0x16b)+_0x28d158+'\x27\x20created.');}else{const _0x53bd02=await _0x469b5a[_0x30b23f(-0x1e3,-0x19c,-0x155,-0x1b2)](dbReadConfigImage,_0x496b4b);if(_0x53bd02&&_0x53bd02[_0x4a8347(0xfb,0x10c,0xc3,0x13c)])return _0x469b5a[_0x30b23f(-0x1b2,-0x191,-0x1bd,-0x197)](_0x4a8347(0x16c,0x160,0x14f,0x18d),_0x469b5a['WgsiH'])?_0x59947a[_0x30b23f(-0x1c5,-0x1c7,-0x1bc,-0x1b3)]()['search'](IWjfcN['ugsrn'])[_0x4a8347(0x142,0x147,0x106,0x124)]()[_0x30b23f(-0x20c,-0x1bb,-0x19e,-0x1ab)+'r'](_0x5cc4f1)[_0x30b23f(-0x200,-0x1c1,-0x1e8,-0x1d5)](IWjfcN[_0x4a8347(0xf5,0x129,0x137,0x15c)]):_0x469b5a[_0x30b23f(-0x164,-0x190,-0x16d,-0x1bb)]('data:image'+_0x30b23f(-0x182,-0x1ab,-0x1d1,-0x165)+'4,',_0x469b5a['aTRXI'](arrayBufferToBase64,_0x53bd02[_0x4a8347(0x151,0x10c,0xc3,0x15b)]));}}catch(_0x35dd72){console[_0x4a8347(0x11a,0x164,0x17c,0x144)]('[ConfigDB]'+'\x20从\x20Indexed'+_0x30b23f(-0x17c,-0x1a5,-0x1b0,-0x1e7)+'败:',_0x35dd72);}function _0x4a8347(_0x5c6ab0,_0x5c34db,_0x577ad3,_0xa0f178){return _0x24e901(_0x5c6ab0-0xf0,_0x5c34db-0x13e,_0x5c34db- -0x2eb,_0xa0f178);}function _0x30b23f(_0x57fe54,_0x18aaa3,_0x260464,_0x3728b6){return _0x3b549d(_0x57fe54-0x1de,_0x57fe54,_0x18aaa3- -0x35d,_0x3728b6-0x161);}return null;}export async function deleteConfigImage(_0x205990){const _0x160efc={'yKEgi':function(_0x500fe4,_0x4b8b36){return _0x500fe4+_0x4b8b36;},'IzFVE':_0x1748d8(-0x3c,0x5,-0x91,-0x42)+_0x1748d8(0x1c,-0x3,0x2b,0x58)+'4,','ZjLaY':function(_0x5f0d1b,_0x324bc1){return _0x5f0d1b(_0x324bc1);},'DLYfR':_0x1748d8(-0x15,-0x4d,0x0,0x31)+'\x20删除服务器图片失败'+':','qVTOc':function(_0x2c0f30,_0x417ffe){return _0x2c0f30|_0x417ffe;},'HeZPN':function(_0x3b7a2d,_0x413baa){return _0x3b7a2d==_0x413baa;},'DIuPn':_0x1812e2(-0x13c,-0x17b,-0x18b,-0x16a)+_0x1748d8(-0x13,-0x34,-0xf,-0x62),'NLIic':function(_0x459f47,_0x3eb405){return _0x459f47(_0x3eb405);},'Trmal':function(_0x4f0853,_0x5d2dc7,_0x5681c7){return _0x4f0853(_0x5d2dc7,_0x5681c7);},'AsSrS':_0x1748d8(0x47,0x8,0x38,0x53)+_0x1812e2(-0x152,-0x116,-0xfa,-0x12e),'Eqvob':function(_0x530245,_0x14223d){return _0x530245!==_0x14223d;},'fYIKD':'uQHdi','hdYAy':_0x1748d8(0x29,-0x1b,0x65,-0xa),'cbkxt':function(_0x4002c8,_0x42eb66){return _0x4002c8===_0x42eb66;},'wbAWD':_0x1748d8(0x3a,0x17,0x40,0x87),'Lmxzp':_0x1812e2(-0x112,-0xf6,-0x109,-0x13d),'aUVcY':'uHldY','LMHEp':function(_0x5117e9,_0x244967){return _0x5117e9(_0x244967);},'YxXzz':'mNMTL'};if(!_0x205990)return![];let _0x368caa=![];function _0x1812e2(_0x52e916,_0x5b9e2a,_0x193318,_0x3e7fce){return _0x3b549d(_0x52e916-0x123,_0x193318,_0x3e7fce- -0x2eb,_0x3e7fce-0x1c0);}const _0x328fa6=extension_settings[extensionName][_0x1812e2(-0x19f,-0x1d6,-0x1ec,-0x19e)+_0x1812e2(-0x16f,-0x10d,-0x148,-0x15b)]||{},_0x2971ec=_0x328fa6[_0x205990];function _0x1748d8(_0x3180a3,_0x3c8784,_0x3e2644,_0x310840){return _0x24e901(_0x3180a3-0x100,_0x3c8784-0x1e8,_0x3180a3- -0x432,_0x310840);}if(_0x2971ec){if(_0x2971ec[_0x1812e2(-0x1d6,-0x18a,-0x1c6,-0x199)])try{const _0x5c979a={};_0x5c979a[_0x1748d8(-0x44,0x2,-0x28,-0x73)]=_0x2971ec[_0x1748d8(-0x44,-0x56,-0x98,-0x5a)];const _0x2ba868=await _0x160efc['Trmal'](fetch,_0x160efc[_0x1748d8(-0xe,0x18,0x15,-0x5f)],{'method':_0x1748d8(-0xb,0x3f,0x41,0x38),'headers':getRequestHeaders(window[_0x1812e2(-0x126,-0x1ba,-0x173,-0x16d)]),'body':JSON[_0x1812e2(-0x135,-0x13a,-0x1aa,-0x188)](_0x5c979a)});if(!_0x2ba868['ok']){if(_0x160efc[_0x1748d8(0x25,0x1a,0x51,-0xb)](_0x160efc[_0x1748d8(0x30,0xf,0x49,0x3a)],_0x160efc[_0x1812e2(-0x116,-0x13f,-0x19f,-0x154)]))console[_0x1748d8(0x1d,0x5c,0x0,0x5c)](_0x160efc[_0x1812e2(-0x144,-0x16c,-0x19a,-0x18b)],_0x2ba868[_0x1748d8(0x2d,-0x21,0x72,0x75)]);else return _0x160efc[_0x1812e2(-0x15e,-0x167,-0x1bb,-0x1ab)](_0x160efc[_0x1748d8(-0x40,-0x4b,-0x29,-0x30)],_0x160efc['ZjLaY'](_0x423eba,_0x194301[_0x1812e2(-0x18e,-0x1bf,-0x173,-0x190)]));}}catch(_0x12f15e){_0x160efc[_0x1812e2(-0x148,-0x180,-0x147,-0x194)](_0x160efc[_0x1748d8(0x3d,-0x13,0x44,0x63)],_0x160efc[_0x1748d8(-0x48,0x6,0x6,-0x7d)])?_0x5de33f[_0x1748d8(0x1d,0x46,0x4b,0x4d)](_0x160efc[_0x1812e2(-0x1b0,-0x187,-0x18a,-0x18b)],_0x70bb49[_0x1812e2(-0xe1,-0x120,-0x177,-0x128)]):console[_0x1812e2(-0x155,-0x131,-0x145,-0x138)](_0x160efc[_0x1812e2(-0x164,-0x13b,-0x1a8,-0x18b)],_0x12f15e);}delete _0x328fa6[_0x205990],saveSettingsDebounced(),_0x368caa=!![],console[_0x1748d8(-0x21,-0x47,0x21,-0x57)](_0x1812e2(-0x19d,-0x12d,-0x194,-0x16a)+_0x1812e2(-0xf9,-0x179,-0x177,-0x148)+_0x1748d8(-0x4f,-0x6a,-0x2f,-0x5)+_0x205990);}try{if(_0x160efc[_0x1748d8(-0x10,-0x2,-0x2b,0x3d)]!==_0x160efc['aUVcY']){var _0x32c188=_0x160efc[_0x1748d8(-0x4c,-0x7c,-0x7c,0x2)](_0x69419[_0x1748d8(-0x4b,-0x60,-0x6b,-0x5)]()*(-0x1*-0xee5+-0xe*0x1c5+0x9f1),0x1c84+0x85*0x3+-0x1e13),_0x4c7b46=_0x160efc['HeZPN'](_0x24ebb3,'x')?_0x32c188:_0x160efc['qVTOc'](_0x32c188&0x1038+-0x1e8*-0xc+-0x1b3*0x17,0x3a*-0x3d+-0x24f4+0x1*0x32ce);return _0x4c7b46['toString'](-0xbda*-0x1+0xdd8+-0x19a2);}else{const _0x46ce3f=await _0x160efc[_0x1748d8(-0x54,-0x10,-0x2c,-0x54)](dbReadConfigImage,_0x205990);_0x46ce3f&&(await _0x160efc[_0x1812e2(-0x1e6,-0x17c,-0x1e1,-0x19a)](dbDeleteConfigImage,_0x205990),_0x368caa=!![],console[_0x1748d8(-0x21,-0x1a,-0x4,-0x17)](_0x1812e2(-0x183,-0x146,-0x1b9,-0x16a)+_0x1812e2(-0x145,-0x117,-0x156,-0x146)+_0x1812e2(-0x12c,-0x173,-0x191,-0x17b)+':\x20'+_0x205990));}}catch(_0x1c87de){_0x160efc[_0x1748d8(-0x23,-0x2a,-0x5,0xc)]===_0x160efc[_0x1812e2(-0x1a1,-0x161,-0x1a5,-0x178)]?console[_0x1812e2(-0x185,-0x141,-0x106,-0x138)](_0x1748d8(-0x15,0x1d,-0x44,-0x47)+_0x1812e2(-0xdf,-0x142,-0x111,-0x126)+_0x1748d8(0x3e,0x36,0x8d,0x39)+'败:',_0x1c87de):(_0x1aefb6[_0x1812e2(-0x135,-0x184,-0xe4,-0x138)](_0x160efc[_0x1812e2(-0xf8,-0x15a,-0x186,-0x147)],_0x243075['target'][_0x1748d8(0x1d,0x47,0x3,0x53)]),_0x160efc['NLIic'](_0x4e3f7e,_0x2fe522[_0x1748d8(-0x1,-0x49,-0xa,-0x10)][_0x1748d8(0x1d,0x70,0x5f,0x69)]));}return _0x368caa;}export async function hasConfigImage(_0x3e9339){const _0x4c5052={'czqJP':function(_0x21c2be,_0x2a7994){return _0x21c2be(_0x2a7994);},'EFAZv':function(_0x5164a6,_0x4f3de8){return _0x5164a6===_0x4f3de8;},'foLWI':_0x54fed8(-0x1af,-0x1d1,-0x1fc,-0x1a8)};if(!_0x3e9339)return![];const _0x46754a=extension_settings[extensionName]['configImag'+_0x54fed8(-0x1b7,-0x178,-0x197,-0x1b9)]||{};function _0x5c885d(_0x36f9ef,_0x118992,_0x970817,_0x521e92){return _0x3b549d(_0x36f9ef-0x1c3,_0x36f9ef,_0x970817- -0x355,_0x521e92-0xc0);}function _0x54fed8(_0x55627e,_0x3337c5,_0x23f173,_0x175ce8){return _0x3b549d(_0x55627e-0x1bb,_0x23f173,_0x55627e- -0x347,_0x175ce8-0x176);}if(_0x46754a[_0x3e9339])return!![];try{const _0x35c885=await _0x4c5052[_0x54fed8(-0x1e0,-0x1d2,-0x1d6,-0x1a6)](dbReadConfigImage,_0x3e9339);return!!_0x35c885;}catch(_0x3255d9){return _0x4c5052['EFAZv'](_0x4c5052[_0x54fed8(-0x1dc,-0x193,-0x1d0,-0x1ff)],_0x4c5052[_0x54fed8(-0x1dc,-0x195,-0x18e,-0x1ef)])?![]:'cfgimg_'+_0x299f8c();}}export async function listConfigImageIds(){const _0x1c871f={'vFPgh':function(_0x50fcad){return _0x50fcad();},'TUrhe':'[ConfigDB]'+'\x20获取\x20Indexe'+_0x4749a6(-0x2b9,-0x26b,-0x21d,-0x219)+'败:'},_0x50526a=new Set(),_0x1ab8df=extension_settings[extensionName][_0x2e3509(0x16a,0x14b,0x15c,0x12f)+_0x2e3509(0x12a,0x16a,0x147,0x172)]||{};function _0x4749a6(_0xac0913,_0x138303,_0x53efb2,_0x73ff76){return _0x3b549d(_0xac0913-0x9b,_0xac0913,_0x138303- -0x3ae,_0x73ff76-0x12b);}function _0x2e3509(_0x355908,_0xd8082,_0x3dae76,_0x17d9f8){return _0x3b549d(_0x355908-0x7,_0xd8082,_0x17d9f8- -0x1e,_0x17d9f8-0x155);}Object['keys'](_0x1ab8df)[_0x2e3509(0x14f,0x1df,0x194,0x19c)](_0x28805a=>_0x50526a[_0x4749a6(-0x21b,-0x250,-0x268,-0x250)](_0x28805a));try{const _0x321e2c=await _0x1c871f[_0x4749a6(-0x266,-0x21a,-0x1dd,-0x238)](openConfigDB),_0x51c688=_0x321e2c[_0x4749a6(-0x277,-0x266,-0x251,-0x2a1)+'n']([CONFIG_STORE_NAME],_0x4749a6(-0x225,-0x23f,-0x28b,-0x266)),_0x580216=_0x51c688[_0x2e3509(0x153,0x177,0x191,0x182)+'e'](CONFIG_STORE_NAME),_0x3db7c7=await new Promise((_0x1ea702,_0x382c09)=>{function _0x29ee46(_0x49f910,_0x5f073e,_0xef2030,_0x57ff46){return _0x4749a6(_0x5f073e,_0x49f910- -0x31,_0xef2030-0xcb,_0x57ff46-0x1f1);}const _0x318e1c=_0x580216[_0x29ee46(-0x238,-0x246,-0x205,-0x223)]();_0x318e1c['onsuccess']=()=>_0x1ea702(_0x318e1c[_0x15a6d4(-0x29c,-0x286,-0x277,-0x2c5)]);function _0x15a6d4(_0x143bb4,_0x1676f6,_0x3eeef9,_0x4d1568){return _0x4749a6(_0x4d1568,_0x3eeef9- -0x91,_0x3eeef9-0x1df,_0x4d1568-0x151);}_0x318e1c[_0x29ee46(-0x211,-0x204,-0x241,-0x225)]=_0x43c13d=>_0x382c09(_0x43c13d['target'][_0x15a6d4(-0x2a2,-0x263,-0x28c,-0x2ce)]);});_0x3db7c7['forEach'](_0x4eb336=>_0x50526a['add'](_0x4eb336));}catch(_0xfd7456){console[_0x4749a6(-0x1de,-0x1fb,-0x1e6,-0x1be)](_0x1c871f[_0x2e3509(0x18b,0x18d,0x13b,0x14b)],_0xfd7456);}return Array[_0x2e3509(0x1db,0x1a9,0x1c3,0x193)](_0x50526a);}
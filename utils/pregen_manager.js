function _0x8797(_0x4207b8,_0x38c016){_0x4207b8=_0x4207b8-(0x247b+0x1*-0x1b42+-0x461*0x2);const _0x9592f9=_0x3e08();let _0x465541=_0x9592f9[_0x4207b8];if(_0x8797['LQsGVH']===undefined){var _0x5bd21a=function(_0x144c80){const _0x310ea8='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x25e957='',_0x32ae1b='',_0x3882c9=_0x25e957+_0x5bd21a;for(let _0x537580=0x1c1e+-0x15e6+-0x638,_0x498662,_0x1bd4c6,_0x103112=0xa0*0x1+0x1d*-0x4f+0x853;_0x1bd4c6=_0x144c80['charAt'](_0x103112++);~_0x1bd4c6&&(_0x498662=_0x537580%(0x34*-0x1+0x7*-0x467+0x1f09)?_0x498662*(-0x10f6+-0x197c+0x2ab2)+_0x1bd4c6:_0x1bd4c6,_0x537580++%(-0x5f*-0x24+-0x1ea4+0x114c))?_0x25e957+=_0x3882c9['charCodeAt'](_0x103112+(0x242f+0x1*0x24bf+-0x1*0x48e4))-(-0x167*0x1+0x26f8+0x1*-0x2587)!==-0x9d4+0x6d3+-0x301*-0x1?String['fromCharCode'](-0x2558+0x2b*-0x29+0x169d*0x2&_0x498662>>(-(-0xaef+-0x75*-0x51+-0x1a14)*_0x537580&0x2705+-0x43e+-0x22c1)):_0x537580:-0x29e+-0x1776+0x1a14){_0x1bd4c6=_0x310ea8['indexOf'](_0x1bd4c6);}for(let _0x3597aa=0x1*0x259f+-0x6b8*0x1+0xa4d*-0x3,_0x78f55d=_0x25e957['length'];_0x3597aa<_0x78f55d;_0x3597aa++){_0x32ae1b+='%'+('00'+_0x25e957['charCodeAt'](_0x3597aa)['toString'](0xb*0xa7+0x56*0xb+-0xacf))['slice'](-(0x252d+-0x1*-0x22f7+-0x4822));}return decodeURIComponent(_0x32ae1b);};_0x8797['geIHxh']=_0x5bd21a,_0x8797['OdAVNu']={},_0x8797['LQsGVH']=!![];}const _0x5234bc=_0x9592f9[-0x2696+0x2499+-0x1*-0x1fd],_0x3a1276=_0x4207b8+_0x5234bc,_0x32e5d2=_0x8797['OdAVNu'][_0x3a1276];if(!_0x32e5d2){const _0x59fcc8=function(_0x4778b2){this['TJjJYo']=_0x4778b2,this['LSSkqz']=[0x978+-0x833+-0x2*0xa2,-0xb0a+0xfba+-0x4b0,-0xa63*0x2+-0x14f*0xf+0x2867*0x1],this['rAiUBJ']=function(){return'newState';},this['EsqXvA']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['GhlLIz']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x59fcc8['prototype']['pvGikV']=function(){const _0x7d6823=new RegExp(this['EsqXvA']+this['GhlLIz']),_0x339eb4=_0x7d6823['test'](this['rAiUBJ']['toString']())?--this['LSSkqz'][0x40*0x7+0x1627*0x1+-0x2*0xbf3]:--this['LSSkqz'][0x97*0x5+-0x40*0x71+0x194d];return this['euCwxR'](_0x339eb4);},_0x59fcc8['prototype']['euCwxR']=function(_0x2406ab){if(!Boolean(~_0x2406ab))return _0x2406ab;return this['tgUgup'](this['TJjJYo']);},_0x59fcc8['prototype']['tgUgup']=function(_0x37a69b){for(let _0x444468=0x3ca+-0xbd8*0x3+0x1fbe,_0x37f9a9=this['LSSkqz']['length'];_0x444468<_0x37f9a9;_0x444468++){this['LSSkqz']['push'](Math['round'](Math['random']())),_0x37f9a9=this['LSSkqz']['length'];}return _0x37a69b(this['LSSkqz'][-0x1*-0x14e1+-0x2323*-0x1+-0x3bc*0xf]);},new _0x59fcc8(_0x8797)['pvGikV'](),_0x465541=_0x8797['geIHxh'](_0x465541),_0x8797['OdAVNu'][_0x3a1276]=_0x465541;}else _0x465541=_0x32e5d2;return _0x465541;}(function(_0x46f555,_0x38867c){const _0x2384ef=_0x46f555();function _0x16ddb2(_0x1cb6ac,_0xec96cb,_0x2cdb8,_0x7de182){return _0x8797(_0xec96cb- -0x19d,_0x2cdb8);}function _0x316896(_0x71f859,_0x205812,_0x3e09d7,_0x6fddf0){return _0x8797(_0x3e09d7-0x3c4,_0x6fddf0);}while(!![]){try{const _0x556c21=-parseInt(_0x16ddb2(-0xd8,-0xd7,-0xe1,-0xad))/(-0xb*0x1c1+0x2b*0xd+0x151*0xd)+parseInt(_0x316896(0x476,0x440,0x454,0x488))/(0x3c*0x4+-0x6*0x641+-0x493*-0x8)+-parseInt(_0x316896(0x469,0x475,0x49f,0x497))/(0xbfd+0xf*0x53+0x1df*-0x9)+parseInt(_0x316896(0x495,0x468,0x47a,0x46e))/(0xbdd*-0x2+0x2*-0x41b+-0x664*-0x5)+-parseInt(_0x316896(0x4a3,0x489,0x477,0x479))/(0x2482+0x4fd+-0x297a)*(-parseInt(_0x316896(0x491,0x484,0x49e,0x4d4))/(-0xdd2+0x1c04+-0x38b*0x4))+parseInt(_0x16ddb2(-0x136,-0x11b,-0x124,-0x109))/(-0x14c0+-0x1*0x12e3+0x13d5*0x2)*(parseInt(_0x316896(0x49c,0x483,0x487,0x4ad))/(0x17c2+-0x2*0xb85+-0xb0))+parseInt(_0x316896(0x43f,0x464,0x459,0x456))/(-0xae4+0x265c+-0x1b6f);if(_0x556c21===_0x38867c)break;else _0x2384ef['push'](_0x2384ef['shift']());}catch(_0xf4adbd){_0x2384ef['push'](_0x2384ef['shift']());}}}(_0x3e08,0xa*-0xae8+0x33f0e+0x14a9));const _0x34b2d9=(function(){const _0x3e5b1b={'iAqCn':function(_0x460e03){return _0x460e03();},'QEnbW':_0x16a869(-0x8,-0x62,-0x1c,-0x34)};let _0x2d3baa=!![];function _0x16a869(_0x2bafc6,_0x24ee29,_0x357ef2,_0x41eac6){return _0x8797(_0x41eac6- -0xd8,_0x24ee29);}return function(_0x1f7eb1,_0x4c9355){const _0x24fdab={'eEtcn':function(_0x3b80f8){return _0x3e5b1b['iAqCn'](_0x3b80f8);},'ZNWcK':function(_0x4274c5,_0x483375){return _0x4274c5===_0x483375;},'OJrOk':_0x3e5b1b[_0x501fdb(-0x209,-0x1f4,-0x222,-0x1d6)]},_0x1a50c7=_0x2d3baa?function(){function _0x522a5d(_0x4959fa,_0x13922e,_0x12d87c,_0x179db9){return _0x501fdb(_0x13922e,_0x12d87c-0x597,_0x12d87c-0x35,_0x179db9-0x49);}function _0x2082bd(_0x1b34c0,_0x26fe16,_0x58b8f7,_0x1b59bb){return _0x501fdb(_0x1b59bb,_0x58b8f7-0x255,_0x58b8f7-0x31,_0x1b59bb-0xdd);}if(_0x4c9355){if(_0x24fdab['ZNWcK'](_0x24fdab['OJrOk'],_0x522a5d(0x386,0x38f,0x3b0,0x3dd))){const _0x2f5489=_0x4c9355[_0x2082bd(0xd7,0x9a,0xac,0x92)](_0x1f7eb1,arguments);return _0x4c9355=null,_0x2f5489;}else _0x24fdab[_0x522a5d(0x3cc,0x3e8,0x3ef,0x3f6)](_0x3838e2);}}:function(){};_0x2d3baa=![];function _0x501fdb(_0x11226e,_0x327b1f,_0x448f5e,_0x3c4dbf){return _0x16a869(_0x11226e-0x17d,_0x11226e,_0x448f5e-0xe1,_0x327b1f- -0x1b3);}return _0x1a50c7;};}()),_0x4aaefc=_0x34b2d9(this,function(){function _0x29f9d9(_0x52819a,_0x560ae0,_0x467678,_0x435a52){return _0x8797(_0x52819a-0x1a6,_0x560ae0);}const _0x36e9e1={};_0x36e9e1[_0x29f9d9(0x26f,0x26d,0x27c,0x298)]=_0x29f9d9(0x278,0x25b,0x252,0x245)+'+$';function _0x5f4094(_0x2324ce,_0x54164f,_0x5d95eb,_0x386211){return _0x8797(_0x54164f-0x369,_0x2324ce);}const _0x30a3a5=_0x36e9e1;return _0x4aaefc[_0x29f9d9(0x22d,0x252,0x23a,0x251)]()[_0x29f9d9(0x221,0x244,0x239,0x23e)](_0x29f9d9(0x278,0x271,0x27d,0x297)+'+$')[_0x29f9d9(0x22d,0x23b,0x25c,0x22e)]()[_0x29f9d9(0x223,0x24f,0x238,0x1f4)+'r'](_0x4aaefc)[_0x29f9d9(0x221,0x217,0x227,0x20f)](_0x30a3a5[_0x29f9d9(0x26f,0x295,0x2a4,0x248)]);});_0x4aaefc();import{extension_settings}from'../../../../extensions.js';import{extensionName,EventType}from'./config.js';import{eventSource}from'../../../../../script.js';import{addLog}from'./utils.js';import{isGenerating,startGenerating,stopGenerating}from'./generation_status.js';function generateStableId(_0x5e04bb){const _0x866782={};_0x866782[_0x5bce0e(0x455,0x462,0x47b,0x458)]=function(_0x54b6f8,_0x2c3c4a){return _0x54b6f8<_0x2c3c4a;},_0x866782[_0x5bce0e(0x456,0x43c,0x45c,0x440)]=function(_0x12a659,_0x206f49){return _0x12a659-_0x206f49;},_0x866782[_0x5ae88a(-0x23d,-0x237,-0x238,-0x213)]=function(_0x37ef9f,_0x4c771c){return _0x37ef9f<<_0x4c771c;};function _0x5bce0e(_0x153fc6,_0x426913,_0x1cc0bd,_0x218d71){return _0x8797(_0x153fc6-0x3b0,_0x426913);}_0x866782['RXfxW']=function(_0x5a8b48,_0x18b634){return _0x5a8b48+_0x18b634;},_0x866782['lKKPz']='chatu8-id-';const _0x4f0c63=_0x866782;let _0xc5691d=0x1561*-0x1+0x18a5+-0x344;for(let _0x32e625=-0x105*-0x1+0x229+-0x32e;_0x4f0c63['DnvPl'](_0x32e625,_0x5e04bb['length']);_0x32e625++){const _0x1a5254=_0x5e04bb[_0x5bce0e(0x439,0x448,0x410,0x439)](_0x32e625);_0xc5691d=_0x4f0c63[_0x5ae88a(-0x258,-0x27e,-0x264,-0x249)](_0x4f0c63[_0x5ae88a(-0x23d,-0x267,-0x218,-0x216)](_0xc5691d,-0x7e4+-0x13fe*0x1+0x1be7),_0xc5691d)+_0x1a5254,_0xc5691d|=0x425+0xfe0+0x1*-0x1405;}function _0x5ae88a(_0x463526,_0x3dc3a3,_0x490118,_0x5f07c6){return _0x8797(_0x463526- -0x2fe,_0x5f07c6);}return _0x4f0c63[_0x5ae88a(-0x272,-0x296,-0x26c,-0x2a6)](_0x4f0c63[_0x5ae88a(-0x24a,-0x248,-0x21f,-0x215)],Math['abs'](_0xc5691d)[_0x5bce0e(0x437,0x45e,0x435,0x43f)](0x1*0x19ee+-0x22*0xe+-0x17ee));}const pregenQueue=new Map();let isProcessing=![];function _0x271c03(_0x193a34,_0x55e71d,_0x4064ee,_0x11aa54){return _0x8797(_0x193a34- -0xeb,_0x55e71d);}const _0x5430a1={};function _0x3e08(){const _0x1e2b55=['C0X3A2O','z2uGz2vUzxjHDa','rKfjteve','yxrLzcbMB3iGsq','CNjVCG','AgfZ','nwfXz1zwvW','BeTluhO','Aw9UihjLCxvLCW','nde2ndq4wu53vg5I','CJOG','tLnf','rdOG','lIbfCNjVCJOG','s3LmBui','BLz6t0W','CvHZBuO','tw9uzhm','Eu1Vwfm','A1rRsLy','vgDKsu4','tufhrv9srvfvrq','ntm0odu2B2v2sfzq','zMLUza','yxrPB24GzMfPBa','mJeYndq5B2rpBg55','AxnbCNjHEq','C3rHDhvZ','B3POyxq','ChjVBxb0','v2rKweu','w1bYzwDLBL0G5BYa','r2rrDhu','vw5RBM93BIbNzq','y2XLyxi','D3PkD3i','y29TCgXLDgvK','kcGOlISPkYKRkq','Dwnsuwm','C3rLBMvYignYzq','zxnRs3C','yxrLzcbZDwnJzq','CMvTB3zLtgLZDa','A1vVuwO','BwfNzsbNzw5LCG','otq0odjnt0Lpzhu','oduXmZGYtNbJy0Dn','zwqGzM9YoIa','uvvfvuve','twv5B0C','zxjYB3i','y25XrgC','zw1PDa','yxbWBhK','zuv0y24','C3rLBMvYihjLBq','thbSANO','zNjVBq','sMrVquS','zM9YrwfJAa','C2vHCMnO','5yQG5yIW6zIF5yIxoIa','y29UC3rYDwn0BW','w1bYzwDLBL0Grq','CvHoBK4','5yIx5BEY5RIf56M644cc','zxnWB25ZzsbSAq','n1jewgLVuG','w1bYzwDLBL0GuG','55cg5lU75yQH5AsX6lsLia','ywnKqxm','DMfSDwvZ','Dg9tDhjPBMC','q09nueXfveve','y2HHCKnVzgvbDa','DcbMB3iGsuq6ia','vMDSyLq','uLHMEfC','BwL0DgvKigLTyq','C3nMDwXSEsbMBW','q0rzwxq','nJq0otC4z1jHueHX','CfP5Cw4','tMLqqu4','ChjVy2vZC2LUzW','A1HvsKG','mtu5ndqXm2v3rLHmtq','ufjpq0vtu0LorW','uuvUyLC','zMfPBgvK','w1bYzwDLBL0G6zIF','yvPPvu4','CLn5ww0','vNLozLy','zw5LCG','C2v0','rMTKDLC','5AEl5Ase55cg5lU75yQHoIa','Dvfjy0e','CxvLDwvK','sxP2r2i','A2P3rxC','rg52ugW','rergANK','seTZDuy','yxrPB24GAxmGyq','DMnkyMm','w1bYzwDLBL0Gsq','C2TPChbPBMC6ia','r0vorvjbvevFsq'];_0x3e08=function(){return _0x1e2b55;};return _0x3e08();}function _0x57e4ab(_0x1ee943,_0x4dac4f,_0xe8787f,_0x4ac87f){return _0x8797(_0x4ac87f-0x2b,_0x1ee943);}_0x5430a1[_0x271c03(-0xe,-0x14,0x8,-0x1f)]=_0x271c03(-0x49,-0x1e,-0x27,-0x39),_0x5430a1['PROCESSING']=_0x57e4ab(0xf0,0x8e,0x91,0xbe),_0x5430a1[_0x57e4ab(0x9a,0xcc,0xb8,0xb3)]=_0x271c03(-0x1a,-0x44,-0x3d,-0x4e),_0x5430a1[_0x57e4ab(0xf7,0xd2,0xf6,0xda)]=_0x57e4ab(0xd6,0xcb,0xf5,0xc3),_0x5430a1['CANCELLED']='cancelled';const TaskStatus=_0x5430a1;async function triggerButtonForTask(_0x157784){const _0x3d70c7={'FkdvW':_0x1e6e64(-0x90,-0xa7,-0xa9,-0x7b)+'+$','Lpljz':function(_0x64293b,_0x4241aa){return _0x64293b===_0x4241aa;},'cyQxb':_0x2e17f9(-0x78,-0x5b,-0xa1,-0xa0),'RlVYx':'knYSE','JdoAK':function(_0x4af7e3,_0x23ddf7){return _0x4af7e3!==_0x23ddf7;},'kTkJV':function(_0x112c41,_0x2d56e2){return _0x112c41(_0x2d56e2);},'uQIcA':function(_0x43a164,_0x38dfc9){return _0x43a164(_0x38dfc9);},'IzvGb':function(_0x5ca59d){return _0x5ca59d();},'VglbT':function(_0x4b8875,_0x132abd){return _0x4b8875(_0x132abd);},'pZyqn':function(_0x25b6b2,_0xd3292a){return _0x25b6b2||_0xd3292a;},'ucRQc':_0x1e6e64(-0x94,-0xa5,-0xb4,-0x65)+'neration\x20e'+_0x1e6e64(-0xb1,-0xe6,-0x95,-0xdc),'eskKw':_0x1e6e64(-0xa5,-0xc5,-0x96,-0xd8)};function _0x1e6e64(_0x235f83,_0x474333,_0x51aac1,_0x10de90){return _0x57e4ab(_0x10de90,_0x474333-0x15f,_0x51aac1-0xe5,_0x235f83- -0x18d);}function _0x2e17f9(_0x2d5b7b,_0x31497e,_0x52f67a,_0x5529cb){return _0x57e4ab(_0x31497e,_0x31497e-0x115,_0x52f67a-0x98,_0x2d5b7b- -0x15e);}const {prompt:_0x5f56dc}=_0x157784;return new Promise((_0x266f7e,_0x36dddc)=>{function _0x3d1ce7(_0x41a7c4,_0x360e25,_0x1b92a1,_0x3fc3dc){return _0x2e17f9(_0x1b92a1-0x2f2,_0x41a7c4,_0x1b92a1-0x92,_0x3fc3dc-0x196);}const _0xbfe97b={'DjMtQ':function(_0x5ae39a,_0x419aa8){return _0x3d70c7['VglbT'](_0x5ae39a,_0x419aa8);},'VyNfV':function(_0x5c9fee){function _0x38c210(_0x3dc45d,_0x3a3847,_0x26dac6,_0x1a5308){return _0x8797(_0x1a5308- -0x3cf,_0x3a3847);}return _0x3d70c7[_0x38c210(-0x2fc,-0x32e,-0x340,-0x32c)](_0x5c9fee);}};function _0xec73bc(_0x1f8cd3,_0x4b5bd1,_0x53a39d,_0x44b7ff){return _0x2e17f9(_0x53a39d-0x40f,_0x1f8cd3,_0x53a39d-0x13d,_0x44b7ff-0x1a0);}if(_0x3d70c7['JdoAK'](_0x3d70c7[_0xec73bc(0x3a5,0x3d2,0x3b1,0x3da)],_0x3d70c7[_0x3d1ce7(0x28a,0x27b,0x294,0x2a3)]))return _0x45737a[_0xec73bc(0x359,0x383,0x363,0x34b)]()[_0x3d1ce7(0x21a,0x226,0x23a,0x234)](ntTDoj[_0x3d1ce7(0x27f,0x25b,0x25e,0x293)])['toString']()[_0x3d1ce7(0x23a,0x258,0x23c,0x21c)+'r'](_0xe98c95)[_0xec73bc(0x370,0x32d,0x357,0x32a)](_0x3d1ce7(0x2bd,0x2bc,0x291,0x28b)+'+$');else{if(_0x3d70c7[_0x3d1ce7(0x25c,0x27c,0x260,0x26d)](isGenerating,_0x5f56dc))return _0x3d70c7[_0x3d1ce7(0x25a,0x29a,0x27f,0x276)](addLog,_0x3d1ce7(0x243,0x264,0x269,0x23b)+_0xec73bc(0x39a,0x383,0x3b5,0x3ec)+_0xec73bc(0x387,0x3a8,0x384,0x3af)+'lready\x20in\x20'+'progress,\x20'+_0x3d1ce7(0x255,0x246,0x26a,0x245)+_0x5f56dc),_0x157784[_0xec73bc(0x383,0x3cc,0x3a4,0x3c6)]=TaskStatus['COMPLETED'],_0x266f7e();const _0x6bec5d=_0x3d70c7[_0xec73bc(0x399,0x3cc,0x39c,0x3c5)](generateStableId,_0x5f56dc);_0x3d70c7[_0x3d1ce7(0x234,0x286,0x260,0x25f)](startGenerating,_0x5f56dc);const _0x11d6c2=_0x42cf10=>{function _0x51645e(_0xd222ad,_0x557caf,_0x491f1f,_0x451603){return _0x3d1ce7(_0x557caf,_0x557caf-0xc4,_0xd222ad-0x202,_0x451603-0x1e);}function _0x1bf818(_0x1ed4ed,_0x465b25,_0xd39a82,_0x3e86fe){return _0xec73bc(_0xd39a82,_0x465b25-0xf9,_0x1ed4ed- -0x1c5,_0x3e86fe-0x7d);}if(_0x3d70c7[_0x51645e(0x438,0x464,0x45b,0x46d)](_0x3d70c7['cyQxb'],_0x3d70c7['RlVYx']))_0xbfe97b['DjMtQ'](_0x5a932a,_0x51645e(0x46b,0x457,0x466,0x48e)+_0x51645e(0x49a,0x46c,0x46f,0x4c2)+_0x51645e(0x497,0x47d,0x489,0x46b)+_0x51645e(0x44f,0x442,0x457,0x453)+_0x1bf818(0x1ce,0x1e8,0x1f6,0x1c2)+_0x47df7c),_0x242090[_0x51645e(0x489,0x4b4,0x4bc,0x465)]=_0x3a9a8e[_0x51645e(0x449,0x41f,0x424,0x423)],_0xbfe97b[_0x51645e(0x45d,0x462,0x43e,0x449)](_0x4c94a2);else{if(_0x3d70c7[_0x1bf818(0x190,0x17b,0x1c2,0x16f)](_0x42cf10['id'],_0x6bec5d))return;eventSource[_0x51645e(0x498,0x4b0,0x472,0x47e)+_0x51645e(0x45e,0x479,0x482,0x440)](EventType['GENERATE_I'+'MAGE_RESPO'+_0x51645e(0x479,0x478,0x484,0x481)],_0x11d6c2),_0x3d70c7[_0x1bf818(0x1d7,0x1be,0x202,0x1f5)](addLog,_0x51645e(0x444,0x41a,0x459,0x46f)+_0x1bf818(0x198,0x18f,0x191,0x1ac)+_0x51645e(0x4a5,0x4a3,0x480,0x4db)+'oved\x20for\x20I'+_0x51645e(0x47a,0x456,0x458,0x498)+_0x6bec5d);const {success:_0x4bbf7f,error:_0x4d22a5,prompt:_0x364927}=_0x42cf10;_0x364927&&_0x3d70c7['uQIcA'](stopGenerating,_0x364927),_0x4bbf7f?(_0x3d70c7[_0x51645e(0x481,0x4a8,0x458,0x46b)](addLog,'[Pregen]\x20I'+_0x1bf818(0x1f0,0x1fd,0x1db,0x1d3)+'ated\x20succe'+_0x51645e(0x44f,0x434,0x448,0x46a)+'r:\x20'+_0x364927),_0x157784[_0x1bf818(0x1df,0x1d5,0x1fc,0x1d5)]=TaskStatus['COMPLETED'],_0x3d70c7['IzvGb'](_0x266f7e)):_0x51645e(0x4a1,0x48e,0x46c,0x4aa)!==_0x51645e(0x455,0x46d,0x486,0x432)?(_0x3d70c7['uQIcA'](addLog,_0x1bf818(0x1c1,0x1be,0x1ad,0x19c)+_0x51645e(0x49a,0x4cd,0x4c4,0x4c5)+_0x1bf818(0x1dc,0x1d4,0x1f1,0x1de)+_0x1bf818(0x1f3,0x1e4,0x1bc,0x1e6)+_0x364927+_0x51645e(0x47b,0x4b0,0x465,0x487)+_0x4d22a5),_0x157784[_0x1bf818(0x1df,0x209,0x200,0x212)]=TaskStatus['FAILED'],_0x3d70c7[_0x51645e(0x44c,0x46c,0x450,0x480)](_0x36dddc,new Error(_0x3d70c7[_0x1bf818(0x1a8,0x191,0x1da,0x176)](_0x4d22a5,_0x3d70c7[_0x51645e(0x494,0x4a3,0x482,0x472)])))):(_0x7d6823[_0x51645e(0x4a0,0x47c,0x4c8,0x476)]('[Pregen]\x20处'+'理任务失败\x20'+_0x339eb4[_0x51645e(0x48b,0x4b2,0x4a4,0x47e)]+':',_0x2406ab),_0x37a69b['status']=_0x444468['FAILED']);}};eventSource['on'](EventType[_0xec73bc(0x3bc,0x360,0x388,0x37f)+'MAGE_RESPO'+_0x3d1ce7(0x274,0x254,0x277,0x264)],_0x11d6c2),_0x3d70c7[_0xec73bc(0x373,0x37b,0x37d,0x3a9)](addLog,_0xec73bc(0x329,0x358,0x35f,0x370)+'esponse\x20li'+_0xec73bc(0x391,0x39e,0x3b0,0x383)+_0x3d1ce7(0x241,0x28b,0x26f,0x279)+'D:\x20'+_0x6bec5d);const _0x321681={};_0x321681['id']=_0x6bec5d,_0x321681['prompt']=_0x5f56dc;const _0x4a8450=_0x321681;eventSource[_0xec73bc(0x3d2,0x3d8,0x3bd,0x39d)](EventType[_0x3d1ce7(0x274,0x26b,0x26b,0x236)+_0xec73bc(0x387,0x391,0x39e,0x3a0)+'ST'],_0x4a8450),addLog(_0xec73bc(0x33e,0x349,0x35a,0x381)+_0xec73bc(0x33a,0x39e,0x369,0x39b)+_0x3d1ce7(0x236,0x299,0x26d,0x296)+_0xec73bc(0x3bc,0x399,0x391,0x3b6)+_0xec73bc(0x338,0x360,0x366,0x37c)+_0x6bec5d);}});}async function processQueue(){const _0x969612={'OkBcd':function(_0x4c01ba,_0x4aa40e){return _0x4c01ba!==_0x4aa40e;},'acdAs':_0x24131c(0x6d,0x85,0x70,0x8e),'rSyYm':function(_0x4de1d6,_0x2343c6){return _0x4de1d6(_0x2343c6);},'kUoQj':function(_0x199d14,_0xe760ba){return _0x199d14(_0xe760ba);},'hqPRv':function(_0x313e23,_0x1f0d5a,_0x1de86b){return _0x313e23(_0x1f0d5a,_0x1de86b);}};function _0x24131c(_0x27a8a5,_0x152e75,_0x45f29e,_0x13b7cd){return _0x57e4ab(_0x45f29e,_0x152e75-0x88,_0x45f29e-0x108,_0x13b7cd- -0x68);}if(isProcessing)return;const _0x49cb9d=Array[_0x24131c(0x2f,0x16,0x1f,0x3b)](pregenQueue[_0x27da9f(0x306,0x2f5,0x33c,0x2d7)]())[_0x24131c(0x59,0x9d,0x96,0x87)](_0x3d34a6=>_0x3d34a6['status']===TaskStatus[_0x27da9f(0x35d,0x33e,0x384,0x38b)]);if(!_0x49cb9d){if(_0x969612['OkBcd'](_0x969612['acdAs'],_0x969612[_0x27da9f(0x305,0x31f,0x321,0x2dc)])){_0x1bd4c6=![];return;}else{isProcessing=![];return;}}isProcessing=!![],_0x49cb9d[_0x27da9f(0x348,0x323,0x335,0x375)]=TaskStatus[_0x27da9f(0x316,0x30a,0x309,0x308)],_0x969612[_0x24131c(0x6d,0x77,0x68,0x5e)](addLog,_0x27da9f(0x34c,0x377,0x333,0x341)+_0x27da9f(0x320,0x32a,0x330,0x2ed)+_0x49cb9d['prompt']);function _0x27da9f(_0x1be58d,_0x5a6a16,_0x3f08a0,_0x15df32){return _0x57e4ab(_0x15df32,_0x5a6a16-0x16c,_0x3f08a0-0x1ac,_0x1be58d-0x255);}try{await _0x969612[_0x24131c(0x69,0x97,0x72,0x9b)](triggerButtonForTask,_0x49cb9d);}catch(_0x534b8b){console[_0x24131c(0x82,0x7e,0xd4,0xa2)]('[Pregen]\x20处'+_0x27da9f(0x304,0x321,0x300,0x2d6)+_0x49cb9d[_0x24131c(0x5a,0x69,0x65,0x8d)]+':',_0x534b8b),_0x49cb9d['status']=TaskStatus['FAILED'];}finally{isProcessing=![],_0x969612['hqPRv'](setTimeout,processQueue,-0x14d8+0x1e2d+-0x8f1);}}function add(_0x34d502){const _0x258a5b={'wzJwr':function(_0x3082ef,_0x104070){return _0x3082ef(_0x104070);},'cDCFv':function(_0x4b6a8f,_0x3274cc){return _0x4b6a8f!==_0x3274cc;},'HKsuF':_0x167600(0x24b,0x234,0x22d,0x253),'MeyoG':_0x167600(0x230,0x247,0x250,0x234),'BJvvz':function(_0x36165e,_0x5fb28d){return _0x36165e(_0x5fb28d);},'nVzOL':function(_0x892e72,_0x1d55b2,_0x31eee5){return _0x892e72(_0x1d55b2,_0x31eee5);},'anWEi':function(_0x2e434e,_0x551e53){return _0x2e434e===_0x551e53;},'vcJbc':_0xcfbd82(0x287,0x263,0x253,0x247),'GdQtu':_0x167600(0x22d,0x208,0x212,0x20e),'qXNnN':function(_0x1a7b0f){return _0x1a7b0f();}};if(!Array[_0x167600(0x265,0x247,0x25e,0x284)](_0x34d502))return;function _0x167600(_0x271c69,_0x193763,_0x1c293d,_0x966fe1){return _0x57e4ab(_0x1c293d,_0x193763-0x4e,_0x1c293d-0x9f,_0x271c69-0x173);}function _0xcfbd82(_0x211681,_0x2d4896,_0x372b79,_0x121a19){return _0x57e4ab(_0x211681,_0x2d4896-0x112,_0x372b79-0xa0,_0x2d4896-0x17a);}let _0x108ade=![];_0x34d502[_0xcfbd82(0x1f3,0x21f,0x237,0x22c)](_0x1f8b68=>{const _0x42d316={'yMoXS':function(_0x4e1786,_0x3aad2c){function _0x2ff051(_0x5ce7a8,_0x15d61d,_0x5754bb,_0x12e1d5){return _0x8797(_0x5754bb- -0x35a,_0x5ce7a8);}return _0x258a5b[_0x2ff051(-0x28d,-0x298,-0x28a,-0x268)](_0x4e1786,_0x3aad2c);}};function _0x4a4cc1(_0x11d09e,_0x1463ee,_0x51a7b0,_0x5b8141){return _0x167600(_0x5b8141-0x8f,_0x1463ee-0x1ab,_0x11d09e,_0x5b8141-0x118);}function _0x414405(_0x7c2b7f,_0x3bc91b,_0x386a58,_0x24cb58){return _0xcfbd82(_0x7c2b7f,_0x3bc91b- -0x239,_0x386a58-0xa9,_0x24cb58-0x1f4);}if(_0x258a5b['cDCFv'](_0x258a5b[_0x414405(-0x1b,0x13,0x45,0x1f)],_0x258a5b[_0x414405(0x68,0x4a,0x81,0x52)]))!pregenQueue[_0x4a4cc1(0x30e,0x2f9,0x2d4,0x2df)](_0x1f8b68)&&(pregenQueue[_0x414405(0x15,0xa,-0x12,-0x18)](_0x1f8b68,{'prompt':_0x1f8b68,'status':TaskStatus['QUEUED']}),_0x108ade=!![],_0x258a5b['BJvvz'](addLog,'[Pregen]\x20添'+_0x4a4cc1(0x2dc,0x2a8,0x2a8,0x2a9)+_0x1f8b68));else{const _0x3f8d94={};_0x3f8d94[_0x414405(0x66,0x36,0x53,0x44)]=_0x45001f,_0x3f8d94[_0x4a4cc1(0x2e8,0x2e2,0x2cd,0x2f5)]=_0x4829c3[_0x4a4cc1(0x326,0x2fc,0x31e,0x30a)],_0x491adf['set'](_0x212d83,_0x3f8d94),_0x456efe=!![],_0x42d316[_0x414405(0x22,0x2b,0x59,0x21)](_0x4f6a3c,'[Pregen]\x20添'+_0x4a4cc1(0x292,0x294,0x27e,0x2a9)+_0x4ab006);}}),_0x108ade&&(_0x258a5b['anWEi'](_0x258a5b[_0xcfbd82(0x27f,0x24e,0x23b,0x234)],_0x258a5b[_0x167600(0x26b,0x283,0x270,0x26b)])?(_0x47b40b=![],_0x258a5b[_0xcfbd82(0x264,0x261,0x290,0x24b)](_0x10a21c,_0x372798,0x322*0x9+-0x2427+-0x1*-0x859)):_0x258a5b[_0xcfbd82(0x223,0x224,0x1fe,0x1ff)](processQueue));}function clear(){const _0x17d0e4={'lSjKR':function(_0x391e43,_0x116181){return _0x391e43(_0x116181);},'aZiUN':_0x28c769(0x35b,0x396,0x3a9,0x37d)+_0x28c769(0x392,0x336,0x395,0x364)};pregenQueue[_0x365a59(-0x1aa,-0x184,-0x162,-0x194)]();function _0x28c769(_0x13442a,_0x3d2dab,_0x4b5a92,_0x284efe){return _0x271c03(_0x284efe-0x3cf,_0x13442a,_0x4b5a92-0x159,_0x284efe-0x8e);}isProcessing=![];function _0x365a59(_0x5e35f0,_0x5f41f5,_0x52e013,_0x5bf884){return _0x57e4ab(_0x52e013,_0x5f41f5-0x6d,_0x52e013-0xd2,_0x5bf884- -0x28e);}_0x17d0e4['lSjKR'](addLog,_0x17d0e4[_0x28c769(0x34b,0x374,0x39e,0x37e)]);}const _0x28b7ca={};_0x28b7ca['add']=add,_0x28b7ca[_0x57e4ab(0x128,0xf0,0xfe,0xfa)]=clear;export const pregenManager=_0x28b7ca;